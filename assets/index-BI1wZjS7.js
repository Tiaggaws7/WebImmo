var rR=Object.defineProperty;var iR=(t,e,n)=>e in t?rR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var tr=(t,e,n)=>iR(t,typeof e!="symbol"?e+"":e,n);function sR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function oR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Vw={exports:{}},md={},Uw={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=Symbol.for("react.element"),aR=Symbol.for("react.portal"),lR=Symbol.for("react.fragment"),uR=Symbol.for("react.strict_mode"),cR=Symbol.for("react.profiler"),dR=Symbol.for("react.provider"),hR=Symbol.for("react.context"),fR=Symbol.for("react.forward_ref"),pR=Symbol.for("react.suspense"),mR=Symbol.for("react.memo"),gR=Symbol.for("react.lazy"),Hv=Symbol.iterator;function yR(t){return t===null||typeof t!="object"?null:(t=Hv&&t[Hv]||t["@@iterator"],typeof t=="function"?t:null)}var Fw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bw=Object.assign,$w={};function Io(t,e,n){this.props=t,this.context=e,this.refs=$w,this.updater=n||Fw}Io.prototype.isReactComponent={};Io.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Io.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zw(){}zw.prototype=Io.prototype;function Lm(t,e,n){this.props=t,this.context=e,this.refs=$w,this.updater=n||Fw}var Dm=Lm.prototype=new zw;Dm.constructor=Lm;Bw(Dm,Io.prototype);Dm.isPureReactComponent=!0;var Kv=Array.isArray,Hw=Object.prototype.hasOwnProperty,jm={current:null},Kw={key:!0,ref:!0,__self:!0,__source:!0};function qw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Hw.call(e,r)&&!Kw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:El,type:t,key:s,ref:o,props:i,_owner:jm.current}}function vR(t,e){return{$$typeof:El,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mm(t){return typeof t=="object"&&t!==null&&t.$$typeof===El}function _R(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qv=/\/+/g;function xh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_R(""+t.key):e.toString(36)}function Du(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case El:case aR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+xh(o,0):r,Kv(i)?(n="",t!=null&&(n=t.replace(qv,"$&/")+"/"),Du(i,e,n,"",function(c){return c})):i!=null&&(Mm(i)&&(i=vR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(qv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Kv(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+xh(s,a);o+=Du(s,e,n,u,i)}else if(u=yR(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+xh(s,a++),o+=Du(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function iu(t,e,n){if(t==null)return t;var r=[],i=0;return Du(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ER(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},ju={transition:null},wR={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:ju,ReactCurrentOwner:jm};function Ww(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:iu,forEach:function(t,e,n){iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return iu(t,function(){e++}),e},toArray:function(t){return iu(t,function(e){return e})||[]},only:function(t){if(!Mm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Io;me.Fragment=lR;me.Profiler=cR;me.PureComponent=Lm;me.StrictMode=uR;me.Suspense=pR;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wR;me.act=Ww;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Bw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=jm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Hw.call(e,u)&&!Kw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:El,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:hR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dR,_context:t},t.Consumer=t};me.createElement=qw;me.createFactory=function(t){var e=qw.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:fR,render:t}};me.isValidElement=Mm;me.lazy=function(t){return{$$typeof:gR,_payload:{_status:-1,_result:t},_init:ER}};me.memo=function(t,e){return{$$typeof:mR,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=ju.transition;ju.transition={};try{t()}finally{ju.transition=e}};me.unstable_act=Ww;me.useCallback=function(t,e){return Ft.current.useCallback(t,e)};me.useContext=function(t){return Ft.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};me.useEffect=function(t,e){return Ft.current.useEffect(t,e)};me.useId=function(){return Ft.current.useId()};me.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Ft.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};me.useRef=function(t){return Ft.current.useRef(t)};me.useState=function(t){return Ft.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Ft.current.useTransition()};me.version="18.3.1";Uw.exports=me;var V=Uw.exports;const Bn=Ar(V),TR=sR({__proto__:null,default:Bn},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SR=V,IR=Symbol.for("react.element"),bR=Symbol.for("react.fragment"),AR=Object.prototype.hasOwnProperty,xR=SR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RR={key:!0,ref:!0,__self:!0,__source:!0};function Gw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)AR.call(e,r)&&!RR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:IR,type:t,key:s,ref:o,props:i,_owner:xR.current}}md.Fragment=bR;md.jsx=Gw;md.jsxs=Gw;Vw.exports=md;var f=Vw.exports,Qw={exports:{}},an={},Yw={exports:{}},Jw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,ne){var q=H.length;H.push(ne);e:for(;0<q;){var he=q-1>>>1,ue=H[he];if(0<i(ue,ne))H[he]=ne,H[q]=ue,q=he;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ne=H[0],q=H.pop();if(q!==ne){H[0]=q;e:for(var he=0,ue=H.length,Ae=ue>>>1;he<Ae;){var wt=2*(he+1)-1,Qt=H[wt],F=wt+1,J=H[F];if(0>i(Qt,q))F<ue&&0>i(J,Qt)?(H[he]=J,H[F]=q,he=F):(H[he]=Qt,H[wt]=q,he=wt);else if(F<ue&&0>i(J,q))H[he]=J,H[F]=q,he=F;else break e}}return ne}function i(H,ne){var q=H.sortIndex-ne.sortIndex;return q!==0?q:H.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,p=null,g=3,w=!1,y=!1,v=!1,I=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(H){for(var ne=n(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=H)r(c),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=n(c)}}function N(H){if(v=!1,b(H),!y)if(n(u)!==null)y=!0,Y(M);else{var ne=n(c);ne!==null&&ee(N,ne.startTime-H)}}function M(H,ne){y=!1,v&&(v=!1,E(T),T=-1),w=!0;var q=g;try{for(b(ne),p=n(u);p!==null&&(!(p.expirationTime>ne)||H&&!P());){var he=p.callback;if(typeof he=="function"){p.callback=null,g=p.priorityLevel;var ue=he(p.expirationTime<=ne);ne=t.unstable_now(),typeof ue=="function"?p.callback=ue:p===n(u)&&r(u),b(ne)}else r(u);p=n(u)}if(p!==null)var Ae=!0;else{var wt=n(c);wt!==null&&ee(N,wt.startTime-ne),Ae=!1}return Ae}finally{p=null,g=q,w=!1}}var z=!1,A=null,T=-1,x=5,C=-1;function P(){return!(t.unstable_now()-C<x)}function k(){if(A!==null){var H=t.unstable_now();C=H;var ne=!0;try{ne=A(!0,H)}finally{ne?R():(z=!1,A=null)}}else z=!1}var R;if(typeof S=="function")R=function(){S(k)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Me=xe.port2;xe.port1.onmessage=k,R=function(){Me.postMessage(null)}}else R=function(){I(k,0)};function Y(H){A=H,z||(z=!0,R())}function ee(H,ne){T=I(function(){H(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){y||w||(y=!0,Y(M))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var q=g;g=ne;try{return H()}finally{g=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=g;g=H;try{return ne()}finally{g=q}},t.unstable_scheduleCallback=function(H,ne,q){var he=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?he+q:he):q=he,H){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=q+ue,H={id:d++,callback:ne,priorityLevel:H,startTime:q,expirationTime:ue,sortIndex:-1},q>he?(H.sortIndex=q,e(c,H),n(u)===null&&H===n(c)&&(v?(E(T),T=-1):v=!0,ee(N,q-he))):(H.sortIndex=ue,e(u,H),y||w||(y=!0,Y(M))),H},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(H){var ne=g;return function(){var q=g;g=ne;try{return H.apply(this,arguments)}finally{g=q}}}})(Jw);Yw.exports=Jw;var CR=Yw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PR=V,on=CR;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xw=new Set,Ba={};function as(t,e){so(t,e),so(t+"Capture",e)}function so(t,e){for(Ba[t]=e,t=0;t<e.length;t++)Xw.add(e[t])}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gf=Object.prototype.hasOwnProperty,kR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wv={},Gv={};function NR(t){return Gf.call(Gv,t)?!0:Gf.call(Wv,t)?!1:kR.test(t)?Gv[t]=!0:(Wv[t]=!0,!1)}function OR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LR(t,e,n,r){if(e===null||typeof e>"u"||OR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vm=/[\-:]([a-z])/g;function Um(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vm,Um);_t[e]=new Bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vm,Um);_t[e]=new Bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vm,Um);_t[e]=new Bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Bt(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fm(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LR(e,n,i,r)&&(n=null),r||i===null?NR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xr=PR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,su=Symbol.for("react.element"),Ps=Symbol.for("react.portal"),ks=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),Qf=Symbol.for("react.profiler"),Zw=Symbol.for("react.provider"),eT=Symbol.for("react.context"),$m=Symbol.for("react.forward_ref"),Yf=Symbol.for("react.suspense"),Jf=Symbol.for("react.suspense_list"),zm=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),tT=Symbol.for("react.offscreen"),Qv=Symbol.iterator;function Xo(t){return t===null||typeof t!="object"?null:(t=Qv&&t[Qv]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,Rh;function fa(t){if(Rh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rh=e&&e[1]||""}return`
`+Rh+t}var Ch=!1;function Ph(t,e){if(!t||Ch)return"";Ch=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Ch=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fa(t):""}function DR(t){switch(t.tag){case 5:return fa(t.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 2:case 15:return t=Ph(t.type,!1),t;case 11:return t=Ph(t.type.render,!1),t;case 1:return t=Ph(t.type,!0),t;default:return""}}function Xf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ks:return"Fragment";case Ps:return"Portal";case Qf:return"Profiler";case Bm:return"StrictMode";case Yf:return"Suspense";case Jf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case eT:return(t.displayName||"Context")+".Consumer";case Zw:return(t._context.displayName||"Context")+".Provider";case $m:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zm:return e=t.displayName||null,e!==null?e:Xf(t.type)||"Memo";case Lr:e=t._payload,t=t._init;try{return Xf(t(e))}catch{}}return null}function jR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xf(e);case 8:return e===Bm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MR(t){var e=nT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ou(t){t._valueTracker||(t._valueTracker=MR(t))}function rT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=nT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zf(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iT(t,e){e=e.checked,e!=null&&Fm(t,"checked",e,!1)}function ep(t,e){iT(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tp(t,e.type,n):e.hasOwnProperty("defaultValue")&&tp(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tp(t,e,n){(e!=="number"||gc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pa=Array.isArray;function Ks(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function np(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(pa(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function sT(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var au,aT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(au=au||document.createElement("div"),au.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=au.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $a(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VR=["Webkit","ms","Moz","O"];Object.keys(Sa).forEach(function(t){VR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sa[e]=Sa[t]})});function lT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sa.hasOwnProperty(t)&&Sa[t]?(""+e).trim():e+"px"}function uT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var UR=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ip(t,e){if(e){if(UR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function sp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var op=null;function Hm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ap=null,qs=null,Ws=null;function e_(t){if(t=Sl(t)){if(typeof ap!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Ed(e),ap(t.stateNode,t.type,e))}}function cT(t){qs?Ws?Ws.push(t):Ws=[t]:qs=t}function dT(){if(qs){var t=qs,e=Ws;if(Ws=qs=null,e_(t),e)for(t=0;t<e.length;t++)e_(e[t])}}function hT(t,e){return t(e)}function fT(){}var kh=!1;function pT(t,e,n){if(kh)return t(e,n);kh=!0;try{return hT(t,e,n)}finally{kh=!1,(qs!==null||Ws!==null)&&(fT(),dT())}}function za(t,e){var n=t.stateNode;if(n===null)return null;var r=Ed(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var lp=!1;if(yr)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){lp=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{lp=!1}function FR(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ia=!1,yc=null,vc=!1,up=null,BR={onError:function(t){Ia=!0,yc=t}};function $R(t,e,n,r,i,s,o,a,u){Ia=!1,yc=null,FR.apply(BR,arguments)}function zR(t,e,n,r,i,s,o,a,u){if($R.apply(this,arguments),Ia){if(Ia){var c=yc;Ia=!1,yc=null}else throw Error(W(198));vc||(vc=!0,up=c)}}function ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function mT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t_(t){if(ls(t)!==t)throw Error(W(188))}function HR(t){var e=t.alternate;if(!e){if(e=ls(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return t_(i),t;if(s===r)return t_(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function gT(t){return t=HR(t),t!==null?yT(t):null}function yT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yT(t);if(e!==null)return e;t=t.sibling}return null}var vT=on.unstable_scheduleCallback,n_=on.unstable_cancelCallback,KR=on.unstable_shouldYield,qR=on.unstable_requestPaint,Ge=on.unstable_now,WR=on.unstable_getCurrentPriorityLevel,Km=on.unstable_ImmediatePriority,_T=on.unstable_UserBlockingPriority,_c=on.unstable_NormalPriority,GR=on.unstable_LowPriority,ET=on.unstable_IdlePriority,gd=null,zn=null;function QR(t){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(gd,t,void 0,(t.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:XR,YR=Math.log,JR=Math.LN2;function XR(t){return t>>>=0,t===0?32:31-(YR(t)/JR|0)|0}var lu=64,uu=4194304;function ma(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ec(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ma(a):(s&=o,s!==0&&(r=ma(s)))}else o=n&~i,o!==0?r=ma(o):s!==0&&(r=ma(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-bn(e),i=1<<n,r|=t[n],e&=~i;return r}function ZR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-bn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=ZR(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function cp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wT(){var t=lu;return lu<<=1,!(lu&4194240)&&(lu=64),t}function Nh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bn(e),t[e]=n}function tC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-bn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function qm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-bn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function TT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ST,Wm,IT,bT,AT,dp=!1,cu=[],Qr=null,Yr=null,Jr=null,Ha=new Map,Ka=new Map,jr=[],nC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r_(t,e){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Ha.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(e.pointerId)}}function ea(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Sl(e),e!==null&&Wm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rC(t,e,n,r,i){switch(e){case"focusin":return Qr=ea(Qr,t,e,n,r,i),!0;case"dragenter":return Yr=ea(Yr,t,e,n,r,i),!0;case"mouseover":return Jr=ea(Jr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ha.set(s,ea(Ha.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ka.set(s,ea(Ka.get(s)||null,t,e,n,r,i)),!0}return!1}function xT(t){var e=Mi(t.target);if(e!==null){var n=ls(e);if(n!==null){if(e=n.tag,e===13){if(e=mT(n),e!==null){t.blockedOn=e,AT(t.priority,function(){IT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);op=r,n.target.dispatchEvent(r),op=null}else return e=Sl(n),e!==null&&Wm(e),t.blockedOn=n,!1;e.shift()}return!0}function i_(t,e,n){Mu(t)&&n.delete(e)}function iC(){dp=!1,Qr!==null&&Mu(Qr)&&(Qr=null),Yr!==null&&Mu(Yr)&&(Yr=null),Jr!==null&&Mu(Jr)&&(Jr=null),Ha.forEach(i_),Ka.forEach(i_)}function ta(t,e){t.blockedOn===e&&(t.blockedOn=null,dp||(dp=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,iC)))}function qa(t){function e(i){return ta(i,t)}if(0<cu.length){ta(cu[0],t);for(var n=1;n<cu.length;n++){var r=cu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qr!==null&&ta(Qr,t),Yr!==null&&ta(Yr,t),Jr!==null&&ta(Jr,t),Ha.forEach(e),Ka.forEach(e),n=0;n<jr.length;n++)r=jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<jr.length&&(n=jr[0],n.blockedOn===null);)xT(n),n.blockedOn===null&&jr.shift()}var Gs=xr.ReactCurrentBatchConfig,wc=!0;function sC(t,e,n,r){var i=be,s=Gs.transition;Gs.transition=null;try{be=1,Gm(t,e,n,r)}finally{be=i,Gs.transition=s}}function oC(t,e,n,r){var i=be,s=Gs.transition;Gs.transition=null;try{be=4,Gm(t,e,n,r)}finally{be=i,Gs.transition=s}}function Gm(t,e,n,r){if(wc){var i=hp(t,e,n,r);if(i===null)$h(t,e,r,Tc,n),r_(t,r);else if(rC(i,t,e,n,r))r.stopPropagation();else if(r_(t,r),e&4&&-1<nC.indexOf(t)){for(;i!==null;){var s=Sl(i);if(s!==null&&ST(s),s=hp(t,e,n,r),s===null&&$h(t,e,r,Tc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $h(t,e,r,null,n)}}var Tc=null;function hp(t,e,n,r){if(Tc=null,t=Hm(r),t=Mi(t),t!==null)if(e=ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=mT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tc=t,null}function RT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WR()){case Km:return 1;case _T:return 4;case _c:case GR:return 16;case ET:return 536870912;default:return 16}default:return 16}}var zr=null,Qm=null,Vu=null;function CT(){if(Vu)return Vu;var t,e=Qm,n=e.length,r,i="value"in zr?zr.value:zr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Vu=i.slice(t,1<r?1-r:void 0)}function Uu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function du(){return!0}function s_(){return!1}function ln(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?du:s_,this.isPropagationStopped=s_,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),e}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ym=ln(bo),Tl=Fe({},bo,{view:0,detail:0}),aC=ln(Tl),Oh,Lh,na,yd=Fe({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==na&&(na&&t.type==="mousemove"?(Oh=t.screenX-na.screenX,Lh=t.screenY-na.screenY):Lh=Oh=0,na=t),Oh)},movementY:function(t){return"movementY"in t?t.movementY:Lh}}),o_=ln(yd),lC=Fe({},yd,{dataTransfer:0}),uC=ln(lC),cC=Fe({},Tl,{relatedTarget:0}),Dh=ln(cC),dC=Fe({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),hC=ln(dC),fC=Fe({},bo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pC=ln(fC),mC=Fe({},bo,{data:0}),a_=ln(mC),gC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _C(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vC[t])?!!e[t]:!1}function Jm(){return _C}var EC=Fe({},Tl,{key:function(t){if(t.key){var e=gC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jm,charCode:function(t){return t.type==="keypress"?Uu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wC=ln(EC),TC=Fe({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l_=ln(TC),SC=Fe({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jm}),IC=ln(SC),bC=Fe({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),AC=ln(bC),xC=Fe({},yd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RC=ln(xC),CC=[9,13,27,32],Xm=yr&&"CompositionEvent"in window,ba=null;yr&&"documentMode"in document&&(ba=document.documentMode);var PC=yr&&"TextEvent"in window&&!ba,PT=yr&&(!Xm||ba&&8<ba&&11>=ba),u_=" ",c_=!1;function kT(t,e){switch(t){case"keyup":return CC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ns=!1;function kC(t,e){switch(t){case"compositionend":return NT(e);case"keypress":return e.which!==32?null:(c_=!0,u_);case"textInput":return t=e.data,t===u_&&c_?null:t;default:return null}}function NC(t,e){if(Ns)return t==="compositionend"||!Xm&&kT(t,e)?(t=CT(),Vu=Qm=zr=null,Ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PT&&e.locale!=="ko"?null:e.data;default:return null}}var OC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OC[t.type]:e==="textarea"}function OT(t,e,n,r){cT(r),e=Sc(e,"onChange"),0<e.length&&(n=new Ym("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Aa=null,Wa=null;function LC(t){HT(t,0)}function vd(t){var e=Ds(t);if(rT(e))return t}function DC(t,e){if(t==="change")return e}var LT=!1;if(yr){var jh;if(yr){var Mh="oninput"in document;if(!Mh){var h_=document.createElement("div");h_.setAttribute("oninput","return;"),Mh=typeof h_.oninput=="function"}jh=Mh}else jh=!1;LT=jh&&(!document.documentMode||9<document.documentMode)}function f_(){Aa&&(Aa.detachEvent("onpropertychange",DT),Wa=Aa=null)}function DT(t){if(t.propertyName==="value"&&vd(Wa)){var e=[];OT(e,Wa,t,Hm(t)),pT(LC,e)}}function jC(t,e,n){t==="focusin"?(f_(),Aa=e,Wa=n,Aa.attachEvent("onpropertychange",DT)):t==="focusout"&&f_()}function MC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vd(Wa)}function VC(t,e){if(t==="click")return vd(e)}function UC(t,e){if(t==="input"||t==="change")return vd(e)}function FC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:FC;function Ga(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gf.call(e,i)||!Rn(t[i],e[i]))return!1}return!0}function p_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m_(t,e){var n=p_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=p_(n)}}function jT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MT(){for(var t=window,e=gc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gc(t.document)}return e}function Zm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BC(t){var e=MT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&jT(n.ownerDocument.documentElement,n)){if(r!==null&&Zm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=m_(n,s);var o=m_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $C=yr&&"documentMode"in document&&11>=document.documentMode,Os=null,fp=null,xa=null,pp=!1;function g_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pp||Os==null||Os!==gc(r)||(r=Os,"selectionStart"in r&&Zm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xa&&Ga(xa,r)||(xa=r,r=Sc(fp,"onSelect"),0<r.length&&(e=new Ym("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Os)))}function hu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ls={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},Vh={},VT={};yr&&(VT=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function _d(t){if(Vh[t])return Vh[t];if(!Ls[t])return t;var e=Ls[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VT)return Vh[t]=e[n];return t}var UT=_d("animationend"),FT=_d("animationiteration"),BT=_d("animationstart"),$T=_d("transitionend"),zT=new Map,y_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(t,e){zT.set(t,e),as(e,[t])}for(var Uh=0;Uh<y_.length;Uh++){var Fh=y_[Uh],zC=Fh.toLowerCase(),HC=Fh[0].toUpperCase()+Fh.slice(1);yi(zC,"on"+HC)}yi(UT,"onAnimationEnd");yi(FT,"onAnimationIteration");yi(BT,"onAnimationStart");yi("dblclick","onDoubleClick");yi("focusin","onFocus");yi("focusout","onBlur");yi($T,"onTransitionEnd");so("onMouseEnter",["mouseout","mouseover"]);so("onMouseLeave",["mouseout","mouseover"]);so("onPointerEnter",["pointerout","pointerover"]);so("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ga));function v_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zR(r,e,void 0,t),t.currentTarget=null}function HT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;v_(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;v_(i,a,c),s=u}}}if(vc)throw t=up,vc=!1,up=null,t}function Oe(t,e){var n=e[_p];n===void 0&&(n=e[_p]=new Set);var r=t+"__bubble";n.has(r)||(KT(e,t,2,!1),n.add(r))}function Bh(t,e,n){var r=0;e&&(r|=4),KT(n,t,r,e)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Qa(t){if(!t[fu]){t[fu]=!0,Xw.forEach(function(n){n!=="selectionchange"&&(KC.has(n)||Bh(n,!1,t),Bh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fu]||(e[fu]=!0,Bh("selectionchange",!1,e))}}function KT(t,e,n,r){switch(RT(e)){case 1:var i=sC;break;case 4:i=oC;break;default:i=Gm}n=i.bind(null,e,n,t),i=void 0,!lp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $h(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Mi(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}pT(function(){var c=s,d=Hm(n),p=[];e:{var g=zT.get(t);if(g!==void 0){var w=Ym,y=t;switch(t){case"keypress":if(Uu(n)===0)break e;case"keydown":case"keyup":w=wC;break;case"focusin":y="focus",w=Dh;break;case"focusout":y="blur",w=Dh;break;case"beforeblur":case"afterblur":w=Dh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=o_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=uC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=IC;break;case UT:case FT:case BT:w=hC;break;case $T:w=AC;break;case"scroll":w=aC;break;case"wheel":w=RC;break;case"copy":case"cut":case"paste":w=pC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=l_}var v=(e&4)!==0,I=!v&&t==="scroll",E=v?g!==null?g+"Capture":null:g;v=[];for(var S=c,b;S!==null;){b=S;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,E!==null&&(N=za(S,E),N!=null&&v.push(Ya(S,N,b)))),I)break;S=S.return}0<v.length&&(g=new w(g,y,null,n,d),p.push({event:g,listeners:v}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",g&&n!==op&&(y=n.relatedTarget||n.fromElement)&&(Mi(y)||y[vr]))break e;if((w||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,w?(y=n.relatedTarget||n.toElement,w=c,y=y?Mi(y):null,y!==null&&(I=ls(y),y!==I||y.tag!==5&&y.tag!==6)&&(y=null)):(w=null,y=c),w!==y)){if(v=o_,N="onMouseLeave",E="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(v=l_,N="onPointerLeave",E="onPointerEnter",S="pointer"),I=w==null?g:Ds(w),b=y==null?g:Ds(y),g=new v(N,S+"leave",w,n,d),g.target=I,g.relatedTarget=b,N=null,Mi(d)===c&&(v=new v(E,S+"enter",y,n,d),v.target=b,v.relatedTarget=I,N=v),I=N,w&&y)t:{for(v=w,E=y,S=0,b=v;b;b=_s(b))S++;for(b=0,N=E;N;N=_s(N))b++;for(;0<S-b;)v=_s(v),S--;for(;0<b-S;)E=_s(E),b--;for(;S--;){if(v===E||E!==null&&v===E.alternate)break t;v=_s(v),E=_s(E)}v=null}else v=null;w!==null&&__(p,g,w,v,!1),y!==null&&I!==null&&__(p,I,y,v,!0)}}e:{if(g=c?Ds(c):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var M=DC;else if(d_(g))if(LT)M=UC;else{M=MC;var z=jC}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=VC);if(M&&(M=M(t,c))){OT(p,M,n,d);break e}z&&z(t,g,c),t==="focusout"&&(z=g._wrapperState)&&z.controlled&&g.type==="number"&&tp(g,"number",g.value)}switch(z=c?Ds(c):window,t){case"focusin":(d_(z)||z.contentEditable==="true")&&(Os=z,fp=c,xa=null);break;case"focusout":xa=fp=Os=null;break;case"mousedown":pp=!0;break;case"contextmenu":case"mouseup":case"dragend":pp=!1,g_(p,n,d);break;case"selectionchange":if($C)break;case"keydown":case"keyup":g_(p,n,d)}var A;if(Xm)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ns?kT(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(PT&&n.locale!=="ko"&&(Ns||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ns&&(A=CT()):(zr=d,Qm="value"in zr?zr.value:zr.textContent,Ns=!0)),z=Sc(c,T),0<z.length&&(T=new a_(T,t,null,n,d),p.push({event:T,listeners:z}),A?T.data=A:(A=NT(n),A!==null&&(T.data=A)))),(A=PC?kC(t,n):NC(t,n))&&(c=Sc(c,"onBeforeInput"),0<c.length&&(d=new a_("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=A))}HT(p,e)})}function Ya(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=za(t,n),s!=null&&r.unshift(Ya(t,s,i)),s=za(t,e),s!=null&&r.push(Ya(t,s,i))),t=t.return}return r}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function __(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=za(n,s),u!=null&&o.unshift(Ya(n,u,a))):i||(u=za(n,s),u!=null&&o.push(Ya(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var qC=/\r\n?/g,WC=/\u0000|\uFFFD/g;function E_(t){return(typeof t=="string"?t:""+t).replace(qC,`
`).replace(WC,"")}function pu(t,e,n){if(e=E_(e),E_(t)!==e&&n)throw Error(W(425))}function Ic(){}var mp=null,gp=null;function yp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vp=typeof setTimeout=="function"?setTimeout:void 0,GC=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,QC=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(t){return w_.resolve(null).then(t).catch(YC)}:vp;function YC(t){setTimeout(function(){throw t})}function zh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qa(e)}function Xr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function T_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Ao,Ja="__reactProps$"+Ao,vr="__reactContainer$"+Ao,_p="__reactEvents$"+Ao,JC="__reactListeners$"+Ao,XC="__reactHandles$"+Ao;function Mi(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vr]||n[Fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=T_(t);t!==null;){if(n=t[Fn])return n;t=T_(t)}return e}t=n,n=t.parentNode}return null}function Sl(t){return t=t[Fn]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ds(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Ed(t){return t[Ja]||null}var Ep=[],js=-1;function vi(t){return{current:t}}function Le(t){0>js||(t.current=Ep[js],Ep[js]=null,js--)}function ke(t,e){js++,Ep[js]=t.current,t.current=e}var ci={},Nt=vi(ci),Kt=vi(!1),Ji=ci;function oo(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qt(t){return t=t.childContextTypes,t!=null}function bc(){Le(Kt),Le(Nt)}function S_(t,e,n){if(Nt.current!==ci)throw Error(W(168));ke(Nt,e),ke(Kt,n)}function qT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,jR(t)||"Unknown",i));return Fe({},n,r)}function Ac(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,Ji=Nt.current,ke(Nt,t),ke(Kt,Kt.current),!0}function I_(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=qT(t,e,Ji),r.__reactInternalMemoizedMergedChildContext=t,Le(Kt),Le(Nt),ke(Nt,t)):Le(Kt),ke(Kt,n)}var or=null,wd=!1,Hh=!1;function WT(t){or===null?or=[t]:or.push(t)}function ZC(t){wd=!0,WT(t)}function _i(){if(!Hh&&or!==null){Hh=!0;var t=0,e=be;try{var n=or;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}or=null,wd=!1}catch(i){throw or!==null&&(or=or.slice(t+1)),vT(Km,_i),i}finally{be=e,Hh=!1}}return null}var Ms=[],Vs=0,xc=null,Rc=0,cn=[],dn=0,Xi=null,ar=1,lr="";function Oi(t,e){Ms[Vs++]=Rc,Ms[Vs++]=xc,xc=t,Rc=e}function GT(t,e,n){cn[dn++]=ar,cn[dn++]=lr,cn[dn++]=Xi,Xi=t;var r=ar;t=lr;var i=32-bn(r)-1;r&=~(1<<i),n+=1;var s=32-bn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ar=1<<32-bn(e)+i|n<<i|r,lr=s+t}else ar=1<<s|n<<i|r,lr=t}function eg(t){t.return!==null&&(Oi(t,1),GT(t,1,0))}function tg(t){for(;t===xc;)xc=Ms[--Vs],Ms[Vs]=null,Rc=Ms[--Vs],Ms[Vs]=null;for(;t===Xi;)Xi=cn[--dn],cn[dn]=null,lr=cn[--dn],cn[dn]=null,ar=cn[--dn],cn[dn]=null}var nn=null,en=null,De=!1,Sn=null;function QT(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function b_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nn=t,en=Xr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xi!==null?{id:ar,overflow:lr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nn=t,en=null,!0):!1;default:return!1}}function wp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tp(t){if(De){var e=en;if(e){var n=e;if(!b_(t,e)){if(wp(t))throw Error(W(418));e=Xr(n.nextSibling);var r=nn;e&&b_(t,e)?QT(r,n):(t.flags=t.flags&-4097|2,De=!1,nn=t)}}else{if(wp(t))throw Error(W(418));t.flags=t.flags&-4097|2,De=!1,nn=t}}}function A_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function mu(t){if(t!==nn)return!1;if(!De)return A_(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yp(t.type,t.memoizedProps)),e&&(e=en)){if(wp(t))throw YT(),Error(W(418));for(;e;)QT(t,e),e=Xr(e.nextSibling)}if(A_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=Xr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=nn?Xr(t.stateNode.nextSibling):null;return!0}function YT(){for(var t=en;t;)t=Xr(t.nextSibling)}function ao(){en=nn=null,De=!1}function ng(t){Sn===null?Sn=[t]:Sn.push(t)}var eP=xr.ReactCurrentBatchConfig;function ra(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function gu(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function x_(t){var e=t._init;return e(t._payload)}function JT(t){function e(E,S){if(t){var b=E.deletions;b===null?(E.deletions=[S],E.flags|=16):b.push(S)}}function n(E,S){if(!t)return null;for(;S!==null;)e(E,S),S=S.sibling;return null}function r(E,S){for(E=new Map;S!==null;)S.key!==null?E.set(S.key,S):E.set(S.index,S),S=S.sibling;return E}function i(E,S){return E=ni(E,S),E.index=0,E.sibling=null,E}function s(E,S,b){return E.index=b,t?(b=E.alternate,b!==null?(b=b.index,b<S?(E.flags|=2,S):b):(E.flags|=2,S)):(E.flags|=1048576,S)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,S,b,N){return S===null||S.tag!==6?(S=Jh(b,E.mode,N),S.return=E,S):(S=i(S,b),S.return=E,S)}function u(E,S,b,N){var M=b.type;return M===ks?d(E,S,b.props.children,N,b.key):S!==null&&(S.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Lr&&x_(M)===S.type)?(N=i(S,b.props),N.ref=ra(E,S,b),N.return=E,N):(N=qu(b.type,b.key,b.props,null,E.mode,N),N.ref=ra(E,S,b),N.return=E,N)}function c(E,S,b,N){return S===null||S.tag!==4||S.stateNode.containerInfo!==b.containerInfo||S.stateNode.implementation!==b.implementation?(S=Xh(b,E.mode,N),S.return=E,S):(S=i(S,b.children||[]),S.return=E,S)}function d(E,S,b,N,M){return S===null||S.tag!==7?(S=qi(b,E.mode,N,M),S.return=E,S):(S=i(S,b),S.return=E,S)}function p(E,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Jh(""+S,E.mode,b),S.return=E,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case su:return b=qu(S.type,S.key,S.props,null,E.mode,b),b.ref=ra(E,null,S),b.return=E,b;case Ps:return S=Xh(S,E.mode,b),S.return=E,S;case Lr:var N=S._init;return p(E,N(S._payload),b)}if(pa(S)||Xo(S))return S=qi(S,E.mode,b,null),S.return=E,S;gu(E,S)}return null}function g(E,S,b,N){var M=S!==null?S.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:a(E,S,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case su:return b.key===M?u(E,S,b,N):null;case Ps:return b.key===M?c(E,S,b,N):null;case Lr:return M=b._init,g(E,S,M(b._payload),N)}if(pa(b)||Xo(b))return M!==null?null:d(E,S,b,N,null);gu(E,b)}return null}function w(E,S,b,N,M){if(typeof N=="string"&&N!==""||typeof N=="number")return E=E.get(b)||null,a(S,E,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case su:return E=E.get(N.key===null?b:N.key)||null,u(S,E,N,M);case Ps:return E=E.get(N.key===null?b:N.key)||null,c(S,E,N,M);case Lr:var z=N._init;return w(E,S,b,z(N._payload),M)}if(pa(N)||Xo(N))return E=E.get(b)||null,d(S,E,N,M,null);gu(S,N)}return null}function y(E,S,b,N){for(var M=null,z=null,A=S,T=S=0,x=null;A!==null&&T<b.length;T++){A.index>T?(x=A,A=null):x=A.sibling;var C=g(E,A,b[T],N);if(C===null){A===null&&(A=x);break}t&&A&&C.alternate===null&&e(E,A),S=s(C,S,T),z===null?M=C:z.sibling=C,z=C,A=x}if(T===b.length)return n(E,A),De&&Oi(E,T),M;if(A===null){for(;T<b.length;T++)A=p(E,b[T],N),A!==null&&(S=s(A,S,T),z===null?M=A:z.sibling=A,z=A);return De&&Oi(E,T),M}for(A=r(E,A);T<b.length;T++)x=w(A,E,T,b[T],N),x!==null&&(t&&x.alternate!==null&&A.delete(x.key===null?T:x.key),S=s(x,S,T),z===null?M=x:z.sibling=x,z=x);return t&&A.forEach(function(P){return e(E,P)}),De&&Oi(E,T),M}function v(E,S,b,N){var M=Xo(b);if(typeof M!="function")throw Error(W(150));if(b=M.call(b),b==null)throw Error(W(151));for(var z=M=null,A=S,T=S=0,x=null,C=b.next();A!==null&&!C.done;T++,C=b.next()){A.index>T?(x=A,A=null):x=A.sibling;var P=g(E,A,C.value,N);if(P===null){A===null&&(A=x);break}t&&A&&P.alternate===null&&e(E,A),S=s(P,S,T),z===null?M=P:z.sibling=P,z=P,A=x}if(C.done)return n(E,A),De&&Oi(E,T),M;if(A===null){for(;!C.done;T++,C=b.next())C=p(E,C.value,N),C!==null&&(S=s(C,S,T),z===null?M=C:z.sibling=C,z=C);return De&&Oi(E,T),M}for(A=r(E,A);!C.done;T++,C=b.next())C=w(A,E,T,C.value,N),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?T:C.key),S=s(C,S,T),z===null?M=C:z.sibling=C,z=C);return t&&A.forEach(function(k){return e(E,k)}),De&&Oi(E,T),M}function I(E,S,b,N){if(typeof b=="object"&&b!==null&&b.type===ks&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case su:e:{for(var M=b.key,z=S;z!==null;){if(z.key===M){if(M=b.type,M===ks){if(z.tag===7){n(E,z.sibling),S=i(z,b.props.children),S.return=E,E=S;break e}}else if(z.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Lr&&x_(M)===z.type){n(E,z.sibling),S=i(z,b.props),S.ref=ra(E,z,b),S.return=E,E=S;break e}n(E,z);break}else e(E,z);z=z.sibling}b.type===ks?(S=qi(b.props.children,E.mode,N,b.key),S.return=E,E=S):(N=qu(b.type,b.key,b.props,null,E.mode,N),N.ref=ra(E,S,b),N.return=E,E=N)}return o(E);case Ps:e:{for(z=b.key;S!==null;){if(S.key===z)if(S.tag===4&&S.stateNode.containerInfo===b.containerInfo&&S.stateNode.implementation===b.implementation){n(E,S.sibling),S=i(S,b.children||[]),S.return=E,E=S;break e}else{n(E,S);break}else e(E,S);S=S.sibling}S=Xh(b,E.mode,N),S.return=E,E=S}return o(E);case Lr:return z=b._init,I(E,S,z(b._payload),N)}if(pa(b))return y(E,S,b,N);if(Xo(b))return v(E,S,b,N);gu(E,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,S!==null&&S.tag===6?(n(E,S.sibling),S=i(S,b),S.return=E,E=S):(n(E,S),S=Jh(b,E.mode,N),S.return=E,E=S),o(E)):n(E,S)}return I}var lo=JT(!0),XT=JT(!1),Cc=vi(null),Pc=null,Us=null,rg=null;function ig(){rg=Us=Pc=null}function sg(t){var e=Cc.current;Le(Cc),t._currentValue=e}function Sp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qs(t,e){Pc=t,rg=Us=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function mn(t){var e=t._currentValue;if(rg!==t)if(t={context:t,memoizedValue:e,next:null},Us===null){if(Pc===null)throw Error(W(308));Us=t,Pc.dependencies={lanes:0,firstContext:t}}else Us=Us.next=t;return e}var Vi=null;function og(t){Vi===null?Vi=[t]:Vi.push(t)}function ZT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,og(e)):(n.next=i.next,i.next=n),e.interleaved=n,_r(t,r)}function _r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Dr=!1;function ag(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_r(t,n)}return i=r.interleaved,i===null?(e.next=e,og(r)):(e.next=i.next,i.next=e),r.interleaved=e,_r(t,n)}function Fu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qm(t,n)}}function R_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kc(t,e,n,r){var i=t.updateQueue;Dr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,d=c=u=null,a=s;do{var g=a.lane,w=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(g=e,w=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){p=y.call(w,p,g);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,g=typeof y=="function"?y.call(w,p,g):y,g==null)break e;p=Fe({},p,g);break e;case 2:Dr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else w={eventTime:w,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=w,u=p):d=d.next=w,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);es|=o,t.lanes=o,t.memoizedState=p}}function C_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Il={},Hn=vi(Il),Xa=vi(Il),Za=vi(Il);function Ui(t){if(t===Il)throw Error(W(174));return t}function lg(t,e){switch(ke(Za,e),ke(Xa,t),ke(Hn,Il),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rp(e,t)}Le(Hn),ke(Hn,e)}function uo(){Le(Hn),Le(Xa),Le(Za)}function tS(t){Ui(Za.current);var e=Ui(Hn.current),n=rp(e,t.type);e!==n&&(ke(Xa,t),ke(Hn,n))}function ug(t){Xa.current===t&&(Le(Hn),Le(Xa))}var Ve=vi(0);function Nc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kh=[];function cg(){for(var t=0;t<Kh.length;t++)Kh[t]._workInProgressVersionPrimary=null;Kh.length=0}var Bu=xr.ReactCurrentDispatcher,qh=xr.ReactCurrentBatchConfig,Zi=0,Ue=null,rt=null,ht=null,Oc=!1,Ra=!1,el=0,tP=0;function bt(){throw Error(W(321))}function dg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rn(t[n],e[n]))return!1;return!0}function hg(t,e,n,r,i,s){if(Zi=s,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bu.current=t===null||t.memoizedState===null?sP:oP,t=n(r,i),Ra){s=0;do{if(Ra=!1,el=0,25<=s)throw Error(W(301));s+=1,ht=rt=null,e.updateQueue=null,Bu.current=aP,t=n(r,i)}while(Ra)}if(Bu.current=Lc,e=rt!==null&&rt.next!==null,Zi=0,ht=rt=Ue=null,Oc=!1,e)throw Error(W(300));return t}function fg(){var t=el!==0;return el=0,t}function Dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ue.memoizedState=ht=t:ht=ht.next=t,ht}function gn(){if(rt===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=ht===null?Ue.memoizedState:ht.next;if(e!==null)ht=e,rt=t;else{if(t===null)throw Error(W(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ht===null?Ue.memoizedState=ht=t:ht=ht.next=t}return ht}function tl(t,e){return typeof e=="function"?e(t):e}function Wh(t){var e=gn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=rt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((Zi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,Ue.lanes|=d,es|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Rn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ue.lanes|=s,es|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gh(t){var e=gn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Rn(s,e.memoizedState)||(Ht=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function nS(){}function rS(t,e){var n=Ue,r=gn(),i=e(),s=!Rn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ht=!0),r=r.queue,pg(oS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,nl(9,sS.bind(null,n,r,i,e),void 0,null),ft===null)throw Error(W(349));Zi&30||iS(n,e,i)}return i}function iS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sS(t,e,n,r){e.value=n,e.getSnapshot=r,aS(e)&&lS(t)}function oS(t,e,n){return n(function(){aS(e)&&lS(t)})}function aS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rn(t,n)}catch{return!0}}function lS(t){var e=_r(t,1);e!==null&&An(e,t,1,-1)}function P_(t){var e=Dn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:t},e.queue=t,t=t.dispatch=iP.bind(null,Ue,t),[e.memoizedState,t]}function nl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uS(){return gn().memoizedState}function $u(t,e,n,r){var i=Dn();Ue.flags|=t,i.memoizedState=nl(1|e,n,void 0,r===void 0?null:r)}function Td(t,e,n,r){var i=gn();r=r===void 0?null:r;var s=void 0;if(rt!==null){var o=rt.memoizedState;if(s=o.destroy,r!==null&&dg(r,o.deps)){i.memoizedState=nl(e,n,s,r);return}}Ue.flags|=t,i.memoizedState=nl(1|e,n,s,r)}function k_(t,e){return $u(8390656,8,t,e)}function pg(t,e){return Td(2048,8,t,e)}function cS(t,e){return Td(4,2,t,e)}function dS(t,e){return Td(4,4,t,e)}function hS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fS(t,e,n){return n=n!=null?n.concat([t]):null,Td(4,4,hS.bind(null,e,t),n)}function mg(){}function pS(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mS(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function gS(t,e,n){return Zi&21?(Rn(n,e)||(n=wT(),Ue.lanes|=n,es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function nP(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=qh.transition;qh.transition={};try{t(!1),e()}finally{be=n,qh.transition=r}}function yS(){return gn().memoizedState}function rP(t,e,n){var r=ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vS(t))_S(e,n);else if(n=ZT(t,e,n,r),n!==null){var i=Ut();An(n,t,r,i),ES(n,e,r)}}function iP(t,e,n){var r=ti(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vS(t))_S(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Rn(a,o)){var u=e.interleaved;u===null?(i.next=i,og(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=ZT(t,e,i,r),n!==null&&(i=Ut(),An(n,t,r,i),ES(n,e,r))}}function vS(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function _S(t,e){Ra=Oc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ES(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qm(t,n)}}var Lc={readContext:mn,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},sP={readContext:mn,useCallback:function(t,e){return Dn().memoizedState=[t,e===void 0?null:e],t},useContext:mn,useEffect:k_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$u(4194308,4,hS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $u(4194308,4,t,e)},useInsertionEffect:function(t,e){return $u(4,2,t,e)},useMemo:function(t,e){var n=Dn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rP.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=Dn();return t={current:t},e.memoizedState=t},useState:P_,useDebugValue:mg,useDeferredValue:function(t){return Dn().memoizedState=t},useTransition:function(){var t=P_(!1),e=t[0];return t=nP.bind(null,t[1]),Dn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,i=Dn();if(De){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),ft===null)throw Error(W(349));Zi&30||iS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,k_(oS.bind(null,r,s,t),[t]),r.flags|=2048,nl(9,sS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Dn(),e=ft.identifierPrefix;if(De){var n=lr,r=ar;n=(r&~(1<<32-bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=el++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oP={readContext:mn,useCallback:pS,useContext:mn,useEffect:pg,useImperativeHandle:fS,useInsertionEffect:cS,useLayoutEffect:dS,useMemo:mS,useReducer:Wh,useRef:uS,useState:function(){return Wh(tl)},useDebugValue:mg,useDeferredValue:function(t){var e=gn();return gS(e,rt.memoizedState,t)},useTransition:function(){var t=Wh(tl)[0],e=gn().memoizedState;return[t,e]},useMutableSource:nS,useSyncExternalStore:rS,useId:yS,unstable_isNewReconciler:!1},aP={readContext:mn,useCallback:pS,useContext:mn,useEffect:pg,useImperativeHandle:fS,useInsertionEffect:cS,useLayoutEffect:dS,useMemo:mS,useReducer:Gh,useRef:uS,useState:function(){return Gh(tl)},useDebugValue:mg,useDeferredValue:function(t){var e=gn();return rt===null?e.memoizedState=t:gS(e,rt.memoizedState,t)},useTransition:function(){var t=Gh(tl)[0],e=gn().memoizedState;return[t,e]},useMutableSource:nS,useSyncExternalStore:rS,useId:yS,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ip(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sd={isMounted:function(t){return(t=t._reactInternals)?ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=ti(t),s=pr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Zr(t,s,i),e!==null&&(An(e,t,i,r),Fu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=ti(t),s=pr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Zr(t,s,i),e!==null&&(An(e,t,i,r),Fu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=ti(t),i=pr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zr(t,i,r),e!==null&&(An(e,t,r,n),Fu(e,t,r))}};function N_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ga(n,r)||!Ga(i,s):!0}function wS(t,e,n){var r=!1,i=ci,s=e.contextType;return typeof s=="object"&&s!==null?s=mn(s):(i=qt(e)?Ji:Nt.current,r=e.contextTypes,s=(r=r!=null)?oo(t,i):ci),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function O_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sd.enqueueReplaceState(e,e.state,null)}function bp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ag(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mn(s):(s=qt(e)?Ji:Nt.current,i.context=oo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ip(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Sd.enqueueReplaceState(i,i.state,null),kc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function co(t,e){try{var n="",r=e;do n+=DR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Qh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ap(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lP=typeof WeakMap=="function"?WeakMap:Map;function TS(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jc||(jc=!0,jp=r),Ap(t,e)},n}function SS(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ap(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ap(t,e),typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function L_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=TP.bind(null,t,e,n),e.then(t,t))}function D_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function j_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,Zr(n,e,1))),n.lanes|=1),t)}var uP=xr.ReactCurrentOwner,Ht=!1;function Vt(t,e,n,r){e.child=t===null?XT(e,null,n,r):lo(e,t.child,n,r)}function M_(t,e,n,r,i){n=n.render;var s=e.ref;return Qs(e,i),r=hg(t,e,n,r,s,i),n=fg(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(De&&n&&eg(e),e.flags|=1,Vt(t,e,r,i),e.child)}function V_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Sg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,IS(t,e,s,r,i)):(t=qu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ga,n(o,r)&&t.ref===e.ref)return Er(t,e,i)}return e.flags|=1,t=ni(s,r),t.ref=e.ref,t.return=e,e.child=t}function IS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ga(s,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,Er(t,e,i)}return xp(t,e,n,r,i)}function bS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Bs,Jt),Jt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Bs,Jt),Jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(Bs,Jt),Jt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ke(Bs,Jt),Jt|=r;return Vt(t,e,i,n),e.child}function AS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xp(t,e,n,r,i){var s=qt(n)?Ji:Nt.current;return s=oo(e,s),Qs(e,i),n=hg(t,e,n,r,s,i),r=fg(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(De&&r&&eg(e),e.flags|=1,Vt(t,e,n,i),e.child)}function U_(t,e,n,r,i){if(qt(n)){var s=!0;Ac(e)}else s=!1;if(Qs(e,i),e.stateNode===null)zu(t,e),wS(e,n,r),bp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=mn(c):(c=qt(n)?Ji:Nt.current,c=oo(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&O_(e,o,r,c),Dr=!1;var g=e.memoizedState;o.state=g,kc(e,r,o,i),u=e.memoizedState,a!==r||g!==u||Kt.current||Dr?(typeof d=="function"&&(Ip(e,n,d,r),u=e.memoizedState),(a=Dr||N_(e,n,a,r,g,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,eS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:wn(e.type,a),o.props=c,p=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=mn(u):(u=qt(n)?Ji:Nt.current,u=oo(e,u));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==u)&&O_(e,o,r,u),Dr=!1,g=e.memoizedState,o.state=g,kc(e,r,o,i);var y=e.memoizedState;a!==p||g!==y||Kt.current||Dr?(typeof w=="function"&&(Ip(e,n,w,r),y=e.memoizedState),(c=Dr||N_(e,n,c,r,g,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Rp(t,e,n,r,s,i)}function Rp(t,e,n,r,i,s){AS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&I_(e,n,!1),Er(t,e,s);r=e.stateNode,uP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=lo(e,t.child,null,s),e.child=lo(e,null,a,s)):Vt(t,e,a,s),e.memoizedState=r.state,i&&I_(e,n,!0),e.child}function xS(t){var e=t.stateNode;e.pendingContext?S_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&S_(t,e.context,!1),lg(t,e.containerInfo)}function F_(t,e,n,r,i){return ao(),ng(i),e.flags|=256,Vt(t,e,n,r),e.child}var Cp={dehydrated:null,treeContext:null,retryLane:0};function Pp(t){return{baseLanes:t,cachePool:null,transitions:null}}function RS(t,e,n){var r=e.pendingProps,i=Ve.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(Ve,i&1),t===null)return Tp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ad(o,r,0,null),t=qi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Pp(n),e.memoizedState=Cp,t):gg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return cP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ni(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ni(a,s):(s=qi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Pp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Cp,r}return s=t.child,t=s.sibling,r=ni(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gg(t,e){return e=Ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yu(t,e,n,r){return r!==null&&ng(r),lo(e,t.child,null,n),t=gg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Qh(Error(W(422))),yu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ad({mode:"visible",children:r.children},i,0,null),s=qi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&lo(e,t.child,null,o),e.child.memoizedState=Pp(o),e.memoizedState=Cp,s);if(!(e.mode&1))return yu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Qh(s,r,void 0),yu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ht||a){if(r=ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_r(t,i),An(r,t,i,-1))}return Tg(),r=Qh(Error(W(421))),yu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=SP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,en=Xr(i.nextSibling),nn=e,De=!0,Sn=null,t!==null&&(cn[dn++]=ar,cn[dn++]=lr,cn[dn++]=Xi,ar=t.id,lr=t.overflow,Xi=e),e=gg(e,r.children),e.flags|=4096,e)}function B_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sp(t.return,e,n)}function Yh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function CS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B_(t,n,e);else if(t.tag===19)B_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Nc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Nc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yh(e,!0,n,null,s);break;case"together":Yh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dP(t,e,n){switch(e.tag){case 3:xS(e),ao();break;case 5:tS(e);break;case 1:qt(e.type)&&Ac(e);break;case 4:lg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke(Cc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?RS(t,e,n):(ke(Ve,Ve.current&1),t=Er(t,e,n),t!==null?t.sibling:null);ke(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return CS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,bS(t,e,n)}return Er(t,e,n)}var PS,kp,kS,NS;PS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kp=function(){};kS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ui(Hn.current);var s=null;switch(n){case"input":i=Zf(t,i),r=Zf(t,r),s=[];break;case"select":i=Fe({},i,{value:void 0}),r=Fe({},r,{value:void 0}),s=[];break;case"textarea":i=np(t,i),r=np(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ic)}ip(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ba.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ba.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Oe("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};NS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ia(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function hP(t,e,n){var r=e.pendingProps;switch(tg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return qt(e.type)&&bc(),At(e),null;case 3:return r=e.stateNode,uo(),Le(Kt),Le(Nt),cg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sn!==null&&(Up(Sn),Sn=null))),kp(t,e),At(e),null;case 5:ug(e);var i=Ui(Za.current);if(n=e.type,t!==null&&e.stateNode!=null)kS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return At(e),null}if(t=Ui(Hn.current),mu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Fn]=e,r[Ja]=s,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(i=0;i<ga.length;i++)Oe(ga[i],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Yv(r,s),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Oe("invalid",r);break;case"textarea":Xv(r,s),Oe("invalid",r)}ip(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pu(r.textContent,a,t),i=["children",""+a]):Ba.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":ou(r),Jv(r,s,!0);break;case"textarea":ou(r),Zv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ic)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fn]=e,t[Ja]=r,PS(t,e,!1,!1),e.stateNode=t;e:{switch(o=sp(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),i=r;break;case"iframe":case"object":case"embed":Oe("load",t),i=r;break;case"video":case"audio":for(i=0;i<ga.length;i++)Oe(ga[i],t);i=r;break;case"source":Oe("error",t),i=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),i=r;break;case"details":Oe("toggle",t),i=r;break;case"input":Yv(t,r),i=Zf(t,r),Oe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fe({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":Xv(t,r),i=np(t,r),Oe("invalid",t);break;default:i=r}ip(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?uT(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&aT(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&$a(t,u):typeof u=="number"&&$a(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ba.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Oe("scroll",t):u!=null&&Fm(t,s,u,o))}switch(n){case"input":ou(t),Jv(t,r,!1);break;case"textarea":ou(t),Zv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ks(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ks(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ic)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)NS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Ui(Za.current),Ui(Hn.current),mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fn]=e,(s=r.nodeValue!==n)&&(t=nn,t!==null))switch(t.tag){case 3:pu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fn]=e,e.stateNode=r}return At(e),null;case 13:if(Le(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&en!==null&&e.mode&1&&!(e.flags&128))YT(),ao(),e.flags|=98560,s=!1;else if(s=mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Fn]=e}else ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),s=!1}else Sn!==null&&(Up(Sn),Sn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?st===0&&(st=3):Tg())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return uo(),kp(t,e),t===null&&Qa(e.stateNode.containerInfo),At(e),null;case 10:return sg(e.type._context),At(e),null;case 17:return qt(e.type)&&bc(),At(e),null;case 19:if(Le(Ve),s=e.memoizedState,s===null)return At(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ia(s,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Nc(t),o!==null){for(e.flags|=128,ia(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Ve,Ve.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ge()>ho&&(e.flags|=128,r=!0,ia(s,!1),e.lanes=4194304)}else{if(!r)if(t=Nc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ia(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return At(e),null}else 2*Ge()-s.renderingStartTime>ho&&n!==1073741824&&(e.flags|=128,r=!0,ia(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ge(),e.sibling=null,n=Ve.current,ke(Ve,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return wg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jt&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function fP(t,e){switch(tg(e),e.tag){case 1:return qt(e.type)&&bc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return uo(),Le(Kt),Le(Nt),cg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ug(e),null;case 13:if(Le(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Ve),null;case 4:return uo(),null;case 10:return sg(e.type._context),null;case 22:case 23:return wg(),null;case 24:return null;default:return null}}var vu=!1,Ct=!1,pP=typeof WeakSet=="function"?WeakSet:Set,re=null;function Fs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function Np(t,e,n){try{n()}catch(r){He(t,e,r)}}var $_=!1;function mP(t,e){if(mp=wc,t=MT(),Zm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,p=t,g=null;t:for(;;){for(var w;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)g=p,p=w;for(;;){if(p===t)break t;if(g===n&&++c===i&&(a=o),g===s&&++d===r&&(u=o),(w=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=w}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(gp={focusedElem:t,selectionRange:n},wc=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,I=y.memoizedState,E=e.stateNode,S=E.getSnapshotBeforeUpdate(e.elementType===e.type?v:wn(e.type,v),I);E.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(N){He(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return y=$_,$_=!1,y}function Ca(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Np(e,n,s)}i=i.next}while(i!==r)}}function Id(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Op(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OS(t){var e=t.alternate;e!==null&&(t.alternate=null,OS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fn],delete e[Ja],delete e[_p],delete e[JC],delete e[XC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LS(t){return t.tag===5||t.tag===3||t.tag===4}function z_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ic));else if(r!==4&&(t=t.child,t!==null))for(Lp(t,e,n),t=t.sibling;t!==null;)Lp(t,e,n),t=t.sibling}function Dp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dp(t,e,n),t=t.sibling;t!==null;)Dp(t,e,n),t=t.sibling}var mt=null,Tn=!1;function Nr(t,e,n){for(n=n.child;n!==null;)DS(t,e,n),n=n.sibling}function DS(t,e,n){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(gd,n)}catch{}switch(n.tag){case 5:Ct||Fs(n,e);case 6:var r=mt,i=Tn;mt=null,Nr(t,e,n),mt=r,Tn=i,mt!==null&&(Tn?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(Tn?(t=mt,n=n.stateNode,t.nodeType===8?zh(t.parentNode,n):t.nodeType===1&&zh(t,n),qa(t)):zh(mt,n.stateNode));break;case 4:r=mt,i=Tn,mt=n.stateNode.containerInfo,Tn=!0,Nr(t,e,n),mt=r,Tn=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Np(n,e,o),i=i.next}while(i!==r)}Nr(t,e,n);break;case 1:if(!Ct&&(Fs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}Nr(t,e,n);break;case 21:Nr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Nr(t,e,n),Ct=r):Nr(t,e,n);break;default:Nr(t,e,n)}}function H_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pP),e.forEach(function(r){var i=IP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,Tn=!1;break e;case 3:mt=a.stateNode.containerInfo,Tn=!0;break e;case 4:mt=a.stateNode.containerInfo,Tn=!0;break e}a=a.return}if(mt===null)throw Error(W(160));DS(s,o,i),mt=null,Tn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){He(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jS(e,t),e=e.sibling}function jS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vn(e,t),kn(t),r&4){try{Ca(3,t,t.return),Id(3,t)}catch(v){He(t,t.return,v)}try{Ca(5,t,t.return)}catch(v){He(t,t.return,v)}}break;case 1:vn(e,t),kn(t),r&512&&n!==null&&Fs(n,n.return);break;case 5:if(vn(e,t),kn(t),r&512&&n!==null&&Fs(n,n.return),t.flags&32){var i=t.stateNode;try{$a(i,"")}catch(v){He(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&iT(i,s),sp(a,o);var c=sp(a,s);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?uT(i,p):d==="dangerouslySetInnerHTML"?aT(i,p):d==="children"?$a(i,p):Fm(i,d,p,c)}switch(a){case"input":ep(i,s);break;case"textarea":sT(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Ks(i,!!s.multiple,w,!1):g!==!!s.multiple&&(s.defaultValue!=null?Ks(i,!!s.multiple,s.defaultValue,!0):Ks(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ja]=s}catch(v){He(t,t.return,v)}}break;case 6:if(vn(e,t),kn(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){He(t,t.return,v)}}break;case 3:if(vn(e,t),kn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qa(e.containerInfo)}catch(v){He(t,t.return,v)}break;case 4:vn(e,t),kn(t);break;case 13:vn(e,t),kn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_g=Ge())),r&4&&H_(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(c=Ct)||d,vn(e,t),Ct=c):vn(e,t),kn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(re=t,d=t.child;d!==null;){for(p=re=d;re!==null;){switch(g=re,w=g.child,g.tag){case 0:case 11:case 14:case 15:Ca(4,g,g.return);break;case 1:Fs(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){He(r,n,v)}}break;case 5:Fs(g,g.return);break;case 22:if(g.memoizedState!==null){q_(p);continue}}w!==null?(w.return=g,re=w):q_(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=lT("display",o))}catch(v){He(t,t.return,v)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(v){He(t,t.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vn(e,t),kn(t),r&4&&H_(t);break;case 21:break;default:vn(e,t),kn(t)}}function kn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LS(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($a(i,""),r.flags&=-33);var s=z_(t);Dp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=z_(t);Lp(t,a,o);break;default:throw Error(W(161))}}catch(u){He(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gP(t,e,n){re=t,MS(t)}function MS(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vu;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ct;a=vu;var c=Ct;if(vu=o,(Ct=u)&&!c)for(re=i;re!==null;)o=re,u=o.child,o.tag===22&&o.memoizedState!==null?W_(i):u!==null?(u.return=o,re=u):W_(i);for(;s!==null;)re=s,MS(s),s=s.sibling;re=i,vu=a,Ct=c}K_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):K_(t)}}function K_(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||Id(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&C_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}C_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&qa(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ct||e.flags&512&&Op(e)}catch(g){He(e,e.return,g)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function q_(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function W_(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Id(4,e)}catch(u){He(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){He(e,i,u)}}var s=e.return;try{Op(e)}catch(u){He(e,s,u)}break;case 5:var o=e.return;try{Op(e)}catch(u){He(e,o,u)}}}catch(u){He(e,e.return,u)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var yP=Math.ceil,Dc=xr.ReactCurrentDispatcher,yg=xr.ReactCurrentOwner,pn=xr.ReactCurrentBatchConfig,Te=0,ft=null,Xe=null,vt=0,Jt=0,Bs=vi(0),st=0,rl=null,es=0,bd=0,vg=0,Pa=null,zt=null,_g=0,ho=1/0,ir=null,jc=!1,jp=null,ei=null,_u=!1,Hr=null,Mc=0,ka=0,Mp=null,Hu=-1,Ku=0;function Ut(){return Te&6?Ge():Hu!==-1?Hu:Hu=Ge()}function ti(t){return t.mode&1?Te&2&&vt!==0?vt&-vt:eP.transition!==null?(Ku===0&&(Ku=wT()),Ku):(t=be,t!==0||(t=window.event,t=t===void 0?16:RT(t.type)),t):1}function An(t,e,n,r){if(50<ka)throw ka=0,Mp=null,Error(W(185));wl(t,n,r),(!(Te&2)||t!==ft)&&(t===ft&&(!(Te&2)&&(bd|=n),st===4&&Mr(t,vt)),Wt(t,r),n===1&&Te===0&&!(e.mode&1)&&(ho=Ge()+500,wd&&_i()))}function Wt(t,e){var n=t.callbackNode;eC(t,e);var r=Ec(t,t===ft?vt:0);if(r===0)n!==null&&n_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&n_(n),e===1)t.tag===0?ZC(G_.bind(null,t)):WT(G_.bind(null,t)),QC(function(){!(Te&6)&&_i()}),n=null;else{switch(TT(r)){case 1:n=Km;break;case 4:n=_T;break;case 16:n=_c;break;case 536870912:n=ET;break;default:n=_c}n=KS(n,VS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VS(t,e){if(Hu=-1,Ku=0,Te&6)throw Error(W(327));var n=t.callbackNode;if(Ys()&&t.callbackNode!==n)return null;var r=Ec(t,t===ft?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vc(t,r);else{e=r;var i=Te;Te|=2;var s=FS();(ft!==t||vt!==e)&&(ir=null,ho=Ge()+500,Ki(t,e));do try{EP();break}catch(a){US(t,a)}while(!0);ig(),Dc.current=s,Te=i,Xe!==null?e=0:(ft=null,vt=0,e=st)}if(e!==0){if(e===2&&(i=cp(t),i!==0&&(r=i,e=Vp(t,i))),e===1)throw n=rl,Ki(t,0),Mr(t,r),Wt(t,Ge()),n;if(e===6)Mr(t,r);else{if(i=t.current.alternate,!(r&30)&&!vP(i)&&(e=Vc(t,r),e===2&&(s=cp(t),s!==0&&(r=s,e=Vp(t,s))),e===1))throw n=rl,Ki(t,0),Mr(t,r),Wt(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Li(t,zt,ir);break;case 3:if(Mr(t,r),(r&130023424)===r&&(e=_g+500-Ge(),10<e)){if(Ec(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vp(Li.bind(null,t,zt,ir),e);break}Li(t,zt,ir);break;case 4:if(Mr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-bn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*yP(r/1960))-r,10<r){t.timeoutHandle=vp(Li.bind(null,t,zt,ir),r);break}Li(t,zt,ir);break;case 5:Li(t,zt,ir);break;default:throw Error(W(329))}}}return Wt(t,Ge()),t.callbackNode===n?VS.bind(null,t):null}function Vp(t,e){var n=Pa;return t.current.memoizedState.isDehydrated&&(Ki(t,e).flags|=256),t=Vc(t,e),t!==2&&(e=zt,zt=n,e!==null&&Up(e)),t}function Up(t){zt===null?zt=t:zt.push.apply(zt,t)}function vP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Rn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mr(t,e){for(e&=~vg,e&=~bd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bn(e),r=1<<n;t[n]=-1,e&=~r}}function G_(t){if(Te&6)throw Error(W(327));Ys();var e=Ec(t,0);if(!(e&1))return Wt(t,Ge()),null;var n=Vc(t,e);if(t.tag!==0&&n===2){var r=cp(t);r!==0&&(e=r,n=Vp(t,r))}if(n===1)throw n=rl,Ki(t,0),Mr(t,e),Wt(t,Ge()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Li(t,zt,ir),Wt(t,Ge()),null}function Eg(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(ho=Ge()+500,wd&&_i())}}function ts(t){Hr!==null&&Hr.tag===0&&!(Te&6)&&Ys();var e=Te;Te|=1;var n=pn.transition,r=be;try{if(pn.transition=null,be=1,t)return t()}finally{be=r,pn.transition=n,Te=e,!(Te&6)&&_i()}}function wg(){Jt=Bs.current,Le(Bs)}function Ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GC(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(tg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bc();break;case 3:uo(),Le(Kt),Le(Nt),cg();break;case 5:ug(r);break;case 4:uo();break;case 13:Le(Ve);break;case 19:Le(Ve);break;case 10:sg(r.type._context);break;case 22:case 23:wg()}n=n.return}if(ft=t,Xe=t=ni(t.current,null),vt=Jt=e,st=0,rl=null,vg=bd=es=0,zt=Pa=null,Vi!==null){for(e=0;e<Vi.length;e++)if(n=Vi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Vi=null}return t}function US(t,e){do{var n=Xe;try{if(ig(),Bu.current=Lc,Oc){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Oc=!1}if(Zi=0,ht=rt=Ue=null,Ra=!1,el=0,yg.current=null,n===null||n.return===null){st=1,rl=e,Xe=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=vt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=D_(o);if(w!==null){w.flags&=-257,j_(w,o,a,s,e),w.mode&1&&L_(s,c,e),e=w,u=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(u),e.updateQueue=v}else y.add(u);break e}else{if(!(e&1)){L_(s,c,e),Tg();break e}u=Error(W(426))}}else if(De&&a.mode&1){var I=D_(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),j_(I,o,a,s,e),ng(co(u,a));break e}}s=u=co(u,a),st!==4&&(st=2),Pa===null?Pa=[s]:Pa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=TS(s,u,e);R_(s,E);break e;case 1:a=u;var S=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ei===null||!ei.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=SS(s,a,e);R_(s,N);break e}}s=s.return}while(s!==null)}$S(n)}catch(M){e=M,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function FS(){var t=Dc.current;return Dc.current=Lc,t===null?Lc:t}function Tg(){(st===0||st===3||st===2)&&(st=4),ft===null||!(es&268435455)&&!(bd&268435455)||Mr(ft,vt)}function Vc(t,e){var n=Te;Te|=2;var r=FS();(ft!==t||vt!==e)&&(ir=null,Ki(t,e));do try{_P();break}catch(i){US(t,i)}while(!0);if(ig(),Te=n,Dc.current=r,Xe!==null)throw Error(W(261));return ft=null,vt=0,st}function _P(){for(;Xe!==null;)BS(Xe)}function EP(){for(;Xe!==null&&!KR();)BS(Xe)}function BS(t){var e=HS(t.alternate,t,Jt);t.memoizedProps=t.pendingProps,e===null?$S(t):Xe=e,yg.current=null}function $S(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fP(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,Xe=null;return}}else if(n=hP(n,e,Jt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);st===0&&(st=5)}function Li(t,e,n){var r=be,i=pn.transition;try{pn.transition=null,be=1,wP(t,e,n,r)}finally{pn.transition=i,be=r}return null}function wP(t,e,n,r){do Ys();while(Hr!==null);if(Te&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(tC(t,s),t===ft&&(Xe=ft=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||_u||(_u=!0,KS(_c,function(){return Ys(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pn.transition,pn.transition=null;var o=be;be=1;var a=Te;Te|=4,yg.current=null,mP(t,n),jS(n,t),BC(gp),wc=!!mp,gp=mp=null,t.current=n,gP(n),qR(),Te=a,be=o,pn.transition=s}else t.current=n;if(_u&&(_u=!1,Hr=t,Mc=i),s=t.pendingLanes,s===0&&(ei=null),QR(n.stateNode),Wt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jc)throw jc=!1,t=jp,jp=null,t;return Mc&1&&t.tag!==0&&Ys(),s=t.pendingLanes,s&1?t===Mp?ka++:(ka=0,Mp=t):ka=0,_i(),null}function Ys(){if(Hr!==null){var t=TT(Mc),e=pn.transition,n=be;try{if(pn.transition=null,be=16>t?16:t,Hr===null)var r=!1;else{if(t=Hr,Hr=null,Mc=0,Te&6)throw Error(W(331));var i=Te;for(Te|=4,re=t.current;re!==null;){var s=re,o=s.child;if(re.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(re=c;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:Ca(8,d,s)}var p=d.child;if(p!==null)p.return=d,re=p;else for(;re!==null;){d=re;var g=d.sibling,w=d.return;if(OS(d),d===c){re=null;break}if(g!==null){g.return=w,re=g;break}re=w}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var I=v.sibling;v.sibling=null,v=I}while(v!==null)}}re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,re=o;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ca(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,re=E;break e}re=s.return}}var S=t.current;for(re=S;re!==null;){o=re;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,re=b;else e:for(o=S;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Id(9,a)}}catch(M){He(a,a.return,M)}if(a===o){re=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,re=N;break e}re=a.return}}if(Te=i,_i(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(gd,t)}catch{}r=!0}return r}finally{be=n,pn.transition=e}}return!1}function Q_(t,e,n){e=co(n,e),e=TS(t,e,1),t=Zr(t,e,1),e=Ut(),t!==null&&(wl(t,1,e),Wt(t,e))}function He(t,e,n){if(t.tag===3)Q_(t,t,n);else for(;e!==null;){if(e.tag===3){Q_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){t=co(n,t),t=SS(e,t,1),e=Zr(e,t,1),t=Ut(),e!==null&&(wl(e,1,t),Wt(e,t));break}}e=e.return}}function TP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,ft===t&&(vt&n)===n&&(st===4||st===3&&(vt&130023424)===vt&&500>Ge()-_g?Ki(t,0):vg|=n),Wt(t,e)}function zS(t,e){e===0&&(t.mode&1?(e=uu,uu<<=1,!(uu&130023424)&&(uu=4194304)):e=1);var n=Ut();t=_r(t,e),t!==null&&(wl(t,e,n),Wt(t,n))}function SP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zS(t,n)}function IP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),zS(t,n)}var HS;HS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,dP(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,De&&e.flags&1048576&&GT(e,Rc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zu(t,e),t=e.pendingProps;var i=oo(e,Nt.current);Qs(e,n),i=hg(null,e,r,t,i,n);var s=fg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(r)?(s=!0,Ac(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ag(e),i.updater=Sd,e.stateNode=i,i._reactInternals=e,bp(e,r,t,n),e=Rp(null,e,r,!0,s,n)):(e.tag=0,De&&s&&eg(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=AP(r),t=wn(r,t),i){case 0:e=xp(null,e,r,t,n);break e;case 1:e=U_(null,e,r,t,n);break e;case 11:e=M_(null,e,r,t,n);break e;case 14:e=V_(null,e,r,wn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),xp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),U_(t,e,r,i,n);case 3:e:{if(xS(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,eS(t,e),kc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=co(Error(W(423)),e),e=F_(t,e,r,n,i);break e}else if(r!==i){i=co(Error(W(424)),e),e=F_(t,e,r,n,i);break e}else for(en=Xr(e.stateNode.containerInfo.firstChild),nn=e,De=!0,Sn=null,n=XT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ao(),r===i){e=Er(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return tS(e),t===null&&Tp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,yp(r,i)?o=null:s!==null&&yp(r,s)&&(e.flags|=32),AS(t,e),Vt(t,e,o,n),e.child;case 6:return t===null&&Tp(e),null;case 13:return RS(t,e,n);case 4:return lg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lo(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),M_(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ke(Cc,r._currentValue),r._currentValue=o,s!==null)if(Rn(s.value,o)){if(s.children===i.children&&!Kt.current){e=Er(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=pr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Sp(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qs(e,n),i=mn(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),V_(t,e,r,i,n);case 15:return IS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),zu(t,e),e.tag=1,qt(r)?(t=!0,Ac(e)):t=!1,Qs(e,n),wS(e,r,i),bp(e,r,i,n),Rp(null,e,r,!0,t,n);case 19:return CS(t,e,n);case 22:return bS(t,e,n)}throw Error(W(156,e.tag))};function KS(t,e){return vT(t,e)}function bP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new bP(t,e,n,r)}function Sg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AP(t){if(typeof t=="function")return Sg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$m)return 11;if(t===zm)return 14}return 2}function ni(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Sg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ks:return qi(n.children,i,s,e);case Bm:o=8,i|=8;break;case Qf:return t=hn(12,n,e,i|2),t.elementType=Qf,t.lanes=s,t;case Yf:return t=hn(13,n,e,i),t.elementType=Yf,t.lanes=s,t;case Jf:return t=hn(19,n,e,i),t.elementType=Jf,t.lanes=s,t;case tT:return Ad(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zw:o=10;break e;case eT:o=9;break e;case $m:o=11;break e;case zm:o=14;break e;case Lr:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=hn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qi(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function Ad(t,e,n,r){return t=hn(22,t,r,e),t.elementType=tT,t.lanes=n,t.stateNode={isHidden:!1},t}function Jh(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function Xh(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nh(0),this.expirationTimes=Nh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ig(t,e,n,r,i,s,o,a,u){return t=new xP(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ag(s),t}function RP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ps,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function qS(t){if(!t)return ci;t=t._reactInternals;e:{if(ls(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(qt(n))return qT(t,n,e)}return e}function WS(t,e,n,r,i,s,o,a,u){return t=Ig(n,r,!0,t,i,s,o,a,u),t.context=qS(null),n=t.current,r=Ut(),i=ti(n),s=pr(r,i),s.callback=e??null,Zr(n,s,i),t.current.lanes=i,wl(t,i,r),Wt(t,r),t}function xd(t,e,n,r){var i=e.current,s=Ut(),o=ti(i);return n=qS(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zr(i,e,o),t!==null&&(An(t,i,o,s),Fu(t,i,o)),o}function Uc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Y_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bg(t,e){Y_(t,e),(t=t.alternate)&&Y_(t,e)}function CP(){return null}var GS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ag(t){this._internalRoot=t}Rd.prototype.render=Ag.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));xd(t,e,null,null)};Rd.prototype.unmount=Ag.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ts(function(){xd(null,t,null,null)}),e[vr]=null}};function Rd(t){this._internalRoot=t}Rd.prototype.unstable_scheduleHydration=function(t){if(t){var e=bT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jr.length&&e!==0&&e<jr[n].priority;n++);jr.splice(n,0,t),n===0&&xT(t)}};function xg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function J_(){}function PP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Uc(o);s.call(c)}}var o=WS(e,r,t,0,null,!1,!1,"",J_);return t._reactRootContainer=o,t[vr]=o.current,Qa(t.nodeType===8?t.parentNode:t),ts(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Uc(u);a.call(c)}}var u=Ig(t,0,!1,null,null,!1,!1,"",J_);return t._reactRootContainer=u,t[vr]=u.current,Qa(t.nodeType===8?t.parentNode:t),ts(function(){xd(e,u,n,r)}),u}function Pd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Uc(o);a.call(u)}}xd(e,o,t,i)}else o=PP(n,e,t,i,r);return Uc(o)}ST=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ma(e.pendingLanes);n!==0&&(qm(e,n|1),Wt(e,Ge()),!(Te&6)&&(ho=Ge()+500,_i()))}break;case 13:ts(function(){var r=_r(t,1);if(r!==null){var i=Ut();An(r,t,1,i)}}),bg(t,1)}};Wm=function(t){if(t.tag===13){var e=_r(t,134217728);if(e!==null){var n=Ut();An(e,t,134217728,n)}bg(t,134217728)}};IT=function(t){if(t.tag===13){var e=ti(t),n=_r(t,e);if(n!==null){var r=Ut();An(n,t,e,r)}bg(t,e)}};bT=function(){return be};AT=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};ap=function(t,e,n){switch(e){case"input":if(ep(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ed(r);if(!i)throw Error(W(90));rT(r),ep(r,i)}}}break;case"textarea":sT(t,n);break;case"select":e=n.value,e!=null&&Ks(t,!!n.multiple,e,!1)}};hT=Eg;fT=ts;var kP={usingClientEntryPoint:!1,Events:[Sl,Ds,Ed,cT,dT,Eg]},sa={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NP={bundleType:sa.bundleType,version:sa.version,rendererPackageName:sa.rendererPackageName,rendererConfig:sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=gT(t),t===null?null:t.stateNode},findFiberByHostInstance:sa.findFiberByHostInstance||CP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{gd=Eu.inject(NP),zn=Eu}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kP;an.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xg(e))throw Error(W(200));return RP(t,e,null,n)};an.createRoot=function(t,e){if(!xg(t))throw Error(W(299));var n=!1,r="",i=GS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ig(t,1,!1,null,null,n,!1,r,i),t[vr]=e.current,Qa(t.nodeType===8?t.parentNode:t),new Ag(e)};an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=gT(e),t=t===null?null:t.stateNode,t};an.flushSync=function(t){return ts(t)};an.hydrate=function(t,e,n){if(!Cd(e))throw Error(W(200));return Pd(null,t,e,!0,n)};an.hydrateRoot=function(t,e,n){if(!xg(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=GS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=WS(e,null,t,1,n??null,i,!1,s,o),t[vr]=e.current,Qa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rd(e)};an.render=function(t,e,n){if(!Cd(e))throw Error(W(200));return Pd(null,t,e,!1,n)};an.unmountComponentAtNode=function(t){if(!Cd(t))throw Error(W(40));return t._reactRootContainer?(ts(function(){Pd(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1};an.unstable_batchedUpdates=Eg;an.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cd(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Pd(t,e,n,!1,r)};an.version="18.3.1-next-f1338f8080-20240426";function QS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QS)}catch(t){console.error(t)}}QS(),Qw.exports=an;var OP=Qw.exports,YS,X_=OP;YS=X_.createRoot,X_.hydrateRoot;var LP=typeof Element<"u",DP=typeof Map=="function",jP=typeof Set=="function",MP=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Wu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Wu(t[r],e[r]))return!1;return!0}var s;if(DP&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!Wu(r.value[1],e.get(r.value[0])))return!1;return!0}if(jP&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(MP&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(LP&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!Wu(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var VP=function(e,n){try{return Wu(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const UP=Ar(VP);var FP=function(t,e,n,r,i,s,o,a){if(!t){var u;if(e===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],d=0;u=new Error(e.replace(/%s/g,function(){return c[d++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},BP=FP;const Z_=Ar(BP);var $P=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(n),c=0;c<o.length;c++){var d=o[c];if(!u(d))return!1;var p=e[d],g=n[d];if(s=r?r.call(i,p,g,d):void 0,s===!1||s===void 0&&p!==g)return!1}return!0};const zP=Ar($P);var JS=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(JS||{}),Zh={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},e0=Object.values(JS),Rg={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HP=Object.entries(Rg).reduce((t,[e,n])=>(t[n]=e,t),{}),In="data-rh",Js={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Xs=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},KP=t=>{let e=Xs(t,"title");const n=Xs(t,Js.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=Xs(t,Js.DEFAULT_TITLE);return e||r||void 0},qP=t=>Xs(t,Js.ON_CHANGE_CLIENT_STATE)||(()=>{}),ef=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),WP=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const a=i[s].toLowerCase();if(t.indexOf(a)!==-1&&r[a])return n.concat(r)}}return n},[]),GP=t=>console&&typeof console.warn=="function"&&console.warn(t),oa=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&GP(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,s)=>{const o={};s.filter(u=>{let c;const d=Object.keys(u);for(let g=0;g<d.length;g+=1){const w=d[g],y=w.toLowerCase();e.indexOf(y)!==-1&&!(c==="rel"&&u[c].toLowerCase()==="canonical")&&!(y==="rel"&&u[y].toLowerCase()==="stylesheet")&&(c=y),e.indexOf(w)!==-1&&(w==="innerHTML"||w==="cssText"||w==="itemprop")&&(c=w)}if(!c||!u[c])return!1;const p=u[c].toLowerCase();return r[c]||(r[c]={}),o[c]||(o[c]={}),r[c][p]?!1:(o[c][p]=!0,!0)}).reverse().forEach(u=>i.push(u));const a=Object.keys(o);for(let u=0;u<a.length;u+=1){const c=a[u],d={...r[c],...o[c]};r[c]=d}return i},[]).reverse()},QP=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},YP=t=>({baseTag:WP(["href"],t),bodyAttributes:ef("bodyAttributes",t),defer:Xs(t,Js.DEFER),encode:Xs(t,Js.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ef("htmlAttributes",t),linkTags:oa("link",["rel","href"],t),metaTags:oa("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:oa("noscript",["innerHTML"],t),onChangeClientState:qP(t),scriptTags:oa("script",["src","innerHTML"],t),styleTags:oa("style",["cssText"],t),title:KP(t),titleAttributes:ef("titleAttributes",t),prioritizeSeoTags:QP(t,Js.PRIORITIZE_SEO_TAGS)}),XS=t=>Array.isArray(t)?t.join(""):t,JP=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},tf=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(JP(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},t0=(t,e)=>({...t,[e]:void 0}),XP=["noscript","script","style"],Fp=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),ZS=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),ZP=(t,e,n,r)=>{const i=ZS(n),s=XS(e);return i?`<${t} ${In}="true" ${i}>${Fp(s,r)}</${t}>`:`<${t} ${In}="true">${Fp(s,r)}</${t}>`},ek=(t,e,n=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,d)=>{const p=typeof s[d]>"u"?d:`${d}="${Fp(s[d],n)}"`;return c?`${c} ${p}`:p},""),a=s.innerHTML||s.cssText||"",u=XP.indexOf(t)===-1;return`${r}<${t} ${In}="true" ${o}${u?"/>":`>${a}</${t}>`}`},""),e1=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=Rg[r];return n[i||r]=t[r],n},e),tk=(t,e,n)=>{const r={key:e,[In]:!0},i=e1(n,r);return[Bn.createElement("title",i,e)]},Gu=(t,e)=>e.map((n,r)=>{const i={key:r,[In]:!0};return Object.keys(n).forEach(s=>{const a=Rg[s]||s;if(a==="innerHTML"||a==="cssText"){const u=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:u}}else i[a]=n[s]}),Bn.createElement(t,i)}),un=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>tk(t,e.title,e.titleAttributes),toString:()=>ZP(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>e1(e),toString:()=>ZS(e)};default:return{toComponent:()=>Gu(t,e),toString:()=>ek(t,e,n)}}},nk=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=tf(t,Zh.meta),s=tf(e,Zh.link),o=tf(n,Zh.script);return{priorityMethods:{toComponent:()=>[...Gu("meta",i.priority),...Gu("link",s.priority),...Gu("script",o.priority)],toString:()=>`${un("meta",i.priority,r)} ${un("link",s.priority,r)} ${un("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},rk=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:a="",titleAttributes:u,prioritizeSeoTags:c}=t;let{linkTags:d,metaTags:p,scriptTags:g}=t,w={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:w,linkTags:d,metaTags:p,scriptTags:g}=nk(t)),{priority:w,base:un("base",e,r),bodyAttributes:un("bodyAttributes",n,r),htmlAttributes:un("htmlAttributes",i,r),link:un("link",d,r),meta:un("meta",p,r),noscript:un("noscript",s,r),script:un("script",g,r),style:un("style",o,r),title:un("title",{title:a,titleAttributes:u},r)}},Bp=rk,wu=[],t1=!!(typeof window<"u"&&window.document&&window.document.createElement),$p=class{constructor(t,e){tr(this,"instances",[]);tr(this,"canUseDOM",t1);tr(this,"context");tr(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?wu:this.instances,add:t=>{(this.canUseDOM?wu:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?wu:this.instances).indexOf(t);(this.canUseDOM?wu:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Bp({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},ik={},n1=Bn.createContext(ik),Hi,r1=(Hi=class extends V.Component{constructor(n){super(n);tr(this,"helmetData");this.helmetData=new $p(this.props.context||{},Hi.canUseDOM)}render(){return Bn.createElement(n1.Provider,{value:this.helmetData.value},this.props.children)}},tr(Hi,"canUseDOM",t1),Hi),Es=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${In}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(a=>{const u=document.createElement(t);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(c==="innerHTML")u.innerHTML=a.innerHTML;else if(c==="cssText")u.styleSheet?u.styleSheet.cssText=a.cssText:u.appendChild(document.createTextNode(a.cssText));else{const d=c,p=typeof a[d]>"u"?"":a[d];u.setAttribute(c,p)}u.setAttribute(In,"true"),i.some((c,d)=>(o=d,u.isEqualNode(c)))?i.splice(o,1):s.push(u)}),i.forEach(a=>{var u;return(u=a.parentNode)==null?void 0:u.removeChild(a)}),s.forEach(a=>n.appendChild(a)),{oldTags:i,newTags:s}},zp=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(In),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const a of o){const u=e[a]||"";n.getAttribute(a)!==u&&n.setAttribute(a,u),i.indexOf(a)===-1&&i.push(a);const c=s.indexOf(a);c!==-1&&s.splice(c,1)}for(let a=s.length-1;a>=0;a-=1)n.removeAttribute(s[a]);i.length===s.length?n.removeAttribute(In):n.getAttribute(In)!==o.join(",")&&n.setAttribute(In,o.join(","))},sk=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=XS(t)),zp("title",e)},n0=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:a,onChangeClientState:u,scriptTags:c,styleTags:d,title:p,titleAttributes:g}=t;zp("body",r),zp("html",i),sk(p,g);const w={baseTag:Es("base",n),linkTags:Es("link",s),metaTags:Es("meta",o),noscriptTags:Es("noscript",a),scriptTags:Es("script",c),styleTags:Es("style",d)},y={},v={};Object.keys(w).forEach(I=>{const{newTags:E,oldTags:S}=w[I];E.length&&(y[I]=E),S.length&&(v[I]=w[I].oldTags)}),e&&e(),u(t,y,v)},aa=null,ok=t=>{aa&&cancelAnimationFrame(aa),t.defer?aa=requestAnimationFrame(()=>{n0(t,()=>{aa=null})}):(n0(t),aa=null)},ak=ok,r0=class extends V.Component{constructor(){super(...arguments);tr(this,"rendered",!1)}shouldComponentUpdate(e){return!zP(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=YP(e.get().map(s=>{const o={...s.props};return delete o.context,o}));r1.canUseDOM?ak(i):Bp&&(r=Bp(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Wf,Ei=(Wf=class extends V.Component{shouldComponentUpdate(t){return!UP(t0(this.props,"helmetData"),t0(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return Z_(e0.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${e0.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),Z_(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return Bn.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((u,c)=>(u[HP[c]||c]=s[c],u),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof $p)){const i=r;r=new $p(i.context,!0),delete n.helmetData}return r?Bn.createElement(r0,{...n,context:r.value}):Bn.createElement(n1.Consumer,null,i=>Bn.createElement(r0,{...n,context:i}))}},tr(Wf,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Wf);/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},il.apply(this,arguments)}var Kr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kr||(Kr={}));const i0="popstate";function lk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Hp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Fc(i)}return ck(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function i1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uk(){return Math.random().toString(36).substr(2,8)}function s0(t,e){return{usr:t.state,key:t.key,idx:e}}function Hp(t,e,n,r){return n===void 0&&(n=null),il({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xo(e):e,{state:n,key:e&&e.key||r||uk()})}function Fc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ck(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Kr.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(il({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=Kr.Pop;let I=d(),E=I==null?null:I-c;c=I,u&&u({action:a,location:v.location,delta:E})}function g(I,E){a=Kr.Push;let S=Hp(v.location,I,E);c=d()+1;let b=s0(S,c),N=v.createHref(S);try{o.pushState(b,"",N)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(N)}s&&u&&u({action:a,location:v.location,delta:1})}function w(I,E){a=Kr.Replace;let S=Hp(v.location,I,E);c=d();let b=s0(S,c),N=v.createHref(S);o.replaceState(b,"",N),s&&u&&u({action:a,location:v.location,delta:0})}function y(I){let E=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof I=="string"?I:Fc(I);return S=S.replace(/ $/,"%20"),Ze(E,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,E)}let v={get action(){return a},get location(){return t(i,o)},listen(I){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(i0,p),u=I,()=>{i.removeEventListener(i0,p),u=null}},createHref(I){return e(i,I)},createURL:y,encodeLocation(I){let E=y(I);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:w,go(I){return o.go(I)}};return v}var o0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(o0||(o0={}));function dk(t,e,n){return n===void 0&&(n="/"),hk(t,e,n,!1)}function hk(t,e,n,r){let i=typeof e=="string"?xo(e):e,s=Cg(i.pathname||"/",n);if(s==null)return null;let o=s1(t);fk(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=Ik(s);a=Tk(o[u],c,r)}return a}function s1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ze(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ri([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(Ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),s1(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:Ek(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of o1(s.path))i(s,o,u)}),e}function o1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=o1(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function fk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pk=/^:[\w-]+$/,mk=3,gk=2,yk=1,vk=10,_k=-2,a0=t=>t==="*";function Ek(t,e){let n=t.split("/"),r=n.length;return n.some(a0)&&(r+=_k),e&&(r+=gk),n.filter(i=>!a0(i)).reduce((i,s)=>i+(pk.test(s)?mk:s===""?yk:vk),r)}function wk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Tk(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=l0({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),g=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=l0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ri([s,p.pathname]),pathnameBase:Rk(ri([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=ri([s,p.pathnameBase]))}return o}function l0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Sk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,p)=>{let{paramName:g,isOptional:w}=d;if(g==="*"){let v=a[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[p];return w&&!y?c[g]=void 0:c[g]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function Sk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),i1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ik(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return i1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Cg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xo(t):t;return{pathname:n?n.startsWith("/")?n:Ak(n,e):e,search:Ck(r),hash:Pk(i)}}function Ak(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function nf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function a1(t,e){let n=xk(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function l1(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=xo(t):(i=il({},t),Ze(!i.pathname||!i.pathname.includes("?"),nf("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),nf("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),nf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?e[p]:"/"}let u=bk(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const ri=t=>t.join("/").replace(/\/\/+/g,"/"),Rk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ck=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Pk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const u1=["post","put","patch","delete"];new Set(u1);const Nk=["get",...u1];new Set(Nk);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(this,arguments)}const Pg=V.createContext(null),Ok=V.createContext(null),us=V.createContext(null),kd=V.createContext(null),wi=V.createContext({outlet:null,matches:[],isDataRoute:!1}),c1=V.createContext(null);function Lk(t,e){let{relative:n}=e===void 0?{}:e;bl()||Ze(!1);let{basename:r,navigator:i}=V.useContext(us),{hash:s,pathname:o,search:a}=h1(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:ri([r,o])),i.createHref({pathname:u,search:a,hash:s})}function bl(){return V.useContext(kd)!=null}function Nd(){return bl()||Ze(!1),V.useContext(kd).location}function d1(t){V.useContext(us).static||V.useLayoutEffect(t)}function Dk(){let{isDataRoute:t}=V.useContext(wi);return t?Qk():jk()}function jk(){bl()||Ze(!1);let t=V.useContext(Pg),{basename:e,future:n,navigator:r}=V.useContext(us),{matches:i}=V.useContext(wi),{pathname:s}=Nd(),o=JSON.stringify(a1(i,n.v7_relativeSplatPath)),a=V.useRef(!1);return d1(()=>{a.current=!0}),V.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=l1(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ri([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,o,s,t])}function Mk(){let{matches:t}=V.useContext(wi),e=t[t.length-1];return e?e.params:{}}function h1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=V.useContext(us),{matches:i}=V.useContext(wi),{pathname:s}=Nd(),o=JSON.stringify(a1(i,r.v7_relativeSplatPath));return V.useMemo(()=>l1(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Vk(t,e){return Uk(t,e)}function Uk(t,e,n,r){bl()||Ze(!1);let{navigator:i}=V.useContext(us),{matches:s}=V.useContext(wi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Nd(),d;if(e){var p;let I=typeof e=="string"?xo(e):e;u==="/"||(p=I.pathname)!=null&&p.startsWith(u)||Ze(!1),d=I}else d=c;let g=d.pathname||"/",w=g;if(u!=="/"){let I=u.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(I.length).join("/")}let y=dk(t,{pathname:w}),v=Hk(y&&y.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:ri([u,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?u:ri([u,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&v?V.createElement(kd.Provider,{value:{location:sl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Kr.Pop}},v):v}function Fk(){let t=Gk(),e=kk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}const Bk=V.createElement(Fk,null);class $k extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(wi.Provider,{value:this.props.routeContext},V.createElement(c1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zk(t){let{routeContext:e,match:n,children:r}=t,i=V.useContext(Pg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(wi.Provider,{value:e},r)}function Hk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);d>=0||Ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=d),p.route.id){let{loaderData:g,errors:w}=n,y=p.route.loader&&g[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||y){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,p,g)=>{let w,y=!1,v=null,I=null;n&&(w=a&&p.route.id?a[p.route.id]:void 0,v=p.route.errorElement||Bk,u&&(c<0&&g===0?(y=!0,I=null):c===g&&(y=!0,I=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,g+1)),S=()=>{let b;return w?b=v:y?b=I:p.route.Component?b=V.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=d,V.createElement(zk,{match:p,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:b})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?V.createElement($k,{location:n.location,revalidation:n.revalidation,component:v,error:w,children:S(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):S()},null)}var f1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(f1||{}),Bc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bc||{});function Kk(t){let e=V.useContext(Pg);return e||Ze(!1),e}function qk(t){let e=V.useContext(Ok);return e||Ze(!1),e}function Wk(t){let e=V.useContext(wi);return e||Ze(!1),e}function p1(t){let e=Wk(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function Gk(){var t;let e=V.useContext(c1),n=qk(Bc.UseRouteError),r=p1(Bc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Qk(){let{router:t}=Kk(f1.UseNavigateStable),e=p1(Bc.UseNavigateStable),n=V.useRef(!1);return d1(()=>{n.current=!0}),V.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,sl({fromRouteId:e},s)))},[t,e])}const u0={};function Yk(t,e){u0[e]||(u0[e]=!0,console.warn(e))}const c0=(t,e,n)=>Yk(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Jk(t,e){t!=null&&t.v7_startTransition||c0("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&c0("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Ln(t){Ze(!1)}function Xk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Kr.Pop,navigator:s,static:o=!1,future:a}=t;bl()&&Ze(!1);let u=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:u,navigator:s,static:o,future:sl({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=xo(r));let{pathname:d="/",search:p="",hash:g="",state:w=null,key:y="default"}=r,v=V.useMemo(()=>{let I=Cg(d,u);return I==null?null:{location:{pathname:I,search:p,hash:g,state:w,key:y},navigationType:i}},[u,d,p,g,w,y,i]);return v==null?null:V.createElement(us.Provider,{value:c},V.createElement(kd.Provider,{children:n,value:v}))}function Zk(t){let{children:e,location:n}=t;return Vk(Kp(e),n)}new Promise(()=>{});function Kp(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,i)=>{if(!V.isValidElement(r))return;let s=[...e,i];if(r.type===V.Fragment){n.push.apply(n,Kp(r.props.children,s));return}r.type!==Ln&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Kp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qp(){return qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qp.apply(this,arguments)}function eN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nN(t,e){return t.button===0&&(!e||e==="_self")&&!tN(t)}const rN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],iN="6";try{window.__reactRouterVersion=iN}catch{}const sN="startTransition",d0=TR[sN];function oN(t){let{basename:e,children:n,future:r,window:i}=t,s=V.useRef();s.current==null&&(s.current=lk({window:i,v5Compat:!0}));let o=s.current,[a,u]=V.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=V.useCallback(p=>{c&&d0?d0(()=>u(p)):u(p)},[u,c]);return V.useLayoutEffect(()=>o.listen(d),[o,d]),V.useEffect(()=>Jk(r),[r]),V.createElement(Xk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const aN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=V.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:p}=e,g=eN(e,rN),{basename:w}=V.useContext(us),y,v=!1;if(typeof c=="string"&&lN.test(c)&&(y=c,aN))try{let b=new URL(window.location.href),N=c.startsWith("//")?new URL(b.protocol+c):new URL(c),M=Cg(N.pathname,w);N.origin===b.origin&&M!=null?c=M+N.search+N.hash:v=!0}catch{}let I=Lk(c,{relative:i}),E=uN(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:i,viewTransition:p});function S(b){r&&r(b),b.defaultPrevented||E(b)}return V.createElement("a",qp({},g,{href:y||I,onClick:v||s?r:S,ref:n,target:u}))});var h0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(h0||(h0={}));var f0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(f0||(f0={}));function uN(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=Dk(),c=Nd(),d=h1(t,{relative:o});return V.useCallback(p=>{if(nN(p,n)){p.preventDefault();let g=r!==void 0?r:Fc(c)===Fc(d);u(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,d,r,i,n,t,s,o,a])}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},u)=>V.createElement("svg",{ref:u,...dN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:m1("lucide",i),...a},[...o.map(([c,d])=>V.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(t,e)=>{const n=V.forwardRef(({className:r,...i},s)=>V.createElement(hN,{ref:s,iconNode:e,className:m1(`lucide-${cN(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=tt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=tt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=tt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=tt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=tt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=tt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=tt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=tt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=tt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=tt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=tt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var m0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},T1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|a>>4;let g=(a&15)<<2|c>>6,w=c&63;u||(w=64,o||(g=64)),r.push(n[d],n[p],n[g],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new AN;const g=s<<2|a>>4;if(r.push(g),c!==64){const w=a<<4&240|c>>2;if(r.push(w),p!==64){const y=c<<6&192|p;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xN=function(t){const e=w1(t);return T1.encodeByteArray(e,!0)},$c=function(t){return xN(t).replace(/\./g,"")},S1=function(t){try{return T1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=()=>RN().__FIREBASE_DEFAULTS__,PN=()=>{if(typeof process>"u"||typeof m0>"u")return;const t=m0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&S1(t[1]);return e&&JSON.parse(e)},Od=()=>{try{return CN()||PN()||kN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I1=t=>{var e,n;return(n=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},b1=t=>{const e=I1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},A1=()=>{var t;return(t=Od())===null||t===void 0?void 0:t.config},x1=t=>{var e;return(e=Od())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$c(JSON.stringify(n)),$c(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ON(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function LN(){var t;const e=(t=Od())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VN(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UN(){return!LN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FN(){try{return typeof indexedDB=="object"}catch{return!1}}function BN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="FirebaseError";class Xn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$N,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Al.prototype.create)}}class Al{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?zN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xn(i,a,r)}}function zN(t,e){return t.replace(HN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const HN=/\{\$([^}]+)}/g;function KN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(g0(s)&&g0(o)){if(!zc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function g0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ya(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function va(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function qN(t,e){const n=new WN(t,e);return n.subscribe.bind(n)}class WN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rf),i.error===void 0&&(i.error=rf),i.complete===void 0&&(i.complete=rf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JN(e))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Di){return this.instances.has(e)}getOptions(e=Di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Di){return this.component?this.component.multipleInstances?e:Di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YN(t){return t===Di?void 0:t}function JN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const ZN={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},eO=ye.INFO,tO={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},nO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Og{constructor(e){this.name=e,this._logLevel=eO,this._logHandler=nO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const rO=(t,e)=>e.some(n=>t instanceof n);let y0,v0;function iO(){return y0||(y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sO(){return v0||(v0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C1=new WeakMap,Wp=new WeakMap,P1=new WeakMap,sf=new WeakMap,Lg=new WeakMap;function oO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ii(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&C1.set(n,t)}).catch(()=>{}),Lg.set(e,t),e}function aO(t){if(Wp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Wp.set(t,e)}let Gp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||P1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lO(t){Gp=t(Gp)}function uO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(of(this),e,...n);return P1.set(r,e.sort?e.sort():[e]),ii(r)}:sO().includes(t)?function(...e){return t.apply(of(this),e),ii(C1.get(this))}:function(...e){return ii(t.apply(of(this),e))}}function cO(t){return typeof t=="function"?uO(t):(t instanceof IDBTransaction&&aO(t),rO(t,iO())?new Proxy(t,Gp):t)}function ii(t){if(t instanceof IDBRequest)return oO(t);if(sf.has(t))return sf.get(t);const e=cO(t);return e!==t&&(sf.set(t,e),Lg.set(e,t)),e}const of=t=>Lg.get(t);function dO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ii(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ii(o.result),u.oldVersion,u.newVersion,ii(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const hO=["get","getKey","getAll","getAllKeys","count"],fO=["put","add","delete","clear"],af=new Map;function _0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(af.get(e))return af.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=fO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hO.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return af.set(e,s),s}lO(t=>({...t,get:(e,n,r)=>_0(e,n)||t.get(e,n,r),has:(e,n)=>!!_0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qp="@firebase/app",E0="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new Og("@firebase/app"),gO="@firebase/app-compat",yO="@firebase/analytics-compat",vO="@firebase/analytics",_O="@firebase/app-check-compat",EO="@firebase/app-check",wO="@firebase/auth",TO="@firebase/auth-compat",SO="@firebase/database",IO="@firebase/data-connect",bO="@firebase/database-compat",AO="@firebase/functions",xO="@firebase/functions-compat",RO="@firebase/installations",CO="@firebase/installations-compat",PO="@firebase/messaging",kO="@firebase/messaging-compat",NO="@firebase/performance",OO="@firebase/performance-compat",LO="@firebase/remote-config",DO="@firebase/remote-config-compat",jO="@firebase/storage",MO="@firebase/storage-compat",VO="@firebase/firestore",UO="@firebase/vertexai",FO="@firebase/firestore-compat",BO="firebase",$O="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="[DEFAULT]",zO={[Qp]:"fire-core",[gO]:"fire-core-compat",[vO]:"fire-analytics",[yO]:"fire-analytics-compat",[EO]:"fire-app-check",[_O]:"fire-app-check-compat",[wO]:"fire-auth",[TO]:"fire-auth-compat",[SO]:"fire-rtdb",[IO]:"fire-data-connect",[bO]:"fire-rtdb-compat",[AO]:"fire-fn",[xO]:"fire-fn-compat",[RO]:"fire-iid",[CO]:"fire-iid-compat",[PO]:"fire-fcm",[kO]:"fire-fcm-compat",[NO]:"fire-perf",[OO]:"fire-perf-compat",[LO]:"fire-rc",[DO]:"fire-rc-compat",[jO]:"fire-gcs",[MO]:"fire-gcs-compat",[VO]:"fire-fst",[FO]:"fire-fst-compat",[UO]:"fire-vertex","fire-js":"fire-js",[BO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,HO=new Map,Jp=new Map;function w0(t,e){try{t.container.addComponent(e)}catch(n){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ns(t){const e=t.name;if(Jp.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;Jp.set(e,t);for(const n of Hc.values())w0(n,t);for(const n of HO.values())w0(n,t);return!0}function Ld(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ur(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new Al("app","Firebase",KO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=$O;function k1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Yp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw si.create("bad-app-name",{appName:String(i)});if(n||(n=A1()),!n)throw si.create("no-options");const s=Hc.get(i);if(s){if(zc(n,s.options)&&zc(r,s.config))return s;throw si.create("duplicate-app",{appName:i})}const o=new XN(i);for(const u of Jp.values())o.addComponent(u);const a=new qO(n,r,o);return Hc.set(i,a),a}function Dg(t=Yp){const e=Hc.get(t);if(!e&&t===Yp&&A1())return k1();if(!e)throw si.create("no-app",{appName:t});return e}function Kn(t,e,n){var r;let i=(r=zO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(a.join(" "));return}ns(new di(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="firebase-heartbeat-database",GO=1,ol="firebase-heartbeat-store";let lf=null;function N1(){return lf||(lf=dO(WO,GO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ol)}catch(n){console.warn(n)}}}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),lf}async function QO(t){try{const n=(await N1()).transaction(ol),r=await n.objectStore(ol).get(O1(t));return await n.done,r}catch(e){if(e instanceof Xn)wr.warn(e.message);else{const n=si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wr.warn(n.message)}}}async function T0(t,e){try{const r=(await N1()).transaction(ol,"readwrite");await r.objectStore(ol).put(e,O1(t)),await r.done}catch(n){if(n instanceof Xn)wr.warn(n.message);else{const r=si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wr.warn(r.message)}}}function O1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=1024,JO=30*24*60*60*1e3;class XO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=S0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=JO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){wr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=S0(),{heartbeatsToSend:r,unsentEntries:i}=ZO(this._heartbeatsCache.heartbeats),s=$c(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return wr.warn(n),""}}}function S0(){return new Date().toISOString().substring(0,10)}function ZO(t,e=YO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),I0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),I0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FN()?BN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return T0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return T0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function I0(t){return $c(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){ns(new di("platform-logger",e=>new pO(e),"PRIVATE")),ns(new di("heartbeat",e=>new XO(e),"PRIVATE")),Kn(Qp,E0,t),Kn(Qp,E0,"esm2017"),Kn("fire-js","")}tL("");var b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,L1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,T){function x(){}x.prototype=T.prototype,A.D=T.prototype,A.prototype=new x,A.prototype.constructor=A,A.C=function(C,P,k){for(var R=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)R[xe-2]=arguments[xe];return T.prototype[P].apply(C,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,T,x){x||(x=0);var C=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)C[P]=T.charCodeAt(x++)|T.charCodeAt(x++)<<8|T.charCodeAt(x++)<<16|T.charCodeAt(x++)<<24;else for(P=0;16>P;++P)C[P]=T[x++]|T[x++]<<8|T[x++]<<16|T[x++]<<24;T=A.g[0],x=A.g[1],P=A.g[2];var k=A.g[3],R=T+(k^x&(P^k))+C[0]+3614090360&4294967295;T=x+(R<<7&4294967295|R>>>25),R=k+(P^T&(x^P))+C[1]+3905402710&4294967295,k=T+(R<<12&4294967295|R>>>20),R=P+(x^k&(T^x))+C[2]+606105819&4294967295,P=k+(R<<17&4294967295|R>>>15),R=x+(T^P&(k^T))+C[3]+3250441966&4294967295,x=P+(R<<22&4294967295|R>>>10),R=T+(k^x&(P^k))+C[4]+4118548399&4294967295,T=x+(R<<7&4294967295|R>>>25),R=k+(P^T&(x^P))+C[5]+1200080426&4294967295,k=T+(R<<12&4294967295|R>>>20),R=P+(x^k&(T^x))+C[6]+2821735955&4294967295,P=k+(R<<17&4294967295|R>>>15),R=x+(T^P&(k^T))+C[7]+4249261313&4294967295,x=P+(R<<22&4294967295|R>>>10),R=T+(k^x&(P^k))+C[8]+1770035416&4294967295,T=x+(R<<7&4294967295|R>>>25),R=k+(P^T&(x^P))+C[9]+2336552879&4294967295,k=T+(R<<12&4294967295|R>>>20),R=P+(x^k&(T^x))+C[10]+4294925233&4294967295,P=k+(R<<17&4294967295|R>>>15),R=x+(T^P&(k^T))+C[11]+2304563134&4294967295,x=P+(R<<22&4294967295|R>>>10),R=T+(k^x&(P^k))+C[12]+1804603682&4294967295,T=x+(R<<7&4294967295|R>>>25),R=k+(P^T&(x^P))+C[13]+4254626195&4294967295,k=T+(R<<12&4294967295|R>>>20),R=P+(x^k&(T^x))+C[14]+2792965006&4294967295,P=k+(R<<17&4294967295|R>>>15),R=x+(T^P&(k^T))+C[15]+1236535329&4294967295,x=P+(R<<22&4294967295|R>>>10),R=T+(P^k&(x^P))+C[1]+4129170786&4294967295,T=x+(R<<5&4294967295|R>>>27),R=k+(x^P&(T^x))+C[6]+3225465664&4294967295,k=T+(R<<9&4294967295|R>>>23),R=P+(T^x&(k^T))+C[11]+643717713&4294967295,P=k+(R<<14&4294967295|R>>>18),R=x+(k^T&(P^k))+C[0]+3921069994&4294967295,x=P+(R<<20&4294967295|R>>>12),R=T+(P^k&(x^P))+C[5]+3593408605&4294967295,T=x+(R<<5&4294967295|R>>>27),R=k+(x^P&(T^x))+C[10]+38016083&4294967295,k=T+(R<<9&4294967295|R>>>23),R=P+(T^x&(k^T))+C[15]+3634488961&4294967295,P=k+(R<<14&4294967295|R>>>18),R=x+(k^T&(P^k))+C[4]+3889429448&4294967295,x=P+(R<<20&4294967295|R>>>12),R=T+(P^k&(x^P))+C[9]+568446438&4294967295,T=x+(R<<5&4294967295|R>>>27),R=k+(x^P&(T^x))+C[14]+3275163606&4294967295,k=T+(R<<9&4294967295|R>>>23),R=P+(T^x&(k^T))+C[3]+4107603335&4294967295,P=k+(R<<14&4294967295|R>>>18),R=x+(k^T&(P^k))+C[8]+1163531501&4294967295,x=P+(R<<20&4294967295|R>>>12),R=T+(P^k&(x^P))+C[13]+2850285829&4294967295,T=x+(R<<5&4294967295|R>>>27),R=k+(x^P&(T^x))+C[2]+4243563512&4294967295,k=T+(R<<9&4294967295|R>>>23),R=P+(T^x&(k^T))+C[7]+1735328473&4294967295,P=k+(R<<14&4294967295|R>>>18),R=x+(k^T&(P^k))+C[12]+2368359562&4294967295,x=P+(R<<20&4294967295|R>>>12),R=T+(x^P^k)+C[5]+4294588738&4294967295,T=x+(R<<4&4294967295|R>>>28),R=k+(T^x^P)+C[8]+2272392833&4294967295,k=T+(R<<11&4294967295|R>>>21),R=P+(k^T^x)+C[11]+1839030562&4294967295,P=k+(R<<16&4294967295|R>>>16),R=x+(P^k^T)+C[14]+4259657740&4294967295,x=P+(R<<23&4294967295|R>>>9),R=T+(x^P^k)+C[1]+2763975236&4294967295,T=x+(R<<4&4294967295|R>>>28),R=k+(T^x^P)+C[4]+1272893353&4294967295,k=T+(R<<11&4294967295|R>>>21),R=P+(k^T^x)+C[7]+4139469664&4294967295,P=k+(R<<16&4294967295|R>>>16),R=x+(P^k^T)+C[10]+3200236656&4294967295,x=P+(R<<23&4294967295|R>>>9),R=T+(x^P^k)+C[13]+681279174&4294967295,T=x+(R<<4&4294967295|R>>>28),R=k+(T^x^P)+C[0]+3936430074&4294967295,k=T+(R<<11&4294967295|R>>>21),R=P+(k^T^x)+C[3]+3572445317&4294967295,P=k+(R<<16&4294967295|R>>>16),R=x+(P^k^T)+C[6]+76029189&4294967295,x=P+(R<<23&4294967295|R>>>9),R=T+(x^P^k)+C[9]+3654602809&4294967295,T=x+(R<<4&4294967295|R>>>28),R=k+(T^x^P)+C[12]+3873151461&4294967295,k=T+(R<<11&4294967295|R>>>21),R=P+(k^T^x)+C[15]+530742520&4294967295,P=k+(R<<16&4294967295|R>>>16),R=x+(P^k^T)+C[2]+3299628645&4294967295,x=P+(R<<23&4294967295|R>>>9),R=T+(P^(x|~k))+C[0]+4096336452&4294967295,T=x+(R<<6&4294967295|R>>>26),R=k+(x^(T|~P))+C[7]+1126891415&4294967295,k=T+(R<<10&4294967295|R>>>22),R=P+(T^(k|~x))+C[14]+2878612391&4294967295,P=k+(R<<15&4294967295|R>>>17),R=x+(k^(P|~T))+C[5]+4237533241&4294967295,x=P+(R<<21&4294967295|R>>>11),R=T+(P^(x|~k))+C[12]+1700485571&4294967295,T=x+(R<<6&4294967295|R>>>26),R=k+(x^(T|~P))+C[3]+2399980690&4294967295,k=T+(R<<10&4294967295|R>>>22),R=P+(T^(k|~x))+C[10]+4293915773&4294967295,P=k+(R<<15&4294967295|R>>>17),R=x+(k^(P|~T))+C[1]+2240044497&4294967295,x=P+(R<<21&4294967295|R>>>11),R=T+(P^(x|~k))+C[8]+1873313359&4294967295,T=x+(R<<6&4294967295|R>>>26),R=k+(x^(T|~P))+C[15]+4264355552&4294967295,k=T+(R<<10&4294967295|R>>>22),R=P+(T^(k|~x))+C[6]+2734768916&4294967295,P=k+(R<<15&4294967295|R>>>17),R=x+(k^(P|~T))+C[13]+1309151649&4294967295,x=P+(R<<21&4294967295|R>>>11),R=T+(P^(x|~k))+C[4]+4149444226&4294967295,T=x+(R<<6&4294967295|R>>>26),R=k+(x^(T|~P))+C[11]+3174756917&4294967295,k=T+(R<<10&4294967295|R>>>22),R=P+(T^(k|~x))+C[2]+718787259&4294967295,P=k+(R<<15&4294967295|R>>>17),R=x+(k^(P|~T))+C[9]+3951481745&4294967295,A.g[0]=A.g[0]+T&4294967295,A.g[1]=A.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+k&4294967295}r.prototype.u=function(A,T){T===void 0&&(T=A.length);for(var x=T-this.blockSize,C=this.B,P=this.h,k=0;k<T;){if(P==0)for(;k<=x;)i(this,A,k),k+=this.blockSize;if(typeof A=="string"){for(;k<T;)if(C[P++]=A.charCodeAt(k++),P==this.blockSize){i(this,C),P=0;break}}else for(;k<T;)if(C[P++]=A[k++],P==this.blockSize){i(this,C),P=0;break}}this.h=P,this.o+=T},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var T=1;T<A.length-8;++T)A[T]=0;var x=8*this.o;for(T=A.length-8;T<A.length;++T)A[T]=x&255,x/=256;for(this.u(A),A=Array(16),T=x=0;4>T;++T)for(var C=0;32>C;C+=8)A[x++]=this.g[T]>>>C&255;return A};function s(A,T){var x=a;return Object.prototype.hasOwnProperty.call(x,A)?x[A]:x[A]=T(A)}function o(A,T){this.h=T;for(var x=[],C=!0,P=A.length-1;0<=P;P--){var k=A[P]|0;C&&k==T||(x[P]=k,C=!1)}this.g=x}var a={};function u(A){return-128<=A&&128>A?s(A,function(T){return new o([T|0],0>T?-1:0)}):new o([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return p;if(0>A)return I(c(-A));for(var T=[],x=1,C=0;A>=x;C++)T[C]=A/x|0,x*=4294967296;return new o(T,0)}function d(A,T){if(A.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(A.charAt(0)=="-")return I(d(A.substring(1),T));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=c(Math.pow(T,8)),C=p,P=0;P<A.length;P+=8){var k=Math.min(8,A.length-P),R=parseInt(A.substring(P,P+k),T);8>k?(k=c(Math.pow(T,k)),C=C.j(k).add(c(R))):(C=C.j(x),C=C.add(c(R)))}return C}var p=u(0),g=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(v(this))return-I(this).m();for(var A=0,T=1,x=0;x<this.g.length;x++){var C=this.i(x);A+=(0<=C?C:4294967296+C)*T,T*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(y(this))return"0";if(v(this))return"-"+I(this).toString(A);for(var T=c(Math.pow(A,6)),x=this,C="";;){var P=N(x,T).g;x=E(x,P.j(T));var k=((0<x.g.length?x.g[0]:x.h)>>>0).toString(A);if(x=P,y(x))return k+C;for(;6>k.length;)k="0"+k;C=k+C}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function y(A){if(A.h!=0)return!1;for(var T=0;T<A.g.length;T++)if(A.g[T]!=0)return!1;return!0}function v(A){return A.h==-1}t.l=function(A){return A=E(this,A),v(A)?-1:y(A)?0:1};function I(A){for(var T=A.g.length,x=[],C=0;C<T;C++)x[C]=~A.g[C];return new o(x,~A.h).add(g)}t.abs=function(){return v(this)?I(this):this},t.add=function(A){for(var T=Math.max(this.g.length,A.g.length),x=[],C=0,P=0;P<=T;P++){var k=C+(this.i(P)&65535)+(A.i(P)&65535),R=(k>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);C=R>>>16,k&=65535,R&=65535,x[P]=R<<16|k}return new o(x,x[x.length-1]&-2147483648?-1:0)};function E(A,T){return A.add(I(T))}t.j=function(A){if(y(this)||y(A))return p;if(v(this))return v(A)?I(this).j(I(A)):I(I(this).j(A));if(v(A))return I(this.j(I(A)));if(0>this.l(w)&&0>A.l(w))return c(this.m()*A.m());for(var T=this.g.length+A.g.length,x=[],C=0;C<2*T;C++)x[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<A.g.length;P++){var k=this.i(C)>>>16,R=this.i(C)&65535,xe=A.i(P)>>>16,Me=A.i(P)&65535;x[2*C+2*P]+=R*Me,S(x,2*C+2*P),x[2*C+2*P+1]+=k*Me,S(x,2*C+2*P+1),x[2*C+2*P+1]+=R*xe,S(x,2*C+2*P+1),x[2*C+2*P+2]+=k*xe,S(x,2*C+2*P+2)}for(C=0;C<T;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=T;C<2*T;C++)x[C]=0;return new o(x,0)};function S(A,T){for(;(A[T]&65535)!=A[T];)A[T+1]+=A[T]>>>16,A[T]&=65535,T++}function b(A,T){this.g=A,this.h=T}function N(A,T){if(y(T))throw Error("division by zero");if(y(A))return new b(p,p);if(v(A))return T=N(I(A),T),new b(I(T.g),I(T.h));if(v(T))return T=N(A,I(T)),new b(I(T.g),T.h);if(30<A.g.length){if(v(A)||v(T))throw Error("slowDivide_ only works with positive integers.");for(var x=g,C=T;0>=C.l(A);)x=M(x),C=M(C);var P=z(x,1),k=z(C,1);for(C=z(C,2),x=z(x,2);!y(C);){var R=k.add(C);0>=R.l(A)&&(P=P.add(x),k=R),C=z(C,1),x=z(x,1)}return T=E(A,P.j(T)),new b(P,T)}for(P=p;0<=A.l(T);){for(x=Math.max(1,Math.floor(A.m()/T.m())),C=Math.ceil(Math.log(x)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),k=c(x),R=k.j(T);v(R)||0<R.l(A);)x-=C,k=c(x),R=k.j(T);y(k)&&(k=g),P=P.add(k),A=E(A,R)}return new b(P,A)}t.A=function(A){return N(this,A).h},t.and=function(A){for(var T=Math.max(this.g.length,A.g.length),x=[],C=0;C<T;C++)x[C]=this.i(C)&A.i(C);return new o(x,this.h&A.h)},t.or=function(A){for(var T=Math.max(this.g.length,A.g.length),x=[],C=0;C<T;C++)x[C]=this.i(C)|A.i(C);return new o(x,this.h|A.h)},t.xor=function(A){for(var T=Math.max(this.g.length,A.g.length),x=[],C=0;C<T;C++)x[C]=this.i(C)^A.i(C);return new o(x,this.h^A.h)};function M(A){for(var T=A.g.length+1,x=[],C=0;C<T;C++)x[C]=A.i(C)<<1|A.i(C-1)>>>31;return new o(x,A.h)}function z(A,T){var x=T>>5;T%=32;for(var C=A.g.length-x,P=[],k=0;k<C;k++)P[k]=0<T?A.i(k+x)>>>T|A.i(k+x+1)<<32-T:A.i(k+x);return new o(P,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,L1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Wi=o}).apply(typeof b0<"u"?b0:typeof self<"u"?self:typeof window<"u"?window:{});var Tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D1,_a,j1,Qu,Xp,M1,V1,U1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,m){return l==Array.prototype||l==Object.prototype||(l[h]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tu=="object"&&Tu];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var m=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var O=l[_];if(!(O in m))break e;m=m[O]}l=l[l.length-1],_=m[l],h=h(_),h!=_&&h!=null&&e(m,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var m=0,_=!1,O={next:function(){if(!_&&m<l.length){var D=m++;return{value:h(D,l[D]),done:!1}}return _=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function c(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,m){return l.call.apply(l.bind,arguments)}function p(l,h,m){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,_),l.apply(h,O)}}return function(){return l.apply(h,arguments)}}function g(l,h,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function w(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function y(l,h){function m(){}m.prototype=h.prototype,l.aa=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(_,O,D){for(var X=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)X[Re-2]=arguments[Re];return h.prototype[O].apply(_,X)}}function v(l){const h=l.length;if(0<h){const m=Array(h);for(let _=0;_<h;_++)m[_]=l[_];return m}return[]}function I(l,h){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(u(_)){const O=l.length||0,D=_.length||0;l.length=O+D;for(let X=0;X<D;X++)l[O+X]=_[X]}else l.push(_)}}class E{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function S(l){return/^[\s\xa0]*$/.test(l)}function b(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var M=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function z(l,h,m){for(const _ in l)h.call(m,l[_],_,l)}function A(l,h){for(const m in l)h.call(void 0,l[m],m,l)}function T(l){const h={};for(const m in l)h[m]=l[m];return h}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,h){let m,_;for(let O=1;O<arguments.length;O++){_=arguments[O];for(m in _)l[m]=_[m];for(let D=0;D<x.length;D++)m=x[D],Object.prototype.hasOwnProperty.call(_,m)&&(l[m]=_[m])}}function P(l){var h=1;l=l.split(":");const m=[];for(;0<h&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function k(l){a.setTimeout(()=>{throw l},0)}function R(){var l=ne;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class xe{constructor(){this.h=this.g=null}add(h,m){const _=Me.get();_.set(h,m),this.h?this.h.next=_:this.g=_,this.h=_}}var Me=new E(()=>new Y,l=>l.reset());class Y{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,H=!1,ne=new xe,q=()=>{const l=a.Promise.resolve(void 0);ee=()=>{l.then(he)}};var he=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(m){k(m)}var h=Me;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}H=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var wt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return l}();function Qt(l,h){if(Ae.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(M){e:{try{N(h.nodeName);var O=!0;break e}catch{}O=!1}O||(h=null)}}else m=="mouseover"?h=l.fromElement:m=="mouseout"&&(h=l.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:F[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Qt.aa.h.call(this)}}y(Qt,Ae);var F={2:"touch",3:"pen",4:"mouse"};Qt.prototype.h=function(){Qt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),L=0;function B(l,h,m,_,O){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!_,this.ha=O,this.key=++L,this.da=this.fa=!1}function Q(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function $(l){this.src=l,this.g={},this.h=0}$.prototype.add=function(l,h,m,_,O){var D=l.toString();l=this.g[D],l||(l=this.g[D]=[],this.h++);var X=Z(l,h,_,O);return-1<X?(h=l[X],m||(h.fa=!1)):(h=new B(h,this.src,D,!!_,O),h.fa=m,l.push(h)),h};function G(l,h){var m=h.type;if(m in l.g){var _=l.g[m],O=Array.prototype.indexOf.call(_,h,void 0),D;(D=0<=O)&&Array.prototype.splice.call(_,O,1),D&&(Q(h),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Z(l,h,m,_){for(var O=0;O<l.length;++O){var D=l[O];if(!D.da&&D.listener==h&&D.capture==!!m&&D.ha==_)return O}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),lt={};function ut(l,h,m,_,O){if(Array.isArray(h)){for(var D=0;D<h.length;D++)ut(l,h[D],m,_,O);return null}return m=Gy(m),l&&l[J]?l.K(h,m,c(_)?!!_.capture:!!_,O):Ai(l,h,m,!1,_,O)}function Ai(l,h,m,_,O,D){if(!h)throw Error("Invalid event type");var X=c(O)?!!O.capture:!!O,Re=uh(l);if(Re||(l[pe]=Re=new $(l)),m=Re.add(h,m,_,X,D),m.proxy)return m;if(_=ps(),m.proxy=_,_.src=l,_.listener=m,l.addEventListener)wt||(O=X),O===void 0&&(O=!1),l.addEventListener(h.toString(),_,O);else if(l.attachEvent)l.attachEvent(xi(h.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ps(){function l(m){return h.call(l.src,l.listener,m)}const h=Px;return l}function Bl(l,h,m,_,O){if(Array.isArray(h))for(var D=0;D<h.length;D++)Bl(l,h[D],m,_,O);else _=c(_)?!!_.capture:!!_,m=Gy(m),l&&l[J]?(l=l.i,h=String(h).toString(),h in l.g&&(D=l.g[h],m=Z(D,m,_,O),-1<m&&(Q(D[m]),Array.prototype.splice.call(D,m,1),D.length==0&&(delete l.g[h],l.h--)))):l&&(l=uh(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Z(h,m,_,O)),(m=-1<l?h[l]:null)&&Vo(m))}function Vo(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[J])G(h.i,l);else{var m=l.type,_=l.proxy;h.removeEventListener?h.removeEventListener(m,_,l.capture):h.detachEvent?h.detachEvent(xi(m),_):h.addListener&&h.removeListener&&h.removeListener(_),(m=uh(h))?(G(m,l),m.h==0&&(m.src=null,h[pe]=null)):Q(l)}}}function xi(l){return l in lt?lt[l]:lt[l]="on"+l}function Px(l,h){if(l.da)l=!0;else{h=new Qt(h,this);var m=l.listener,_=l.ha||l.src;l.fa&&Vo(l),l=m.call(_,h)}return l}function uh(l){return l=l[pe],l instanceof $?l:null}var ch="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gy(l){return typeof l=="function"?l:(l[ch]||(l[ch]=function(h){return l.handleEvent(h)}),l[ch])}function Tt(){ue.call(this),this.i=new $(this),this.M=this,this.F=null}y(Tt,ue),Tt.prototype[J]=!0,Tt.prototype.removeEventListener=function(l,h,m,_){Bl(this,l,h,m,_)};function Dt(l,h){var m,_=l.F;if(_)for(m=[];_;_=_.F)m.push(_);if(l=l.M,_=h.type||h,typeof h=="string")h=new Ae(h,l);else if(h instanceof Ae)h.target=h.target||l;else{var O=h;h=new Ae(_,l),C(h,O)}if(O=!0,m)for(var D=m.length-1;0<=D;D--){var X=h.g=m[D];O=$l(X,_,!0,h)&&O}if(X=h.g=l,O=$l(X,_,!0,h)&&O,O=$l(X,_,!1,h)&&O,m)for(D=0;D<m.length;D++)X=h.g=m[D],O=$l(X,_,!1,h)&&O}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var m=l.g[h],_=0;_<m.length;_++)Q(m[_]);delete l.g[h],l.h--}}this.F=null},Tt.prototype.K=function(l,h,m,_){return this.i.add(String(l),h,!1,m,_)},Tt.prototype.L=function(l,h,m,_){return this.i.add(String(l),h,!0,m,_)};function $l(l,h,m,_){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,D=0;D<h.length;++D){var X=h[D];if(X&&!X.da&&X.capture==m){var Re=X.listener,pt=X.ha||X.src;X.fa&&G(l.i,X),O=Re.call(pt,_)!==!1&&O}}return O&&!_.defaultPrevented}function Qy(l,h,m){if(typeof l=="function")m&&(l=g(l,m));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function Yy(l){l.g=Qy(()=>{l.g=null,l.i&&(l.i=!1,Yy(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class kx extends ue{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Yy(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uo(l){ue.call(this),this.h=l,this.g={}}y(Uo,ue);var Jy=[];function Xy(l){z(l.g,function(h,m){this.g.hasOwnProperty(m)&&Vo(h)},l),l.g={}}Uo.prototype.N=function(){Uo.aa.N.call(this),Xy(this)},Uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dh=a.JSON.stringify,Nx=a.JSON.parse,Ox=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function hh(){}hh.prototype.h=null;function Zy(l){return l.h||(l.h=l.i())}function ev(){}var Fo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fh(){Ae.call(this,"d")}y(fh,Ae);function ph(){Ae.call(this,"c")}y(ph,Ae);var Ri={},tv=null;function zl(){return tv=tv||new Tt}Ri.La="serverreachability";function nv(l){Ae.call(this,Ri.La,l)}y(nv,Ae);function Bo(l){const h=zl();Dt(h,new nv(h))}Ri.STAT_EVENT="statevent";function rv(l,h){Ae.call(this,Ri.STAT_EVENT,l),this.stat=h}y(rv,Ae);function jt(l){const h=zl();Dt(h,new rv(h,l))}Ri.Ma="timingevent";function iv(l,h){Ae.call(this,Ri.Ma,l),this.size=h}y(iv,Ae);function $o(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function zo(){this.g=!0}zo.prototype.xa=function(){this.g=!1};function Lx(l,h,m,_,O,D){l.info(function(){if(l.g)if(D)for(var X="",Re=D.split("&"),pt=0;pt<Re.length;pt++){var Se=Re[pt].split("=");if(1<Se.length){var St=Se[0];Se=Se[1];var It=St.split("_");X=2<=It.length&&It[1]=="type"?X+(St+"="+Se+"&"):X+(St+"=redacted&")}}else X=null;else X=D;return"XMLHTTP REQ ("+_+") [attempt "+O+"]: "+h+`
`+m+`
`+X})}function Dx(l,h,m,_,O,D,X){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+O+"]: "+h+`
`+m+`
`+D+" "+X})}function ms(l,h,m,_){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+Mx(l,m)+(_?" "+_:"")})}function jx(l,h){l.info(function(){return"TIMEOUT: "+h})}zo.prototype.info=function(){};function Mx(l,h){if(!l.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var _=m[l];if(!(2>_.length)){var O=_[1];if(Array.isArray(O)&&!(1>O.length)){var D=O[0];if(D!="noop"&&D!="stop"&&D!="close")for(var X=1;X<O.length;X++)O[X]=""}}}}return dh(m)}catch{return h}}var Hl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mh;function Kl(){}y(Kl,hh),Kl.prototype.g=function(){return new XMLHttpRequest},Kl.prototype.i=function(){return{}},mh=new Kl;function Cr(l,h,m,_){this.j=l,this.i=h,this.l=m,this.R=_||1,this.U=new Uo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ov}function ov(){this.i=null,this.g="",this.h=!1}var av={},gh={};function yh(l,h,m){l.L=1,l.v=Ql(Zn(h)),l.m=m,l.P=!0,lv(l,null)}function lv(l,h){l.F=Date.now(),ql(l),l.A=Zn(l.v);var m=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),Tv(m.i,"t",_),l.C=0,m=l.j.J,l.h=new ov,l.g=Fv(l.j,m?h:null,!l.m),0<l.O&&(l.M=new kx(g(l.Y,l,l.g),l.O)),h=l.U,m=l.g,_=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(Jy[0]=O.toString()),O=Jy);for(var D=0;D<O.length;D++){var X=ut(m,O[D],_||h.handleEvent,!1,h.h||h);if(!X)break;h.g[X.key]=X}h=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Bo(),Lx(l.i,l.u,l.A,l.l,l.R,l.m)}Cr.prototype.ca=function(l){l=l.target;const h=this.M;h&&er(l)==3?h.j():this.Y(l)},Cr.prototype.Y=function(l){try{if(l==this.g)e:{const It=er(this.g);var h=this.g.Ba();const vs=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Cv(this.g)))){this.J||It!=4||h==7||(h==8||0>=vs?Bo(3):Bo(2)),vh(this);var m=this.g.Z();this.X=m;t:if(uv(this)){var _=Cv(this.g);l="";var O=_.length,D=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ci(this),Ho(this);var X="";break t}this.h.i=new a.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,l+=this.h.i.decode(_[h],{stream:!(D&&h==O-1)});_.length=0,this.h.g+=l,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=m==200,Dx(this.i,this.u,this.A,this.l,this.R,It,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,pt=this.g;if((Re=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Re)){var Se=Re;break t}}Se=null}if(m=Se)ms(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_h(this,m);else{this.o=!1,this.s=3,jt(12),Ci(this),Ho(this);break e}}if(this.P){m=!0;let yn;for(;!this.J&&this.C<X.length;)if(yn=Vx(this,X),yn==gh){It==4&&(this.s=4,jt(14),m=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==av){this.s=4,jt(15),ms(this.i,this.l,X,"[Invalid Chunk]"),m=!1;break}else ms(this.i,this.l,yn,null),_h(this,yn);if(uv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||X.length!=0||this.h.h||(this.s=1,jt(16),m=!1),this.o=this.o&&m,!m)ms(this.i,this.l,X,"[Invalid Chunked Response]"),Ci(this),Ho(this);else if(0<X.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),bh(St),St.M=!0,jt(11))}}else ms(this.i,this.l,X,null),_h(this,X);It==4&&Ci(this),this.o&&!this.J&&(It==4?jv(this.j,this):(this.o=!1,ql(this)))}else tR(this.g),m==400&&0<X.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),Ci(this),Ho(this)}}}catch{}finally{}};function uv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Vx(l,h){var m=l.C,_=h.indexOf(`
`,m);return _==-1?gh:(m=Number(h.substring(m,_)),isNaN(m)?av:(_+=1,_+m>h.length?gh:(h=h.slice(_,_+m),l.C=_+m,h)))}Cr.prototype.cancel=function(){this.J=!0,Ci(this)};function ql(l){l.S=Date.now()+l.I,cv(l,l.I)}function cv(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=$o(g(l.ba,l),h)}function vh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Cr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(jx(this.i,this.A),this.L!=2&&(Bo(),jt(17)),Ci(this),this.s=2,Ho(this)):cv(this,this.S-l)};function Ho(l){l.j.G==0||l.J||jv(l.j,l)}function Ci(l){vh(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Xy(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function _h(l,h){try{var m=l.j;if(m.G!=0&&(m.g==l||Eh(m.h,l))){if(!l.K&&Eh(m.h,l)&&m.G==3){try{var _=m.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var O=_;if(O[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)tu(m),Zl(m);else break e;Ih(m),jt(18)}}else m.za=O[1],0<m.za-m.T&&37500>O[2]&&m.F&&m.v==0&&!m.C&&(m.C=$o(g(m.Za,m),6e3));if(1>=fv(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ki(m,11)}else if((l.K||m.g==l)&&tu(m),!S(h))for(O=m.Da.g.parse(h),h=0;h<O.length;h++){let Se=O[h];if(m.T=Se[0],Se=Se[1],m.G==2)if(Se[0]=="c"){m.K=Se[1],m.ia=Se[2];const St=Se[3];St!=null&&(m.la=St,m.j.info("VER="+m.la));const It=Se[4];It!=null&&(m.Aa=It,m.j.info("SVER="+m.Aa));const vs=Se[5];vs!=null&&typeof vs=="number"&&0<vs&&(_=1.5*vs,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const yn=l.g;if(yn){const ru=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ru){var D=_.h;D.g||ru.indexOf("spdy")==-1&&ru.indexOf("quic")==-1&&ru.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(wh(D,D.h),D.h=null))}if(_.D){const Ah=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ah&&(_.ya=Ah,Ne(_.I,_.D,Ah))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var X=l;if(_.qa=Uv(_,_.J?_.ia:null,_.W),X.K){pv(_.h,X);var Re=X,pt=_.L;pt&&(Re.I=pt),Re.B&&(vh(Re),ql(Re)),_.g=X}else Lv(_);0<m.i.length&&eu(m)}else Se[0]!="stop"&&Se[0]!="close"||ki(m,7);else m.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?ki(m,7):Sh(m):Se[0]!="noop"&&m.l&&m.l.ta(Se),m.v=0)}}Bo(4)}catch{}}var Ux=class{constructor(l,h){this.g=l,this.map=h}};function dv(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function fv(l){return l.h?1:l.g?l.g.size:0}function Eh(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function wh(l,h){l.g?l.g.add(h):l.h=h}function pv(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}dv.prototype.cancel=function(){if(this.i=mv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function mv(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const m of l.g.values())h=h.concat(m.D);return h}return v(l.i)}function Fx(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],m=l.length,_=0;_<m;_++)h.push(l[_]);return h}h=[],m=0;for(_ in l)h[m++]=l[_];return h}function Bx(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var m=0;m<l;m++)h.push(m);return h}h=[],m=0;for(const _ in l)h[m++]=_;return h}}}function gv(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var m=Bx(l),_=Fx(l),O=_.length,D=0;D<O;D++)h.call(void 0,_[D],m&&m[D],l)}var yv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $x(l,h){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var _=l[m].indexOf("="),O=null;if(0<=_){var D=l[m].substring(0,_);O=l[m].substring(_+1)}else D=l[m];h(D,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Pi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Pi){this.h=l.h,Wl(this,l.j),this.o=l.o,this.g=l.g,Gl(this,l.s),this.l=l.l;var h=l.i,m=new Wo;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),vv(this,m),this.m=l.m}else l&&(h=String(l).match(yv))?(this.h=!1,Wl(this,h[1]||"",!0),this.o=Ko(h[2]||""),this.g=Ko(h[3]||"",!0),Gl(this,h[4]),this.l=Ko(h[5]||"",!0),vv(this,h[6]||"",!0),this.m=Ko(h[7]||"")):(this.h=!1,this.i=new Wo(null,this.h))}Pi.prototype.toString=function(){var l=[],h=this.j;h&&l.push(qo(h,_v,!0),":");var m=this.g;return(m||h=="file")&&(l.push("//"),(h=this.o)&&l.push(qo(h,_v,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(qo(m,m.charAt(0)=="/"?Kx:Hx,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",qo(m,Wx)),l.join("")};function Zn(l){return new Pi(l)}function Wl(l,h,m){l.j=m?Ko(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Gl(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function vv(l,h,m){h instanceof Wo?(l.i=h,Gx(l.i,l.h)):(m||(h=qo(h,qx)),l.i=new Wo(h,l.h))}function Ne(l,h,m){l.i.set(h,m)}function Ql(l){return Ne(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ko(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function qo(l,h,m){return typeof l=="string"?(l=encodeURI(l).replace(h,zx),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function zx(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var _v=/[#\/\?@]/g,Hx=/[#\?:]/g,Kx=/[#\?]/g,qx=/[#\?@]/g,Wx=/#/g;function Wo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Pr(l){l.g||(l.g=new Map,l.h=0,l.i&&$x(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Wo.prototype,t.add=function(l,h){Pr(this),this.i=null,l=gs(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this};function Ev(l,h){Pr(l),h=gs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function wv(l,h){return Pr(l),h=gs(l,h),l.g.has(h)}t.forEach=function(l,h){Pr(this),this.g.forEach(function(m,_){m.forEach(function(O){l.call(h,O,_,this)},this)},this)},t.na=function(){Pr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let _=0;_<h.length;_++){const O=l[_];for(let D=0;D<O.length;D++)m.push(h[_])}return m},t.V=function(l){Pr(this);let h=[];if(typeof l=="string")wv(this,l)&&(h=h.concat(this.g.get(gs(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)h=h.concat(l[m])}return h},t.set=function(l,h){return Pr(this),this.i=null,l=gs(this,l),wv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Tv(l,h,m){Ev(l,h),0<m.length&&(l.i=null,l.g.set(gs(l,h),v(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var _=h[m];const D=encodeURIComponent(String(_)),X=this.V(_);for(_=0;_<X.length;_++){var O=D;X[_]!==""&&(O+="="+encodeURIComponent(String(X[_]))),l.push(O)}}return this.i=l.join("&")};function gs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function Gx(l,h){h&&!l.j&&(Pr(l),l.i=null,l.g.forEach(function(m,_){var O=_.toLowerCase();_!=O&&(Ev(this,_),Tv(this,O,m))},l)),l.j=h}function Qx(l,h){const m=new zo;if(a.Image){const _=new Image;_.onload=w(kr,m,"TestLoadImage: loaded",!0,h,_),_.onerror=w(kr,m,"TestLoadImage: error",!1,h,_),_.onabort=w(kr,m,"TestLoadImage: abort",!1,h,_),_.ontimeout=w(kr,m,"TestLoadImage: timeout",!1,h,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else h(!1)}function Yx(l,h){const m=new zo,_=new AbortController,O=setTimeout(()=>{_.abort(),kr(m,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:_.signal}).then(D=>{clearTimeout(O),D.ok?kr(m,"TestPingServer: ok",!0,h):kr(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),kr(m,"TestPingServer: error",!1,h)})}function kr(l,h,m,_,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),_(m)}catch{}}function Jx(){this.g=new Ox}function Xx(l,h,m){const _=m||"";try{gv(l,function(O,D){let X=O;c(O)&&(X=dh(O)),h.push(_+D+"="+encodeURIComponent(X))})}catch(O){throw h.push(_+"type="+encodeURIComponent("_badmap")),O}}function Yl(l){this.l=l.Ub||null,this.j=l.eb||!1}y(Yl,hh),Yl.prototype.g=function(){return new Jl(this.l,this.j)},Yl.prototype.i=function(l){return function(){return l}}({});function Jl(l,h){Tt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Jl,Tt),t=Jl.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Qo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Go(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Qo(this)),this.g&&(this.readyState=3,Qo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Go(this):Qo(this),this.readyState==3&&Sv(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Go(this))},t.Qa=function(l){this.g&&(this.response=l,Go(this))},t.ga=function(){this.g&&Go(this)};function Go(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Qo(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=h.next();return l.join(`\r
`)};function Qo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Jl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Iv(l){let h="";return z(l,function(m,_){h+=_,h+=":",h+=m,h+=`\r
`}),h}function Th(l,h,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=Iv(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Ne(l,h,m))}function $e(l){Tt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y($e,Tt);var Zx=/^https?$/i,eR=["POST","PUT"];t=$e.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mh.g(),this.v=this.o?Zy(this.o):Zy(mh),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(D){bv(this,D);return}if(l=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var O in _)m.set(O,_[O]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const D of _.keys())m.set(D,_.get(D));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(D=>D.toLowerCase()=="content-type"),O=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(eR,h,void 0))||_||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,X]of m)this.g.setRequestHeader(D,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rv(this),this.u=!0,this.g.send(l),this.u=!1}catch(D){bv(this,D)}};function bv(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Av(l),Xl(l)}function Av(l){l.A||(l.A=!0,Dt(l,"complete"),Dt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Dt(this,"complete"),Dt(this,"abort"),Xl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xl(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?xv(this):this.bb())},t.bb=function(){xv(this)};function xv(l){if(l.h&&typeof o<"u"&&(!l.v[1]||er(l)!=4||l.Z()!=2)){if(l.u&&er(l)==4)Qy(l.Ea,0,l);else if(Dt(l,"readystatechange"),er(l)==4){l.h=!1;try{const X=l.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var _;if(_=X===0){var O=String(l.D).match(yv)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),_=!Zx.test(O?O.toLowerCase():"")}m=_}if(m)Dt(l,"complete"),Dt(l,"success");else{l.m=6;try{var D=2<er(l)?l.g.statusText:""}catch{D=""}l.l=D+" ["+l.Z()+"]",Av(l)}}finally{Xl(l)}}}}function Xl(l,h){if(l.g){Rv(l);const m=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Dt(l,"ready");try{m.onreadystatechange=_}catch{}}}function Rv(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function er(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),Nx(h)}};function Cv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function tR(l){const h={};l=(l.g&&2<=er(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(S(l[_]))continue;var m=P(l[_]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const D=h[O]||[];h[O]=D,D.push(m)}A(h,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yo(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function Pv(l){this.Aa=0,this.i=[],this.j=new zo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yo("baseRetryDelayMs",5e3,l),this.cb=Yo("retryDelaySeedMs",1e4,l),this.Wa=Yo("forwardChannelMaxRetries",2,l),this.wa=Yo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new dv(l&&l.concurrentRequestLimit),this.Da=new Jx,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pv.prototype,t.la=8,t.G=1,t.connect=function(l,h,m,_){jt(0),this.W=l,this.H=h||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=Uv(this,null,this.W),eu(this)};function Sh(l){if(kv(l),l.G==3){var h=l.U++,m=Zn(l.I);if(Ne(m,"SID",l.K),Ne(m,"RID",h),Ne(m,"TYPE","terminate"),Jo(l,m),h=new Cr(l,l.j,h),h.L=2,h.v=Ql(Zn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=Fv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),ql(h)}Vv(l)}function Zl(l){l.g&&(bh(l),l.g.cancel(),l.g=null)}function kv(l){Zl(l),l.u&&(a.clearTimeout(l.u),l.u=null),tu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function eu(l){if(!hv(l.h)&&!l.s){l.s=!0;var h=l.Ga;ee||q(),H||(ee(),H=!0),ne.add(h,l),l.B=0}}function nR(l,h){return fv(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=$o(g(l.Ga,l,h),Mv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Cr(this,this.j,l);let D=this.o;if(this.S&&(D?(D=T(D),C(D,this.S)):D=this.S),this.m!==null||this.O||(O.H=D,D=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Ov(this,O,h),m=Zn(this.I),Ne(m,"RID",l),Ne(m,"CVER",22),this.D&&Ne(m,"X-HTTP-Session-Id",this.D),Jo(this,m),D&&(this.O?h="headers="+encodeURIComponent(String(Iv(D)))+"&"+h:this.m&&Th(m,this.m,D)),wh(this.h,O),this.Ua&&Ne(m,"TYPE","init"),this.P?(Ne(m,"$req",h),Ne(m,"SID","null"),O.T=!0,yh(O,m,null)):yh(O,m,h),this.G=2}}else this.G==3&&(l?Nv(this,l):this.i.length==0||hv(this.h)||Nv(this))};function Nv(l,h){var m;h?m=h.l:m=l.U++;const _=Zn(l.I);Ne(_,"SID",l.K),Ne(_,"RID",m),Ne(_,"AID",l.T),Jo(l,_),l.m&&l.o&&Th(_,l.m,l.o),m=new Cr(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Ov(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),wh(l.h,m),yh(m,_,h)}function Jo(l,h){l.H&&z(l.H,function(m,_){Ne(h,_,m)}),l.l&&gv({},function(m,_){Ne(h,_,m)})}function Ov(l,h,m){m=Math.min(l.i.length,m);var _=l.l?g(l.l.Na,l.l,l):null;e:{var O=l.i;let D=-1;for(;;){const X=["count="+m];D==-1?0<m?(D=O[0].g,X.push("ofs="+D)):D=0:X.push("ofs="+D);let Re=!0;for(let pt=0;pt<m;pt++){let Se=O[pt].g;const St=O[pt].map;if(Se-=D,0>Se)D=Math.max(0,O[pt].g-100),Re=!1;else try{Xx(St,X,"req"+Se+"_")}catch{_&&_(St)}}if(Re){_=X.join("&");break e}}}return l=l.i.splice(0,m),h.D=l,_}function Lv(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;ee||q(),H||(ee(),H=!0),ne.add(h,l),l.v=0}}function Ih(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=$o(g(l.Fa,l),Mv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Dv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=$o(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),Zl(this),Dv(this))};function bh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Dv(l){l.g=new Cr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Zn(l.qa);Ne(h,"RID","rpc"),Ne(h,"SID",l.K),Ne(h,"AID",l.T),Ne(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ne(h,"TO",l.ja),Ne(h,"TYPE","xmlhttp"),Jo(l,h),l.m&&l.o&&Th(h,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Ql(Zn(h)),m.m=null,m.P=!0,lv(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Zl(this),Ih(this),jt(19))};function tu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function jv(l,h){var m=null;if(l.g==h){tu(l),bh(l),l.g=null;var _=2}else if(Eh(l.h,h))m=h.D,pv(l.h,h),_=1;else return;if(l.G!=0){if(h.o)if(_==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var O=l.B;_=zl(),Dt(_,new iv(_,m)),eu(l)}else Lv(l);else if(O=h.s,O==3||O==0&&0<h.X||!(_==1&&nR(l,h)||_==2&&Ih(l)))switch(m&&0<m.length&&(h=l.h,h.i=h.i.concat(m)),O){case 1:ki(l,5);break;case 4:ki(l,10);break;case 3:ki(l,6);break;default:ki(l,2)}}}function Mv(l,h){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*h}function ki(l,h){if(l.j.info("Error code "+h),h==2){var m=g(l.fb,l),_=l.Xa;const O=!_;_=new Pi(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wl(_,"https"),Ql(_),O?Qx(_.toString(),m):Yx(_.toString(),m)}else jt(2);l.G=0,l.l&&l.l.sa(h),Vv(l),kv(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function Vv(l){if(l.G=0,l.ka=[],l.l){const h=mv(l.h);(h.length!=0||l.i.length!=0)&&(I(l.ka,h),I(l.ka,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.ra()}}function Uv(l,h,m){var _=m instanceof Pi?Zn(m):new Pi(m);if(_.g!="")h&&(_.g=h+"."+_.g),Gl(_,_.s);else{var O=a.location;_=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var D=new Pi(null);_&&Wl(D,_),h&&(D.g=h),O&&Gl(D,O),m&&(D.l=m),_=D}return m=l.D,h=l.ya,m&&h&&Ne(_,m,h),Ne(_,"VER",l.la),Jo(l,_),_}function Fv(l,h,m){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new $e(new Yl({eb:m})):new $e(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bv(){}t=Bv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nu(){}nu.prototype.g=function(l,h){return new Yt(l,h)};function Yt(l,h){Tt.call(this),this.g=new Pv(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!S(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!S(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new ys(this)}y(Yt,Tt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Sh(this.g)},Yt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=dh(l),l=m);h.i.push(new Ux(h.Ya++,l)),h.G==3&&eu(h)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Sh(this.g),delete this.g,Yt.aa.N.call(this)};function $v(l){fh.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}y($v,fh);function zv(){ph.call(this),this.status=1}y(zv,ph);function ys(l){this.g=l}y(ys,Bv),ys.prototype.ua=function(){Dt(this.g,"a")},ys.prototype.ta=function(l){Dt(this.g,new $v(l))},ys.prototype.sa=function(l){Dt(this.g,new zv)},ys.prototype.ra=function(){Dt(this.g,"b")},nu.prototype.createWebChannel=nu.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,U1=function(){return new nu},V1=function(){return zl()},M1=Ri,Xp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hl.NO_ERROR=0,Hl.TIMEOUT=8,Hl.HTTP_ERROR=6,Qu=Hl,sv.COMPLETE="complete",j1=sv,ev.EventType=Fo,Fo.OPEN="a",Fo.CLOSE="b",Fo.ERROR="c",Fo.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,_a=ev,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,D1=$e}).apply(typeof Tu<"u"?Tu:typeof self<"u"?self:typeof window<"u"?window:{});const A0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Og("@firebase/firestore");function Is(){return rs.logLevel}function te(t,...e){if(rs.logLevel<=ye.DEBUG){const n=e.map(jg);rs.debug(`Firestore (${Ro}): ${t}`,...n)}}function Tr(t,...e){if(rs.logLevel<=ye.ERROR){const n=e.map(jg);rs.error(`Firestore (${Ro}): ${t}`,...n)}}function fo(t,...e){if(rs.logLevel<=ye.WARN){const n=e.map(jg);rs.warn(`Firestore (${Ro}): ${t}`,...n)}}function jg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+t;throw Tr(e),new Error(e)}function Ie(t,e){t||ae()}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class rL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iL{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new F1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new Rt(e)}}class sL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class oL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ie(this.o===void 0);const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.R=n.token,new aL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=uL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function po(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new ot(0,0))}static max(){return new le(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return al.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof al?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends al{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new je(n)}static emptyPath(){return new je([])}}const cL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends al{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return cL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(je.fromString(e))}static fromName(e){return new se(je.fromString(e).popFirst(5))}static empty(){return new se(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new je(e.slice()))}}function dL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new hi(i,se.empty(),e)}function hL(t){return new hi(t.readTime,t.key,-1)}class hi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hi(le.min(),se.empty(),-1)}static max(){return new hi(le.max(),se.empty(),-1)}}function fL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==pL)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function gL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Dd.oe=-1;function jd(t){return t==null}function Kc(t){return t===0&&1/t==-1/0}function yL(t){return typeof t=="number"&&Number.isInteger(t)&&!Kc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=x0(e)),e=_L(t.get(n),e);return x0(e)}function _L(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function x0(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ti(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Su(this.root,e,this.comparator,!1)}getReverseIterator(){return new Su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Su(this.root,e,this.comparator,!0)}}class Su{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gt.RED,this.left=i??gt.EMPTY,this.right=s??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new C0(this.data.getIterator())}getIteratorFrom(e){return new C0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class C0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new fn([])}unionWith(e){let n=new at(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new z1("Invalid base64 string: "+s):s}}(e);return new Et(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Et.EMPTY_BYTE_STRING=new Et("");const EL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(t){if(Ie(!!t),typeof t=="string"){let e=0;const n=EL.exec(t);if(Ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pi(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Md(t){const e=t.mapValue.fields.__previous_value__;return Mg(e)?Md(e):e}function ll(t){const e=fi(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ul{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ul("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mg(t)?4:SL(t)?9007199254740991:TL(t)?10:11:ae()}function Yn(t,e){if(t===e)return!0;const n=mi(t);if(n!==mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ll(t).isEqual(ll(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=fi(i.timestampValue),a=fi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return pi(i.bytesValue).isEqual(pi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return We(i.geoPointValue.latitude)===We(s.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return We(i.integerValue)===We(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=We(i.doubleValue),a=We(s.doubleValue);return o===a?Kc(o)===Kc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return po(t.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(R0(o)!==R0(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Yn(o[u],a[u])))return!1;return!0}(t,e);default:return ae()}}function cl(t,e){return(t.values||[]).find(n=>Yn(n,e))!==void 0}function mo(t,e){if(t===e)return 0;const n=mi(t),r=mi(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=We(s.integerValue||s.doubleValue),u=We(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return P0(t.timestampValue,e.timestampValue);case 4:return P0(ll(t),ll(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(s,o){const a=pi(s),u=pi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=_e(a[c],u[c]);if(d!==0)return d}return _e(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=_e(We(s.latitude),We(o.latitude));return a!==0?a:_e(We(s.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return k0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,d;const p=s.fields||{},g=o.fields||{},w=(a=p.value)===null||a===void 0?void 0:a.arrayValue,y=(u=g.value)===null||u===void 0?void 0:u.arrayValue,v=_e(((c=w==null?void 0:w.values)===null||c===void 0?void 0:c.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:k0(w,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Iu.mapValue&&o===Iu.mapValue)return 0;if(s===Iu.mapValue)return 1;if(o===Iu.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const g=_e(u[p],d[p]);if(g!==0)return g;const w=mo(a[u[p]],c[d[p]]);if(w!==0)return w}return _e(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ae()}}function P0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=fi(t),r=fi(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function k0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=mo(n[i],r[i]);if(s)return s}return _e(n.length,r.length)}function go(t){return Zp(t)}function Zp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Zp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Zp(n.fields[o])}`;return i+"}"}(t.mapValue):ae()}function Yu(t){switch(mi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Md(t);return e?16+Yu(e):16;case 5:return 2*t.stringValue.length;case 6:return pi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Yu(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ti(r.fields,(s,o)=>{i+=s.length+Yu(o)}),i}(t.mapValue);default:throw ae()}}function em(t){return!!t&&"integerValue"in t}function Vg(t){return!!t&&"arrayValue"in t}function N0(t){return!!t&&"nullValue"in t}function O0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ju(t){return!!t&&"mapValue"in t}function TL(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Na(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ti(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Na(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Na(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ju(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Na(n)}setAll(e){let n=yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Na(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ju(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ju(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ti(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Zt(Na(this.value))}}function H1(t){const e=[];return Ti(t.fields,(n,r)=>{const i=new yt([n]);if(Ju(r)){const s=H1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pt(e,0,le.min(),le.min(),le.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,i){return new Pt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Pt(e,2,n,le.min(),le.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,le.min(),le.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.position=e,this.inclusive=n}}function L0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=mo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function D0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n="asc"){this.field=e,this.dir=n}}function IL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{}class it extends K1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AL(e,n,r):n==="array-contains"?new CL(e,r):n==="in"?new PL(e,r):n==="not-in"?new kL(e,r):n==="array-contains-any"?new NL(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xL(e,r):new RL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mo(n,this.value)):n!==null&&mi(this.value)===mi(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends K1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Jn(e,n)}matches(e){return q1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function q1(t){return t.op==="and"}function W1(t){return bL(t)&&q1(t)}function bL(t){for(const e of t.filters)if(e instanceof Jn)return!1;return!0}function tm(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+go(t.value);if(W1(t))return t.filters.map(e=>tm(e)).join(",");{const e=t.filters.map(n=>tm(n)).join(",");return`${t.op}(${e})`}}function G1(t,e){return t instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&Yn(r.value,i.value)}(t,e):t instanceof Jn?function(r,i){return i instanceof Jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&G1(o,i.filters[a]),!0):!1}(t,e):void ae()}function Q1(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(t):t instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(Q1).join(" ,")+"}"}(t):"Filter"}class AL extends it{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class xL extends it{constructor(e,n){super(e,"in",n),this.keys=Y1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RL extends it{constructor(e,n){super(e,"not-in",n),this.keys=Y1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Y1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class CL extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vg(n)&&cl(n.arrayValue,this.value)}}class PL extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cl(this.value.arrayValue,n)}}class kL extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!cl(this.value.arrayValue,n)}}class NL extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function j0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new OL(t,e,n,r,i,s,o)}function Ug(t){const e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>go(r)).join(",")),e.ue=n}return e.ue}function Fg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!G1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D0(t.startAt,e.startAt)&&D0(t.endAt,e.endAt)}function nm(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function LL(t,e,n,r,i,s,o,a){return new Vd(t,e,n,r,i,s,o,a)}function Bg(t){return new Vd(t)}function M0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function DL(t){return t.collectionGroup!==null}function Oa(t){const e=ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new at(yt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wc(s,r))}),n.has(yt.keyField().canonicalString())||e.ce.push(new Wc(yt.keyField(),r))}return e.ce}function qn(t){const e=ce(t);return e.le||(e.le=jL(e,Oa(t))),e.le}function jL(t,e){if(t.limitType==="F")return j0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wc(i.field,s)});const n=t.endAt?new qc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qc(t.startAt.position,t.startAt.inclusive):null;return j0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rm(t,e,n){return new Vd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ud(t,e){return Fg(qn(t),qn(e))&&t.limitType===e.limitType}function J1(t){return`${Ug(qn(t))}|lt:${t.limitType}`}function bs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Q1(i)).join(", ")}]`),jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>go(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>go(i)).join(",")),`Target(${r})`}(qn(t))}; limitType=${t.limitType})`}function Fd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Oa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=L0(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Oa(r),i)||r.endAt&&!function(o,a,u){const c=L0(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Oa(r),i))}(t,e)}function ML(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function X1(t){return(e,n)=>{let r=!1;for(const i of Oa(t)){const s=VL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function VL(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?mo(u,c):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ti(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return $1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=new Be(se.comparator);function Sr(){return UL}const Z1=new Be(se.comparator);function Ea(...t){let e=Z1;for(const n of t)e=e.insert(n.key,n);return e}function eI(t){let e=Z1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fi(){return La()}function tI(){return La()}function La(){return new ds(t=>t.toString(),(t,e)=>t.isEqual(e))}const FL=new Be(se.comparator),BL=new at(se.comparator);function ve(...t){let e=BL;for(const n of t)e=e.add(n);return e}const $L=new at(_e);function zL(){return $L}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(e)?"-0":e}}function nI(t){return{integerValue:""+t}}function HL(t,e){return yL(e)?nI(e):$g(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this._=void 0}}function KL(t,e,n){return t instanceof Gc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Mg(s)&&(s=Md(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof dl?iI(t,e):t instanceof hl?sI(t,e):function(i,s){const o=rI(i,s),a=V0(o)+V0(i.Pe);return em(o)&&em(i.Pe)?nI(a):$g(i.serializer,a)}(t,e)}function qL(t,e,n){return t instanceof dl?iI(t,e):t instanceof hl?sI(t,e):n}function rI(t,e){return t instanceof Qc?function(r){return em(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Gc extends Bd{}class dl extends Bd{constructor(e){super(),this.elements=e}}function iI(t,e){const n=oI(e);for(const r of t.elements)n.some(i=>Yn(i,r))||n.push(r);return{arrayValue:{values:n}}}class hl extends Bd{constructor(e){super(),this.elements=e}}function sI(t,e){let n=oI(e);for(const r of t.elements)n=n.filter(i=>!Yn(i,r));return{arrayValue:{values:n}}}class Qc extends Bd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function V0(t){return We(t.integerValue||t.doubleValue)}function oI(t){return Vg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof dl&&i instanceof dl||r instanceof hl&&i instanceof hl?po(r.elements,i.elements,Yn):r instanceof Qc&&i instanceof Qc?Yn(r.Pe,i.Pe):r instanceof Gc&&i instanceof Gc}(t.transform,e.transform)}class GL{constructor(e,n){this.version=e,this.transformResults=n}}class xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $d{}function aI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zg(t.key,xn.none()):new Rl(t.key,t.data,xn.none());{const n=t.data,r=Zt.empty();let i=new at(yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Si(t.key,r,new fn(i.toArray()),xn.none())}}function QL(t,e,n){t instanceof Rl?function(i,s,o){const a=i.value.clone(),u=F0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Si?function(i,s,o){if(!Xu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=F0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(lI(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Da(t,e,n,r){return t instanceof Rl?function(s,o,a,u){if(!Xu(s.precondition,o))return a;const c=s.value.clone(),d=B0(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Si?function(s,o,a,u){if(!Xu(s.precondition,o))return a;const c=B0(s.fieldTransforms,u,o),d=o.data;return d.setAll(lI(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Xu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function YL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=rI(r.transform,i||null);s!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,s))}return n||null}function U0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&po(r,i,(s,o)=>WL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rl extends $d{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Si extends $d{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function F0(t,e,n){const r=new Map;Ie(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,qL(o,a,n[i]))}return r}function B0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,KL(s,o,e))}return r}class zg extends $d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JL extends $d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&QL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Da(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Da(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=aI(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(n,r)=>U0(n,r))&&po(this.baseMutations,e.baseMutations,(n,r)=>U0(n,r))}}class Hg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length);let i=function(){return FL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Hg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,Ee;function t2(t){switch(t){default:return ae();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function uI(t){if(t===void 0)return Tr("GRPC error has no .code"),K.UNKNOWN;switch(t){case Je.OK:return K.OK;case Je.CANCELLED:return K.CANCELLED;case Je.UNKNOWN:return K.UNKNOWN;case Je.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Je.INTERNAL:return K.INTERNAL;case Je.UNAVAILABLE:return K.UNAVAILABLE;case Je.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Je.NOT_FOUND:return K.NOT_FOUND;case Je.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Je.ABORTED:return K.ABORTED;case Je.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Je.DATA_LOSS:return K.DATA_LOSS;default:return ae()}}(Ee=Je||(Je={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Wi([4294967295,4294967295],0);function $0(t){const e=n2().encode(t),n=new L1;return n.update(e),new Uint8Array(n.digest())}function z0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wi([n,r],0),new Wi([i,s],0)]}class Kg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wa(`Invalid padding: ${n}`);if(r<0)throw new wa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wa(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Wi.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(Wi.fromNumber(r)));return i.compare(r2)===1&&(i=new Wi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=$0(e),[r,i]=z0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Kg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=$0(e),[r,i]=z0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zd(le.min(),i,new Be(_e),Sr(),ve())}}class Cl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cl(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class cI{constructor(e,n){this.targetId=e,this.me=n}}class dI{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class H0{constructor(){this.fe=0,this.ge=K0(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new Cl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=K0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ie(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class i2{constructor(e){this.Le=e,this.Be=new Map,this.ke=Sr(),this.qe=bu(),this.Qe=bu(),this.Ke=new Be(_e)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(nm(s))if(r===0){const o=new se(s.path);this.We(n,o,Pt.newNoDocument(o,le.min()))}else Ie(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;if(u!==0){this.He(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=pi(r).toUint8Array()}catch(u){if(u instanceof z1)return fo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Kg(o,i,s)}catch(u){return fo(u instanceof wa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&nm(a.target)){const u=new se(a.target.path);this.st(u).has(o)||this.ot(o,u)||this.We(o,u,Pt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ve();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Ye(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new zd(e,n,this.Ke,this.ke,r);return this.ke=Sr(),this.qe=bu(),this.Qe=bu(),this.Ke=new Be(_e),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new H0,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new at(_e),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new at(_e),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new H0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function bu(){return new Be(se.comparator)}function K0(){return new Be(se.comparator)}const s2={asc:"ASCENDING",desc:"DESCENDING"},o2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},a2={and:"AND",or:"OR"};class l2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function im(t,e){return t.useProto3Json||jd(e)?e:{value:e}}function Yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function u2(t,e){return Yc(t,e.toTimestamp())}function Wn(t){return Ie(!!t),le.fromTimestamp(function(n){const r=fi(n);return new ot(r.seconds,r.nanos)}(t))}function qg(t,e){return sm(t,e).canonicalString()}function sm(t,e){const n=function(i){return new je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fI(t){const e=je.fromString(t);return Ie(vI(e)),e}function om(t,e){return qg(t.databaseId,e.path)}function uf(t,e){const n=fI(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(mI(n))}function pI(t,e){return qg(t.databaseId,e)}function c2(t){const e=fI(t);return e.length===4?je.emptyPath():mI(e)}function am(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mI(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function q0(t,e,n){return{name:om(t,e),fields:n.value.mapValue.fields}}function d2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ie(d===void 0||typeof d=="string"),Et.fromBase64String(d||"")):(Ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Et.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?K.UNKNOWN:uI(c.code);return new ie(d,c.message||"")}(o);n=new dI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=uf(t,r.document.name),s=Wn(r.document.updateTime),o=r.document.createTime?Wn(r.document.createTime):le.min(),a=new Zt({mapValue:{fields:r.document.fields}}),u=Pt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Zu(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=uf(t,r.document),s=r.readTime?Wn(r.readTime):le.min(),o=Pt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Zu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=uf(t,r.document),s=r.removedTargetIds||[];n=new Zu([],s,i,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new e2(i,s),a=r.targetId;n=new cI(a,o)}}return n}function h2(t,e){let n;if(e instanceof Rl)n={update:q0(t,e.key,e.value)};else if(e instanceof zg)n={delete:om(t,e.key)};else if(e instanceof Si)n={update:q0(t,e.key,e.data),updateMask:w2(e.fieldMask)};else{if(!(e instanceof JL))return ae();n={verify:om(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Gc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof dl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:u2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ae()}(t,e.precondition)),n}function f2(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Wn(i.updateTime):Wn(s);return o.isEqual(le.min())&&(o=Wn(s)),new GL(o,i.transformResults||[])}(n,e))):[]}function p2(t,e){return{documents:[pI(t,e.path)]}}function m2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pI(t,i);const s=function(c){if(c.length!==0)return yI(Jn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:As(g.field),direction:v2(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=im(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function g2(t){let e=c2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const g=gI(p);return g instanceof Jn&&W1(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(y){return new Wc(xs(y.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,jd(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,w=p.values||[];return new qc(w,g)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const g=!p.before,w=p.values||[];return new qc(w,g)}(n.endAt)),LL(e,i,o,s,a,"F",u,c)}function y2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xs(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xs(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xs(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xs(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return it.create(xs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(r=>gI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function v2(t){return s2[t]}function _2(t){return o2[t]}function E2(t){return a2[t]}function As(t){return{fieldPath:t.canonicalString()}}function xs(t){return yt.fromServerFormat(t.fieldPath)}function yI(t){return t instanceof it?function(n){if(n.op==="=="){if(O0(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NAN"}};if(N0(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O0(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NAN"}};if(N0(n.value))return{unaryFilter:{field:As(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:As(n.field),op:_2(n.op),value:n.value}}}(t):t instanceof Jn?function(n){const r=n.getFilters().map(i=>yI(i));return r.length===1?r[0]:{compositeFilter:{op:E2(n.op),filters:r}}}(t):ae()}function w2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n,r,i,s=le.min(),o=le.min(),a=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.ht=e}}function S2(t){const e=g2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.ln=new b2}addToCollectionParentIndex(e,n){return this.ln.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(hi.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(hi.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class b2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(je.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $t{static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(41943040,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new yo(0)}static Qn(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0([t,e],[n,r]){const i=_e(t,n);return i===0?_e(e,r):i}class A2{constructor(e){this.Gn=e,this.buffer=new at(G0),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();G0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class x2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Yn(3e5)})}}class R2{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Dd.oe);const r=new A2(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(W0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W0):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,a,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),Is()<=ye.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function C2(t,e){return new R2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.changes=new ds(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Da(r.mutation,i,fn.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=Fi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ea();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Sr();const o=La(),a=function(){return La()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Si)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Da(d.mutation,c,d.mutation.getFieldMask(),ot.now())):o.set(c.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var p;return a.set(c,new k2(d,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=La();let i=new Be((o,a)=>o-a),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||fn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const p=(i.get(a.batchId)||ve()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,p=tI();d.forEach(g=>{if(!s.has(g)){const w=aI(n.get(g),r.get(g));w!==null&&p.set(g,w),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):DL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Fi());let a=-1,u=s;return o.next(c=>U.forEach(c,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ve())).next(d=>({batchId:a,changes:eI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=Ea();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ea();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,u=>{const c=function(p,g){return new Vd(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Pt.newInvalidDocument(d)))});let a=Ea();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&Da(d.mutation,c,fn.empty(),ot.now()),Fd(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return U.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:S2(i.bundledQuery),readTime:Wn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.overlays=new Be(se.comparator),this.Er=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fi();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Fi(),s=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Fi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Fi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return U.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ZL(n,r));let s=this.Er.get(n);s===void 0&&(s=ve(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(){this.dr=new at(dt.Ar),this.Rr=new at(dt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new dt(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new dt(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new se(new je([])),r=new dt(n,e),i=new dt(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new se(new je([])),r=new dt(n,e),i=new dt(n,e+1);let s=ve();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new dt(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return se.comparator(e.key,n.key)||_e(e.br,n.br)}static Vr(e,n){return _e(e.br,n.br)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new at(dt.Ar)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new XL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.vr=this.vr.add(new dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dt(n,0),i=new dt(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const a=this.Cr(o.br);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(_e);return n.forEach(i=>{const s=new dt(i,0),o=new dt(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],a=>{r=r.add(a.br)})}),U.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new dt(new se(s),0);let a=new at(_e);return this.vr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.br)),!0)},o),U.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return U.forEach(n.mutations,i=>{const s=new dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new dt(n,0),i=this.vr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.Nr=e,this.docs=function(){return new Be(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=Sr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Sr();const o=n.path,a=new se(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||fL(hL(d),r)<=0||(i.has(d.key)||Fd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ae()}Lr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new V2(this)}getSize(e){return U.resolve(this.size)}}class V2 extends P2{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.persistence=e,this.Br=new ds(n=>Ug(n),Fg),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.kr=0,this.qr=new Wg,this.targetCount=0,this.Qr=yo.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),U.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Un(n),U.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Dd(0),this.Ur=!1,this.Ur=!0,this.Wr=new D2,this.referenceDelegate=e(this),this.Gr=new U2(this),this.indexManager=new I2,this.remoteDocumentCache=function(i){return new M2(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new T2(n),this.jr=new O2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new j2(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new F2(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return U.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class F2 extends mL{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.Zr=new Wg,this.Xr=null}static ei(e){return new Gg(e)}get ti(){if(this.Xr)return this.Xr;throw ae()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),U.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.ti,r=>{const i=se.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return U.or([()=>U.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Jc{constructor(e,n){this.persistence=e,this.ri=new ds(r=>vL(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=C2(this,n)}static ei(e,n){return new Jc(e,n)}Hr(){}Jr(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return U.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,n).next(a=>{a||(r++,s.removeEntry(o,le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),U.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yu(e.data.value)),n}ir(e,n,r){return U.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=ve(),i=ve();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Qg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return UN()?8:gL(Ot())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new B2;return this.ts(e,n,o).next(a=>{if(s.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Is()<=ye.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",bs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),U.resolve()):(Is()<=ye.DEBUG&&te("QueryEngine","Query:",bs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Is()<=ye.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",bs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):U.resolve())}Xi(e,n){if(M0(n))return U.resolve(null);let r=qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rm(n,null,"F"),r=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ve(...s);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.rs(n,a);return this.ss(n,c,o,u.readTime)?this.Xi(e,rm(n,null,"F")):this.os(e,c,n,u)}))})))}es(e,n,r,i){return M0(n)||i.isEqual(le.min())?U.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?U.resolve(null):(Is()<=ye.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bs(n)),this.os(e,o,n,dL(i,-1)).next(a=>a))})}rs(e,n){let r=new at(X1(e));return n.forEach((i,s)=>{Fd(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return Is()<=ye.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",bs(n)),this.Zi.getDocumentsMatchingQuery(e,n,hi.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Be(_e),this.cs=new ds(s=>Ug(s),Fg),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N2(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function H2(t,e,n,r){return new z2(t,e,n,r)}async function EI(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ve();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function K2(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const p=c.batch,g=p.keys();let w=U.resolve();return g.forEach(y=>{w=w.next(()=>d.getEntry(u,y)).next(v=>{const I=c.docVersions.get(y);Ie(I!==null),v.version.compareTo(I)<0&&(p.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ve();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function wI(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function q2(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((d,p)=>{const g=i.get(p);if(!g)return;a.push(n.Gr.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Gr.addMatchingKeys(s,d.addedDocuments,p)));let w=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(Et.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,r)),i=i.insert(p,w),function(v,I,E){return v.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,w,d)&&a.push(n.Gr.updateTargetData(s,w))});let u=Sr(),c=ve();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(W2(s,o,e.documentUpdates).next(d=>{u=d.Is,c=d.Es})),!r.isEqual(le.min())){const d=n.Gr.getLastRemoteSnapshotVersion(s).next(p=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.us=i,s))}function W2(t,e,n){let r=ve(),i=ve();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Sr();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Is:o,Es:i}})}function G2(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q2(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new qr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function lm(t,e,n){const r=ce(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Po(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function Q0(t,e,n){const r=ce(t);let i=le.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const p=ce(u),g=p.cs.get(d);return g!==void 0?U.resolve(p.us.get(g)):p.Gr.getTargetData(c,d)}(r,o,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:ve())).next(a=>(Y2(r,ML(e),a),{documents:a,ds:s})))}function Y2(t,e,n){let r=t.ls.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class Y0{constructor(){this.activeTargetIds=zL()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class J2{constructor(){this._o=new Y0,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Y0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Au=null;function cf(){return Au===null?Au=function(){return 268435456+Math.round(2147483648*Math.random())}():Au++,"0x"+Au.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class tD extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const a=cf(),u=this.No(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,s,o),this.Bo(n,u,c,i).then(d=>(te("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw fo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}ko(n,r,i,s,o,a){return this.Oo(n,r,i,s,o)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=Z2[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=cf();return new Promise((o,a)=>{const u=new D1;u.setWithCredentials(!0),u.listenOnce(j1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Qu.NO_ERROR:const d=u.getResponseJson();te(xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Qu.TIMEOUT:te(xt,`RPC '${e}' ${s} timed out`),a(new ie(K.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const p=u.getStatus();if(te(xt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const y=function(I){const E=I.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(E)>=0?E:K.UNKNOWN}(w.status);a(new ie(y,w.message))}else a(new ie(K.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ie(K.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{te(xt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);te(xt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}qo(e,n,r){const i=cf(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=U1(),a=V1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");te(xt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=o.createWebChannel(d,u);let g=!1,w=!1;const y=new eD({Eo:I=>{w?te(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(g||(te(xt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),te(xt,`RPC '${e}' stream ${i} sending:`,I),p.send(I))},Ao:()=>p.close()}),v=(I,E,S)=>{I.listen(E,b=>{try{S(b)}catch(N){setTimeout(()=>{throw N},0)}})};return v(p,_a.EventType.OPEN,()=>{w||(te(xt,`RPC '${e}' stream ${i} transport opened.`),y.So())}),v(p,_a.EventType.CLOSE,()=>{w||(w=!0,te(xt,`RPC '${e}' stream ${i} transport closed`),y.Do())}),v(p,_a.EventType.ERROR,I=>{w||(w=!0,fo(xt,`RPC '${e}' stream ${i} transport errored:`,I),y.Do(new ie(K.UNAVAILABLE,"The operation could not be completed")))}),v(p,_a.EventType.MESSAGE,I=>{var E;if(!w){const S=I.data[0];Ie(!!S);const b=S,N=(b==null?void 0:b.error)||((E=b[0])===null||E===void 0?void 0:E.error);if(N){te(xt,`RPC '${e}' stream ${i} received error:`,N);const M=N.status;let z=function(x){const C=Je[x];if(C!==void 0)return uI(C)}(M),A=N.message;z===void 0&&(z=K.INTERNAL,A="Unknown error status: "+M+" with message "+N.message),w=!0,y.Do(new ie(z,A)),p.close()}else te(xt,`RPC '${e}' stream ${i} received:`,S),y.vo(S)}}),v(a,M1.STAT_EVENT,I=>{I.stat===Xp.PROXY?te(xt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Xp.NOPROXY&&te(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.bo()},0),y}}function df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){return new l2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,r,i,s,o,a,u){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new TI(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new ie(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nD extends SI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=d2(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?Wn(o.readTime):le.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=am(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=nm(u)?{documents:p2(s,u)}:{query:m2(s,u).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=hI(s,o.resumeToken);const c=im(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=Yc(s,o.snapshotVersion.toTimestamp());const c=im(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=y2(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=am(this.serializer),n.removeTarget=e,this.c_(n)}}class rD extends SI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=f2(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=am(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>h2(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,sm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(K.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,sm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(K.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class sD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Tr(n),this.C_=!1):te("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{hs(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ce(u);c.k_.add(4),await Pl(c),c.K_.set("Unknown"),c.k_.delete(4),await Kd(c)}(this))})}),this.K_=new sD(r,i)}}async function Kd(t){if(hs(t))for(const e of t.q_)await e(!0)}async function Pl(t){for(const e of t.q_)await e(!1)}function II(t,e){const n=ce(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Zg(n)?Xg(n):ko(n).s_()&&Jg(n,e))}function Yg(t,e){const n=ce(t),r=ko(n);n.B_.delete(e),r.s_()&&bI(n,e),n.B_.size===0&&(r.s_()?r.a_():hs(n)&&n.K_.set("Unknown"))}function Jg(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(t).V_(e)}function bI(t,e){t.U_.xe(e),ko(t).m_(e)}function Xg(t){t.U_=new i2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ko(t).start(),t.K_.F_()}function Zg(t){return hs(t)&&!ko(t).i_()&&t.B_.size>0}function hs(t){return ce(t).k_.size===0}function AI(t){t.U_=void 0}async function aD(t){t.K_.set("Online")}async function lD(t){t.B_.forEach((e,n)=>{Jg(t,e)})}async function uD(t,e){AI(t),Zg(t)?(t.K_.O_(e),Xg(t)):t.K_.set("Unknown")}async function cD(t,e,n){if(t.K_.set("Online"),e instanceof dI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xc(t,r)}else if(e instanceof Zu?t.U_.$e(e):e instanceof cI?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(le.min()))try{const r=await wI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.U_.it(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.B_.get(c);d&&s.B_.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=s.B_.get(u);if(!d)return;s.B_.set(u,d.withResumeToken(Et.EMPTY_BYTE_STRING,d.snapshotVersion)),bI(s,u);const p=new qr(d.target,u,c,d.sequenceNumber);Jg(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Xc(t,r)}}async function Xc(t,e,n){if(!Po(e))throw e;t.k_.add(1),await Pl(t),t.K_.set("Offline"),n||(n=()=>wI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Kd(t)})}function xI(t,e){return e().catch(n=>Xc(t,n,e))}async function qd(t){const e=ce(t),n=gi(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;dD(e);)try{const i=await G2(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,hD(e,i)}catch(i){await Xc(e,i)}RI(e)&&CI(e)}function dD(t){return hs(t)&&t.L_.length<10}function hD(t,e){t.L_.push(e);const n=gi(t);n.s_()&&n.f_&&n.g_(e.mutations)}function RI(t){return hs(t)&&!gi(t).i_()&&t.L_.length>0}function CI(t){gi(t).start()}async function fD(t){gi(t).w_()}async function pD(t){const e=gi(t);for(const n of t.L_)e.g_(n.mutations)}async function mD(t,e,n){const r=t.L_.shift(),i=Hg.from(r,e,n);await xI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qd(t)}async function gD(t,e){e&&gi(t).f_&&await async function(r,i){if(function(o){return t2(o)&&o!==K.ABORTED}(i.code)){const s=r.L_.shift();gi(r).__(),await xI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await qd(r)}}(t,e),RI(t)&&CI(t)}async function X0(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=hs(n);n.k_.add(3),await Pl(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Kd(n)}async function yD(t,e){const n=ce(t);e?(n.k_.delete(2),await Kd(n)):e||(n.k_.add(2),await Pl(n),n.K_.set("Unknown"))}function ko(t){return t.W_||(t.W_=function(n,r,i){const s=ce(n);return s.b_(),new nD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:aD.bind(null,t),mo:lD.bind(null,t),po:uD.bind(null,t),R_:cD.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Zg(t)?Xg(t):t.K_.set("Unknown")):(await t.W_.stop(),AI(t))})),t.W_}function gi(t){return t.G_||(t.G_=function(n,r,i){const s=ce(n);return s.b_(),new rD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:fD.bind(null,t),po:gD.bind(null,t),p_:pD.bind(null,t),y_:mD.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await qd(t)):(await t.G_.stop(),t.L_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ey(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ty(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),Po(t))return new ie(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{static emptySet(e){return new Zs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Ea(),this.sortedSet=new Be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.z_=new Be(se.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ae():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class vo{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new vo(e,n,Zs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class _D{constructor(){this.queries=eE(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=ce(n),s=i.queries;i.queries=eE(),s.forEach((o,a)=>{for(const u of a.J_)u.onError(r)})})(this,new ie(K.ABORTED,"Firestore shutting down"))}}function eE(){return new ds(t=>J1(t),Ud)}async function PI(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new vD,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=ty(o,`Initialization of query '${bs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&ny(n)}async function kI(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ED(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.J_)a.ta(i)&&(r=!0);o.H_=i}}r&&ny(n)}function wD(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function ny(t){t.X_.forEach(e=>{e.next()})}var um,tE;(tE=um||(um={})).na="default",tE.Cache="cache";class NI{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.key=e}}class LI{constructor(e){this.key=e}}class TD{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ve(),this.mutatedKeys=ve(),this.Va=X1(e),this.ma=new Zs(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new Z0,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const g=i.get(d),w=Fd(this.query,p)?p:null,y=!!g&&this.mutatedKeys.has(g.key),v=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let I=!1;g&&w?g.data.isEqual(w.data)?y!==v&&(r.track({type:3,doc:w}),I=!0):this.ya(g,w)||(r.track({type:2,doc:w}),I=!0,(u&&this.Va(w,u)>0||c&&this.Va(w,c)<0)&&(a=!0)):!g&&w?(r.track({type:0,doc:w}),I=!0):g&&!w&&(r.track({type:1,doc:g}),I=!0,(u||c)&&(a=!0)),I&&(w?(o=o.add(w),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ma:o,pa:r,ss:a,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((d,p)=>function(w,y){const v=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return v(w)-v(y)}(d.type,p.type)||this.Va(d.doc,p.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],u=this.Ra.size===0&&this.current&&!i?1:0,c=u!==this.Aa;return this.Aa=u,o.length!==0||c?{snapshot:new vo(this.query,e.ma,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Z0,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ve(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new LI(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new OI(r))}),n}va(e){this.da=e.ds,this.Ra=ve();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return vo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class SD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ID{constructor(e){this.key=e,this.Fa=!1}}class bD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new ds(a=>J1(a),Ud),this.Oa=new Map,this.Na=new Set,this.La=new Be(se.comparator),this.Ba=new Map,this.ka=new Wg,this.qa={},this.Qa=new Map,this.Ka=yo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function AD(t,e,n=!0){const r=FI(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await DI(r,e,n,!0),i}async function xD(t,e){const n=FI(t);await DI(n,e,!0,!1)}async function DI(t,e,n,r){const i=await Q2(t.localStore,qn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await RD(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&II(t.remoteStore,i),a}async function RD(t,e,n,r,i){t.Ua=(p,g,w)=>async function(v,I,E,S){let b=I.view.ga(E);b.ss&&(b=await Q0(v.localStore,I.query,!1).then(({documents:A})=>I.view.ga(A,b)));const N=S&&S.targetChanges.get(I.targetId),M=S&&S.targetMismatches.get(I.targetId)!=null,z=I.view.applyChanges(b,v.isPrimaryClient,N,M);return rE(v,I.targetId,z.ba),z.snapshot}(t,p,g,w);const s=await Q0(t.localStore,e,!0),o=new TD(e,s.ds),a=o.ga(s.documents),u=Cl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);rE(t,n,c.ba);const d=new SD(e,n,o);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function CD(t,e,n){const r=ce(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!Ud(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Yg(r.remoteStore,i.targetId),cm(r,i.targetId)}).catch(Co)):(cm(r,i.targetId),await lm(r.localStore,i.targetId,!0))}async function PD(t,e){const n=ce(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yg(n.remoteStore,r.targetId))}async function kD(t,e,n){const r=VD(t);try{const i=await function(o,a){const u=ce(o),c=ot.now(),d=a.reduce((w,y)=>w.add(y.key),ve());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let y=Sr(),v=ve();return u.hs.getEntries(w,d).next(I=>{y=I,y.forEach((E,S)=>{S.isValidDocument()||(v=v.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,y)).next(I=>{p=I;const E=[];for(const S of a){const b=YL(S,p.get(S.key).overlayedDocument);b!=null&&E.push(new Si(S.key,b,H1(b.value.mapValue),xn.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,E,a)}).next(I=>{g=I;const E=I.applyToLocalDocumentSet(p,v);return u.documentOverlayCache.saveOverlays(w,I.batchId,E)})}).then(()=>({batchId:g.batchId,changes:eI(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.qa[o.currentUser.toKey()];c||(c=new Be(_e)),c=c.insert(a,u),o.qa[o.currentUser.toKey()]=c}(r,i.batchId,n),await kl(r,i.changes),await qd(r.remoteStore)}catch(i){const s=ty(i,"Failed to persist write");n.reject(s)}}async function jI(t,e){const n=ce(t);try{const r=await q2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ba.get(s);o&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?Ie(o.Fa):i.removedDocuments.size>0&&(Ie(o.Fa),o.Fa=!1))}),await kl(n,r,e)}catch(r){await Co(r)}}function nE(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const a=o.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ce(o);u.onlineState=a;let c=!1;u.queries.forEach((d,p)=>{for(const g of p.J_)g.ea(a)&&(c=!0)}),c&&ny(u)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ND(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new Be(se.comparator);o=o.insert(s,Pt.newNoDocument(s,le.min()));const a=ve().add(s),u=new zd(le.min(),new Map,new Be(_e),o,a);await jI(r,u),r.La=r.La.remove(s),r.Ba.delete(e),ry(r)}else await lm(r.localStore,e,!1).then(()=>cm(r,e,n)).catch(Co)}async function OD(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await K2(n.localStore,e);VI(n,r,null),MI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kl(n,i)}catch(i){await Co(i)}}async function LD(t,e,n){const r=ce(t);try{const i=await function(o,a){const u=ce(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(p=>(Ie(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);VI(r,e,n),MI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kl(r,i)}catch(i){await Co(i)}}function MI(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function VI(t,e,n){const r=ce(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function cm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||UI(t,r)})}function UI(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(Yg(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),ry(t))}function rE(t,e,n){for(const r of n)r instanceof OI?(t.ka.addReference(r.key,e),DD(t,r)):r instanceof LI?(te("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||UI(t,r.key)):ae()}function DD(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(te("SyncEngine","New document in limbo: "+n),t.Na.add(r),ry(t))}function ry(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new se(je.fromString(e)),r=t.Ka.next();t.Ba.set(r,new ID(n)),t.La=t.La.insert(n,r),II(t.remoteStore,new qr(qn(Bg(n.path)),r,"TargetPurposeLimboResolution",Dd.oe))}}async function kl(t,e,n){const r=ce(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,u)=>{o.push(r.Ua(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=Qg.zi(u.targetId,c);s.push(p)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(u,c){const d=ce(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(c,g=>U.forEach(g.Wi,w=>d.persistence.referenceDelegate.addReference(p,g.targetId,w)).next(()=>U.forEach(g.Gi,w=>d.persistence.referenceDelegate.removeReference(p,g.targetId,w)))))}catch(p){if(!Po(p))throw p;te("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const w=d.us.get(g),y=w.snapshotVersion,v=w.withLastLimboFreeSnapshotVersion(y);d.us=d.us.insert(g,v)}}}(r.localStore,s))}async function jD(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await EI(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(a=>{a.forEach(u=>{u.reject(new ie(K.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kl(n,r.Ts)}}function MD(t,e){const n=ce(t),r=n.Ba.get(e);if(r&&r.Fa)return ve().add(r.key);{let i=ve();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const a=n.xa.get(o);i=i.unionWith(a.view.fa)}return i}}function FI(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ND.bind(null,e),e.Ma.R_=ED.bind(null,e.eventManager),e.Ma.Wa=wD.bind(null,e.eventManager),e}function VD(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LD.bind(null,e),e}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return H2(this.persistence,new $2,e.initialUser,this.serializer)}ja(e){return new _I(Gg.ei,this.serializer)}za(e){return new J2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class UD extends Zc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ie(this.persistence.referenceDelegate instanceof Jc);const r=this.persistence.referenceDelegate.garbageCollector;return new x2(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?$t.withCacheSize(this.cacheSizeBytes):$t.DEFAULT;return new _I(r=>Jc.ei(r,n),this.serializer)}}class dm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jD.bind(null,this.syncEngine),await yD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _D}()}createDatastore(e){const n=Hd(e.databaseInfo.databaseId),r=function(s){return new tD(s)}(e.databaseInfo);return function(s,o,a,u){return new iD(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new oD(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nE(this.syncEngine,n,0),function(){return J0.p()?new J0:new X2}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,d){const p=new bD(i,s,o,a,u,c);return d&&(p.$a=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ce(i);te("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await Pl(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=B1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{te("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ty(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hf(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await EI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function iE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BD(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>X0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>X0(e.remoteStore,i)),t._onlineComponents=e}async function BD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await hf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===K.FAILED_PRECONDITION||i.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await hf(t,new Zc)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await hf(t,new UD(void 0));return t._offlineComponents}async function $I(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await iE(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await iE(t,new dm))),t._onlineComponents}function $D(t){return $I(t).then(e=>e.syncEngine)}async function zI(t){const e=await $I(t),n=e.eventManager;return n.onListen=AD.bind(null,e.syncEngine),n.onUnlisten=CD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PD.bind(null,e.syncEngine),n}function zD(t,e,n={}){const r=new mr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new BI({next:g=>{d.eu(),o.enqueueAndForget(()=>kI(s,p));const w=g.docs.has(a);!w&&g.fromCache?c.reject(new ie(K.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&g.fromCache&&u&&u.source==="server"?c.reject(new ie(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new NI(Bg(a.path),d,{includeMetadataChanges:!0,ua:!0});return PI(s,p)}(await zI(t),t.asyncQueue,e,n,r)),r.promise}function HD(t,e,n={}){const r=new mr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const d=new BI({next:g=>{d.eu(),o.enqueueAndForget(()=>kI(s,p)),g.fromCache&&u.source==="server"?c.reject(new ie(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new NI(a,d,{includeMetadataChanges:!0,ua:!0});return PI(s,p)}(await zI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t,e,n){if(!n)throw new ie(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KD(t,e,n,r){if(e===!0&&r===!0)throw new ie(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oE(t){if(!se.isDocumentKey(t))throw new ie(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aE(t){if(se.isDocumentKey(t))throw new ie(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function Ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=iy(t);throw new ie(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nL;switch(r.type){case"firstParty":return new oL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sE.get(n);r&&(te("ComponentProvider","Removing Datastore"),sE.delete(n),r.terminate())}(this),Promise.resolve()}}function qD(t,e,n,r={}){var i;const s=(t=Ir(t,Wd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Rt.MOCK_USER;else{a=R1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ie(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Rt(c)}t._authCredentials=new rL(new F1(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gd(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class oi extends Gd{constructor(e,n,r){super(e,n,Bg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new se(e))}withConverter(e){return new oi(this.firestore,e,this._path)}}function ed(t,e,...n){if(t=et(t),KI("collection","path",e),t instanceof Wd){const r=je.fromString(e,...n);return aE(r),new oi(t,null,r)}{if(!(t instanceof rn||t instanceof oi))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return aE(r),new oi(t.firestore,null,r)}}function td(t,e,...n){if(t=et(t),arguments.length===1&&(e=B1.newId()),KI("doc","path",e),t instanceof Wd){const r=je.fromString(e,...n);return oE(r),new rn(t,null,new se(r))}{if(!(t instanceof rn||t instanceof oi))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return oE(r),new rn(t.firestore,t instanceof oi?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new TI(this,"async_queue_retry"),this.fu=()=>{const r=df();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=df();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=df();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new mr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Po(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=ey.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&ae()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class No extends Wd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uE(e),this._firestoreClient=void 0,await e}}}function WD(t,e){const n=typeof t=="object"?t:Dg(),r=typeof t=="string"?t:"(default)",i=Ld(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=b1("firestore");s&&qD(i,...s)}return i}function sy(t){if(t._terminated)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GD(t),t._firestoreClient}function GD(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,d){return new wL(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,HI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new FD(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _o(Et.fromBase64String(e))}catch(n){throw new ie(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _o(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=/^__.*__$/;class YD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Si(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rl(e,this.data,n,this.fieldTransforms)}}class JD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Si(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class uy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new uy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return nd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(qI(this.Mu)&&QD.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class XD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hd(e)}$u(e,n,r,i=!1){return new uy({Mu:e,methodName:n,Ku:r,path:yt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WI(t){const e=t._freezeSettings(),n=Hd(t._databaseId);return new XD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZD(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);hy("Data must be an object, but it was:",o,r);const a=GI(r,o);let u,c;if(s.merge)u=new fn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const p of s.mergeFields){const g=YI(e,p,n);if(!o.contains(g))throw new ie(K.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);rj(d,g)||d.push(g)}u=new fn(d),c=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=o.fieldTransforms;return new YD(new Zt(a),u,c)}class cy extends oy{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cy}}function ej(t,e,n,r){const i=t.$u(1,e,n);hy("Data must be an object, but it was:",i,r);const s=[],o=Zt.empty();Ti(r,(u,c)=>{const d=fy(e,u,n);c=et(c);const p=i.Bu(d);if(c instanceof cy)s.push(d);else{const g=dy(c,p);g!=null&&(s.push(d),o.set(d,g))}});const a=new fn(s);return new JD(o,a,i.fieldTransforms)}function tj(t,e,n,r,i,s){if(t.$u(1,e,n),YI(e,r,n),s.length%2!=0)throw new ie(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`)}function dy(t,e){if(QI(t=et(t)))return hy("Unsupported field value:",e,t),GI(t,e);if(t instanceof oy)return function(r,i){if(!qI(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=dy(a,i.ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ot.fromDate(r);return{timestampValue:Yc(i.serializer,s)}}if(r instanceof ot){const s=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(i.serializer,s)}}if(r instanceof ay)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _o)return{bytesValue:hI(i.serializer,r._byteString)};if(r instanceof rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ly)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.qu("VectorValues must only contain numeric values.");return $g(a.serializer,u)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${iy(r)}`)}(t,e)}function GI(t,e){const n={};return $1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ti(t,(r,i)=>{const s=dy(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function QI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof ay||t instanceof _o||t instanceof rn||t instanceof oy||t instanceof ly)}function hy(t,e,n){if(!QI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=iy(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function YI(t,e,n){if((e=et(e))instanceof Qd)return e._internalPath;if(typeof e=="string")return fy(t,e);throw nd("Field path arguments must be of type string or ",t,!1,void 0,n)}const nj=new RegExp("[~\\*/\\[\\]]");function fy(t,e,n){if(e.search(nj)>=0)throw nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qd(...e.split("."))._internalPath}catch{throw nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ie(K.INVALID_ARGUMENT,a+t+u)}function rj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ij(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(XI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ij extends JI{data(){return super.data()}}function XI(t,e){return typeof e=="string"?fy(t,e):e instanceof Qd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oj{convertValue(e,n="none"){switch(mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ti(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>We(o.doubleValue));return new ly(s)}convertGeoPoint(e){return new ay(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Md(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){const n=fi(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);Ie(vI(r));const i=new ul(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||Tr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZI extends JI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(XI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ec extends ZI{data(e={}){return super.data(e)}}class lj{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ta(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ec(this._firestore,this._userDataWriter,r.key,r,new Ta(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new ec(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ta(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new ec(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ta(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:uj(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){t=Ir(t,rn);const e=Ir(t.firestore,No);return zD(sy(e),t._key).then(n=>pj(e,t,n))}class eb extends oj{constructor(e){super(),this.firestore=e}convertBytes(e){return new _o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function py(t){t=Ir(t,Gd);const e=Ir(t.firestore,No),n=sy(e),r=new eb(e);return sj(t._query),HD(n,t._query).then(i=>new lj(e,r,t,i))}function dj(t,e,n,...r){t=Ir(t,rn);const i=Ir(t.firestore,No),s=WI(i);let o;return o=typeof(e=et(e))=="string"||e instanceof Qd?tj(s,"updateDoc",t._key,e,n,r):ej(s,"updateDoc",t._key,e),my(i,[o.toMutation(t._key,xn.exists(!0))])}function hj(t){return my(Ir(t.firestore,No),[new zg(t._key,xn.none())])}function fj(t,e){const n=Ir(t.firestore,No),r=td(t),i=aj(t.converter,e);return my(n,[ZD(WI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xn.exists(!1))]).then(()=>r)}function my(t,e){return function(r,i){const s=new mr;return r.asyncQueue.enqueueAndForget(async()=>kD(await $D(r),i,s)),s.promise}(sy(t),e)}function pj(t,e,n){const r=n.docs.get(e._key),i=new eb(t);return new ZI(t,i,e._key,r,new Ta(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ro=i})(cs),ns(new di("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new No(new iL(r.getProvider("auth-internal")),new lL(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Kn(A0,"4.7.5",e),Kn(A0,"4.7.5","esm2017")})();var mj="firebase",gj="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn(mj,gj,"app");function gy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yj=tb,nb=new Al("auth","Firebase",tb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=new Og("@firebase/auth");function vj(t,...e){rd.logLevel<=ye.WARN&&rd.warn(`Auth (${cs}): ${t}`,...e)}function tc(t,...e){rd.logLevel<=ye.ERROR&&rd.error(`Auth (${cs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,...e){throw yy(t,...e)}function Gn(t,...e){return yy(t,...e)}function rb(t,e,n){const r=Object.assign(Object.assign({},yj()),{[e]:n});return new Al("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return rb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nb.create(t,...e)}function oe(t,e,...n){if(!t)throw yy(e,...n)}function cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tc(e),new Error(e)}function br(t,e){t||cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _j(){return cE()==="http:"||cE()==="https:"}function cE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ej(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_j()||jN()||"connection"in navigator)?navigator.onLine:!0}function wj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=ON()||MN()}get(){return Ej()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t,e){br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=new Nl(3e4,6e4);function fs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ii(t,e,n,r,i={}){return sb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=xl(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return DN()||(c.referrerPolicy="no-referrer"),ib.fetch()(ob(t,t.config.apiHost,n,a),c)})}async function sb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Tj),e);try{const i=new bj(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw xu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw xu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw xu(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw rb(t,d,c);Cn(t,d)}}catch(i){if(i instanceof Xn)throw i;Cn(t,"network-request-failed",{message:String(i)})}}async function Yd(t,e,n,r,i={}){const s=await Ii(t,e,n,r,i);return"mfaPendingCredential"in s&&Cn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ob(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?vy(t.config,i):`${t.config.apiScheme}://${i}`}function Ij(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gn(this.auth,"network-request-failed")),Sj.get())})}}function xu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gn(t,e,r);return i.customData._tokenResponse=n,i}function dE(t){return t!==void 0&&t.enterprise!==void 0}class Aj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ij(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xj(t,e){return Ii(t,"GET","/v2/recaptchaConfig",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(t,e){return Ii(t,"POST","/v1/accounts:delete",e)}async function ab(t,e){return Ii(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Cj(t,e=!1){const n=et(t),r=await n.getIdToken(e),i=_y(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ja(ff(i.auth_time)),issuedAtTime:ja(ff(i.iat)),expirationTime:ja(ff(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ff(t){return Number(t)*1e3}function _y(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tc("JWT malformed, contained fewer than 3 sections"),null;try{const i=S1(n);return i?JSON.parse(i):(tc("Failed to decode base64 JWT payload"),null)}catch(i){return tc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hE(t){const e=_y(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xn&&Pj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Pj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fl(t,ab(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?lb(s.providerUserInfo):[],a=Oj(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new fm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function Nj(t){const e=et(t);await id(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Oj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function lb(t){return t.map(e=>{var{providerId:n}=e,r=gy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(t,e){const n=await sb(t,{},async()=>{const r=xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ob(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ib.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Dj(t,e){return Ii(t,"POST","/v2/accounts:revokeToken",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=hE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Lj(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new eo;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class dr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=gy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new fm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await fl(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Cj(this,e)}reload(){return Nj(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await id(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await fl(this,Rj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,S=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:N,isAnonymous:M,providerData:z,stsTokenManager:A}=n;oe(b&&A,e,"internal-error");const T=eo.fromJSON(this.name,A);oe(typeof b=="string",e,"internal-error"),Or(p,e.name),Or(g,e.name),oe(typeof N=="boolean",e,"internal-error"),oe(typeof M=="boolean",e,"internal-error"),Or(w,e.name),Or(y,e.name),Or(v,e.name),Or(I,e.name),Or(E,e.name),Or(S,e.name);const x=new dr({uid:b,auth:e,email:g,emailVerified:N,displayName:p,isAnonymous:M,photoURL:y,phoneNumber:w,tenantId:v,stsTokenManager:T,createdAt:E,lastLoginAt:S});return z&&Array.isArray(z)&&(x.providerData=z.map(C=>Object.assign({},C))),I&&(x._redirectEventId=I),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new eo;i.updateFromServerResponse(n);const s=new dr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await id(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?lb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new eo;a.updateFromIdToken(r);const u=new dr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new fm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new Map;function hr(t){br(t instanceof Function,"Expected a class definition");let e=fE.get(t);return e?(br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ub.type="NONE";const pE=ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t,e,n){return`firebase:${t}:${e}:${n}`}class to{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=nc(this.userKey,i.apiKey,s),this.fullPersistenceKey=nc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new to(hr(pE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||hr(pE);const o=nc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const p=dr._fromJSON(e,d);c!==s&&(a=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new to(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new to(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mb(e))return"Blackberry";if(gb(e))return"Webos";if(db(e))return"Safari";if((e.includes("chrome/")||hb(e))&&!e.includes("edge/"))return"Chrome";if(pb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cb(t=Ot()){return/firefox\//i.test(t)}function db(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hb(t=Ot()){return/crios\//i.test(t)}function fb(t=Ot()){return/iemobile/i.test(t)}function pb(t=Ot()){return/android/i.test(t)}function mb(t=Ot()){return/blackberry/i.test(t)}function gb(t=Ot()){return/webos/i.test(t)}function Ey(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jj(t=Ot()){var e;return Ey(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Mj(){return VN()&&document.documentMode===10}function yb(t=Ot()){return Ey(t)||pb(t)||gb(t)||mb(t)||/windows phone/i.test(t)||fb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t,e=[]){let n;switch(t){case"Browser":n=mE(Ot());break;case"Worker":n=`${mE(Ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uj(t,e={}){return Ii(t,"GET","/v2/passwordPolicy",fs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=6;class Bj{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Fj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gE(this),this.idTokenSubscription=new gE(this),this.beforeStateQueue=new Vj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await to.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ab(this,{idToken:e}),r=await dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ur(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await id(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(ai(this));const n=e?et(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Uj(this),n=new Bj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Al("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Dj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Oo(t){return et(t)}class gE{constructor(e){this.auth=e,this.observer=null,this.addObserver=qN(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zj(t){Jd=t}function _b(t){return Jd.loadJS(t)}function Hj(){return Jd.recaptchaEnterpriseScript}function Kj(){return Jd.gapiScript}function qj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Wj{constructor(){this.enterprise=new Gj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Gj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Qj="recaptcha-enterprise",Eb="NO_RECAPTCHA";class Yj{constructor(e){this.type=Qj,this.auth=Oo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{xj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Aj(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;dE(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Eb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Wj().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&dE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Hj();u.length!==0&&(u+=a),_b(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function yE(t,e,n,r=!1,i=!1){const s=new Yj(t);let o;if(i)o=Eb;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const u=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function vE(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await yE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await yE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t,e){const n=Ld(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(zc(s,e??{}))return i;Cn(i,"already-initialized")}return n.initialize({options:e})}function Xj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Zj(t,e,n){const r=Oo(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=wb(e),{host:o,port:a}=eM(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),tM()}function wb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eM(t){const e=wb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_E(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:_E(o)}}}function _E(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function nM(t,e){return Ii(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e){return Yd(t,"POST","/v1/accounts:signInWithPassword",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e){return Yd(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}async function sM(t,e){return Yd(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends wy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vE(e,n,"signInWithPassword",rM);case"emailLink":return iM(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vE(e,r,"signUpPassword",nM);case"emailLink":return sM(e,{idToken:n,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(t,e){return Yd(t,"POST","/v1/accounts:signInWithIdp",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="http://localhost";class is extends wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=gy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new is(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return no(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,no(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,no(e,n)}buildRequest(){const e={requestUri:oM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lM(t){const e=ya(va(t)).link,n=e?ya(va(e)).deep_link_id:null,r=ya(va(t)).deep_link_id;return(r?ya(va(r)).link:null)||r||n||e||t}class Ty{constructor(e){var n,r,i,s,o,a;const u=ya(va(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,p=aM((i=u.mode)!==null&&i!==void 0?i:null);oe(c&&d&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=d,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=lM(e);try{return new Ty(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return pl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ty.parseLink(n);return oe(r,"argument-error"),pl._fromEmailAndCode(e,r.code,r.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Tb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Ol{constructor(){super("facebook.com")}static credential(e){return is._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Ol{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return is._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Ol{constructor(){super("github.com")}static credential(e){return is._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Ol{constructor(){super("twitter.com")}static credential(e,n){return is._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await dr._fromIdTokenResponse(e,r,i),o=EE(r);return new Eo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=EE(r);return new Eo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function EE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends Xn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new sd(e,n,r,i)}}function Sb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(t,s,e,r):s})}async function uM(t,e,n=!1){const r=await fl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Eo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(t,e,n=!1){const{auth:r}=t;if(ur(r.app))return Promise.reject(ai(r));const i="reauthenticate";try{const s=await fl(t,Sb(r,i,e,t),n);oe(s.idToken,r,"internal-error");const o=_y(s.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),Eo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Cn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ib(t,e,n=!1){if(ur(t.app))return Promise.reject(ai(t));const r="signIn",i=await Sb(t,r,e),s=await Eo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function dM(t,e){return Ib(Oo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hM(t){const e=Oo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function fM(t,e,n){return ur(t.app)?Promise.reject(ai(t)):dM(et(t),Lo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&hM(t),r})}function pM(t,e,n,r){return et(t).onIdTokenChanged(e,n,r)}function mM(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function gM(t,e,n,r){return et(t).onAuthStateChanged(e,n,r)}function yM(t){return et(t).signOut()}const od="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(od,"1"),this.storage.removeItem(od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=1e3,_M=10;class Ab extends bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Mj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_M):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},vM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ab.type="LOCAL";const EM=Ab;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb extends bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xb.type="SESSION";const Rb=xb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Xd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await wM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=Sy("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return window}function SM(t){Qn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(){return typeof Qn().WorkerGlobalScope<"u"&&typeof Qn().importScripts=="function"}async function IM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AM(){return Cb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firebaseLocalStorageDb",xM=1,ad="firebaseLocalStorage",kb="fbase_key";class Ll{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zd(t,e){return t.transaction([ad],e?"readwrite":"readonly").objectStore(ad)}function RM(){const t=indexedDB.deleteDatabase(Pb);return new Ll(t).toPromise()}function pm(){const t=indexedDB.open(Pb,xM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ad,{keyPath:kb})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ad)?e(r):(r.close(),await RM(),e(await pm()))})})}async function wE(t,e,n){const r=Zd(t,!0).put({[kb]:e,value:n});return new Ll(r).toPromise()}async function CM(t,e){const n=Zd(t,!1).get(e),r=await new Ll(n).toPromise();return r===void 0?null:r.value}function TE(t,e){const n=Zd(t,!0).delete(e);return new Ll(n).toPromise()}const PM=800,kM=3;class Nb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xd._getInstance(AM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await IM(),!this.activeServiceWorker)return;this.sender=new TM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pm();return await wE(e,od,"1"),await TE(e,od),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>wE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>CM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Zd(i,!1).getAll();return new Ll(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nb.type="LOCAL";const NM=Nb;new Nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t,e){return e?hr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy extends wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,n){return no(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LM(t){return Ib(t.auth,new Iy(t),t.bypassAuthState)}function DM(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),cM(n,new Iy(t),t.bypassAuthState)}async function jM(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),uM(n,new Iy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LM;case"linkViaPopup":case"linkViaRedirect":return jM;case"reauthViaPopup":case"reauthViaRedirect":return DM;default:Cn(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new Nl(2e3,1e4);class $s extends Ob{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=Sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MM.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM="pendingRedirect",rc=new Map;class UM extends Ob{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rc.get(this.auth._key());if(!e){try{const r=await FM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rc.set(this.auth._key(),e)}return this.bypassAuthState||rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FM(t,e){const n=zM(e),r=$M(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function BM(t,e){rc.set(t._key(),e)}function $M(t){return hr(t._redirectPersistence)}function zM(t){return nc(VM,t.config.apiKey,t.name)}async function HM(t,e,n=!1){if(ur(t.app))return Promise.reject(ai(t));const r=Oo(t),i=OM(r,e),o=await new UM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=10*60*1e3;class qM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Lb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KM&&this.cachedEventUids.clear(),this.cachedEventUids.has(SE(e))}saveEventToCache(e){this.cachedEventUids.add(SE(e)),this.lastProcessedEventTime=Date.now()}}function SE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Lb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(t,e={}){return Ii(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YM=/^https?/;async function JM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GM(t);for(const n of e)try{if(XM(n))return}catch{}Cn(t,"unauthorized-domain")}function XM(t){const e=hm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!YM.test(n))return!1;if(QM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=new Nl(3e4,6e4);function IE(){const t=Qn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eV(t){return new Promise((e,n)=>{var r,i,s;function o(){IE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IE(),n(Gn(t,"network-request-failed"))},timeout:ZM.get()})}if(!((i=(r=Qn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Qn().gapi)===null||s===void 0)&&s.load)o();else{const a=qj("iframefcb");return Qn()[a]=()=>{gapi.load?o():n(Gn(t,"network-request-failed"))},_b(`${Kj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw ic=null,e})}let ic=null;function tV(t){return ic=ic||eV(t),ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=new Nl(5e3,15e3),rV="__/auth/iframe",iV="emulator/auth/iframe",sV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aV(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vy(e,iV):`https://${t.config.authDomain}/${rV}`,r={apiKey:e.apiKey,appName:t.name,v:cs},i=oV.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xl(r).slice(1)}`}async function lV(t){const e=await tV(t),n=Qn().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:aV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Gn(t,"network-request-failed"),a=Qn().setTimeout(()=>{s(o)},nV.get());function u(){Qn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cV=500,dV=600,hV="_blank",fV="http://localhost";class bE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pV(t,e,n,r=cV,i=dV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},uV),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ot().toLowerCase();n&&(a=hb(c)?hV:n),cb(c)&&(e=e||fV,u.scrollbars="yes");const d=Object.entries(u).reduce((g,[w,y])=>`${g}${w}=${y},`,"");if(jj(c)&&a!=="_self")return mV(e||"",a),new bE(null);const p=window.open(e||"",a,d);oe(p,t,"popup-blocked");try{p.focus()}catch{}return new bE(p)}function mV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="__/auth/handler",yV="emulator/auth/handler",vV=encodeURIComponent("fac");async function AE(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cs,eventId:i};if(e instanceof Tb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Ol){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${vV}=${encodeURIComponent(u)}`:"";return`${_V(t)}?${xl(a).slice(1)}${c}`}function _V({config:t}){return t.emulator?vy(t,yV):`https://${t.authDomain}/${gV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="webStorageSupport";class EV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rb,this._completeRedirectFn=HM,this._overrideRedirectResult=BM}async _openPopup(e,n,r,i){var s;br((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await AE(e,n,r,hm(),i);return pV(e,o,Sy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await AE(e,n,r,hm(),i);return SM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(br(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lV(e),r=new qM(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pf,{type:pf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[pf];o!==void 0&&n(!!o),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yb()||db()||Ey()}}const wV=EV;var xE="@firebase/auth",RE="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IV(t){ns(new di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vb(t)},c=new $j(r,i,s,u);return Xj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ns(new di("auth-internal",e=>{const n=Oo(e.getProvider("auth").getImmediate());return(r=>new TV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kn(xE,RE,SV(t)),Kn(xE,RE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=5*60,AV=x1("authIdTokenMaxAge")||bV;let CE=null;const xV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AV)return;const i=n==null?void 0:n.token;CE!==i&&(CE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Db(t=Dg()){const e=Ld(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jj(t,{popupRedirectResolver:wV,persistence:[NM,EM,Rb]}),r=x1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=xV(s.toString());mM(n,o,()=>o(n.currentUser)),pM(n,a=>o(a))}}const i=I1("auth");return i&&Zj(n,`http://${i}`),n}function RV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Gn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",RV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IV("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="firebasestorage.googleapis.com",Mb="storageBucket",CV=2*60*1e3,PV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe extends Xn{constructor(e,n,r=0){super(mf(e),`Firebase Storage: ${n} (${mf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ke;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ke||(Ke={}));function mf(t){return"storage/"+t}function by(){const t="An unknown error occurred, please check the error payload for server response.";return new qe(Ke.UNKNOWN,t)}function kV(t){return new qe(Ke.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function NV(t){return new qe(Ke.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OV(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qe(Ke.UNAUTHENTICATED,t)}function LV(){return new qe(Ke.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function DV(t){return new qe(Ke.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function jV(){return new qe(Ke.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MV(){return new qe(Ke.CANCELED,"User canceled the upload/download.")}function VV(t){return new qe(Ke.INVALID_URL,"Invalid URL '"+t+"'.")}function UV(t){return new qe(Ke.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function FV(){return new qe(Ke.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Mb+"' property when initializing the app?")}function BV(){return new qe(Ke.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $V(){return new qe(Ke.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zV(t){return new qe(Ke.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mm(t){return new qe(Ke.INVALID_ARGUMENT,t)}function Vb(){return new qe(Ke.APP_DELETED,"The Firebase app was deleted.")}function HV(t){return new qe(Ke.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ma(t,e){return new qe(Ke.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function la(t){throw new qe(Ke.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=tn.makeFromUrl(e,n)}catch{return new tn(e,"")}if(r.path==="")return r;throw UV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",w=new RegExp(`^https?://${p}/${d}/b/${i}/o${g}`,"i"),y={bucket:1,path:3},v=n===jb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",E=new RegExp(`^https?://${v}/${i}/${I}`,"i"),b=[{regex:a,indices:u,postModify:s},{regex:w,indices:y,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let N=0;N<b.length;N++){const M=b[N],z=M.regex.exec(e);if(z){const A=z[M.indices.bucket];let T=z[M.indices.path];T||(T=""),r=new tn(A,T),M.postModify(r);break}}if(r==null)throw VV(e);return r}}class KV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function d(...I){c||(c=!0,e.apply(null,I))}function p(I){i=setTimeout(()=>{i=null,t(w,u())},I)}function g(){s&&clearTimeout(s)}function w(I,...E){if(c){g();return}if(I){g(),d.call(null,I,...E);return}if(u()||o){g(),d.call(null,I,...E);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,p(b)}let y=!1;function v(I){y||(y=!0,g(),!c&&(i!==null?(I||(a=2),clearTimeout(i),p(0)):I||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function WV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){return t!==void 0}function QV(t){return typeof t=="object"&&!Array.isArray(t)}function Ay(t){return typeof t=="string"||t instanceof String}function PE(t){return xy()&&t instanceof Blob}function xy(){return typeof Blob<"u"}function kE(t,e,n,r){if(r<e)throw mm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw mm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Ub(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Gi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gi||(Gi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n,r,i,s,o,a,u,c,d,p,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,y)=>{this.resolve_=w,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ru(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Gi.NO_ERROR,u=s.getStatus();if(!a||YV(u,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Gi.ABORT;r(!1,new Ru(!1,null,d));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new Ru(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());GV(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=by();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?Vb():MV();o(u)}else{const u=jV();o(u)}};this.canceled_?n(!1,new Ru(!1,null,!0)):this.backoffId_=qV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&WV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ru{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function XV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ZV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function tU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function nU(t,e,n,r,i,s,o=!0){const a=Ub(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return eU(c,e),XV(c,n),ZV(c,s),tU(c,r),new JV(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iU(...t){const e=rU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(xy())return new Blob(t);throw new qe(Ke.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t){if(typeof atob>"u")throw zV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gf{constructor(e,n){this.data=e,this.contentType=n||null}}function aU(t,e){switch(t){case $n.RAW:return new gf(Fb(e));case $n.BASE64:case $n.BASE64URL:return new gf(Bb(t,e));case $n.DATA_URL:return new gf(uU(e),cU(e))}throw by()}function Fb(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function lU(t){let e;try{e=decodeURIComponent(t)}catch{throw Ma($n.DATA_URL,"Malformed data URL.")}return Fb(e)}function Bb(t,e){switch(t){case $n.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Ma(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case $n.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Ma(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=oU(e)}catch(i){throw i.message.includes("polyfill")?i:Ma(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class $b{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ma($n.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=dU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function uU(t){const e=new $b(t);return e.base64?Bb($n.BASE64,e.rest):lU(e.rest)}function cU(t){return new $b(t).contentType}function dU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n){let r=0,i="";PE(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(PE(this.data_)){const r=this.data_,i=sU(r,e,n);return i===null?null:new $r(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new $r(r,!0)}}static getBlob(...e){if(xy()){const n=e.map(r=>r instanceof $r?r.data_:r);return new $r(iU.apply(null,n))}else{const n=e.map(o=>Ay(o)?aU($n.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new $r(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t){let e;try{e=JSON.parse(t)}catch{return null}return QV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function fU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Hb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t,e){return e}class Mt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||pU}}let Cu=null;function mU(t){return!Ay(t)||t.length<2?t:Hb(t)}function Kb(){if(Cu)return Cu;const t=[];t.push(new Mt("bucket")),t.push(new Mt("generation")),t.push(new Mt("metageneration")),t.push(new Mt("name","fullPath",!0));function e(s,o){return mU(o)}const n=new Mt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Mt("size");return i.xform=r,t.push(i),t.push(new Mt("timeCreated")),t.push(new Mt("updated")),t.push(new Mt("md5Hash",null,!0)),t.push(new Mt("cacheControl",null,!0)),t.push(new Mt("contentDisposition",null,!0)),t.push(new Mt("contentEncoding",null,!0)),t.push(new Mt("contentLanguage",null,!0)),t.push(new Mt("contentType",null,!0)),t.push(new Mt("metadata","customMetadata",!0)),Cu=t,Cu}function gU(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new tn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function yU(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return gU(r,t),r}function qb(t,e,n){const r=zb(e);return r===null?null:yU(t,r,n)}function vU(t,e,n,r){const i=zb(e);if(i===null||!Ay(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,p=t.fullPath,g="/b/"+o(d)+"/o/"+o(p),w=Ry(g,n,r),y=Ub({alt:"media",token:c});return w+y})[0]}function _U(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Wb{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t){if(!t)throw by()}function EU(t,e){function n(r,i){const s=qb(t,i,e);return Gb(s!==null),s}return n}function wU(t,e){function n(r,i){const s=qb(t,i,e);return Gb(s!==null),vU(s,i,t.host,t._protocol)}return n}function Qb(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=LV():i=OV():n.getStatus()===402?i=NV(t.bucket):n.getStatus()===403?i=DV(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function TU(t){const e=Qb(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=kV(t.path)),s.serverResponse=i.serverResponse,s}return n}function SU(t,e,n){const r=e.fullServerUrl(),i=Ry(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Wb(i,s,wU(t,n),o);return a.errorHandler=TU(e),a}function IU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function bU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=IU(null,e)),r}function AU(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let N=0;N<2;N++)b=b+Math.random().toString().slice(2);return b}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const c=bU(e,r,i),d=_U(c,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,g=`\r
--`+u+"--",w=$r.getBlob(p,r,g);if(w===null)throw BV();const y={name:c.fullPath},v=Ry(s,t.host,t._protocol),I="POST",E=t.maxUploadRetryTime,S=new Wb(v,I,EU(t,n),E);return S.urlParams=y,S.headers=o,S.body=w.uploadData(),S.errorHandler=Qb(e),S}class xU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw la("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw la("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw la("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw la("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw la("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class RU extends xU{initXhr(){this.xhr_.responseType="text"}}function Yb(){return new RU}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){this._service=e,n instanceof tn?this._location=n:this._location=tn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ss(e,n)}get root(){const e=new tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hb(this._location.path)}get storage(){return this._service}get parent(){const e=hU(this._location.path);if(e===null)return null;const n=new tn(this._location.bucket,e);return new ss(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HV(e)}}function CU(t,e,n){t._throwIfRoot("uploadBytes");const r=AU(t.storage,t._location,Kb(),new $r(e,!0),n);return t.storage.makeRequestWithTokens(r,Yb).then(i=>({metadata:i,ref:t}))}function PU(t){t._throwIfRoot("getDownloadURL");const e=SU(t.storage,t._location,Kb());return t.storage.makeRequestWithTokens(e,Yb).then(n=>{if(n===null)throw $V();return n})}function kU(t,e){const n=fU(t._location.path,e),r=new tn(t._location.bucket,n);return new ss(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){return/^[A-Za-z]+:\/\//.test(t)}function OU(t,e){return new ss(t,e)}function Jb(t,e){if(t instanceof Cy){const n=t;if(n._bucket==null)throw FV();const r=new ss(n,n._bucket);return e!=null?Jb(r,e):r}else return e!==void 0?kU(t,e):t}function LU(t,e){if(e&&NU(e)){if(t instanceof Cy)return OU(t,e);throw mm("To use ref(service, url), the first argument must be a Storage instance.")}else return Jb(t,e)}function NE(t,e){const n=e==null?void 0:e[Mb];return n==null?null:tn.makeFromBucketSpec(n,t)}function DU(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:R1(i,t.app.options.projectId))}class Cy{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=jb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CV,this._maxUploadRetryTime=PV,this._requests=new Set,i!=null?this._bucket=tn.makeFromBucketSpec(i,this._host):this._bucket=NE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=tn.makeFromBucketSpec(this._url,e):this._bucket=NE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ss(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new KV(Vb());{const o=nU(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const OE="@firebase/storage",LE="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="storage";function jU(t,e,n){return t=et(t),CU(t,e,n)}function MU(t){return t=et(t),PU(t)}function VU(t,e){return t=et(t),LU(t,e)}function Zb(t=Dg(),e){t=et(t);const r=Ld(t,Xb).getImmediate({identifier:e}),i=b1("storage");return i&&UU(r,...i),r}function UU(t,e,n,r={}){DU(t,e,n,r)}function FU(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Cy(n,r,i,e,cs)}function BU(){ns(new di(Xb,FU,"PUBLIC").setMultipleInstances(!0)),Kn(OE,LE,""),Kn(OE,LE,"esm2017")}BU();const $U={apiKey:"AIzaSyC69Z9yIw8aGdRt9k4CQp8SuRpH6oJGSGI",authDomain:"webimmo-6189a.firebaseapp.com",projectId:"webimmo-6189a",storageBucket:"webimmo-6189a.firebasestorage.app",messagingSenderId:"487406344453",appId:"1:487406344453:web:38762583c738366c2bbf6c",measurementId:"G-16CV9SZ186"},Py=k1($U),Bi=WD(Py),yf=Db(Py);Zb(Py);const eA="/assets/profile_picture-Dl6-h9h0.jpg";function zU(){const[t,e]=V.useState([]),[n,r]=V.useState(0),[i,s]=V.useState(0),[o,a]=V.useState(0);V.useEffect(()=>{(async()=>{try{const v=(await py(ed(Bi,"houses"))).docs.map(I=>({...I.data(),id:I.id}));e(v)}catch(y){console.error("Erreur lors de la récupération des données :",y)}})()},[]);const u=()=>r(w=>(w+1)%t.length),c=()=>r(w=>(w-1+t.length)%t.length);V.useEffect(()=>{const w=setInterval(u,5e3);return()=>clearInterval(w)},[t.length]);const d=w=>s(w.targetTouches[0].clientX),p=w=>a(w.targetTouches[0].clientX),g=()=>{i-o>50&&u(),i-o<-50&&c()};return f.jsxs("div",{className:"flex flex-col min-h-screen",children:[f.jsxs(Ei,{children:[f.jsx("title",{children:"Accueil | Elise Buil Immobilier Guadeloupe"}),f.jsx("meta",{name:"description",content:"Découvrez les meilleures offres immobilières en Guadeloupe avec Elise Buil. Achat, vente et estimation de biens immobiliers."}),f.jsx("meta",{name:"keywords",content:"Immobilier Guadeloupe, Achat maison Guadeloupe, Vente appartement, Annonces immobilières"}),f.jsx("meta",{name:"author",content:"Elise Buil"}),f.jsx("meta",{property:"og:title",content:"Accueil | Elise Buil Immobilier Guadeloupe"}),f.jsx("meta",{property:"og:description",content:"Découvrez les meilleures offres immobilières en Guadeloupe avec Elise Buil."}),f.jsx("meta",{property:"og:url",content:"https://elisebuilimmobilierguadeloupe.com/"}),f.jsx("meta",{property:"og:type",content:"website"}),f.jsx("link",{rel:"canonical",href:"https://elisebuilimmobilierguadeloupe.com/"})]}),f.jsxs("main",{className:"flex-grow",children:[f.jsxs("section",{className:"py-16 px-4 md:px-8 max-w-5xl mx-auto",children:[f.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"À propos de moi"}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[f.jsx("img",{src:eA,alt:"Elise BUIL",className:"w-64 h-90 rounded-full object-cover"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-lg mb-4",children:"Bien plus qu'un métier, une véritable passion!"}),f.jsx("p",{className:"text-lg mb-4",children:"Riche d’une forte expérience dans le secteur de l’immobilier, je mets mon expertise à votre service pour vous accompagner dans toutes vos démarches liées à la vente de votre bien. Je mets un point d’honneur à développer une véritable relation basée sur l’écoute et le respect de vos besoins."}),f.jsx("p",{className:"text-lg mb-4",children:"Issue d'une formation juridique en droit immobilier, je vous propose un accompagnement spécialisé dans la concrétisation de vos projets immobiliers, notamment en proposant la rédaction du compromis de vente en collaboration avec votre notaire , vous faisant ainsi bénéficier d'un temps précieux."}),f.jsx("p",{className:"text-lg mb-4",children:"Mon service de vente immobilière se distingue par une approche unique alliant expertise juridique et authentique relation d’échanges."}),f.jsxs("p",{className:"text-lg mb-4",children:["N'hésitez pas à prendre contact avec moi pour échanger sur vos projets, je me ferai un plaisir de pouvoir répondre à vos questions.",f.jsx("br",{})," Ensemble, construisons une relation solide et fiable pour mener à bien votre vente immobilière en toute sécurité!              "]}),f.jsx("p",{className:"text-lg",children:"Au plaisir de vous rencontrer,"}),f.jsx("div",{className:"mt-12",children:f.jsx(Xt,{to:"/EliseBUIL",className:"mx-auto inline-block bg-primary text-white text-lg font-medium py-3 px-8 rounded-lg shadow hover:bg-black transition duration-300",children:"Contactez-moi dès aujourd'hui"})})]})]})]}),f.jsx("section",{className:"bg-white",children:f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"overflow-hidden relative",onTouchStart:d,onTouchMove:p,onTouchEnd:g,children:f.jsx("div",{className:"flex transition-transform duration-300 ease-out",style:{transform:`translateX(-${n*100}%)`},children:t.map(w=>f.jsx("div",{className:"w-full flex-shrink-0 relative",children:f.jsxs(Xt,{to:`/house/${w.id}`,className:"block",children:[f.jsx("img",{src:w.principalImage,alt:`Maison ${w.id}`,className:"w-full h-64 md:h-[calc(100vh-64px)] object-cover"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/20 to-black/10"})]})},w.id))})}),t.length>1&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:c,className:"absolute left-4 md:left-8 top-1/2 -translate-y-1/2 bg-white/90 p-3 rounded-full shadow-lg hover:bg-white transition-all duration-300 opacity-0 group-hover:opacity-100","aria-label":"Previous image",children:f.jsx(Ng,{className:"h-8 w-8 text-gray-900 hover:text-blue-600"})}),f.jsx("button",{onClick:u,className:"absolute right-4 md:right-8 top-1/2 -translate-y-1/2 bg-white/90 p-3 rounded-full shadow-lg hover:bg-white transition-all duration-300 opacity-0 group-hover:opacity-100","aria-label":"Next image",children:f.jsx(y1,{className:"h-8 w-8 text-gray-900 hover:text-blue-600"})}),f.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:t.map((w,y)=>f.jsx("button",{onClick:()=>r(y),className:`w-4 h-4 rounded-full transition-all duration-300 ${y===n?"bg-blue-600 scale-125":"bg-white/80 hover:bg-white scale-100"}`},y))})]})]})}),f.jsx("section",{className:"my-12 flex justify-center",children:f.jsx("div",{className:"",children:f.jsx(Xt,{to:"/Acheter",className:"mx-auto inline-block bg-primary text-white text-lg font-medium py-3 px-8 rounded-lg shadow hover:bg-black transition duration-300",children:"Voir tous nos biens"})})})]})]})}const HU=()=>{const t=[{to:"/",label:"Retour à l'accueil",icon:"🏡"},{to:"/Vendre",label:"Vendre votre bien",icon:"🏠"},{to:"/Acheter",label:"Acheter un bien",icon:"🔑"},{to:"/Blog",label:"Découvrir nos actualités",icon:"📰"},{to:"/EliseBUIL",label:"Rencontrer Elise BUIL",icon:"👋"},{to:"/Estimation",label:"Estimer votre bien",icon:"📊"}];return f.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[f.jsxs(Ei,{children:[f.jsx("title",{children:"Page introuvable | Elise Buil Immobilier"}),f.jsx("meta",{name:"description",content:"La page que vous recherchez est introuvable. Retournez à l'accueil ou explorez nos services immobiliers."}),f.jsx("meta",{name:"keywords",content:"404, page introuvable, immobilier Guadeloupe, achat maison, vente appartement"}),f.jsx("meta",{name:"author",content:"Elise Buil"}),f.jsx("link",{rel:"canonical",href:"https://elisebuilimmobilierguadeloupe.com/"})]}),f.jsxs("main",{className:"flex-grow container mx-auto px-4 py-12",children:[f.jsx("p",{className:"text-center",children:"404 - page introuvable"}),f.jsx("br",{}),f.jsx("br",{}),f.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"Où souhaitez-vous aller ?"}),f.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 max-w-4xl mx-auto",children:t.map(e=>f.jsxs(Xt,{to:e.to,className:"flex items-center justify-between p-6 bg-white shadow-md rounded-lg hover:shadow-lg transition-shadow",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"text-2xl mr-4",children:e.icon}),f.jsx("span",{className:"text-lg font-medium",children:e.label})]}),f.jsx(kg,{className:"h-5 w-5 text-gray-400"})]},e.to))})]})]})},ml={_origin:"https://api.emailjs.com"},KU=(t,e="https://api.emailjs.com")=>{ml._userID=t,ml._origin=e},tA=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class DE{constructor(e){this.status=e.status,this.text=e.responseText}}const nA=(t,e,n={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new DE(o);a.status===200||a.text==="OK"?r(a):i(a)}),s.addEventListener("error",({target:o})=>{i(new DE(o))}),s.open("POST",ml._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),qU=(t,e,n,r)=>{const i=r||ml._userID;return tA(i,t,e),nA("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},WU=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},GU=(t,e,n,r)=>{const i=r||ml._userID,s=WU(n);tA(i,t,e);const o=new FormData(s);return o.append("lib_version","3.2.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",i),nA("/api/v1.0/email/send-form",o)},ld={init:KU,send:qU,sendForm:GU};function QU(){const[t,e]=V.useState({name:"",surname:"",phone:"",email:"",project:"",availability:""}),[n,r]=V.useState(!1),i=a=>{const{name:u,value:c}=a.target;e(d=>({...d,[u]:c}))},s=a=>{a.preventDefault(),ld.send("service_ygysf6c","template_tvk3cpa",t,"3Q6blDIxCWaiJ9nvg").then(p=>{console.log("Email sent successfully:",p.text),r(!0)},p=>{console.error("Failed to send email:",p.text)})},o=()=>{r(!1),e({name:"",surname:"",phone:"",email:"",project:"",availability:""})};return f.jsxs("div",{className:"min-h-screen bg-white p-4 flex items-center justify-center",children:[f.jsxs(Ei,{children:[f.jsx("title",{children:"Vendez Votre Bien Immobilier - Obtenez une Estimation Gratuite"}),f.jsx("meta",{name:"description",content:"Obtenez une estimation gratuite de votre bien immobilier et bénéficiez d'un accompagnement complet pour la vente de votre maison ou appartement."}),f.jsx("meta",{name:"keywords",content:"vente immobilier, estimation gratuite, vendre maison, vendre appartement, immobilier France"}),f.jsx("meta",{name:"robots",content:"index, follow"}),f.jsx("meta",{name:"author",content:"Elise Buil"}),f.jsx("link",{rel:"canonical",href:"https://elisebuilimmobilierguadeloupe.com/Vendre"})]}),f.jsxs("div",{className:"w-full max-w-5xl bg-white rounded-xl shadow-lg shadow-primary overflow-hidden flex flex-col lg:flex-row",style:{maxHeight:"95vh"},children:[f.jsxs("div",{className:"lg:w-2/5 p-6 bg-primary text-white flex flex-col justify-center",children:[f.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Vendez Votre Bien"}),f.jsx("p",{className:"text-lg mb-6",children:"Obtenez une estimation gratuite dès aujourd'hui"}),f.jsxs("ul",{className:"space-y-3 text-base",children:[f.jsxs("li",{className:"flex items-center",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Analyse de marché experte"]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Stratégie de vente personnalisée"]}),f.jsxs("li",{className:"flex items-center",children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Accompagnement commercial, administratif et juridique"]})]})]}),n?f.jsx("div",{className:"w-2/4 mx-auto",children:f.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[f.jsx("p",{className:"text-xl text-center mb-6",children:"Merci de votre confiance, nos experts reviennent vers vous d'ici 48 heures maximum"}),f.jsx("button",{onClick:o,className:"w-full max-w-md flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-primary hover:bg-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition duration-150 ease-in-out",children:"Je veux obtenir une autre estimation"})]})}):f.jsxs("form",{onSubmit:s,className:"lg:w-3/5 p-6 space-y-4 overflow-y-auto",children:[f.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-base font-medium text-gray-700 mb-1",children:"Prénom"}),f.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:t.name,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition duration-150 ease-in-out",placeholder:"Jean"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"surname",className:"block text-base font-medium text-gray-700 mb-1",children:"Nom de famille"}),f.jsx("input",{type:"text",id:"surname",name:"surname",required:!0,value:t.surname,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition duration-150 ease-in-out",placeholder:"Dupont"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"phone",className:"block text-base font-medium text-gray-700 mb-1",children:"Numéro de téléphone"}),f.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,value:t.phone,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition duration-150 ease-in-out",placeholder:"06 12 34 56 78"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-base font-medium text-gray-700 mb-1",children:"Email"}),f.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:t.email,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition duration-150 ease-in-out",placeholder:"jean.dupont@exemple.com"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"project",className:"block text-base font-medium text-gray-700 mb-1",children:"Votre Projet Immobilier"}),f.jsx("textarea",{id:"project",name:"project",required:!0,rows:3,value:t.project,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition duration-150 ease-in-out",placeholder:"Décrivez votre projet immobilier (par exemple, vendre une maison de 3 chambres sur Baie-Mahault...)"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"availability",className:"block text-base font-medium text-gray-700 mb-1",children:"Vos Disponibilités"}),f.jsx("textarea",{id:"availability",name:"availability",required:!0,rows:3,value:t.availability,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition duration-150 ease-in-out",placeholder:"Par exemple, en semaine après 17h, week-ends de 9h à 17h"})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-primary hover:bg-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition duration-150 ease-in-out",children:"Obtenez Votre Estimation Gratuite"})})]})]})]})}const YU=()=>{const[t,e]=V.useState(!1),n=()=>e(!t);return f.jsx("header",{className:"sticky top-0 bg-primary p-4 border-b border-gray-200 z-50",children:f.jsxs("nav",{className:"container mx-auto",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("div",{className:"font-bold text-lg",children:f.jsx(Xt,{to:"/",children:"Votre solution clé en main !"})}),f.jsx("button",{onClick:n,className:"md:hidden",children:t?f.jsx(E1,{className:"h-6 w-6"}):f.jsx(yN,{className:"h-6 w-6"})}),f.jsx("div",{className:"hidden md:flex items-center space-x-6",children:f.jsx(jE,{})})]}),t&&f.jsx("div",{className:"md:hidden mt-4 space-y-4",children:f.jsx(jE,{})})]})})},jE=()=>f.jsxs(f.Fragment,{children:[f.jsx(Xt,{to:"/Vendre",className:"block text-black hover:text-red-300",children:"Vendre"}),f.jsx(Xt,{to:"/Acheter",className:"block text-black hover:text-red-300",children:"Acheter"}),f.jsx(Xt,{to:"/Blog",className:"block text-black hover:text-red-300",children:"Actualités"}),f.jsx(Xt,{to:"/EliseBUIL",className:"block text-black hover:text-red-300",children:"Elise BUIL"}),f.jsxs("a",{href:"tel:+590690590565",className:"block text-black hover:text-red-300",children:[f.jsx("span",{className:"md:hidden",children:"Appeler"}),f.jsx("span",{className:"hidden md:inline",children:"+590 690 590 565"}),f.jsx(_N,{className:"inline-block ml-2 h-4 w-4 md:hidden"})]}),f.jsx(Xt,{to:"/Estimation",className:"block bg-black text-white px-4 py-2 rounded-lg font-bold text-center",children:"Estimer votre bien"})]}),JU=()=>{const{id:t}=Mk(),[e,n]=V.useState(null),[r,i]=V.useState(0);V.useEffect(()=>{(async()=>{if(!t)return;const u=td(Bi,"houses",t),c=await cj(u);if(c.exists()){const d={id:c.id,...c.data()};n(d);const p=d.images.indexOf(d.principalImage);i(p>=0?p:0)}else n(null)})()},[t]);const s=()=>{e&&i(a=>(a+1)%e.images.length)},o=()=>{e&&i(a=>(a-1+e.images.length)%e.images.length)};return e?f.jsxs("div",{className:"min-h-screen bg-gray-100 p-4 md:p-8",children:[f.jsxs(Ei,{children:[f.jsx("title",{children:e?`${e.title} | Maison à vendre en Guadeloupe`:"Détails du bien | Immobilier Guadeloupe"}),f.jsx("meta",{name:"description",content:e?`Découvrez cette propriété à ${e.location} : ${e.size} m², ${e.rooms} pièces, ${e.bedrooms} chambres. Prix : ${e.price}. Contactez-nous pour plus d'infos !`:"Trouvez la maison de vos rêves en Guadeloupe avec nos annonces immobilières exclusives."}),f.jsx("meta",{name:"keywords",content:"maison à vendre Guadeloupe, immobilier Guadeloupe, achat maison, maison avec piscine, annonces immobilières"}),f.jsx("meta",{name:"author",content:"Elise Buil"}),f.jsx("link",{rel:"canonical",href:e?`https://elisebuilimmobilierguadeloupe.com/Acheter/${e.id}`:"https://elisebuilimmobilierguadeloupe.com/Acheter"})]}),f.jsx("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:f.jsxs("div",{className:"p-6",children:[f.jsxs(Xt,{to:"/Acheter",className:"inline-flex items-center text-primary hover:text-black mb-4",children:[f.jsx(fN,{className:"w-4 h-4 mr-2"}),"Retour à la liste"]}),f.jsx("h1",{className:"text-3xl font-bold mb-4",children:e.title}),f.jsxs("div",{className:"relative mb-6 group",children:[f.jsx("div",{className:"aspect-w-16 aspect-h-9",children:f.jsx("img",{src:e.images[r]||"/placeholder.svg",alt:e.title,className:"w-full h-96 object-cover rounded-lg transition-opacity duration-300"})}),e.images.length>1&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:o,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow-md hover:bg-white/100 transition-all opacity-0 group-hover:opacity-100",children:f.jsx(Ng,{className:"w-6 h-6"})}),f.jsx("button",{onClick:s,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow-md hover:bg-white/100 transition-all opacity-0 group-hover:opacity-100",children:f.jsx(y1,{className:"w-6 h-6"})}),f.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:e.images.map((a,u)=>f.jsx("button",{onClick:()=>i(u),className:`w-3 h-3 rounded-full transition-all ${u===r?"bg-violet-600":"bg-white/80 hover:bg-white"}`},u))})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Détails de la propriété"}),f.jsxs("ul",{className:"space-y-2",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Prix:"})," ",(()=>{const a=e.price.replace(/[^0-9.-]+/g,""),u=Number(a);return isNaN(u)?"Invalid price":u.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0})})()]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Surface:"})," ",e.size," m²"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Types:"})," ",e.types.join(", ")]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Pièces:"})," ",e.rooms]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Chambres:"})," ",e.bedrooms]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Salles de bain:"})," ",e.bathrooms]}),f.jsxs("li",{children:[f.jsx("strong",{children:"WC:"})," ",e.wc]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Localisation:"})," ",e.location]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Condition:"})," ",e.condition]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Consommation énergétique:"})," ",e.consomation]})]})]}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Annexes"}),f.jsx("ul",{className:"space-y-2",children:e.amenities.map((a,u)=>f.jsx("li",{className:"inline-block bg-gray-100 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2",children:a},u))})]})]}),f.jsxs("div",{className:"mt-6",children:[f.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Description"}),f.jsx("p",{className:"text-gray-700",children:e.description})]})]})})]}):f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Chargement..."})},XU=Db();console.log("Current user:",XU.currentUser);function ZU(){const[t,e]=V.useState([]),[n,r]=V.useState([]),[i,s]=V.useState({location:"",maxPrice:1e8,minSize:0,propertyTypes:[],rooms:"0",bedrooms:"0",bathrooms:"0",amenities:[],condition:"disponible"}),[o,a]=V.useState(!1);V.useEffect(()=>{(async()=>{const I=ed(Bi,"houses"),S=(await py(I)).docs.map(b=>({...b.data(),id:b.id}));e(S)})()},[]),V.useEffect(()=>{const v=t.filter(I=>(i.condition==="all"||I.condition===i.condition)&&parseInt(I.price)<=i.maxPrice&&parseInt(I.size)>=i.minSize&&(i.propertyTypes.length===0||Array.isArray(I.types)&&I.types.some(E=>i.propertyTypes.includes(E)))&&parseInt(I.rooms)>=parseInt(i.rooms)&&parseInt(I.bedrooms)>=parseInt(i.bedrooms)&&parseInt(I.bathrooms)>=parseInt(i.bathrooms)&&(i.amenities.length===0||i.amenities.every(E=>I.amenities.includes(E)))&&(i.location===""||I.location.toLowerCase().includes(i.location.toLowerCase())));r(v)},[t,i]);const u=v=>{const{name:I,value:E}=v.target;s(S=>({...S,[I]:I==="maxPrice"||I==="minSize"?parseInt(E):E}))},c=(v,I)=>{s(E=>({...E,[v]:Array.isArray(E[v])?E[v].includes(I)?E[v].filter(S=>S!==I):[...E[v],I]:E[v]}))},d=v=>{switch(v){case"vendu":return"bg-red-500 text-white";case"sous compromis":return"bg-yellow-500 text-black";default:return"bg-green-500 text-white"}},p=v=>{switch(v){case"vendu":return"VENDU";case"sous compromis":return"SOUS COMPROMIS";default:return"DISPONIBLE"}},g=[{value:"appartement",label:"Appartement"},{value:"maison",label:"Maison"},{value:"local commercial",label:"Local commercial"},{value:"terrain",label:"Terrain"}],w=[{value:"piscine",label:"Piscine"},{value:"parking",label:"Parking"},{value:"cave",label:"Cave"},{value:"belle vue",label:"Belle vue"},{value:"ascenseur",label:"Ascenseur"}],y=["all","disponible","sous compromis","vendu"];return f.jsxs("div",{className:"min-h-screen bg-white p-4 md:p-8",children:[f.jsxs(Ei,{children:[f.jsx("title",{children:"Biens Disponibles à la Vente - Votre Agence Immobilière"}),f.jsx("meta",{name:"description",content:"Découvrez tous nos biens immobiliers disponibles à la vente. Trouvez la maison ou l'appartement idéal selon vos critères de recherche."}),f.jsx("meta",{name:"keywords",content:"immobilier, achat maison, achat appartement, biens à vendre, immobilier France"}),f.jsx("meta",{name:"robots",content:"index, follow"}),f.jsx("meta",{name:"author",content:"Elise Buil"}),f.jsx("link",{rel:"canonical",href:"https://elisebuilimmobilierguadeloupe.com/Acheter"})]}),f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold",children:"Disponible à la vente"}),f.jsxs("button",{onClick:()=>a(!o),className:"bg-primary text-white py-2 px-4 rounded-lg text-sm font-semibold hover:bg-black transition-colors duration-200 flex items-center",children:[o?f.jsx(E1,{className:"mr-2"}):f.jsx(wN,{className:"mr-2"}),o?"Fermer les filtres":"Afficher les filtres"]})]}),f.jsx("div",{className:"flex justify-center space-x-4 mb-6",children:y.map(v=>f.jsx("button",{onClick:()=>s(I=>({...I,condition:v})),className:`py-2 px-4 rounded-lg text-sm font-semibold transition-colors duration-200 ${i.condition===v?"bg-primary text-black":"bg-gray-200 text-gray-700 hover:bg-gray-300 border border-primary"}`,children:v==="all"?"Tous":v.charAt(0).toUpperCase()+v.slice(1)},v))}),o&&f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Localisation"}),f.jsx("input",{id:"location",name:"location",type:"text",value:i.location,onChange:u,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"maxPrice",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix Maximum"}),f.jsx("input",{id:"maxPrice",name:"maxPrice",type:"number",value:i.maxPrice,onChange:u,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"minSize",className:"block text-sm font-medium text-gray-700 mb-1",children:"Surface Minimum (m²)"}),f.jsx("input",{id:"minSize",name:"minSize",type:"number",value:i.minSize,onChange:u,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de Propriété"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(v=>f.jsx("button",{type:"button",onClick:()=>c("propertyTypes",v.value),className:`py-1 px-3 rounded-full text-xs font-medium transition-colors duration-200 ${i.propertyTypes.includes(v.value)?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v.label},v.value))})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"rooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de Pièces minimum"}),f.jsx("select",{id:"rooms",name:"rooms",value:i.rooms,onChange:u,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none",children:[1,2,3,4,5,"6+"].map(v=>f.jsxs("option",{value:v.toString(),children:[v," ",v===1?"pièce":"pièces"]},v))})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de chambres minimum"}),f.jsx("select",{id:"bedrooms",name:"bedrooms",value:i.bedrooms,onChange:u,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none",children:[1,2,3,4,5,"6+"].map(v=>f.jsxs("option",{value:v.toString(),children:[v," ",v===1?"chambre":"chambres"]},v))})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de salles de bain minimum"}),f.jsx("select",{id:"bathrooms",name:"bathrooms",value:i.bathrooms,onChange:u,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none",children:[1,2,3,4,"5+"].map(v=>f.jsxs("option",{value:v.toString(),children:[v," ",v===1?"salle de bain":"salles de bain"]},v))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Annexes"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(v=>f.jsx("button",{type:"button",onClick:()=>c("amenities",v.value),className:`py-1 px-3 rounded-full text-xs font-medium transition-colors duration-200 ${i.amenities.includes(v.value)?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v.label},v.value))})]})]}),n.length===0?f.jsx("p",{children:"Aucune propriété ne correspond à vos critères."}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(v=>f.jsxs(Xt,{to:`/house/${v.id}`,className:"bg-white rounded-lg shadow-md shadow-primary overflow-hidden hover:shadow-lg hover:shadow-black transition-shadow duration-300",children:[f.jsx("div",{className:"relative",children:f.jsx("img",{src:v.principalImage,alt:v.title,className:"w-full h-48 object-cover"})}),f.jsxs("div",{className:"p-4",children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:v.title}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("p",{className:"text-gray-600",children:v.location}),f.jsx("div",{className:`m-1 px-2 py-1 rounded-full text-xs font-bold ${d(v.condition)}`,children:p(v.condition)})]}),f.jsx("p",{className:"text-electrique font-bold mb-2",children:(()=>{const I=v.price.replace(/[^0-9.-]+/g,""),E=Number(I);return isNaN(E)?"Invalid price":E.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0})})()}),f.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[f.jsxs("span",{children:[v.size," m²"]}),f.jsxs("span",{children:[v.rooms," pièces"]}),f.jsxs("span",{children:[v.bedrooms," ch."]}),f.jsxs("span",{children:[v.bathrooms," sdb."]})]}),f.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:v.amenities.map(I=>f.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded",children:I},I))})]})]},v.id))})]})]})}function rA(t,e){return function(){return t.apply(e,arguments)}}const{toString:e4}=Object.prototype,{getPrototypeOf:ky}=Object,eh=(t=>e=>{const n=e4.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pn=t=>(t=t.toLowerCase(),e=>eh(e)===t),th=t=>e=>typeof e===t,{isArray:Do}=Array,gl=th("undefined");function t4(t){return t!==null&&!gl(t)&&t.constructor!==null&&!gl(t.constructor)&&sn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const iA=Pn("ArrayBuffer");function n4(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&iA(t.buffer),e}const r4=th("string"),sn=th("function"),sA=th("number"),nh=t=>t!==null&&typeof t=="object",i4=t=>t===!0||t===!1,sc=t=>{if(eh(t)!=="object")return!1;const e=ky(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},s4=Pn("Date"),o4=Pn("File"),a4=Pn("Blob"),l4=Pn("FileList"),u4=t=>nh(t)&&sn(t.pipe),c4=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||sn(t.append)&&((e=eh(t))==="formdata"||e==="object"&&sn(t.toString)&&t.toString()==="[object FormData]"))},d4=Pn("URLSearchParams"),[h4,f4,p4,m4]=["ReadableStream","Request","Response","Headers"].map(Pn),g4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dl(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Do(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function oA(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const $i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,aA=t=>!gl(t)&&t!==$i;function gm(){const{caseless:t}=aA(this)&&this||{},e={},n=(r,i)=>{const s=t&&oA(e,i)||i;sc(e[s])&&sc(r)?e[s]=gm(e[s],r):sc(r)?e[s]=gm({},r):Do(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Dl(arguments[r],n);return e}const y4=(t,e,n,{allOwnKeys:r}={})=>(Dl(e,(i,s)=>{n&&sn(i)?t[s]=rA(i,n):t[s]=i},{allOwnKeys:r}),t),v4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_4=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},E4=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&ky(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},w4=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},T4=t=>{if(!t)return null;if(Do(t))return t;let e=t.length;if(!sA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},S4=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ky(Uint8Array)),I4=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},b4=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},A4=Pn("HTMLFormElement"),x4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ME=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),R4=Pn("RegExp"),lA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Dl(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},C4=t=>{lA(t,(e,n)=>{if(sn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(sn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},P4=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Do(t)?r(t):r(String(t).split(e)),n},k4=()=>{},N4=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,vf="abcdefghijklmnopqrstuvwxyz",VE="0123456789",uA={DIGIT:VE,ALPHA:vf,ALPHA_DIGIT:vf+vf.toUpperCase()+VE},O4=(t=16,e=uA.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function L4(t){return!!(t&&sn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const D4=t=>{const e=new Array(10),n=(r,i)=>{if(nh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Do(r)?[]:{};return Dl(r,(o,a)=>{const u=n(o,i+1);!gl(u)&&(s[a]=u)}),e[i]=void 0,s}}return r};return n(t,0)},j4=Pn("AsyncFunction"),M4=t=>t&&(nh(t)||sn(t))&&sn(t.then)&&sn(t.catch),cA=((t,e)=>t?setImmediate:e?((n,r)=>($i.addEventListener("message",({source:i,data:s})=>{i===$i&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),$i.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",sn($i.postMessage)),V4=typeof queueMicrotask<"u"?queueMicrotask.bind($i):typeof process<"u"&&process.nextTick||cA,j={isArray:Do,isArrayBuffer:iA,isBuffer:t4,isFormData:c4,isArrayBufferView:n4,isString:r4,isNumber:sA,isBoolean:i4,isObject:nh,isPlainObject:sc,isReadableStream:h4,isRequest:f4,isResponse:p4,isHeaders:m4,isUndefined:gl,isDate:s4,isFile:o4,isBlob:a4,isRegExp:R4,isFunction:sn,isStream:u4,isURLSearchParams:d4,isTypedArray:S4,isFileList:l4,forEach:Dl,merge:gm,extend:y4,trim:g4,stripBOM:v4,inherits:_4,toFlatObject:E4,kindOf:eh,kindOfTest:Pn,endsWith:w4,toArray:T4,forEachEntry:I4,matchAll:b4,isHTMLForm:A4,hasOwnProperty:ME,hasOwnProp:ME,reduceDescriptors:lA,freezeMethods:C4,toObjectSet:P4,toCamelCase:x4,noop:k4,toFiniteNumber:N4,findKey:oA,global:$i,isContextDefined:aA,ALPHABET:uA,generateString:O4,isSpecCompliantForm:L4,toJSONObject:D4,isAsyncFn:j4,isThenable:M4,setImmediate:cA,asap:V4};function de(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}j.inherits(de,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const dA=de.prototype,hA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{hA[t]={value:t}});Object.defineProperties(de,hA);Object.defineProperty(dA,"isAxiosError",{value:!0});de.from=(t,e,n,r,i,s)=>{const o=Object.create(dA);return j.toFlatObject(t,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),de.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const U4=null;function ym(t){return j.isPlainObject(t)||j.isArray(t)}function fA(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function UE(t,e,n){return t?t.concat(e).map(function(i,s){return i=fA(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function F4(t){return j.isArray(t)&&!t.some(ym)}const B4=j.toFlatObject(j,{},null,function(e){return/^is[A-Z]/.test(e)});function rh(t,e,n){if(!j.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=j.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,I){return!j.isUndefined(I[v])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(e);if(!j.isFunction(i))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(j.isDate(y))return y.toISOString();if(!u&&j.isBlob(y))throw new de("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(y)||j.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,v,I){let E=y;if(y&&!I&&typeof y=="object"){if(j.endsWith(v,"{}"))v=r?v:v.slice(0,-2),y=JSON.stringify(y);else if(j.isArray(y)&&F4(y)||(j.isFileList(y)||j.endsWith(v,"[]"))&&(E=j.toArray(y)))return v=fA(v),E.forEach(function(b,N){!(j.isUndefined(b)||b===null)&&e.append(o===!0?UE([v],N,s):o===null?v:v+"[]",c(b))}),!1}return ym(y)?!0:(e.append(UE(I,v,s),c(y)),!1)}const p=[],g=Object.assign(B4,{defaultVisitor:d,convertValue:c,isVisitable:ym});function w(y,v){if(!j.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));p.push(y),j.forEach(y,function(E,S){(!(j.isUndefined(E)||E===null)&&i.call(e,E,j.isString(S)?S.trim():S,v,g))===!0&&w(E,v?v.concat(S):[S])}),p.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return w(t),e}function FE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ny(t,e){this._pairs=[],t&&rh(t,this,e)}const pA=Ny.prototype;pA.append=function(e,n){this._pairs.push([e,n])};pA.toString=function(e){const n=e?function(r){return e.call(this,r,FE)}:FE;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function $4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mA(t,e,n){if(!e)return t;const r=n&&n.encode||$4;j.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=j.isURLSearchParams(e)?e.toString():new Ny(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class BE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){j.forEach(this.handlers,function(r){r!==null&&e(r)})}}const gA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},z4=typeof URLSearchParams<"u"?URLSearchParams:Ny,H4=typeof FormData<"u"?FormData:null,K4=typeof Blob<"u"?Blob:null,q4={isBrowser:!0,classes:{URLSearchParams:z4,FormData:H4,Blob:K4},protocols:["http","https","file","blob","url","data"]},Oy=typeof window<"u"&&typeof document<"u",vm=typeof navigator=="object"&&navigator||void 0,W4=Oy&&(!vm||["ReactNative","NativeScript","NS"].indexOf(vm.product)<0),G4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Q4=Oy&&window.location.href||"http://localhost",Y4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Oy,hasStandardBrowserEnv:W4,hasStandardBrowserWebWorkerEnv:G4,navigator:vm,origin:Q4},Symbol.toStringTag,{value:"Module"})),kt={...Y4,...q4};function J4(t,e){return rh(t,new kt.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return kt.isNode&&j.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function X4(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Z4(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function yA(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=s>=n.length;return o=!o&&j.isArray(i)?i.length:o,u?(j.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!j.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&j.isArray(i[o])&&(i[o]=Z4(i[o])),!a)}if(j.isFormData(t)&&j.isFunction(t.entries)){const n={};return j.forEachEntry(t,(r,i)=>{e(X4(r),i,n,0)}),n}return null}function eF(t,e,n){if(j.isString(t))try{return(e||JSON.parse)(t),j.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const jl={transitional:gA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=j.isObject(e);if(s&&j.isHTMLForm(e)&&(e=new FormData(e)),j.isFormData(e))return i?JSON.stringify(yA(e)):e;if(j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e)||j.isReadableStream(e))return e;if(j.isArrayBufferView(e))return e.buffer;if(j.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return J4(e,this.formSerializer).toString();if((a=j.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return rh(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),eF(e)):e}],transformResponse:[function(e){const n=this.transitional||jl.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(j.isResponse(e)||j.isReadableStream(e))return e;if(e&&j.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?de.from(a,de.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kt.classes.FormData,Blob:kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{jl.headers[t]={}});const tF=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nF=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&tF[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},$E=Symbol("internals");function ua(t){return t&&String(t).trim().toLowerCase()}function oc(t){return t===!1||t==null?t:j.isArray(t)?t.map(oc):String(t)}function rF(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const iF=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function _f(t,e,n,r,i){if(j.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!j.isString(e)){if(j.isString(r))return e.indexOf(r)!==-1;if(j.isRegExp(r))return r.test(e)}}function sF(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function oF(t,e){const n=j.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Gt=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,u,c){const d=ua(u);if(!d)throw new Error("header name must be a non-empty string");const p=j.findKey(i,d);(!p||i[p]===void 0||c===!0||c===void 0&&i[p]!==!1)&&(i[p||u]=oc(a))}const o=(a,u)=>j.forEach(a,(c,d)=>s(c,d,u));if(j.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(j.isString(e)&&(e=e.trim())&&!iF(e))o(nF(e),n);else if(j.isHeaders(e))for(const[a,u]of e.entries())s(u,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=ua(e),e){const r=j.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return rF(i);if(j.isFunction(n))return n.call(this,i,r);if(j.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ua(e),e){const r=j.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||_f(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=ua(o),o){const a=j.findKey(r,o);a&&(!n||_f(r,r[a],a,n))&&(delete r[a],i=!0)}}return j.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||_f(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return j.forEach(this,(i,s)=>{const o=j.findKey(r,s);if(o){n[o]=oc(i),delete n[s];return}const a=e?sF(s):String(s).trim();a!==s&&delete n[s],n[a]=oc(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return j.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&j.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[$E]=this[$E]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=ua(o);r[a]||(oF(i,o),r[a]=!0)}return j.isArray(e)?e.forEach(s):s(e),this}};Gt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(Gt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});j.freezeMethods(Gt);function Ef(t,e){const n=this||jl,r=e||n,i=Gt.from(r.headers);let s=r.data;return j.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function vA(t){return!!(t&&t.__CANCEL__)}function jo(t,e,n){de.call(this,t??"canceled",de.ERR_CANCELED,e,n),this.name="CanceledError"}j.inherits(jo,de,{__CANCEL__:!0});function _A(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new de("Request failed with status code "+n.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function aF(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function lF(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),d=r[s];o||(o=c),n[i]=u,r[i]=c;let p=s,g=0;for(;p!==i;)g+=n[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const w=d&&c-d;return w?Math.round(g*1e3/w):void 0}}function uF(t,e){let n=0,r=1e3/e,i,s;const o=(c,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),p=d-n;p>=r?o(c,d):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const ud=(t,e,n=3)=>{let r=0;const i=lF(50,250);return uF(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,u=o-r,c=i(u),d=o<=a;r=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(p)},n)},zE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},HE=t=>(...e)=>j.asap(()=>t(...e)),cF=kt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,kt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(kt.origin),kt.navigator&&/(msie|trident)/i.test(kt.navigator.userAgent)):()=>!0,dF=kt.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];j.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),j.isString(r)&&o.push("path="+r),j.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function hF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function fF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function EA(t,e){return t&&!hF(e)?fF(t,e):e}const KE=t=>t instanceof Gt?{...t}:t;function os(t,e){e=e||{};const n={};function r(c,d,p,g){return j.isPlainObject(c)&&j.isPlainObject(d)?j.merge.call({caseless:g},c,d):j.isPlainObject(d)?j.merge({},d):j.isArray(d)?d.slice():d}function i(c,d,p,g){if(j.isUndefined(d)){if(!j.isUndefined(c))return r(void 0,c,p,g)}else return r(c,d,p,g)}function s(c,d){if(!j.isUndefined(d))return r(void 0,d)}function o(c,d){if(j.isUndefined(d)){if(!j.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,p){if(p in e)return r(c,d);if(p in t)return r(void 0,c)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,p)=>i(KE(c),KE(d),p,!0)};return j.forEach(Object.keys(Object.assign({},t,e)),function(d){const p=u[d]||i,g=p(t[d],e[d],d);j.isUndefined(g)&&p!==a||(n[d]=g)}),n}const wA=t=>{const e=os({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Gt.from(o),e.url=mA(EA(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let u;if(j.isFormData(n)){if(kt.hasStandardBrowserEnv||kt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[c,...d]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(kt.hasStandardBrowserEnv&&(r&&j.isFunction(r)&&(r=r(e)),r||r!==!1&&cF(e.url))){const c=i&&s&&dF.read(s);c&&o.set(i,c)}return e},pF=typeof XMLHttpRequest<"u",mF=pF&&function(t){return new Promise(function(n,r){const i=wA(t);let s=i.data;const o=Gt.from(i.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:c}=i,d,p,g,w,y;function v(){w&&w(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function E(){if(!I)return;const b=Gt.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:b,config:t,request:I};_A(function(A){n(A),v()},function(A){r(A),v()},M),I=null}"onloadend"in I?I.onloadend=E:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(E)},I.onabort=function(){I&&(r(new de("Request aborted",de.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new de("Network Error",de.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const M=i.transitional||gA;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),r(new de(N,M.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,t,I)),I=null},s===void 0&&o.setContentType(null),"setRequestHeader"in I&&j.forEach(o.toJSON(),function(N,M){I.setRequestHeader(M,N)}),j.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),a&&a!=="json"&&(I.responseType=i.responseType),c&&([g,y]=ud(c,!0),I.addEventListener("progress",g)),u&&I.upload&&([p,w]=ud(u),I.upload.addEventListener("progress",p),I.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(d=b=>{I&&(r(!b||b.type?new jo(null,t,I):b),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const S=aF(i.url);if(S&&kt.protocols.indexOf(S)===-1){r(new de("Unsupported protocol "+S+":",de.ERR_BAD_REQUEST,t));return}I.send(s||null)})},gF=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof de?d:new jo(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new de(`timeout ${e} of ms exceeded`,de.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>j.asap(a),u}},yF=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},vF=async function*(t,e){for await(const n of _F(t))yield*yF(n,e)},_F=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},qE=(t,e,n,r)=>{const i=vF(t,e);let s=0,o,a=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await i.next();if(c){a(),u.close();return}let p=d.byteLength;if(n){let g=s+=p;n(g)}u.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(u){return a(u),i.return()}},{highWaterMark:2})},ih=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",TA=ih&&typeof ReadableStream=="function",EF=ih&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),SA=(t,...e)=>{try{return!!t(...e)}catch{return!1}},wF=TA&&SA(()=>{let t=!1;const e=new Request(kt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),WE=64*1024,_m=TA&&SA(()=>j.isReadableStream(new Response("").body)),cd={stream:_m&&(t=>t.body)};ih&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!cd[e]&&(cd[e]=j.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new de(`Response type '${e}' is not supported`,de.ERR_NOT_SUPPORT,r)})})})(new Response);const TF=async t=>{if(t==null)return 0;if(j.isBlob(t))return t.size;if(j.isSpecCompliantForm(t))return(await new Request(kt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(j.isArrayBufferView(t)||j.isArrayBuffer(t))return t.byteLength;if(j.isURLSearchParams(t)&&(t=t+""),j.isString(t))return(await EF(t)).byteLength},SF=async(t,e)=>{const n=j.toFiniteNumber(t.getContentLength());return n??TF(e)},IF=ih&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:u,responseType:c,headers:d,withCredentials:p="same-origin",fetchOptions:g}=wA(t);c=c?(c+"").toLowerCase():"text";let w=gF([i,s&&s.toAbortSignal()],o),y;const v=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let I;try{if(u&&wF&&n!=="get"&&n!=="head"&&(I=await SF(d,r))!==0){let M=new Request(e,{method:"POST",body:r,duplex:"half"}),z;if(j.isFormData(r)&&(z=M.headers.get("content-type"))&&d.setContentType(z),M.body){const[A,T]=zE(I,ud(HE(u)));r=qE(M.body,WE,A,T)}}j.isString(p)||(p=p?"include":"omit");const E="credentials"in Request.prototype;y=new Request(e,{...g,signal:w,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:E?p:void 0});let S=await fetch(y);const b=_m&&(c==="stream"||c==="response");if(_m&&(a||b&&v)){const M={};["status","statusText","headers"].forEach(x=>{M[x]=S[x]});const z=j.toFiniteNumber(S.headers.get("content-length")),[A,T]=a&&zE(z,ud(HE(a),!0))||[];S=new Response(qE(S.body,WE,A,()=>{T&&T(),v&&v()}),M)}c=c||"text";let N=await cd[j.findKey(cd,c)||"text"](S,t);return!b&&v&&v(),await new Promise((M,z)=>{_A(M,z,{data:N,headers:Gt.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:y})})}catch(E){throw v&&v(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new de("Network Error",de.ERR_NETWORK,t,y),{cause:E.cause||E}):de.from(E,E&&E.code,t,y)}}),Em={http:U4,xhr:mF,fetch:IF};j.forEach(Em,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const GE=t=>`- ${t}`,bF=t=>j.isFunction(t)||t===null||t===!1,IA={getAdapter:t=>{t=j.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!bF(n)&&(r=Em[(o=String(n)).toLowerCase()],r===void 0))throw new de(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(GE).join(`
`):" "+GE(s[0]):"as no adapter specified";throw new de("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Em};function wf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new jo(null,t)}function QE(t){return wf(t),t.headers=Gt.from(t.headers),t.data=Ef.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),IA.getAdapter(t.adapter||jl.adapter)(t).then(function(r){return wf(t),r.data=Ef.call(t,t.transformResponse,r),r.headers=Gt.from(r.headers),r},function(r){return vA(r)||(wf(t),r&&r.response&&(r.response.data=Ef.call(t,t.transformResponse,r.response),r.response.headers=Gt.from(r.response.headers))),Promise.reject(r)})}const bA="1.7.9",sh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{sh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const YE={};sh.transitional=function(e,n,r){function i(s,o){return"[Axios v"+bA+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new de(i(o," has been removed"+(n?" in "+n:"")),de.ERR_DEPRECATED);return n&&!YE[o]&&(YE[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};sh.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function AF(t,e,n){if(typeof t!="object")throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],u=a===void 0||o(a,s,t);if(u!==!0)throw new de("option "+s+" must be "+u,de.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new de("Unknown option "+s,de.ERR_BAD_OPTION)}}const ac={assertOptions:AF,validators:sh},Nn=ac.validators;let Qi=class{constructor(e){this.defaults=e,this.interceptors={request:new BE,response:new BE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=os(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&ac.assertOptions(r,{silentJSONParsing:Nn.transitional(Nn.boolean),forcedJSONParsing:Nn.transitional(Nn.boolean),clarifyTimeoutError:Nn.transitional(Nn.boolean)},!1),i!=null&&(j.isFunction(i)?n.paramsSerializer={serialize:i}:ac.assertOptions(i,{encode:Nn.function,serialize:Nn.function},!0)),ac.assertOptions(n,{baseUrl:Nn.spelling("baseURL"),withXsrfToken:Nn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&j.merge(s.common,s[n.method]);s&&j.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=Gt.concat(o,s);const a=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(u=u&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let d,p=0,g;if(!u){const y=[QE.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,c),g=y.length,d=Promise.resolve(n);p<g;)d=d.then(y[p++],y[p++]);return d}g=a.length;let w=n;for(p=0;p<g;){const y=a[p++],v=a[p++];try{w=y(w)}catch(I){v.call(this,I);break}}try{d=QE.call(this,w)}catch(y){return Promise.reject(y)}for(p=0,g=c.length;p<g;)d=d.then(c[p++],c[p++]);return d}getUri(e){e=os(this.defaults,e);const n=EA(e.baseURL,e.url);return mA(n,e.params,e.paramsSerializer)}};j.forEach(["delete","get","head","options"],function(e){Qi.prototype[e]=function(n,r){return this.request(os(r||{},{method:e,url:n,data:(r||{}).data}))}});j.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(os(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Qi.prototype[e]=n(),Qi.prototype[e+"Form"]=n(!0)});let xF=class AA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new jo(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new AA(function(i){e=i}),cancel:e}}};function RF(t){return function(n){return t.apply(null,n)}}function CF(t){return j.isObject(t)&&t.isAxiosError===!0}const wm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wm).forEach(([t,e])=>{wm[e]=t});function xA(t){const e=new Qi(t),n=rA(Qi.prototype.request,e);return j.extend(n,Qi.prototype,e,{allOwnKeys:!0}),j.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return xA(os(t,i))},n}const Qe=xA(jl);Qe.Axios=Qi;Qe.CanceledError=jo;Qe.CancelToken=xF;Qe.isCancel=vA;Qe.VERSION=bA;Qe.toFormData=rh;Qe.AxiosError=de;Qe.Cancel=Qe.CanceledError;Qe.all=function(e){return Promise.all(e)};Qe.spread=RF;Qe.isAxiosError=CF;Qe.mergeConfig=os;Qe.AxiosHeaders=Gt;Qe.formToJSON=t=>yA(j.isHTMLForm(t)?new FormData(t):t);Qe.getAdapter=IA.getAdapter;Qe.HttpStatusCode=wm;Qe.default=Qe;const{Axios:l5,AxiosError:u5,CanceledError:c5,isCancel:d5,CancelToken:h5,VERSION:f5,all:p5,Cancel:m5,isAxiosError:g5,spread:y5,toFormData:v5,AxiosHeaders:_5,HttpStatusCode:E5,formToJSON:w5,getAdapter:T5,mergeConfig:S5}=Qe;var PF=Function.prototype.toString,Tf=Object.create,kF=Object.prototype.toString,NF=function(){function t(){this._keys=[],this._values=[]}return t.prototype.has=function(e){return!!~this._keys.indexOf(e)},t.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},t.prototype.set=function(e,n){this._keys.push(e),this._values.push(n)},t}();function OF(){return new NF}function LF(){return new WeakMap}var DF=typeof WeakMap<"u"?LF:OF;function Ly(t){if(!t)return Tf(null);var e=t.constructor;if(e===Object)return t===Object.prototype?{}:Tf(t);if(e&&~PF.call(e).indexOf("[native code]"))try{return new e}catch{}return Tf(t)}function jF(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}function MF(t){return t.flags}var VF=/test/g.flags==="g"?MF:jF;function RA(t){var e=kF.call(t);return e.substring(8,e.length-1)}function UF(t){return t[Symbol.toStringTag]||RA(t)}var FF=typeof Symbol<"u"?UF:RA,BF=Object.defineProperty,$F=Object.getOwnPropertyDescriptor,CA=Object.getOwnPropertyNames,Dy=Object.getOwnPropertySymbols,PA=Object.prototype,kA=PA.hasOwnProperty,zF=PA.propertyIsEnumerable,NA=typeof Dy=="function";function HF(t){return CA(t).concat(Dy(t))}var KF=NA?HF:CA;function oh(t,e,n){for(var r=KF(t),i=0,s=r.length,o=void 0,a=void 0;i<s;++i)if(o=r[i],!(o==="callee"||o==="caller")){if(a=$F(t,o),!a){e[o]=n.copier(t[o],n);continue}!a.get&&!a.set&&(a.value=n.copier(a.value,n));try{BF(e,o,a)}catch{e[o]=a.value}}return e}function qF(t,e){var n=new e.Constructor;e.cache.set(t,n);for(var r=0,i=t.length;r<i;++r)n[r]=e.copier(t[r],e);return n}function WF(t,e){var n=new e.Constructor;return e.cache.set(t,n),oh(t,n,e)}function OA(t,e){return t.slice(0)}function GF(t,e){return t.slice(0,t.size,t.type)}function QF(t,e){return new e.Constructor(OA(t.buffer))}function YF(t,e){return new e.Constructor(t.getTime())}function LA(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r,i){n.set(i,e.copier(r,e))}),n}function JF(t,e){return oh(t,LA(t,e),e)}function XF(t,e){var n=Ly(e.prototype);e.cache.set(t,n);for(var r in t)kA.call(t,r)&&(n[r]=e.copier(t[r],e));return n}function ZF(t,e){var n=Ly(e.prototype);e.cache.set(t,n);for(var r in t)kA.call(t,r)&&(n[r]=e.copier(t[r],e));for(var i=Dy(t),s=0,o=i.length,a=void 0;s<o;++s)a=i[s],zF.call(t,a)&&(n[a]=e.copier(t[a],e));return n}var eB=NA?ZF:XF;function tB(t,e){var n=Ly(e.prototype);return e.cache.set(t,n),oh(t,n,e)}function Sf(t,e){return new e.Constructor(t.valueOf())}function nB(t,e){var n=new e.Constructor(t.source,VF(t));return n.lastIndex=t.lastIndex,n}function lc(t,e){return t}function DA(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r){n.add(e.copier(r,e))}),n}function rB(t,e){return oh(t,DA(t,e),e)}var iB=Array.isArray,jy=Object.assign,sB=Object.getPrototypeOf||function(t){return t.__proto__},jA={array:qF,arrayBuffer:OA,blob:GF,dataView:QF,date:YF,error:lc,map:LA,object:eB,regExp:nB,set:DA},oB=jy({},jA,{array:WF,map:JF,object:tB,set:rB});function aB(t){return{Arguments:t.object,Array:t.array,ArrayBuffer:t.arrayBuffer,Blob:t.blob,Boolean:Sf,DataView:t.dataView,Date:t.date,Error:t.error,Float32Array:t.arrayBuffer,Float64Array:t.arrayBuffer,Int8Array:t.arrayBuffer,Int16Array:t.arrayBuffer,Int32Array:t.arrayBuffer,Map:t.map,Number:Sf,Object:t.object,Promise:lc,RegExp:t.regExp,Set:t.set,String:Sf,WeakMap:lc,WeakSet:lc,Uint8Array:t.arrayBuffer,Uint8ClampedArray:t.arrayBuffer,Uint16Array:t.arrayBuffer,Uint32Array:t.arrayBuffer,Uint64Array:t.arrayBuffer}}function MA(t){var e=jy({},jA,t),n=aB(e),r=n.Array,i=n.Object;function s(o,a){if(a.prototype=a.Constructor=void 0,!o||typeof o!="object")return o;if(a.cache.has(o))return a.cache.get(o);if(a.prototype=sB(o),a.Constructor=a.prototype&&a.prototype.constructor,!a.Constructor||a.Constructor===Object)return i(o,a);if(iB(o))return r(o,a);var u=n[FF(o)];return u?u(o,a):typeof o.then=="function"?o:i(o,a)}return function(a){return s(a,{Constructor:void 0,cache:DF(),copier:s,prototype:void 0})}}function lB(t){return MA(jy({},oB,t))}lB({});var My=MA({}),uB=Error,cB=EvalError,dB=RangeError,hB=ReferenceError,VA=SyntaxError,Ml=TypeError,fB=URIError,pB=Object.getOwnPropertyDescriptor,uc=pB;if(uc)try{uc([],"length")}catch{uc=null}var ah=uc,cc=Object.defineProperty||!1;if(cc)try{cc({},"a",{value:1})}catch{cc=!1}var lh=cc,If,JE;function mB(){return JE||(JE=1,If=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),If}var bf,XE;function gB(){if(XE)return bf;XE=1;var t=typeof Symbol<"u"&&Symbol,e=mB();return bf=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},bf}var Af,ZE;function yB(){if(ZE)return Af;ZE=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(u,c){for(var d=[],p=0;p<u.length;p+=1)d[p]=u[p];for(var g=0;g<c.length;g+=1)d[g+u.length]=c[g];return d},s=function(u,c){for(var d=[],p=c,g=0;p<u.length;p+=1,g+=1)d[g]=u[p];return d},o=function(a,u){for(var c="",d=0;d<a.length;d+=1)c+=a[d],d+1<a.length&&(c+=u);return c};return Af=function(u){var c=this;if(typeof c!="function"||e.apply(c)!==r)throw new TypeError(t+c);for(var d=s(arguments,1),p,g=function(){if(this instanceof p){var E=c.apply(this,i(d,arguments));return Object(E)===E?E:this}return c.apply(u,i(d,arguments))},w=n(0,c.length-d.length),y=[],v=0;v<w;v++)y[v]="$"+v;if(p=Function("binder","return function ("+o(y,",")+"){ return binder.apply(this,arguments); }")(g),c.prototype){var I=function(){};I.prototype=c.prototype,p.prototype=new I,I.prototype=null}return p},Af}var xf,ew;function Vl(){if(ew)return xf;ew=1;var t=yB();return xf=Function.prototype.bind||t,xf}var Rf,tw;function Vy(){return tw||(tw=1,Rf=Function.prototype.call),Rf}var Cf,nw;function Uy(){return nw||(nw=1,Cf=Function.prototype.apply),Cf}var vB=typeof Reflect<"u"&&Reflect&&Reflect.apply,_B=Vl(),EB=Uy(),wB=Vy(),TB=vB,UA=TB||_B.call(wB,EB),SB=Vl(),IB=Ml,bB=Vy(),AB=UA,FA=function(e){if(e.length<1||typeof e[0]!="function")throw new IB("a function is required");return AB(SB,bB,e)},Pf,rw;function xB(){if(rw)return Pf;rw=1;var t=FA,e=ah,n=[].__proto__===Array.prototype,r=n&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return Pf=r&&typeof r.get=="function"?t([r.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,Pf}var kf,iw;function RB(){if(iw)return kf;iw=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=Vl();return kf=n.call(t,e),kf}var ge,CB=uB,PB=cB,kB=dB,NB=hB,wo=VA,ro=Ml,OB=fB,BA=Function,Nf=function(t){try{return BA('"use strict"; return ('+t+").constructor;")()}catch{}},yl=ah,LB=lh,Of=function(){throw new ro},DB=yl?function(){try{return arguments.callee,Of}catch{try{return yl(arguments,"callee").get}catch{return Of}}}():Of,ws=gB()(),jB=xB(),ct=typeof Reflect=="function"&&Reflect.getPrototypeOf||Object.getPrototypeOf||jB,$A=Uy(),Ul=Vy(),Rs={},MB=typeof Uint8Array>"u"||!ct?ge:ct(Uint8Array),Yi={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ge:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ge:ArrayBuffer,"%ArrayIteratorPrototype%":ws&&ct?ct([][Symbol.iterator]()):ge,"%AsyncFromSyncIteratorPrototype%":ge,"%AsyncFunction%":Rs,"%AsyncGenerator%":Rs,"%AsyncGeneratorFunction%":Rs,"%AsyncIteratorPrototype%":Rs,"%Atomics%":typeof Atomics>"u"?ge:Atomics,"%BigInt%":typeof BigInt>"u"?ge:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ge:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ge:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ge:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":CB,"%eval%":eval,"%EvalError%":PB,"%Float32Array%":typeof Float32Array>"u"?ge:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ge:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ge:FinalizationRegistry,"%Function%":BA,"%GeneratorFunction%":Rs,"%Int8Array%":typeof Int8Array>"u"?ge:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ge:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ge:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ws&&ct?ct(ct([][Symbol.iterator]())):ge,"%JSON%":typeof JSON=="object"?JSON:ge,"%Map%":typeof Map>"u"?ge:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ws||!ct?ge:ct(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%Object.getOwnPropertyDescriptor%":yl,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ge:Promise,"%Proxy%":typeof Proxy>"u"?ge:Proxy,"%RangeError%":kB,"%ReferenceError%":NB,"%Reflect%":typeof Reflect>"u"?ge:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ge:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ws||!ct?ge:ct(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ge:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ws&&ct?ct(""[Symbol.iterator]()):ge,"%Symbol%":ws?Symbol:ge,"%SyntaxError%":wo,"%ThrowTypeError%":DB,"%TypedArray%":MB,"%TypeError%":ro,"%Uint8Array%":typeof Uint8Array>"u"?ge:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ge:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ge:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ge:Uint32Array,"%URIError%":OB,"%WeakMap%":typeof WeakMap>"u"?ge:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ge:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ge:WeakSet,"%Function.prototype.call%":Ul,"%Function.prototype.apply%":$A,"%Object.defineProperty%":LB};if(ct)try{null.error}catch(t){var VB=ct(ct(t));Yi["%Error.prototype%"]=VB}var UB=function t(e){var n;if(e==="%AsyncFunction%")n=Nf("async function () {}");else if(e==="%GeneratorFunction%")n=Nf("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Nf("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ct&&(n=ct(i.prototype))}return Yi[e]=n,n},sw={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Fl=Vl(),dd=RB(),FB=Fl.call(Ul,Array.prototype.concat),BB=Fl.call($A,Array.prototype.splice),ow=Fl.call(Ul,String.prototype.replace),hd=Fl.call(Ul,String.prototype.slice),$B=Fl.call(Ul,RegExp.prototype.exec),zB=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,HB=/\\(\\)?/g,KB=function(e){var n=hd(e,0,1),r=hd(e,-1);if(n==="%"&&r!=="%")throw new wo("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new wo("invalid intrinsic syntax, expected opening `%`");var i=[];return ow(e,zB,function(s,o,a,u){i[i.length]=a?ow(u,HB,"$1"):o||s}),i},qB=function(e,n){var r=e,i;if(dd(sw,r)&&(i=sw[r],r="%"+i[0]+"%"),dd(Yi,r)){var s=Yi[r];if(s===Rs&&(s=UB(r)),typeof s>"u"&&!n)throw new ro("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new wo("intrinsic "+e+" does not exist!")},Fy=function(e,n){if(typeof e!="string"||e.length===0)throw new ro("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new ro('"allowMissing" argument must be a boolean');if($B(/^%?[^%]*%?$/,e)===null)throw new wo("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=KB(e),i=r.length>0?r[0]:"",s=qB("%"+i+"%",n),o=s.name,a=s.value,u=!1,c=s.alias;c&&(i=c[0],BB(r,FB([0,1],c)));for(var d=1,p=!0;d<r.length;d+=1){var g=r[d],w=hd(g,0,1),y=hd(g,-1);if((w==='"'||w==="'"||w==="`"||y==='"'||y==="'"||y==="`")&&w!==y)throw new wo("property names with quotes must have matching quotes");if((g==="constructor"||!p)&&(u=!0),i+="."+g,o="%"+i+"%",dd(Yi,o))a=Yi[o];else if(a!=null){if(!(g in a)){if(!n)throw new ro("base intrinsic for "+e+" exists, but the property is not available.");return}if(yl&&d+1>=r.length){var v=yl(a,g);p=!!v,p&&"get"in v&&!("originalValue"in v.get)?a=v.get:a=a[g]}else p=dd(a,g),a=a[g];p&&!u&&(Yi[o]=a)}}return a},zA={exports:{}},aw=lh,WB=VA,Ts=Ml,lw=ah,GB=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Ts("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Ts("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ts("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ts("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ts("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ts("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,u=!!lw&&lw(e,n);if(aw)aw(e,n,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:r,writable:s===null&&u?u.writable:!s});else if(a||!i&&!s&&!o)e[n]=r;else throw new WB("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Tm=lh,HA=function(){return!!Tm};HA.hasArrayLengthDefineBug=function(){if(!Tm)return null;try{return Tm([],"length",{value:1}).length!==1}catch{return!0}};var QB=HA,YB=Fy,uw=GB,JB=QB(),cw=ah,dw=Ml,XB=YB("%Math.floor%"),ZB=function(e,n){if(typeof e!="function")throw new dw("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||XB(n)!==n)throw new dw("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&cw){var o=cw(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!r)&&(JB?uw(e,"length",n,!0,!0):uw(e,"length",n)),e},e3=Vl(),t3=Uy(),n3=UA,r3=function(){return n3(e3,t3,arguments)};(function(t){var e=ZB,n=lh,r=FA,i=r3;t.exports=function(o){var a=r(arguments),u=o.length-(arguments.length-1);return e(a,1+(u>0?u:0),!0)},n?n(t.exports,"apply",{value:i}):t.exports.apply=i})(zA);var i3=zA.exports,KA=Fy,qA=i3,s3=qA(KA("String.prototype.indexOf")),o3=function(e,n){var r=KA(e,!!n);return typeof r=="function"&&s3(e,".prototype.")>-1?qA(r):r};const a3={},l3=Object.freeze(Object.defineProperty({__proto__:null,default:a3},Symbol.toStringTag,{value:"Module"})),u3=oR(l3);var By=typeof Map=="function"&&Map.prototype,Lf=Object.getOwnPropertyDescriptor&&By?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,fd=By&&Lf&&typeof Lf.get=="function"?Lf.get:null,hw=By&&Map.prototype.forEach,$y=typeof Set=="function"&&Set.prototype,Df=Object.getOwnPropertyDescriptor&&$y?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,pd=$y&&Df&&typeof Df.get=="function"?Df.get:null,fw=$y&&Set.prototype.forEach,c3=typeof WeakMap=="function"&&WeakMap.prototype,Va=c3?WeakMap.prototype.has:null,d3=typeof WeakSet=="function"&&WeakSet.prototype,Ua=d3?WeakSet.prototype.has:null,h3=typeof WeakRef=="function"&&WeakRef.prototype,pw=h3?WeakRef.prototype.deref:null,f3=Boolean.prototype.valueOf,p3=Object.prototype.toString,m3=Function.prototype.toString,g3=String.prototype.match,zy=String.prototype.slice,Wr=String.prototype.replace,y3=String.prototype.toUpperCase,mw=String.prototype.toLowerCase,WA=RegExp.prototype.test,gw=Array.prototype.concat,Un=Array.prototype.join,v3=Array.prototype.slice,yw=Math.floor,Sm=typeof BigInt=="function"?BigInt.prototype.valueOf:null,jf=Object.getOwnPropertySymbols,Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,To=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Lt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===To||!0)?Symbol.toStringTag:null,GA=Object.prototype.propertyIsEnumerable,vw=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function _w(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||WA.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-yw(-t):yw(t);if(r!==t){var i=String(r),s=zy.call(e,i.length+1);return Wr.call(i,n,"$&_")+"."+Wr.call(Wr.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Wr.call(e,n,"$&_")}var bm=u3,Ew=bm.custom,ww=JA(Ew)?Ew:null,QA={__proto__:null,double:'"',single:"'"},_3={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},E3=function t(e,n,r,i){var s=n||{};if(sr(s,"quoteStyle")&&!sr(QA,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(sr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=sr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(sr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(sr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return ZA(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?_w(e,u):u}if(typeof e=="bigint"){var c=String(e)+"n";return a?_w(e,c):c}var d=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof e=="object")return Am(e)?"[Array]":"[Object]";var p=V3(s,r);if(typeof i>"u")i=[];else if(XA(i,e)>=0)return"[Circular]";function g(R,xe,Me){if(xe&&(i=v3.call(i),i.push(xe)),Me){var Y={depth:s.depth};return sr(s,"quoteStyle")&&(Y.quoteStyle=s.quoteStyle),t(R,Y,r+1,i)}return t(R,s,r+1,i)}if(typeof e=="function"&&!Tw(e)){var w=C3(e),y=Pu(e,g);return"[Function"+(w?": "+w:" (anonymous)")+"]"+(y.length>0?" { "+Un.call(y,", ")+" }":"")}if(JA(e)){var v=To?Wr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Im.call(e);return typeof e=="object"&&!To?ca(v):v}if(D3(e)){for(var I="<"+mw.call(String(e.nodeName)),E=e.attributes||[],S=0;S<E.length;S++)I+=" "+E[S].name+"="+YA(w3(E[S].value),"double",s);return I+=">",e.childNodes&&e.childNodes.length&&(I+="..."),I+="</"+mw.call(String(e.nodeName))+">",I}if(Am(e)){if(e.length===0)return"[]";var b=Pu(e,g);return p&&!M3(b)?"["+xm(b,p)+"]":"[ "+Un.call(b,", ")+" ]"}if(S3(e)){var N=Pu(e,g);return!("cause"in Error.prototype)&&"cause"in e&&!GA.call(e,"cause")?"{ ["+String(e)+"] "+Un.call(gw.call("[cause]: "+g(e.cause),N),", ")+" }":N.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Un.call(N,", ")+" }"}if(typeof e=="object"&&o){if(ww&&typeof e[ww]=="function"&&bm)return bm(e,{depth:d-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(P3(e)){var M=[];return hw&&hw.call(e,function(R,xe){M.push(g(xe,e,!0)+" => "+g(R,e))}),Sw("Map",fd.call(e),M,p)}if(O3(e)){var z=[];return fw&&fw.call(e,function(R){z.push(g(R,e))}),Sw("Set",pd.call(e),z,p)}if(k3(e))return Mf("WeakMap");if(L3(e))return Mf("WeakSet");if(N3(e))return Mf("WeakRef");if(b3(e))return ca(g(Number(e)));if(x3(e))return ca(g(Sm.call(e)));if(A3(e))return ca(f3.call(e));if(I3(e))return ca(g(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof Cs<"u"&&e===Cs)return"{ [object globalThis] }";if(!T3(e)&&!Tw(e)){var A=Pu(e,g),T=vw?vw(e)===Object.prototype:e instanceof Object||e.constructor===Object,x=e instanceof Object?"":"null prototype",C=!T&&Lt&&Object(e)===e&&Lt in e?zy.call(bi(e),8,-1):x?"Object":"",P=T||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",k=P+(C||x?"["+Un.call(gw.call([],C||[],x||[]),": ")+"] ":"");return A.length===0?k+"{}":p?k+"{"+xm(A,p)+"}":k+"{ "+Un.call(A,", ")+" }"}return String(e)};function YA(t,e,n){var r=n.quoteStyle||e,i=QA[r];return i+t+i}function w3(t){return Wr.call(String(t),/"/g,"&quot;")}function Am(t){return bi(t)==="[object Array]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function T3(t){return bi(t)==="[object Date]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function Tw(t){return bi(t)==="[object RegExp]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function S3(t){return bi(t)==="[object Error]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function I3(t){return bi(t)==="[object String]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function b3(t){return bi(t)==="[object Number]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function A3(t){return bi(t)==="[object Boolean]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function JA(t){if(To)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Im)return!1;try{return Im.call(t),!0}catch{}return!1}function x3(t){if(!t||typeof t!="object"||!Sm)return!1;try{return Sm.call(t),!0}catch{}return!1}var R3=Object.prototype.hasOwnProperty||function(t){return t in this};function sr(t,e){return R3.call(t,e)}function bi(t){return p3.call(t)}function C3(t){if(t.name)return t.name;var e=g3.call(m3.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function XA(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function P3(t){if(!fd||!t||typeof t!="object")return!1;try{fd.call(t);try{pd.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function k3(t){if(!Va||!t||typeof t!="object")return!1;try{Va.call(t,Va);try{Ua.call(t,Ua)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function N3(t){if(!pw||!t||typeof t!="object")return!1;try{return pw.call(t),!0}catch{}return!1}function O3(t){if(!pd||!t||typeof t!="object")return!1;try{pd.call(t);try{fd.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function L3(t){if(!Ua||!t||typeof t!="object")return!1;try{Ua.call(t,Ua);try{Va.call(t,Va)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function D3(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function ZA(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return ZA(zy.call(t,0,e.maxStringLength),e)+r}var i=_3[e.quoteStyle||"single"];i.lastIndex=0;var s=Wr.call(Wr.call(t,i,"\\$1"),/[\x00-\x1f]/g,j3);return YA(s,"single",e)}function j3(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+y3.call(e.toString(16))}function ca(t){return"Object("+t+")"}function Mf(t){return t+" { ? }"}function Sw(t,e,n,r){var i=r?xm(n,r):Un.call(n,", ");return t+" ("+e+") {"+i+"}"}function M3(t){for(var e=0;e<t.length;e++)if(XA(t[e],`
`)>=0)return!1;return!0}function V3(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=Un.call(Array(t.indent+1)," ");else return null;return{base:n,prev:Un.call(Array(e+1),n)}}function xm(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+Un.call(t,","+n)+`
`+e.prev}function Pu(t,e){var n=Am(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=sr(t,i)?e(t[i],t):""}var s=typeof jf=="function"?jf(t):[],o;if(To){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)sr(t,u)&&(n&&String(Number(u))===u&&u<t.length||To&&o["$"+u]instanceof Symbol||(WA.call(/[^\w$]/,u)?r.push(e(u,t)+": "+e(t[u],t)):r.push(u+": "+e(t[u],t))));if(typeof jf=="function")for(var c=0;c<s.length;c++)GA.call(t,s[c])&&r.push("["+e(s[c])+"]: "+e(t[s[c]],t));return r}var ex=Fy,Mo=o3,U3=E3,F3=Ml,ku=ex("%WeakMap%",!0),Nu=ex("%Map%",!0),B3=Mo("WeakMap.prototype.get",!0),$3=Mo("WeakMap.prototype.set",!0),z3=Mo("WeakMap.prototype.has",!0),H3=Mo("Map.prototype.get",!0),K3=Mo("Map.prototype.set",!0),q3=Mo("Map.prototype.has",!0),Hy=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},W3=function(t,e){var n=Hy(t,e);return n&&n.value},G3=function(t,e,n){var r=Hy(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},Q3=function(t,e){return!!Hy(t,e)},Y3=function(){var e,n,r,i={assert:function(s){if(!i.has(s))throw new F3("Side channel does not contain "+U3(s))},get:function(s){if(ku&&s&&(typeof s=="object"||typeof s=="function")){if(e)return B3(e,s)}else if(Nu){if(n)return H3(n,s)}else if(r)return W3(r,s)},has:function(s){if(ku&&s&&(typeof s=="object"||typeof s=="function")){if(e)return z3(e,s)}else if(Nu){if(n)return q3(n,s)}else if(r)return Q3(r,s);return!1},set:function(s,o){ku&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new ku),$3(e,s,o)):Nu?(n||(n=new Nu),K3(n,s,o)):(r||(r={key:{},next:null}),G3(r,s,o))}};return i},J3=String.prototype.replace,X3=/%20/g,Vf={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ky={default:Vf.RFC3986,formatters:{RFC1738:function(t){return J3.call(t,X3,"+")},RFC3986:function(t){return String(t)}},RFC1738:Vf.RFC1738,RFC3986:Vf.RFC3986},Z3=Ky,Uf=Object.prototype.hasOwnProperty,ji=Array.isArray,On=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),e$=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(ji(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},tx=function(e,n){for(var r=n&&n.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},t$=function t(e,n,r){if(!n)return e;if(typeof n!="object"&&typeof n!="function"){if(ji(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Uf.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return ji(e)&&!ji(n)&&(i=tx(e,r)),ji(e)&&ji(n)?(n.forEach(function(s,o){if(Uf.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,r):e.push(s)}else e[o]=s}),e):Object.keys(n).reduce(function(s,o){var a=n[o];return Uf.call(s,o)?s[o]=t(s[o],a,r):s[o]=a,s},i)},n$=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},r$=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Ff=1024,i$=function(e,n,r,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(w){return"%26%23"+parseInt(w.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;u+=Ff){for(var c=o.length>=Ff?o.slice(u,u+Ff):o,d=[],p=0;p<c.length;++p){var g=c.charCodeAt(p);if(g===45||g===46||g===95||g===126||g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122||s===Z3.RFC1738&&(g===40||g===41)){d[d.length]=c.charAt(p);continue}if(g<128){d[d.length]=On[g];continue}if(g<2048){d[d.length]=On[192|g>>6]+On[128|g&63];continue}if(g<55296||g>=57344){d[d.length]=On[224|g>>12]+On[128|g>>6&63]+On[128|g&63];continue}p+=1,g=65536+((g&1023)<<10|c.charCodeAt(p)&1023),d[d.length]=On[240|g>>18]+On[128|g>>12&63]+On[128|g>>6&63]+On[128|g&63]}a+=d.join("")}return a},s$=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var c=a[u],d=o[c];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:o,prop:c}),r.push(d))}return e$(n),e},o$=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},a$=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},l$=function(e,n){return[].concat(e,n)},u$=function(e,n){if(ji(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},nx={arrayToObject:tx,assign:n$,combine:l$,compact:s$,decode:r$,encode:i$,isBuffer:a$,isRegExp:o$,maybeMap:u$,merge:t$},rx=Y3,dc=nx,Fa=Ky,c$=Object.prototype.hasOwnProperty,ix={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},jn=Array.isArray,d$=Array.prototype.push,sx=function(t,e){d$.apply(t,jn(e)?e:[e])},h$=Date.prototype.toISOString,Iw=Fa.default,nt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:dc.encode,encodeValuesOnly:!1,filter:void 0,format:Iw,formatter:Fa.formatters[Iw],indices:!1,serializeDate:function(e){return h$.call(e)},skipNulls:!1,strictNullHandling:!1},f$=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Bf={},p$=function t(e,n,r,i,s,o,a,u,c,d,p,g,w,y,v,I,E,S){for(var b=e,N=S,M=0,z=!1;(N=N.get(Bf))!==void 0&&!z;){var A=N.get(e);if(M+=1,typeof A<"u"){if(A===M)throw new RangeError("Cyclic object value");z=!0}typeof N.get(Bf)>"u"&&(M=0)}if(typeof d=="function"?b=d(n,b):b instanceof Date?b=w(b):r==="comma"&&jn(b)&&(b=dc.maybeMap(b,function(q){return q instanceof Date?w(q):q})),b===null){if(o)return c&&!I?c(n,nt.encoder,E,"key",y):n;b=""}if(f$(b)||dc.isBuffer(b)){if(c){var T=I?n:c(n,nt.encoder,E,"key",y);return[v(T)+"="+v(c(b,nt.encoder,E,"value",y))]}return[v(n)+"="+v(String(b))]}var x=[];if(typeof b>"u")return x;var C;if(r==="comma"&&jn(b))I&&c&&(b=dc.maybeMap(b,c)),C=[{value:b.length>0?b.join(",")||null:void 0}];else if(jn(d))C=d;else{var P=Object.keys(b);C=p?P.sort(p):P}var k=u?String(n).replace(/\./g,"%2E"):String(n),R=i&&jn(b)&&b.length===1?k+"[]":k;if(s&&jn(b)&&b.length===0)return R+"[]";for(var xe=0;xe<C.length;++xe){var Me=C[xe],Y=typeof Me=="object"&&Me&&typeof Me.value<"u"?Me.value:b[Me];if(!(a&&Y===null)){var ee=g&&u?String(Me).replace(/\./g,"%2E"):String(Me),H=jn(b)?typeof r=="function"?r(R,ee):R:R+(g?"."+ee:"["+ee+"]");S.set(e,M);var ne=rx();ne.set(Bf,S),sx(x,t(Y,H,r,i,s,o,a,u,r==="comma"&&I&&jn(b)?null:c,d,p,g,w,y,v,I,E,ne))}}return x},m$=function(e){if(!e)return nt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||nt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Fa.default;if(typeof e.format<"u"){if(!c$.call(Fa.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=Fa.formatters[r],s=nt.filter;(typeof e.filter=="function"||jn(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in ix?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=nt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:nt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:nt.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:nt.allowEmptyArrays,arrayFormat:o,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:nt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?nt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:nt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:nt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:nt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:nt.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:nt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:nt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:nt.strictNullHandling}},g$=function(t,e){var n=t,r=m$(e),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):jn(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var a=ix[r.arrayFormat],u=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var c=rx(),d=0;d<i.length;++d){var p=i[d],g=n[p];r.skipNulls&&g===null||sx(o,p$(g,p,a,u,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var w=o.join(r.delimiter),y=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),w.length>0?y+w:""},So=nx,Rm=Object.prototype.hasOwnProperty,y$=Array.isArray,ze={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:So.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},v$=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},ox=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},_$="utf8=%26%2310003%3B",E$="utf8=%E2%9C%93",w$=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),a=-1,u,c=n.charset;if(n.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===E$?c="utf-8":o[u]===_$&&(c="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var d=o[u],p=d.indexOf("]="),g=p===-1?d.indexOf("="):p+1,w,y;g===-1?(w=n.decoder(d,ze.decoder,c,"key"),y=n.strictNullHandling?null:""):(w=n.decoder(d.slice(0,g),ze.decoder,c,"key"),y=So.maybeMap(ox(d.slice(g+1),n),function(I){return n.decoder(I,ze.decoder,c,"value")})),y&&n.interpretNumericEntities&&c==="iso-8859-1"&&(y=v$(String(y))),d.indexOf("[]=")>-1&&(y=y$(y)?[y]:y);var v=Rm.call(r,w);v&&n.duplicates==="combine"?r[w]=So.combine(r[w],y):(!v||n.duplicates==="last")&&(r[w]=y)}return r},T$=function(t,e,n,r){for(var i=r?e:ox(e,n),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&n.parseArrays)o=n.allowEmptyArrays&&(i===""||n.strictNullHandling&&i===null)?[]:[].concat(i);else{o=n.plainObjects?{__proto__:null}:{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=n.decodeDotInKeys?u.replace(/%2E/g,"."):u,d=parseInt(c,10);!n.parseArrays&&c===""?o={0:i}:!isNaN(d)&&a!==c&&String(d)===c&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(o=[],o[d]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},S$=function(e,n,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=r.depth>0&&o.exec(s),c=u?s.slice(0,u.index):s,d=[];if(c){if(!r.plainObjects&&Rm.call(Object.prototype,c)&&!r.allowPrototypes)return;d.push(c)}for(var p=0;r.depth>0&&(u=a.exec(s))!==null&&p<r.depth;){if(p+=1,!r.plainObjects&&Rm.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(u[1])}if(u){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");d.push("["+s.slice(u.index)+"]")}return T$(d,n,r,i)}},I$=function(e){if(!e)return ze;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?ze.charset:e.charset,r=typeof e.duplicates>"u"?ze.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:ze.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ze.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ze.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ze.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ze.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ze.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ze.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:ze.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:ze.decoder,delimiter:typeof e.delimiter=="string"||So.isRegExp(e.delimiter)?e.delimiter:ze.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ze.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ze.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ze.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ze.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:ze.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ze.strictNullHandling}},b$=function(t,e){var n=I$(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?{__proto__:null}:{};for(var r=typeof t=="string"?w$(t,n):t,i=n.plainObjects?{__proto__:null}:{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],u=S$(a,r[a],n,typeof t=="string");i=So.merge(i,u,n)}return n.allowSparse===!0?i:So.compact(i)},A$=g$,x$=b$,R$=Ky,C$={formats:R$,parse:x$,stringify:A$};const P$=Ar(C$);function k$(t,e){t.interceptors.request.use(function(n){return e().then(r=>(n.headers.set("Authorization",`Bearer ${r}`),n))})}var ax={exports:{}},Ye=ax.exports={},Mn,Vn;function Cm(){throw new Error("setTimeout has not been defined")}function Pm(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Mn=setTimeout:Mn=Cm}catch{Mn=Cm}try{typeof clearTimeout=="function"?Vn=clearTimeout:Vn=Pm}catch{Vn=Pm}})();function lx(t){if(Mn===setTimeout)return setTimeout(t,0);if((Mn===Cm||!Mn)&&setTimeout)return Mn=setTimeout,setTimeout(t,0);try{return Mn(t,0)}catch{try{return Mn.call(null,t,0)}catch{return Mn.call(this,t,0)}}}function N$(t){if(Vn===clearTimeout)return clearTimeout(t);if((Vn===Pm||!Vn)&&clearTimeout)return Vn=clearTimeout,clearTimeout(t);try{return Vn(t)}catch{try{return Vn.call(null,t)}catch{return Vn.call(this,t)}}}var fr=[],io=!1,zi,hc=-1;function O$(){!io||!zi||(io=!1,zi.length?fr=zi.concat(fr):hc=-1,fr.length&&ux())}function ux(){if(!io){var t=lx(O$);io=!0;for(var e=fr.length;e;){for(zi=fr,fr=[];++hc<e;)zi&&zi[hc].run();hc=-1,e=fr.length}zi=null,io=!1,N$(t)}}Ye.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];fr.push(new cx(t,e)),fr.length===1&&!io&&lx(ux)};function cx(t,e){this.fun=t,this.array=e}cx.prototype.run=function(){this.fun.apply(null,this.array)};Ye.title="browser";Ye.browser=!0;Ye.env={};Ye.argv=[];Ye.version="";Ye.versions={};function Rr(){}Ye.on=Rr;Ye.addListener=Rr;Ye.once=Rr;Ye.off=Rr;Ye.removeListener=Rr;Ye.removeAllListeners=Rr;Ye.emit=Rr;Ye.prependListener=Rr;Ye.prependOnceListener=Rr;Ye.listeners=function(t){return[]};Ye.binding=function(t){throw new Error("process.binding is not supported")};Ye.cwd=function(){return"/"};Ye.chdir=function(t){throw new Error("process.chdir is not supported")};Ye.umask=function(){return 0};var L$=ax.exports;const Gr=Ar(L$);function D$(){return typeof Gr<"u"&&!Gr.browser}function j$(){return typeof window<"u"&&"navigator"in window&&"product"in window.navigator&&window.navigator.product==="ReactNative"}function M$(){return Gr.versions&&Gr.versions.node?`v${Gr.versions.node}`:Gr.version}function V$(){return window}function km(){}const U$=t=>new Promise(e=>{setTimeout(e,t)}),F$=t=>Math.pow(Math.SQRT2,t);function B$(t,e=5){const{responseLogger:n=km,requestLogger:r=km}=t.defaults;t.interceptors.request.use(function(i){return r(i),i},function(i){return r(i),Promise.reject(i)}),t.interceptors.response.use(function(i){return n(i),i},async function(i){const{response:s}=i,{config:o}=i;if(n(i),!o||!t.defaults.retryOnError)return Promise.reject(i);const a=o.attempts||1;if(a>e)return i.attempts=o.attempts,Promise.reject(i);let u=null,c=F$(a);return s?s.status>=500&&s.status<600?u=`Server ${s.status}`:s.status===429&&(u="Rate limit",s.headers&&i.response.headers["x-contentful-ratelimit-reset"]&&(c=s.headers["x-contentful-ratelimit-reset"])):u="Connection",u?(c=Math.floor(c*1e3+Math.random()*200+500),t.defaults.logHandler("warning",`${u} error occurred. Waiting for ${c} ms before retrying...`),o.attempts=a+1,delete o.httpAgent,delete o.httpsAgent,U$(c).then(()=>t(o))):Promise.reject(i)})}var $$=typeof Cs=="object"&&Cs&&Cs.Object===Object&&Cs,z$=$$,H$=z$,K$=typeof self=="object"&&self&&self.Object===Object&&self,q$=H$||K$||Function("return this")(),W$=q$,G$=W$,Q$=G$.Symbol,dx=Q$,bw=dx,hx=Object.prototype,Y$=hx.hasOwnProperty,J$=hx.toString,da=bw?bw.toStringTag:void 0;function X$(t){var e=Y$.call(t,da),n=t[da];try{t[da]=void 0;var r=!0}catch{}var i=J$.call(t);return r&&(e?t[da]=n:delete t[da]),i}var Z$=X$,e6=Object.prototype,t6=e6.toString;function n6(t){return t6.call(t)}var r6=n6,Aw=dx,i6=Z$,s6=r6,o6="[object Null]",a6="[object Undefined]",xw=Aw?Aw.toStringTag:void 0;function l6(t){return t==null?t===void 0?a6:o6:xw&&xw in Object(t)?i6(t):s6(t)}var fx=l6,u6=Array.isArray,c6=u6;function d6(t){return t!=null&&typeof t=="object"}var px=d6,h6=fx,f6=c6,p6=px,m6="[object String]";function g6(t){return typeof t=="string"||!f6(t)&&p6(t)&&h6(t)==m6}var y6=g6;const Rw=Ar(y6);class v6 extends Error{constructor(){super("Throttled function aborted"),this.name="AbortError"}}function _6({limit:t,interval:e,strict:n,onDelay:r}){if(!Number.isFinite(t))throw new TypeError("Expected `limit` to be a finite number");if(!Number.isFinite(e))throw new TypeError("Expected `interval` to be a finite number");const i=new Map;let s=0,o=0;function a(){const c=Date.now();return c-s>e?(o=1,s=c,0):(o<t?o++:(s+=e,o=1),s-c)}const u=a;return c=>{const d=function(...p){if(!d.isEnabled)return(async()=>c.apply(this,p))();let g;return new Promise((w,y)=>{const v=()=>{w(c.apply(this,p)),i.delete(g)},I=u();I>0?(g=setTimeout(v,I),i.set(g,y),r==null||r(...p)):v()})};return d.abort=()=>{for(const p of i.keys())clearTimeout(p),i.get(p)(new v6);i.clear()},d.isEnabled=!0,Object.defineProperty(d,"queueSize",{get(){return i.size}}),d}}const Nm=/(?<value>\d+)(%)/;function $f(t,e=7){var r;let n=e;if(Nm.test(t)){const i=(r=t.match(Nm))==null?void 0:r.groups;if(i&&i.value){const s=parseInt(i.value)/100;n=Math.round(e*s)}}return Math.min(30,Math.max(1,n))}function Cw(t,e){return e("info",`Throttle request to ${t}/s`),_6({limit:t,interval:1e3,strict:!1})}const E6=(t,e="auto")=>{const{logHandler:n=km}=t.defaults;let r=Rw(e)?$f(e):$f("auto",e),i=Cw(r,n),s=!1,o=t.interceptors.request.use(u=>i(()=>u)(),function(u){return Promise.reject(u)});const a=t.interceptors.response.use(u=>{if(!s&&Rw(e)&&(e==="auto"||Nm.test(e))&&u.headers&&u.headers["x-contentful-ratelimit-second-limit"]){const c=parseInt(u.headers["x-contentful-ratelimit-second-limit"]),d=$f(e,c);d!==r&&(o&&t.interceptors.request.eject(o),r=d,i=Cw(d,n),o=t.interceptors.request.use(p=>i(()=>p)(),function(p){return Promise.reject(p)})),s=!0}return u},function(u){return Promise.reject(u)});return()=>{t.interceptors.request.eject(o),t.interceptors.response.eject(a)}},w6=/^(?!\w+:\/\/)([^\s:]+\.?[^\s:]+)(?::(\d+))?(?!:)$/;function T6(t){const e=My(t);return e.httpAgent=t.httpAgent,e.httpsAgent=t.httpsAgent,e}function mx(t,e){const r={...{insecure:!1,retryOnError:!0,logHandler:(p,g)=>{if(p==="error"&&g){const w=[g.name,g.message].filter(y=>y).join(" - ");console.error(`[error] ${w}`),console.error(g);return}console.log(`[${p}] ${g}`)},headers:{},httpAgent:!1,httpsAgent:!1,timeout:3e4,throttle:0,basePath:"",adapter:void 0,maxContentLength:1073741824,maxBodyLength:1073741824},...e};if(!r.accessToken){const p=new TypeError("Expected parameter accessToken");throw r.logHandler("error",p),p}const i=r.insecure?"http":"https",s=r.space?`${r.space}/`:"";let o=r.defaultHostname,a=r.insecure?80:443;if(r.host&&w6.test(r.host)){const p=r.host.split(":");p.length===2?[o,a]=p:o=p[0]}r.basePath&&(r.basePath=`/${r.basePath.split("/").filter(Boolean).join("/")}`);const u=e.baseURL||`${i}://${o}:${a}${r.basePath}/spaces/${s}`;!r.headers.Authorization&&typeof r.accessToken!="function"&&(r.headers.Authorization="Bearer "+r.accessToken);const c={baseURL:u,headers:r.headers,httpAgent:r.httpAgent,httpsAgent:r.httpsAgent,proxy:r.proxy,timeout:r.timeout,adapter:r.adapter,maxContentLength:r.maxContentLength,maxBodyLength:r.maxBodyLength,paramsSerializer:{serialize:p=>P$.stringify(p)},logHandler:r.logHandler,responseLogger:r.responseLogger,requestLogger:r.requestLogger,retryOnError:r.retryOnError},d=t.create(c);return d.httpClientParams=e,d.cloneWithNewParams=function(p){return mx(t,{...T6(e),...p})},r.onBeforeRequest&&d.interceptors.request.use(r.onBeforeRequest),typeof r.accessToken=="function"&&k$(d,r.accessToken),r.throttle&&E6(d,r.throttle),B$(d,r.retryLimit),r.onError&&d.interceptors.response.use(p=>p,r.onError),d}function En({query:t}){const e={};return delete t.resolveLinks,e.params=My(t),e}function gx(t){const e=Object.getOwnPropertyNames(t);for(const n of e){const r=t[n];r&&typeof r=="object"&&gx(r)}return Object.freeze(t)}function S6(t){return gx(t.sys||{}),t}function Pw(){const t=V$();if(!t)return null;const e=t.navigator.userAgent,n=t.navigator.platform,r=["Macintosh","MacIntel","MacPPC","Mac68K"],i=["Win32","Win64","Windows","WinCE"],s=["iPhone","iPad","iPod"];return r.indexOf(n)!==-1?"macOS":s.indexOf(n)!==-1?"iOS":i.indexOf(n)!==-1?"Windows":/Android/.test(e)?"Android":/Linux/.test(n)?"Linux":null}function I6(){const t=Gr.platform||"linux",e=Gr.version||"0.0.0",n={android:"Android",aix:"Linux",darwin:"macOS",freebsd:"Linux",linux:"Linux",openbsd:"Linux",sunos:"Linux",win32:"Windows"};return t in n?`${n[t]||"Linux"}/${e}`:null}function b6(t,e,n,r){const i=[];e&&i.push(`app ${e}`),n&&i.push(`integration ${n}`),i.push(`sdk ${t}`);let s=null;try{j$()?(s=Pw(),i.push("platform ReactNative")):D$()?(s=I6(),i.push(`platform node.js/${M$()}`)):(s=Pw(),i.push("platform browser"))}catch{s=null}return s&&i.push(`os ${s}`),`${i.filter(o=>o!=="").join("; ")};`}function yx(t){return Object.defineProperty(t,"toPlainObject",{enumerable:!1,configurable:!1,writable:!1,value:function(){return My(this)}})}function A6(t,e){return function(n){return t(e(n))}}var x6=A6,R6=x6,C6=R6(Object.getPrototypeOf,Object),P6=C6,k6=fx,N6=P6,O6=px,L6="[object Object]",D6=Function.prototype,j6=Object.prototype,vx=D6.toString,M6=j6.hasOwnProperty,V6=vx.call(Object);function U6(t){if(!O6(t)||k6(t)!=L6)return!1;var e=N6(t);if(e===null)return!0;var n=M6.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&vx.call(n)==V6}var F6=U6;const zf=Ar(F6);function _n(t){var a;const{config:e,response:n}=t;let r;if(e&&e.headers&&e.headers.Authorization){const u=`...${e.headers.Authorization.toString().substr(-5)}`;e.headers.Authorization=`Bearer ${u}`}if(!zf(n)||!zf(e))throw t;const i=n==null?void 0:n.data,s={status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText,message:"",details:{}};e&&zf(e)&&(s.request={url:e.url,headers:e.headers,method:e.method,payloadData:e.data}),i&&typeof i=="object"&&("requestId"in i&&(s.requestId=i.requestId||"UNKNOWN"),"message"in i&&(s.message=i.message||""),"details"in i&&(s.details=i.details||{}),r=(a=i.sys)==null?void 0:a.id);const o=new Error;o.name=r&&r!=="Unknown"?r:`${n==null?void 0:n.status} ${n==null?void 0:n.statusText}`;try{o.message=JSON.stringify(s,null,"  ")}catch{o.message=(s==null?void 0:s.message)??""}throw o}function B6(t){return function(n){return Object.assign({},t,n)}}var _x={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},qy={0:8203,1:8204,2:8205,3:65279},$6=new Array(4).fill(String.fromCodePoint(qy[0])).join("");function z6(t){let e=JSON.stringify(t);return`${$6}${Array.from(e).map(n=>{let r=n.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${n} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(qy[i])).join("")}).join("")}`}function H6(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function K6(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function q6(t,e,n="auto"){return n===!0||n==="auto"&&(H6(t)||K6(t))?t:`${t}${z6(e)}`}Object.fromEntries(Object.entries(qy).map(t=>t.reverse()));Object.fromEntries(Object.entries(_x).map(t=>t.reverse()));`${Object.values(_x).map(t=>`\\u{${t.toString(16)}}`).join("")}`;function fc(t,e){return q6(t,e)}var W6=Object.prototype.hasOwnProperty,G6=Object.prototype.toString,Q6=function(t,e,n){if(G6.call(e)!=="[object Function]")throw new TypeError("iterator must be a function");var r=t.length;if(r===+r)for(var i=0;i<r;i++)e.call(n,t[i],i,t);else for(var s in t)W6.call(t,s)&&e.call(n,t[s],s,t)},Y6=Q6,li=Pe;function Pe(t,e,n){if(arguments.length===3)return Pe.set(t,e,n);if(arguments.length===2)return Pe.get(t,e);var r=Pe.bind(Pe,t);for(var i in Pe)Pe.hasOwnProperty(i)&&(r[i]=Pe[i].bind(r,t));return r}Pe.get=function(t,e){for(var n=Array.isArray(e)?e:Pe.parse(e),r=0;r<n.length;++r){var i=n[r];if(!(typeof t=="object"&&i in t))throw new Error("Invalid reference token: "+i);t=t[i]}return t};Pe.set=function(t,e,n){var r=Array.isArray(e)?e:Pe.parse(e),i=r[0];if(r.length===0)throw Error("Can not set the root object");for(var s=0;s<r.length-1;++s){var o=r[s];typeof o!="string"&&typeof o!="number"&&(o=String(o)),!(o==="__proto__"||o==="constructor"||o==="prototype")&&(o==="-"&&Array.isArray(t)&&(o=t.length),i=r[s+1],o in t||(i.match(/^(\d+|-)$/)?t[o]=[]:t[o]={}),t=t[o])}return i==="-"&&Array.isArray(t)&&(i=t.length),t[i]=n,this};Pe.remove=function(t,e){var n=Array.isArray(e)?e:Pe.parse(e),r=n[n.length-1];if(r===void 0)throw new Error('Invalid JSON pointer for remove: "'+e+'"');var i=Pe.get(t,n.slice(0,-1));if(Array.isArray(i)){var s=+r;if(r===""&&isNaN(s))throw new Error('Invalid array index: "'+r+'"');Array.prototype.splice.call(i,s,1)}else delete i[r]};Pe.dict=function(t,e){var n={};return Pe.walk(t,function(r,i){n[i]=r},e),n};Pe.walk=function(t,e,n){var r=[];n=n||function(i){var s=Object.prototype.toString.call(i);return s==="[object Object]"||s==="[object Array]"},function i(s){Y6(s,function(o,a){r.push(String(a)),n(o)?i(o):e(o,Pe.compile(r)),r.pop()})}(t)};Pe.has=function(t,e){try{Pe.get(t,e)}catch{return!1}return!0};Pe.escape=function(t){return t.toString().replace(/~/g,"~0").replace(/\//g,"~1")};Pe.unescape=function(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")};Pe.parse=function(t){if(t==="")return[];if(t.charAt(0)!=="/")throw new Error("Invalid JSON pointer: "+t);return t.substring(1).split(/\//).map(Pe.unescape)};Pe.compile=function(t){return t.length===0?"":"/"+t.map(Pe.escape).join("/")};const J6=({pointer:t,mappings:e,data:n,hiddenStrings:r})=>{const i=e[t];delete e[t];const s=Ex(n,t);for(const o of s){e[o]=i;const a=li.get(n,o),u=fc(a,r);li.set(n,o,u)}},Ex=(t,e="")=>{const n=[],r=li.get(t,e);if(r.content)for(let i=0;i<r.content.length;i++)r.content[i].nodeType==="text"?n.push(`${e}/content/${i}/value`):n.push(...Ex(t,`${e}/content/${i}`));return n},kw=({entityId:t,entityType:e,space:n,environment:r,field:i,locale:s,editorInterface:o,fieldType:a,targetOrigin:u,platform:c})=>({origin:"contentful.com",href:`${`https://app.contentful.com/spaces/${n}/environments/${r}`}/${e==="Entry"?"entries":"assets"}/${t}/?focusedField=${i}&focusedLocale=${s}&source=vercel-content-link`,contentful:{editorInterface:o,fieldType:a}}),X6=t=>["builtin","sidebar-builtin","editor-builtin"].includes(t),Z6=t=>t9.includes(t);function e9(t){if(typeof structuredClone=="function")return structuredClone(t);try{return JSON.parse(JSON.stringify(t))}catch(e){return console.warn("Failed to clone data:",t,e),t}}const t9=["singleLine","tagEditor","listInput","checkbox","richTextEditor","multipleLine"];function Nw(t,e,n,r,i,s,o){const a=o?e[o]:e;switch(t){case"Symbol":{const u=fc(a,n);li.set(r,i,u);break}case"Text":{const u=fc(a,n);li.set(r,i,u);break}case"RichText":{J6({pointer:"",mappings:s,data:a,hiddenStrings:n});break}case"Array":{const u=a.map(c=>typeof c=="string"?fc(c,n):c);li.set(r,i,u);break}}}const Ou=(t,e,n,r,i)=>{if(!t.fields)return;const{contentSourceMaps:s}=t.sys;if(!s){console.error("Content source maps data is missing");return}const{mappings:o}=s;for(const a in o){const{source:u}=o[a],c=t.sys.space.sys.id,d=t.sys.environment.sys.id,p=t.sys.id,g=t.sys.type,w=e[u.fieldType],y=n[u.editorInterface];if(X6(y.widgetNamespace)&&!Z6(y.widgetId))continue;const v=a.startsWith("/")?a:`/${a}`;if(li.has(t,v)){const I=li.get(t,v);if(I===null)return;const E=v.split("/").pop();if(!E){console.error("Field name could not be extracted from the pointer",v);return}const S=t.sys.locale;if(S){const b=kw({entityId:p,entityType:g,space:c,environment:d,field:E,locale:S,editorInterface:y,fieldType:w,targetOrigin:r,platform:i});Nw(w,I,b,t,v,o)}else Object.keys(I).forEach(b=>{const N=kw({entityId:p,entityType:g,space:c,environment:d,field:E,locale:b,editorInterface:y,fieldType:w,targetOrigin:r,platform:i});Nw(w,I,N,t,`${v}/${b}`,o,b)})}}},n9=(t,e,n)=>{var r;const i=e9(t);if(i.sys&&"items"in i){const s=i;if(!((r=s.sys)!=null&&r.contentSourceMapsLookup))return console.error("Content source maps lookup data is missing"),s;const{contentSourceMapsLookup:{fieldTypes:o,editorInterfaces:a}}=s.sys,{items:u,includes:c}=s;u.forEach(d=>Ou(d,o,a,e,n)),c&&c.Entry&&c.Entry.forEach(d=>Ou(d,o,a,e,n)),c&&c.Asset&&c.Asset.forEach(d=>Ou(d,o,a,e,n))}else{const s=i;if(!s.sys.contentSourceMapsLookup)return console.error("Content source maps lookup data is missing"),s;Ou(s,s.sys.contentSourceMapsLookup.fieldTypes,s.sys.contentSourceMapsLookup.editorInterfaces,e,n)}return i};var r9=Function.prototype.toString,Hf=Object.create,i9=Object.defineProperty,s9=Object.getOwnPropertyDescriptor,Ow=Object.getOwnPropertyNames,Wy=Object.getOwnPropertySymbols,o9=Object.getPrototypeOf,wx=Object.prototype,a9=wx.hasOwnProperty,l9=wx.propertyIsEnumerable,Tx=typeof Wy=="function",u9=typeof WeakMap=="function",c9=function(){if(u9)return function(){return new WeakMap};var t=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(n){return!!~this._keys.indexOf(n)},e.prototype.get=function(n){return this._values[this._keys.indexOf(n)]},e.prototype.set=function(n,r){this._keys.push(n),this._values.push(r)},e}();return function(){return new t}}(),Sx=function(t,e){var n=t.__proto__||o9(t);if(!n)return Hf(null);var r=n.constructor;if(r===e.Object)return n===e.Object.prototype?{}:Hf(n);if(~r9.call(r).indexOf("[native code]"))try{return new r}catch{}return Hf(n)},d9=function(t,e,n,r){var i=Sx(t,e);r.set(t,i);for(var s in t)a9.call(t,s)&&(i[s]=n(t[s],r));if(Tx)for(var o=Wy(t),a=0,u=o.length,c=void 0;a<u;++a)c=o[a],l9.call(t,c)&&(i[c]=n(t[c],r));return i},Lw=function(t,e,n,r){var i=Sx(t,e);r.set(t,i);for(var s=Tx?Ow(t).concat(Wy(t)):Ow(t),o=0,a=s.length,u=void 0,c=void 0;o<a;++o)if(u=s[o],u!=="callee"&&u!=="caller")if(c=s9(t,u),c){!c.get&&!c.set&&(c.value=n(t[u],r));try{i9(i,u,c)}catch{i[u]=c.value}}else i[u]=n(t[u],r);return i},h9=function(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},f9=Array.isArray,p9=Object.getPrototypeOf,m9=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:(console&&console.error&&console.error('Unable to locate global object, returning "this".'),this)}();function vl(t,e){var n=!!(e&&e.isStrict),r=e&&e.realm||m9,i=n?Lw:d9,s=function(o,a){if(!o||typeof o!="object")return o;if(a.has(o))return a.get(o);var u=o.__proto__||p9(o),c=u&&u.constructor;if(!c||c===r.Object)return i(o,r,s,a);var d;if(f9(o)){if(n)return Lw(o,r,s,a);d=new c,a.set(o,d);for(var p=0,g=o.length;p<g;++p)d[p]=s(o[p],a);return d}if(o instanceof r.Date)return new c(o.getTime());if(o instanceof r.RegExp)return d=new c(o.source,o.flags||h9(o)),d.lastIndex=o.lastIndex,d;if(r.Map&&o instanceof r.Map)return d=new c,a.set(o,d),o.forEach(function(w,y){d.set(y,s(w,a))}),d;if(r.Set&&o instanceof r.Set)return d=new c,a.set(o,d),o.forEach(function(w){d.add(s(w,a))}),d;if(r.Blob&&o instanceof r.Blob)return o.slice(0,o.size,o.type);if(r.Buffer&&r.Buffer.isBuffer(o))return d=r.Buffer.allocUnsafe?r.Buffer.allocUnsafe(o.length):new c(o.length),a.set(o,d),o.copy(d),d;if(r.ArrayBuffer){if(r.ArrayBuffer.isView(o))return d=new c(o.buffer.slice(0)),a.set(o,d),d;if(o instanceof r.ArrayBuffer)return d=o.slice(0),a.set(o,d),d}return typeof o.then=="function"||o instanceof Error||r.WeakMap&&o instanceof r.WeakMap||r.WeakSet&&o instanceof r.WeakSet?o:i(o,r,s,a)};return s(t,c9())}vl.default=vl;vl.strict=function(e,n){return vl(e,{isStrict:!0,realm:n?n.realm:void 0})};var g9=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y9=function(){function t(e,n){var r=[],i=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),u;!(i=(u=a.next()).done)&&(r.push(u.value),!(n&&r.length===n));i=!0);}catch(c){s=!0,o=c}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function ha(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var _l={},v9=function(e){return e&&e.sys&&e.sys.type==="Link"},_9=function(e){return e&&e.sys&&e.sys.type==="ResourceLink"},E9=function(e){return e.space&&e.environment?[e.type+"!"+e.id,e.space.sys.id+"!"+e.environment.sys.id+"!"+e.type+"!"+e.id]:[e.type+"!"+e.id]},Dw=function(e,n){var r=n.entryId,i=n.linkType,s=n.spaceId,o=n.environmentId;return s&&o?e.get(s+"!"+o+"!"+i+"!"+r):e.get(i+"!"+r)},w9=function(e){var n=/.*:spaces\/([^/]+)(?:\/environments\/([^/]+))?\/entries\/([^/]+)$/;if(n.test(e)){var r=e.match(n),i=y9(r,4);i[0];var s=i[1],o=i[2],a=o===void 0?"master":o,u=i[3];return{spaceId:s,environmentId:a,entryId:u}}},T9=function(e,n){var r=n.sys,i=r.type,s=r.linkType;if(i==="ResourceLink"){if(!s.startsWith("Contentful:"))return n;var o=n.sys.urn,a=w9(o),u=a.spaceId,c=a.environmentId,d=a.entryId,p=s.split(":")[1];return Dw(e,{linkType:p,entryId:d,spaceId:u,environmentId:c})||_l}var g=n.sys.id;return Dw(e,{linkType:s,entryId:g})||_l},S9=function(e){if(Array.isArray(e))return e.filter(function(r){return r!==_l});for(var n in e)e[n]===_l&&delete e[n];return e},I9=function t(e,n,r,i){if(n(e))return r(e);if(e&&(typeof e>"u"?"undefined":g9(e))==="object"){for(var s in e)e.hasOwnProperty(s)&&(e[s]=t(e[s],n,r,i));i&&(e=S9(e))}return e},b9=function(e,n,r){var i=T9(e,n);return i===_l?r?i:n:i},A9=function(e,n){if(!Array.isArray(n))return e;var r=Object.keys(e).filter(function(i){return n.indexOf(i)!==-1});return r.reduce(function(i,s){return i[s]=e[s],i},{})},Ix=function(e,n){if(n=n||{},!e.items)return[];var r=vl(e),i=Object.keys(r.includes||{}).reduce(function(a,u){return[].concat(ha(a),ha(e.includes[u]))},[]),s=[].concat(ha(r.items),ha(i)).filter(function(a){return!!a.sys}),o=new Map(s.reduce(function(a,u){var c=E9(u.sys).map(function(d){return[d,u]});return a.push.apply(a,ha(c)),a},[]));return s.forEach(function(a){var u=A9(a,n.itemEntryPoints);Object.assign(a,I9(u,function(c){return v9(c)||_9(c)},function(c){return b9(o,c,n.removeUnresolved)},n.removeUnresolved))}),r.items},Om={exports:{}};(function(t,e){e=t.exports=n,e.getSerialize=r;function n(i,s,o,a){return JSON.stringify(i,r(s,a),o)}function r(i,s){var o=[],a=[];return s==null&&(s=function(u,c){return o[0]===c?"[Circular ~]":"[Circular ~."+a.slice(0,o.indexOf(c)).join(".")+"]"}),function(u,c){if(o.length>0){var d=o.indexOf(this);~d?o.splice(d+1):o.push(this),~d?a.splice(d,1/0,u):a.push(u),~o.indexOf(c)&&(c=s.call(this,u,c))}else o.push(c);return i==null?c:i.call(this,u,c)}}})(Om,Om.exports);var x9=Om.exports;const R9=Ar(x9);function bx(t){return Object.defineProperty(t,"stringifySafe",{enumerable:!1,configurable:!1,writable:!1,value:function(e=null,n=""){return R9(this,e,n,(r,i)=>({sys:{type:"Link",linkType:"Entry",id:i.sys.id,circular:!0}}))}})}async function C9(t,e,n){if(!e||!e.initial&&!e.nextSyncToken&&!e.nextPageToken)throw new Error("Please provide one of `initial`, `nextSyncToken` or `nextPageToken` parameters for syncing");if(e.content_type&&!e.type)e.type="Entry";else if(e.content_type&&e.type&&e.type!=="Entry")throw new Error("When using the `content_type` filter your `type` parameter cannot be different from `Entry`.");const r={withoutLinkResolution:!1,withoutUnresolvableLinks:!1,paginate:!0},{withoutLinkResolution:i,withoutUnresolvableLinks:s,paginate:o}=Object.assign(Object.assign({},r),n),a=await Ax(t,[],e,{paginate:o});i||(a.items=Ix(a,{removeUnresolved:s,itemEntryPoints:["fields"]}));const u=P9(a.items);return a.nextSyncToken&&(u.nextSyncToken=a.nextSyncToken),a.nextPageToken&&(u.nextPageToken=a.nextPageToken),S6(bx(yx(u)))}function P9(t){const e=n=>(r,i)=>(i.sys.type===n&&r.push(yx(i)),r);return{entries:t.reduce(e("Entry"),[]),assets:t.reduce(e("Asset"),[]),deletedEntries:t.reduce(e("DeletedEntry"),[]),deletedAssets:t.reduce(e("DeletedAsset"),[])}}function k9(t){return t.nextPageToken?{sync_token:t.nextPageToken}:t.nextSyncToken?{sync_token:t.nextSyncToken}:t.sync_token?{sync_token:t.sync_token}:t}async function Ax(t,e,n,{paginate:r}){const i=k9(n),o=(await t.get("sync",En({query:i}))).data||{};return e=e.concat(o.items||[]),o.nextPageUrl?r?(delete i.initial,i.sync_token=Kf(o.nextPageUrl),Ax(t,e,i,{paginate:r})):{items:e,nextPageToken:Kf(o.nextPageUrl)}:o.nextSyncUrl?{items:e,nextSyncToken:Kf(o.nextSyncUrl)}:{items:[]}}function Kf(t){const e=t.split("?");return e.length>0?e[1].replace("sync_token=",""):""}function Ni(t){const e={};let n=!1;for(const r in t)Array.isArray(t[r])&&(e[r]=t[r].join(","),n=!0);return n?Object.assign(Object.assign({},t),e):t}function xx(t){if(!t.select)return new Set;const e=Array.isArray(t.select)?t.select:t.select.split(",").map(n=>n.trim());return new Set(e)}function nr(t){if(!t.select)return t;const e=xx(t);return e.has("sys")?t:(e.add("sys.id"),e.add("sys.type"),Object.assign(Object.assign({},t),{select:[...e].join(",")}))}function jw(t,{resolveLinks:e,removeUnresolved:n}){const r=bx(t);return e&&(r.items=Ix(r,{removeUnresolved:n,itemEntryPoints:["fields"]})),r}class gr extends Error{constructor(e,n){super(`Invalid "${e}" provided, `+n),this.name="ValidationError"}}function N9(t,e,n){if(n=n||{},typeof e!="number")throw new gr(t,`only numeric values are allowed for timestamps, provided type was "${typeof e}"`);if(n.maximum&&e>n.maximum)throw new gr(t,`value (${e}) cannot be further in the future than expected maximum (${n.maximum})`);if(n.now&&e<n.now)throw new gr(t,`value (${e}) cannot be in the past, current time was ${n.now}`)}function O9(t){if(t.locale==="*")throw new gr("locale",`The use of locale='*' is no longer supported.To fetch an entry in all existing locales,
      use client.withAllLocales instead of the locale='*' parameter.`)}function L9(t){if(t.locale)throw new gr("locale","The `locale` parameter is not allowed")}function Lu(t,e){e?L9(t):O9(t)}function pc(t){if("resolveLinks"in t)throw new gr("resolveLinks",`The use of the 'resolveLinks' parameter is no longer supported. By default, links are resolved.
      If you do not want to resolve links, use client.withoutLinkResolution.`)}function mc(t){if("removeUnresolved"in t)throw new gr("removeUnresolved",`The use of the 'removeUnresolved' parameter is no longer supported. By default, unresolved links are kept as link objects.
      If you do not want to include unresolved links, use client.withoutUnresolvableLinks.`)}function D9(t,e){if(e===void 0)return!1;if(typeof e!="boolean")throw new gr("includeContentSourceMaps","The 'includeContentSourceMaps' parameter must be a boolean.");if(e&&!(t==="preview.contentful.com"))throw new gr("includeContentSourceMaps",`The 'includeContentSourceMaps' parameter can only be used with the CPA. Please set host to 'preview.contentful.com' to include Content Source Maps.
      `);return e}function Ss(t){for(const e in t){const n=t[e];if(typeof n=="object"&&n!==null&&!Array.isArray(n))throw new Error(`Objects are not supported as value for the "${e}" query parameter.`)}}const j9=48*60*60;class M9 extends Error{constructor(e,n,r){super("The resource could not be found."),this.sys={type:"Error",id:"NotFound"},this.details={type:"Entry",id:e,environment:n,space:r}}}function Rx({http:t,getGlobalOptions:e},n){const r=(F="unknown")=>new M9(F,e().environment,e().space),i=F=>{let J=F==="space"?e().spaceBaseUrl:e().environmentBaseUrl;if(!J)throw new Error("Please define baseUrl for "+F);return J.endsWith("/")||(J+="/"),J};function s(F={}){var J,L;const B=t.httpClientParams,Q=(J=B==null?void 0:B.includeContentSourceMaps)!==null&&J!==void 0?J:(L=B==null?void 0:B.alphaFeatures)===null||L===void 0?void 0:L.includeContentSourceMaps,$=B==null?void 0:B.host;if(D9($,Q)&&(F.includeContentSourceMaps=!0,F.select)){const Z=xx(F);Z.add("sys"),F.select=Array.from(Z).join(",")}return F}function o(F,J){var L;return((L=J==null?void 0:J.params)===null||L===void 0?void 0:L.includeContentSourceMaps)?n9(F):F}async function a({context:F,path:J,config:L}){const B=i(F);try{const Q=await t.get(B+J,L);return o(Q.data,L)}catch(Q){_n(Q)}}async function u({context:F,path:J,data:L,config:B}){const Q=i(F);try{return(await t.post(Q+J,L,B)).data}catch($){_n($)}}async function c(){return a({context:"space",path:""})}async function d(F){return a({context:"environment",path:`content_types/${F}`})}async function p(F={}){return a({context:"environment",path:"content_types",config:En({query:F})})}async function g(F,J={}){return y(F,J,n)}async function w(F={}){return I(F,n)}async function y(F,J,L={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:B}=L;return Lu(J,B),pc(J),mc(J),Ss(J),v(F,B?Object.assign(Object.assign({},J),{locale:"*"}):J,L)}async function v(F,J,L){if(!F)throw r(F);try{const B=await E(Object.assign({"sys.id":F},s(J)),L);if(B.items.length>0)return B.items[0];throw r(F)}catch(B){_n(B)}}async function I(F,J={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:L}=J;return Lu(F,L),pc(F),mc(F),Ss(F),E(L?Object.assign(Object.assign({},F),{locale:"*"}):F,J)}async function E(F,J){const{withoutLinkResolution:L,withoutUnresolvableLinks:B}=J;try{const Q=await a({context:"environment",path:"entries",config:En({query:s(Ni(nr(F)))})});return jw(Q,{resolveLinks:!L,removeUnresolved:B??!1})}catch(Q){_n(Q)}}async function S(F,J={}){return z(F,J,n)}async function b(F={}){return N(F,n)}async function N(F,J={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:L}=J;Lu(F,L),Ss(F);const B=L?Object.assign(Object.assign({},F),{locale:"*"}):F;return A(B)}async function M(F,J){try{return a({context:"environment",path:`assets/${F}`,config:En({query:s(nr(J))})})}catch(L){_n(L)}}async function z(F,J,L={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:B}=L;Lu(J,B),Ss(J);const Q=B?Object.assign(Object.assign({},J),{locale:"*"}):J;return M(F,Q)}async function A(F){try{return a({context:"environment",path:"assets",config:En({query:s(Ni(nr(F)))})})}catch(J){_n(J)}}async function T(F){return a({context:"environment",path:`tags/${F}`})}async function x(F={}){return Ss(F),a({context:"environment",path:"tags",config:En({query:Ni(nr(F))})})}async function C(F){try{const J=Math.floor(Date.now()/1e3),L=J+j9;N9("expiresAt",F,{maximum:L,now:J})}catch(J){_n(J)}return u({context:"environment",path:"asset_keys",data:{expiresAt:F}})}async function P(F={}){return Ss(F),a({context:"environment",path:"locales",config:En({query:nr(F)})})}async function k(F,J={paginate:!0}){return R(F,J,n)}async function R(F,J,L={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){pc(F),mc(F);const B=Object.assign(Object.assign({},J),L);return Qt(t),C9(t,F,B)}function xe(F){return Me(F,n)}function Me(F,J={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){return Y(F,J)}function Y(F,J){const{withoutLinkResolution:L,withoutUnresolvableLinks:B}=J;return jw(F,{resolveLinks:!L,removeUnresolved:B??!1})}function ee(F,J={}){return H(F,J)}async function H(F,J={}){try{return a({context:"environment",path:`taxonomy/concept-schemes/${F}`,config:En({query:Ni(nr(J))})})}catch(L){_n(L)}}function ne(F={}){return q(F)}async function q(F={}){try{return a({context:"environment",path:"taxonomy/concept-schemes",config:En({query:Ni(nr(F))})})}catch(J){_n(J)}}function he(F,J={}){return ue(F,J)}async function ue(F,J={}){try{return a({context:"environment",path:`taxonomy/concepts/${F}`,config:En({query:Ni(nr(J))})})}catch(L){_n(L)}}function Ae(F={}){return wt(F)}async function wt(F={}){try{return a({context:"environment",path:"taxonomy/concepts",config:En({query:Ni(nr(F))})})}catch(J){_n(J)}}function Qt(F){F.defaults.baseURL=e().environmentBaseUrl}return{version:"11.3.1",getSpace:c,getContentType:d,getContentTypes:p,getAsset:S,getAssets:b,getTag:T,getTags:x,getLocales:P,parseEntries:xe,sync:k,getEntry:g,getEntries:w,getConceptScheme:ee,getConceptSchemes:ne,getConcept:he,getConcepts:Ae,createAssetKey:C}}function V9({http:t,getGlobalOptions:e},n,r){const i=Rx({http:t,getGlobalOptions:e},n),s=i||{};return Object.defineProperty(s,"withAllLocales",{get:()=>r(Object.assign(Object.assign({},n),{withAllLocales:!0}))}),Object.defineProperty(s,"withoutLinkResolution",{get:()=>r(Object.assign(Object.assign({},n),{withoutLinkResolution:!0}))}),Object.defineProperty(s,"withoutUnresolvableLinks",{get:()=>r(Object.assign(Object.assign({},n),{withoutUnresolvableLinks:!0}))}),Object.create(s)}const U9=({http:t,getGlobalOptions:e})=>{function n(i){return V9({http:t,getGlobalOptions:e},i,n)}const r=Rx({http:t,getGlobalOptions:e},{withoutLinkResolution:!1,withAllLocales:!1,withoutUnresolvableLinks:!1});return Object.assign(Object.assign({},r),{get withAllLocales(){return n({withAllLocales:!0,withoutLinkResolution:!1,withoutUnresolvableLinks:!1})},get withoutLinkResolution(){return n({withAllLocales:!1,withoutLinkResolution:!0,withoutUnresolvableLinks:!1})},get withoutUnresolvableLinks(){return n({withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!0})}})};function F9(t){if(!t.accessToken)throw new TypeError("Expected parameter accessToken");if(!t.space)throw new TypeError("Expected parameter space");pc(t),mc(t);const n=Object.assign(Object.assign({},{resolveLinks:!0,removeUnresolved:!1,defaultHostname:"cdn.contentful.com",environment:"master"}),t),r=b6("contentful.js/11.3.1",n.application,n.integration);n.headers=Object.assign(Object.assign({},n.headers),{"Content-Type":"application/vnd.contentful.delivery.v1+json","X-Contentful-User-Agent":r});const i=mx(Qe,n);if(!i.defaults.baseURL)throw new Error("Please define a baseURL");const s=B6({space:n.space,environment:n.environment,spaceBaseUrl:i.defaults.baseURL,environmentBaseUrl:`${i.defaults.baseURL}environments/${n.environment}`});return i.defaults.baseURL=s({}).environmentBaseUrl,U9({http:i,getGlobalOptions:s})}var zs={},B9=t=>{if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype};(function(t){var e=B9;t.BLOCKS=void 0,function(L){L.DOCUMENT="document",L.PARAGRAPH="paragraph",L.HEADING_1="heading-1",L.HEADING_2="heading-2",L.HEADING_3="heading-3",L.HEADING_4="heading-4",L.HEADING_5="heading-5",L.HEADING_6="heading-6",L.OL_LIST="ordered-list",L.UL_LIST="unordered-list",L.LIST_ITEM="list-item",L.HR="hr",L.QUOTE="blockquote",L.EMBEDDED_ENTRY="embedded-entry-block",L.EMBEDDED_ASSET="embedded-asset-block",L.EMBEDDED_RESOURCE="embedded-resource-block",L.TABLE="table",L.TABLE_ROW="table-row",L.TABLE_CELL="table-cell",L.TABLE_HEADER_CELL="table-header-cell"}(t.BLOCKS||(t.BLOCKS={})),t.INLINES=void 0,function(L){L.ASSET_HYPERLINK="asset-hyperlink",L.EMBEDDED_ENTRY="embedded-entry-inline",L.EMBEDDED_RESOURCE="embedded-resource-inline",L.ENTRY_HYPERLINK="entry-hyperlink",L.HYPERLINK="hyperlink",L.RESOURCE_HYPERLINK="resource-hyperlink"}(t.INLINES||(t.INLINES={})),t.MARKS=void 0,function(L){L.BOLD="bold",L.ITALIC="italic",L.UNDERLINE="underline",L.CODE="code",L.SUPERSCRIPT="superscript",L.SUBSCRIPT="subscript",L.STRIKETHROUGH="strikethrough"}(t.MARKS||(t.MARKS={}));var n=function(L,B){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,$){Q.__proto__=$}||function(Q,$){for(var G in $)Object.prototype.hasOwnProperty.call($,G)&&(Q[G]=$[G])},n(L,B)};function r(L,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");n(L,B);function Q(){this.constructor=L}L.prototype=B===null?Object.create(B):(Q.prototype=B.prototype,new Q)}function i(L,B,Q){if(Q||arguments.length===2)for(var $=0,G=B.length,Z;$<G;$++)(Z||!($ in B))&&(Z||(Z=Array.prototype.slice.call(B,0,$)),Z[$]=B[$]);return L.concat(Z||Array.prototype.slice.call(B))}typeof SuppressedError=="function"&&SuppressedError;var s,o=[t.BLOCKS.PARAGRAPH,t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6,t.BLOCKS.OL_LIST,t.BLOCKS.UL_LIST,t.BLOCKS.HR,t.BLOCKS.QUOTE,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.BLOCKS.EMBEDDED_RESOURCE,t.BLOCKS.TABLE],a=[t.BLOCKS.PARAGRAPH,t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6,t.BLOCKS.OL_LIST,t.BLOCKS.UL_LIST,t.BLOCKS.HR,t.BLOCKS.QUOTE,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.BLOCKS.EMBEDDED_RESOURCE],u=[t.BLOCKS.TABLE,t.BLOCKS.TABLE_ROW,t.BLOCKS.TABLE_CELL,t.BLOCKS.TABLE_HEADER_CELL],c=[t.BLOCKS.HR,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.BLOCKS.EMBEDDED_RESOURCE],d=(s={},s[t.BLOCKS.OL_LIST]=[t.BLOCKS.LIST_ITEM],s[t.BLOCKS.UL_LIST]=[t.BLOCKS.LIST_ITEM],s[t.BLOCKS.LIST_ITEM]=a,s[t.BLOCKS.QUOTE]=[t.BLOCKS.PARAGRAPH],s[t.BLOCKS.TABLE]=[t.BLOCKS.TABLE_ROW],s[t.BLOCKS.TABLE_ROW]=[t.BLOCKS.TABLE_CELL,t.BLOCKS.TABLE_HEADER_CELL],s[t.BLOCKS.TABLE_CELL]=[t.BLOCKS.PARAGRAPH,t.BLOCKS.UL_LIST,t.BLOCKS.OL_LIST],s[t.BLOCKS.TABLE_HEADER_CELL]=[t.BLOCKS.PARAGRAPH],s),p=[t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6],g=i([t.BLOCKS.PARAGRAPH],p,!0),w=[t.BLOCKS.DOCUMENT,t.BLOCKS.PARAGRAPH,t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6,t.BLOCKS.OL_LIST,t.BLOCKS.UL_LIST,t.BLOCKS.LIST_ITEM,t.BLOCKS.HR,t.BLOCKS.QUOTE,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.INLINES.HYPERLINK,t.INLINES.ENTRY_HYPERLINK,t.INLINES.ASSET_HYPERLINK,t.INLINES.EMBEDDED_ENTRY,"text"],y=[t.MARKS.BOLD,t.MARKS.CODE,t.MARKS.ITALIC,t.MARKS.UNDERLINE],v={nodeType:t.BLOCKS.DOCUMENT,data:{},content:[{nodeType:t.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};function I(L,B){for(var Q=0,$=Object.keys(L);Q<$.length;Q++){var G=$[Q];if(B===L[G])return!0}return!1}function E(L){return I(t.INLINES,L.nodeType)}function S(L){return I(t.BLOCKS,L.nodeType)}function b(L){return L.nodeType==="text"}var N=Object.freeze({__proto__:null,isBlock:S,isInline:E,isText:b}),M=function(L){var B=L.path,Q=L.property,$=L.typeName,G=L.value;return{details:'The type of "'.concat(Q,'" is incorrect, expected type: ').concat($),name:"type",path:B.toArray(),type:$,value:G}},z=function(L){var B=L.min,Q=L.value,$=L.path;return{name:"size",min:B,path:$.toArray(),details:"Size must be at least ".concat(B),value:Q}},A=function(L){var B=L.max,Q=L.value,$=L.path;return{name:"size",max:B,path:$.toArray(),details:"Size must be at most ".concat(B),value:Q}},T=function(L){var B=L.expected,Q=L.value,$=L.path;return{details:"Value must be one of expected values",name:"in",expected:i([],B,!0).sort(),path:$.toArray(),value:Q}},x=function(L){var B=L.property,Q=L.path;return{details:'The property "'.concat(B,'" is not expected'),name:"unexpected",path:Q.toArray()}},C=function(L){var B=L.property,Q=L.path;return{details:'The property "'.concat(B,'" is required here'),name:"required",path:Q.toArray()}},P=function(){function L(B,Q){var $=this;this.obj=B,this.path=Q,this._errors=[],this.catch=function(){for(var G,Z=[],pe=0;pe<arguments.length;pe++)Z[pe]=arguments[pe];(G=$._errors).push.apply(G,Z)},this.exists=function(G){return G in $.obj?!0:($.catch(C({property:G,path:$.path.of(G)})),!1)},this.object=function(G){var Z,pe=G?$.obj[G]:$.obj;if(G&&!$.exists(G))return!1;if(e(pe))return!0;var lt=G?$.path.of(G):$.path,ut=(Z=G??$.path.last())!==null&&Z!==void 0?Z:"value";return $.catch(M({typeName:"Object",property:ut,path:lt,value:pe})),!1},this.string=function(G){var Z=$.obj[G];return G&&!$.exists(G)?!1:typeof Z=="string"?!0:($.catch(M({typeName:"String",property:G,path:$.path.of(G),value:Z})),!1)},this.number=function(G,Z){var pe=$.obj[G];return Z&&!(G in $.obj)?!0:$.exists(G)?typeof pe=="number"&&!Number.isNaN(pe)?!0:($.catch(M({typeName:"Number",property:G,path:$.path.of(G),value:pe})),!1):!1},this.array=function(G){var Z=$.obj[G];return G&&!$.exists(G)?!1:Array.isArray(Z)?!0:($.catch(M({typeName:"Array",property:G,path:$.path.of(G),value:Z})),!1)},this.enum=function(G,Z){var pe=$.obj[G];return typeof pe=="string"&&Z.includes(pe)?!0:($.catch(T({expected:Z,value:pe,path:$.path.of(G)})),!1)},this.empty=function(G){if(!$.array(G))return!1;var Z=$.obj[G];return Z.length===0?!0:($.catch(A({max:0,value:Z,path:$.path.of(G)})),!1)},this.minLength=function(G,Z){if(!$.array(G))return!1;var pe=$.obj[G];return pe.length>=Z?!0:($.catch(z({min:Z,value:pe,path:$.path.of(G)})),!1)},this.noAdditionalProperties=function(G){var Z=Object.keys($.obj).sort().filter(function(pe){return!G.includes(pe)});return Z.forEach(function(pe){return $.catch(x({property:pe,path:$.path.of(pe)}))}),Z.length===0},this.each=function(G,Z){if($.array(G)){var pe=$.obj[G],lt=!1;pe.forEach(function(ut,Ai){if(!lt){var ps=Z(ut,$.path.of(G).of(Ai));ps.length>0&&(lt=!0),$.catch.apply($,ps)}})}}}return Object.defineProperty(L.prototype,"errors",{get:function(){var B=this,Q=function($){return JSON.stringify({details:$.details,path:$.path})};return this._errors.filter(function($,G){return B._errors.findIndex(function(Z){return Q($)===Q(Z)})===G})},enumerable:!1,configurable:!0}),L}(),k=[],R=function(){function L(B,Q){this.contentRule=B,this.validateData=Q}return L.prototype.assert=function(B,Q){var $,G,Z=new P(B,Q);if(!Z.object())return Z.errors;Z.noAdditionalProperties(["nodeType","data","content"]);var pe=Array.isArray(this.contentRule)?{nodeTypes:this.contentRule}:this.contentRule(B,Q),lt=pe.nodeTypes,ut=pe.min,Ai=ut===void 0?0:ut;if(lt.length===0&&Ai>0)throw new Error("Invalid content rule. Cannot have enforce a 'min' of ".concat(Ai," with no nodeTypes"));if(Z.minLength("content",Ai),lt.length===0?Z.empty("content"):Z.each("content",function(Bl,Vo){var xi=new P(Bl,Vo);return xi.object()&&xi.enum("nodeType",lt),xi.errors}),Z.object("data")){var ps=(G=($=this.validateData)===null||$===void 0?void 0:$.call(this,B.data,Q.of("data")))!==null&&G!==void 0?G:[];Z.catch.apply(Z,ps)}return Z.errors},L}(),xe=function(L){r(B,L);function B(Q,$){var G=L.call(this,$,function(Z,pe){return G.assertLink(Z,pe)})||this;return G.linkType=Q,G.assertLink=function(Z,pe){var lt=new P(Z,pe);if(lt.object("target")){var ut=new P(Z.target.sys,pe.of("target").of("sys"));ut.object()&&(ut.enum("type",[G.type]),ut.enum("linkType",[G.linkType]),G.type==="Link"?(ut.string("id"),ut.noAdditionalProperties(["type","linkType","id"])):G.type==="ResourceLink"&&(ut.string("urn"),ut.noAdditionalProperties(["type","linkType","urn"]))),lt.catch.apply(lt,ut.errors)}return lt.noAdditionalProperties(["target"]),lt.errors},G.type=G.linkType.startsWith("Contentful:")?"ResourceLink":"Link",G}return B}(R),Me=function(L){r(B,L);function B(){var Q=L.call(this,["text"],function($,G){return Q.assertLink($,G)})||this;return Q.assertLink=function($,G){var Z=new P($,G);return Z.string("uri"),Z.noAdditionalProperties(["uri"]),Z.errors},Q}return B}(R),Y=function(L,B){return new R(L,B)},ee=function(L,B){return new xe(L,B)},H=function(){function L(B){B===void 0&&(B=[]);var Q=this;this.path=B,this.of=function($){return new L(i(i([],Q.path,!0),[$],!1))},this.isRoot=function(){return Q.path.length===0},this.last=function(){return Q.path[Q.path.length-1]},this.toArray=function(){return Q.path}}return L}();function ne(L,B){var Q=new P(L,B);return Q.object()&&(Q.noAdditionalProperties(["nodeType","data","value","marks"]),Q.object("data"),Q.each("marks",function($,G){var Z=new P($,G);return Z.object()&&Z.string("type"),Z.errors}),Q.string("value")),Q.errors}var q,he=Y(i(i([],Object.values(t.INLINES),!0),["text"],!1).sort()),ue=Y([t.BLOCKS.LIST_ITEM]),Ae=ee("Entry",k),wt=Y(function(){return{nodeTypes:[t.BLOCKS.PARAGRAPH],min:1}},function(L,B){var Q=new P(L,B);return Q.noAdditionalProperties(["colspan","rowspan"]),Q.number("colspan",!0),Q.number("rowspan",!0),Q.errors}),Qt=(q={},q[t.BLOCKS.DOCUMENT]=Y(o),q[t.BLOCKS.PARAGRAPH]=he,q[t.BLOCKS.HEADING_1]=he,q[t.BLOCKS.HEADING_2]=he,q[t.BLOCKS.HEADING_3]=he,q[t.BLOCKS.HEADING_4]=he,q[t.BLOCKS.HEADING_5]=he,q[t.BLOCKS.HEADING_6]=he,q[t.BLOCKS.QUOTE]=Y(d[t.BLOCKS.QUOTE]),q[t.BLOCKS.EMBEDDED_ENTRY]=Ae,q[t.BLOCKS.EMBEDDED_ASSET]=ee("Asset",k),q[t.BLOCKS.EMBEDDED_RESOURCE]=ee("Contentful:Entry",k),q[t.BLOCKS.HR]=Y(k),q[t.BLOCKS.OL_LIST]=ue,q[t.BLOCKS.UL_LIST]=ue,q[t.BLOCKS.LIST_ITEM]=Y(i([],a,!0).sort()),q[t.BLOCKS.TABLE]=Y(function(){return{nodeTypes:[t.BLOCKS.TABLE_ROW],min:1}}),q[t.BLOCKS.TABLE_ROW]=Y(function(){return{nodeTypes:[t.BLOCKS.TABLE_CELL,t.BLOCKS.TABLE_HEADER_CELL],min:1}}),q[t.BLOCKS.TABLE_CELL]=wt,q[t.BLOCKS.TABLE_HEADER_CELL]=wt,q[t.INLINES.HYPERLINK]=new Me,q[t.INLINES.EMBEDDED_ENTRY]=Ae,q[t.INLINES.EMBEDDED_RESOURCE]=ee("Contentful:Entry",k),q[t.INLINES.ENTRY_HYPERLINK]=ee("Entry",["text"]),q[t.INLINES.ASSET_HYPERLINK]=ee("Asset",["text"]),q[t.INLINES.RESOURCE_HYPERLINK]=ee("Contentful:Entry",["text"]),q);function F(L,B){if(L.nodeType==="text")return ne(L,B);var Q=Qt[L.nodeType].assert(L,B);if(Q.length>0)return Q;var $=new P(L,B);return $.each("content",function(G,Z){return F(G,Z)}),$.errors}var J=function(L){var B=new H,Q=new P(L,B);return Q.object()&&Q.enum("nodeType",[t.BLOCKS.DOCUMENT]),Q.errors.length>0?Q.errors:F(L,B)};t.CONTAINERS=d,t.EMPTY_DOCUMENT=v,t.HEADINGS=p,t.LIST_ITEM_BLOCKS=a,t.TABLE_BLOCKS=u,t.TEXT_CONTAINERS=g,t.TOP_LEVEL_BLOCKS=o,t.V1_MARKS=y,t.V1_NODE_TYPES=w,t.VOID_BLOCKS=c,t.helpers=N,t.validateRichTextDocument=J})(zs);var we=V,fe=zs,Hs=function(){return Hs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Hs.apply(this,arguments)};function $9(t,e){return we.isValidElement(t)&&t.key===null?we.cloneElement(t,{key:e}):t}function z9(t,e){return t.map(function(n,r){return $9(Cx(n,e),r)})}function Cx(t,e){var n=e.renderNode,r=e.renderMark,i=e.renderText,s=e.preserveWhitespace;if(fe.helpers.isText(t)){var o=i?i(t.value):t.value;if(s&&!i){o=o.replace(/ {2,}/g,function(d){return" ".repeat(d.length)});var a=o.split(`
`),u=[];a.forEach(function(d,p){u.push(d),p!==a.length-1&&u.push(we.createElement("br",null))}),o=u}return t.marks.reduce(function(d,p){return r[p.type]?r[p.type](d):d},o)}else{var c=z9(t.content,e);return!t.nodeType||!n[t.nodeType]?we.createElement(we.Fragment,null,c):n[t.nodeType](t,c)}}var Ce,rr,H9=(Ce={},Ce[fe.BLOCKS.DOCUMENT]=function(t,e){return e},Ce[fe.BLOCKS.PARAGRAPH]=function(t,e){return we.createElement("p",null,e)},Ce[fe.BLOCKS.HEADING_1]=function(t,e){return we.createElement("h1",null,e)},Ce[fe.BLOCKS.HEADING_2]=function(t,e){return we.createElement("h2",null,e)},Ce[fe.BLOCKS.HEADING_3]=function(t,e){return we.createElement("h3",null,e)},Ce[fe.BLOCKS.HEADING_4]=function(t,e){return we.createElement("h4",null,e)},Ce[fe.BLOCKS.HEADING_5]=function(t,e){return we.createElement("h5",null,e)},Ce[fe.BLOCKS.HEADING_6]=function(t,e){return we.createElement("h6",null,e)},Ce[fe.BLOCKS.EMBEDDED_ENTRY]=function(t,e){return we.createElement("div",null,e)},Ce[fe.BLOCKS.EMBEDDED_RESOURCE]=function(t,e){return we.createElement("div",null,e)},Ce[fe.BLOCKS.UL_LIST]=function(t,e){return we.createElement("ul",null,e)},Ce[fe.BLOCKS.OL_LIST]=function(t,e){return we.createElement("ol",null,e)},Ce[fe.BLOCKS.LIST_ITEM]=function(t,e){return we.createElement("li",null,e)},Ce[fe.BLOCKS.QUOTE]=function(t,e){return we.createElement("blockquote",null,e)},Ce[fe.BLOCKS.HR]=function(){return we.createElement("hr",null)},Ce[fe.BLOCKS.TABLE]=function(t,e){return we.createElement("table",null,we.createElement("tbody",null,e))},Ce[fe.BLOCKS.TABLE_ROW]=function(t,e){return we.createElement("tr",null,e)},Ce[fe.BLOCKS.TABLE_HEADER_CELL]=function(t,e){return we.createElement("th",null,e)},Ce[fe.BLOCKS.TABLE_CELL]=function(t,e){return we.createElement("td",null,e)},Ce[fe.INLINES.ASSET_HYPERLINK]=function(t){return qf(fe.INLINES.ASSET_HYPERLINK,t)},Ce[fe.INLINES.ENTRY_HYPERLINK]=function(t){return qf(fe.INLINES.ENTRY_HYPERLINK,t)},Ce[fe.INLINES.RESOURCE_HYPERLINK]=function(t){return Mw(fe.INLINES.RESOURCE_HYPERLINK,t)},Ce[fe.INLINES.EMBEDDED_ENTRY]=function(t){return qf(fe.INLINES.EMBEDDED_ENTRY,t)},Ce[fe.INLINES.EMBEDDED_RESOURCE]=function(t,e){return Mw(fe.INLINES.EMBEDDED_RESOURCE,t)},Ce[fe.INLINES.HYPERLINK]=function(t,e){return we.createElement("a",{href:t.data.uri},e)},Ce),K9=(rr={},rr[fe.MARKS.BOLD]=function(t){return we.createElement("b",null,t)},rr[fe.MARKS.ITALIC]=function(t){return we.createElement("i",null,t)},rr[fe.MARKS.UNDERLINE]=function(t){return we.createElement("u",null,t)},rr[fe.MARKS.CODE]=function(t){return we.createElement("code",null,t)},rr[fe.MARKS.SUPERSCRIPT]=function(t){return we.createElement("sup",null,t)},rr[fe.MARKS.SUBSCRIPT]=function(t){return we.createElement("sub",null,t)},rr[fe.MARKS.STRIKETHROUGH]=function(t){return we.createElement("s",null,t)},rr);function qf(t,e){return we.createElement("span",{key:e.data.target.sys.id},"type: ",e.nodeType," id: ",e.data.target.sys.id)}function Mw(t,e){return we.createElement("span",{key:e.data.target.sys.urn},"type: ",e.nodeType," urn: ",e.data.target.sys.urn)}function q9(t,e){return e===void 0&&(e={}),t?Cx(t,{renderNode:Hs(Hs({},H9),e.renderNode),renderMark:Hs(Hs({},K9),e.renderMark),renderText:e.renderText,preserveWhitespace:e.preserveWhitespace}):null}var W9=q9;const G9=F9({space:"pyaejmbpwnt8",accessToken:"ymHPDZdnv7_Uh4lWvhojmA0hlvwHm_5uzNCfoA-ODG4"});function Q9(){const[t,e]=V.useState([]),[n,r]=V.useState("General"),[i,s]=V.useState(null),[o,a]=V.useState(!0);V.useEffect(()=>{(async()=>{try{const I=(await G9.getEntries({content_type:"blogPost",select:["fields.title","fields.category","fields.excerpt","fields.content","fields.author","fields.date"]})).items.map(E=>({id:E.sys.id,title:E.fields.title,category:E.fields.category,excerpt:E.fields.excerpt,content:E.fields.content,author:E.fields.author,date:E.fields.date}));e(I)}catch(v){console.error("Error fetching articles:",v)}finally{a(!1)}})()},[]);const u=n==="General"?t:t.filter(y=>y.category===n),c=["General","Acheteur","Vendeur","Investisseur"],d=()=>f.jsx("div",{className:"flex flex-col space-y-2",children:c.map(y=>f.jsx("button",{className:`text-left py-2 px-4 rounded transition-colors ${n===y?"bg-primary text-white font-semibold":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>{r(y),s(null)},children:y.charAt(0).toUpperCase()+y.slice(1)},y))}),p=({article:y})=>f.jsxs("article",{className:"bg-white border border-primary rounded-lg p-6 transition-shadow duration-300 hover:shadow-md hover:sahdow-primary",children:[f.jsx("h2",{className:"text-2xl font-serif font-semibold mb-2",children:f.jsx("a",{href:"#",onClick:v=>{v.preventDefault(),s(y)},className:"text-gray-800 hover:text-primary transition-colors",children:y.title})}),f.jsx("p",{className:"text-gray-600 mb-4",children:y.excerpt}),f.jsxs("div",{className:"flex justify-between items-center text-sm",children:[f.jsxs("span",{className:"text-gray-500",children:["Par ",y.author," | ",y.date]}),f.jsx("button",{onClick:()=>s(y),className:"text-electrique hover:text-blue-800 transition-colors font-semibold",children:"Lire la suite →"})]})]}),g=()=>f.jsx("div",{className:"space-y-6",children:u.map(y=>f.jsx(p,{article:y},y.id))}),w=({article:y})=>{const v={renderNode:{[zs.BLOCKS.PARAGRAPH]:(I,E)=>f.jsx("p",{className:"text-gray-700 mb-4",children:E}),[zs.BLOCKS.HEADING_1]:(I,E)=>f.jsx("h1",{className:"text-3xl font-bold mb-4",children:E}),[zs.BLOCKS.HEADING_2]:(I,E)=>f.jsx("h2",{className:"text-2xl font-semibold mb-3",children:E})},renderMark:{[zs.MARKS.BOLD]:I=>f.jsx("strong",{className:"font-bold",children:I})}};return f.jsxs("article",{className:"bg-white border border-gray-200 rounded-lg p-8",children:[f.jsx("h1",{className:"text-4xl font-serif font-bold mb-4 text-gray-800",children:y.title}),f.jsxs("div",{className:"text-sm text-gray-500 mb-6",children:[f.jsxs("span",{children:["Par ",y.author]}),f.jsx("span",{className:"mx-2",children:"|"}),f.jsx("span",{children:y.date})]}),f.jsx("p",{className:"text-xl text-gray-600 mb-8",children:y.excerpt}),f.jsx("div",{className:"prose max-w-none mb-8",children:W9(y.content,v)}),f.jsx("button",{onClick:()=>s(null),className:"inline-block bg-electrique text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"← Retour à tous les articles"})]})};return f.jsxs("div",{className:"bg-white",children:[f.jsxs(Ei,{children:[f.jsx("title",{children:"Actualités Immobilières | Elise Buil Immobilier"}),f.jsx("meta",{name:"description",content:"Découvrez les dernières actualités et conseils en immobilier en Guadeloupe. Suivez les tendances du marché et nos recommandations."}),f.jsx("meta",{name:"keywords",content:"actualités immobilières, marché immobilier Guadeloupe, conseils immobilier, achat, vente"}),f.jsx("meta",{name:"author",content:"Elise Buil"}),f.jsx("link",{rel:"canonical",href:"https://elisebuilimmobilierguadeloupe.com/Blog"})]}),f.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[f.jsx("h1",{className:"text-5xl font-serif font-bold mb-12 text-center text-gray-800",children:"Actualités"}),o?f.jsx("p",{className:"text-center text-gray-600",children:"Chargement des articles..."}):f.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[f.jsx("aside",{className:"lg:w-1/4",children:f.jsxs("div",{className:"sticky top-8",children:[f.jsx("h2",{className:"text-2xl font-serif font-semibold mb-4 text-gray-800",children:"Catégories"}),f.jsx(d,{})]})}),f.jsx("main",{className:"lg:w-3/4",children:i?f.jsx(w,{article:i}):f.jsx(g,{})})]})]})]})}const Y9=()=>{const[t,e]=V.useState({name:"",email:"",phone:"",message:""}),[n,r]=V.useState(!1),[i,s]=V.useState(""),[o,a]=V.useState(""),u=d=>{e({...t,[d.target.name]:d.target.value})},c=async d=>{d.preventDefault(),r(!0),s(""),a("");try{await ld.send("service_ygysf6c","template_tvk3cpa",t,"3Q6blDIxCWaiJ9nvg"),s("Votre message a été envoyé avec succès ! Merci de m'avoir contacté.")}catch(p){console.error("EmailJS Error:",p),a("Une erreur s'est produite lors de l'envoi de votre message. Veuillez réessayer plus tard.")}finally{r(!1)}};return f.jsxs("div",{className:"bg-white text-gray-800",children:[f.jsxs(Ei,{children:[f.jsx("title",{children:"À Propos de Elise BUIL - Vente et Location Immobilière"}),f.jsx("meta",{name:"description",content:"Découvrez l'expertise d'Elise BUIL en vente et location immobilière. Un accompagnement personnalisé, juridique et commercial pour vos projets."}),f.jsx("meta",{name:"keywords",content:"Elise BUIL, immobilier, vente immobilière, location, accompagnement juridique, agent immobilier"}),f.jsx("meta",{name:"robots",content:"index, follow"}),f.jsx("meta",{name:"author",content:"Elise Buil"}),f.jsx("link",{rel:"canonical",href:"https://elisebuilimmobilierguadeloupe.com/elisebuil"})]}),f.jsxs("main",{className:"container mx-auto w-auto p-4",children:[f.jsxs("header",{className:"bg-gray-800 text-white text-center py-6 rounded shadow",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Elise BUIL"}),f.jsx("p",{className:"text-lg",children:"Vente / Location Immobilière"}),f.jsx("p",{className:"text-lg",children:"Accompagnement Commercial, Administratif et Juridique"})]}),f.jsxs("section",{className:"py-16 px-4 md:px-8 max-w-5xl mx-auto",children:[f.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"À propos de moi"}),f.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[f.jsx("img",{src:eA,alt:"Elise BUIL",className:"w-64 h-90 rounded-full object-cover"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-lg mb-4",children:"Bien plus qu'un métier, une véritable passion!"}),f.jsx("p",{className:"text-lg mb-4",children:"Riche d’une forte expérience dans le secteur de l’immobilier, je mets mon expertise à votre service pour vous accompagner dans toutes vos démarches liées à la vente de votre bien. Je mets un point d’honneur à développer une véritable relation basée sur l’écoute et le respect de vos besoins."}),f.jsx("p",{className:"text-lg mb-4",children:"Issue d'une formation juridique en droit immobilier, je vous propose un accompagnement spécialisé dans la concrétisation de vos projets immobiliers, notamment en proposant la rédaction du compromis de vente en collaboration avec votre notaire , vous faisant ainsi bénéficier d'un temps précieux."}),f.jsx("p",{className:"text-lg mb-4",children:"Mon service de vente immobilière se distingue par une approche unique alliant expertise juridique et authentique relation d’échanges."}),f.jsxs("p",{className:"text-lg mb-4",children:["N'hésitez pas à prendre contact avec moi pour échanger sur vos projets, je me ferai un plaisir de pouvoir répondre à vos questions.",f.jsx("br",{})," Ensemble, construisons une relation solide et fiable pour mener à bien votre vente immobilière en toute sécurité!              "]}),f.jsx("p",{className:"text-lg",children:"Au plaisir de vous rencontrer,"})]})]})]}),f.jsxs("section",{className:"mb-12 bg-white p-6 rounded-lg shadow-md shadow-primary",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Témoignages Clients"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("blockquote",{className:"italic text-gray-600 border-l-4 border-primary pl-4",children:[`" Nous sommes ravis de l'accompagnement et de la conscience professionnelle d'Elise pour la recherche et l'achat de notre maison. Nous la recommandons vivement."`,f.jsx("footer",{className:"text-gray-500 mt-2",children:"- Jennifer et Xavier ROLLAND"})]}),f.jsxs("blockquote",{className:"italic text-gray-600 border-l-4 border-primary pl-4",children:[`"Elise m'a permis de vendre mon appartement rapidement. Je la remercie pour sa disponibilité."`,f.jsx("footer",{className:"text-gray-500 mt-2",children:"- Guillaume RABILLER"})]})]})]}),f.jsxs("section",{id:"contact",className:"bg-white mt-6 p-6 rounded-lg shadow-md shadow-primary  ",children:[f.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Contactez-moi"}),i?f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-green-500 text-xl font-semibold mb-4",children:i}),f.jsx("button",{onClick:()=>{s(""),e({name:"",email:"",phone:"",message:""})},className:"bg-black text-white font-medium py-2 px-4 rounded-md shadow hover:bg-gray-800 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50 transition duration-150",children:"Envoyer un autre message"})]}):f.jsxs("form",{className:"space-y-6",onSubmit:c,children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nom :"}),f.jsx("input",{type:"text",id:"name",name:"name",required:!0,placeholder:"Votre nom complet",value:t.name,onChange:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email :"}),f.jsx("input",{type:"email",id:"email",name:"email",required:!0,placeholder:"Votre adresse email",value:t.email,onChange:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Téléphone :"}),f.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,placeholder:"Votre numéro de téléphone",value:t.phone,onChange:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message :"}),f.jsx("textarea",{id:"message",name:"message",rows:5,required:!0,placeholder:"Votre message",value:t.message,onChange:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),f.jsx("button",{type:"submit",disabled:n,className:"w-full bg-primary text-white font-medium py-3 rounded-md shadow hover:bg-gray-800 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50 transition duration-150",children:n?"Envoi en cours...":"Envoyer le Message"})]}),o&&f.jsx("p",{className:"text-red-500 mt-4",children:o})]})]})]})},J9=[_1,g1,v1,TN,IN];function X9(){const[t,e]=V.useState(1),[n,r]=V.useState({address:"",propertyType:"",livingArea:"",landArea:"",floors:"",rooms:"",bedrooms:"",constructionPeriod:"",condition:"",features:[],saleTimeline:"",contact:{gender:"",firstName:"",lastName:"",email:"",phone:""}}),[i,s]=V.useState(!1),[o,a]=V.useState(!1),u=(y,v)=>{r(I=>({...I,[y]:v}))},c=(y,v)=>{r(I=>({...I,contact:{...I.contact,[y]:v}}))},d=y=>{r(v=>({...v,features:v.features.includes(y)?v.features.filter(I=>I!==y):[...v.features,y]}))},p=()=>{o&&(e(y=>Math.min(y+1,5)),a(!1))},g=()=>{e(y=>Math.max(y-1,1)),a(!1)},w=async()=>{if(!o)return;const y={address:n.address,propertyType:n.propertyType,livingArea:n.livingArea,landArea:n.landArea,floors:n.floors,rooms:n.rooms,bedrooms:n.bedrooms,features:n.features.join(", "),contactGender:n.contact.gender,contactFirstName:n.contact.firstName,contactLastName:n.contact.lastName,contactEmail:n.contact.email,contactPhone:n.contact.phone},v="service_ygysf6c",I="template_m9ywkos",E="3Q6blDIxCWaiJ9nvg";try{ld.init(E),await ld.send(v,I,y),s(!0)}catch(S){console.error("Error sending email:",S)}};return V.useEffect(()=>{const y=document.querySelector(".progress-bar");switch(y&&(y.style.width=`${(t-1)*25}%`),t){case 1:a(n.address.length>0);break;case 2:a(n.propertyType!=="");break;case 3:a(n.livingArea!==""&&n.landArea!==""&&n.floors!==""&&n.rooms!==""&&n.bedrooms!=="");break;case 4:a(n.features.length>0);break;case 5:a(n.contact.gender!==""&&n.contact.firstName!==""&&n.contact.lastName!==""&&n.contact.email!==""&&n.contact.phone!=="");break;default:a(!1)}},[t,n]),f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-4 md:p-6",children:[f.jsxs(Ei,{children:[f.jsx("title",{children:"Estimation Immobilière en Guadeloupe | Obtenez votre évaluation gratuite"}),f.jsx("meta",{name:"description",content:"Obtenez une estimation précise et gratuite de votre bien immobilier en Guadeloupe. Remplissez notre formulaire en ligne en quelques étapes."}),f.jsx("meta",{name:"keywords",content:"estimation immobilière, évaluation bien immobilier, estimation maison, estimation appartement, Guadeloupe"}),f.jsx("meta",{name:"author",content:"Elise Buil"}),f.jsx("link",{rel:"canonical",href:"https://elisebuilimmobilierguadeloupe.com/Estimation"})]}),f.jsxs("div",{className:"mx-auto max-w-4xl",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("div",{className:"flex justify-between mb-2",children:J9.map((y,v)=>f.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full transition-all duration-300 ${v+1===t?"bg-primary text-white pulse":(v+1<t,"bg-gray-200 text-primary")}`,children:f.jsx(y,{className:"h-6 w-6"})},v))}),f.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:f.jsx("div",{className:"progress-bar h-full bg-primary transition-all duration-500 ease-out",style:{width:"0%"}})})]}),f.jsxs("div",{className:"overflow-hidden rounded-xl bg-white p-6 shadow-lg shadow-primary",children:[f.jsxs("div",{className:"slide-in",children:[t===1&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"Où se situe votre bien ?"}),f.jsxs("div",{className:"space-y-4 fade-in",children:[f.jsx("label",{htmlFor:"address",className:"block text-lg font-medium text-gray-700",children:"Adresse du bien à estimer"}),f.jsxs("div",{className:"relative",children:[f.jsx(_1,{className:"absolute left-3 top-3 h-6 w-6 text-gray-400"}),f.jsx("input",{id:"address",type:"text",value:n.address,onChange:y=>u("address",y.target.value),placeholder:"12 rue Saint Denis, 75011 Paris",className:"w-full rounded-lg border-2 border-gray-200 bg-gray-50 py-3 pl-12 pr-4 text-gray-800 placeholder-gray-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-blue-200 transition-all duration-300"})]})]})]}),t===2&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"Quel type de bien souhaitez-vous estimer ?"}),f.jsx("div",{className:"grid grid-cols-2 gap-4 fade-in",children:[{id:"appartement",label:"Un appartement",icon:g1},{id:"maison",label:"Une maison",icon:v1},{id:"terrain",label:"Un Terrain",icon:gN},{id:"local commercial",label:"Un local commercial",icon:SN}].map(y=>f.jsxs("button",{onClick:()=>u("propertyType",y.id),className:`flex flex-col items-center justify-center p-6 rounded-xl border-2 transition-all duration-300 ${n.propertyType===y.id?"border-primary bg-primary-50 text-primary":"border-gray-200 text-gray-600 hover:border-red-300 hover:bg-red-50"}`,children:[f.jsx(y.icon,{className:"mb-4 h-16 w-16"}),f.jsx("span",{className:"text-lg font-medium",children:y.label})]},y.id))})]}),t===3&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"Détails de votre bien"}),f.jsx("div",{className:"grid grid-cols-2 gap-4 fade-in",children:[{id:"livingArea",label:"Surface habitable",unit:"m²"},{id:"landArea",label:"Surface du terrain",unit:"m²"},{id:"floors",label:"Nombre de niveaux"},{id:"rooms",label:"Nombre de pièces"},{id:"bedrooms",label:"Nombre de chambres"}].map(y=>f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:y.id,className:"block text-sm font-medium text-gray-700",children:y.label}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{id:y.id,type:"number",value:n[y.id],onChange:v=>u(y.id,v.target.value),className:"w-full rounded-lg border border-gray-200 bg-gray-50 px-4 py-2 text-gray-800 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-300"}),y.unit&&f.jsx("span",{className:"ml-2 text-sm text-gray-500",children:y.unit})]})]},y.id))})]}),t===4&&f.jsxs("div",{className:"space-y-6",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"Caractéristiques spécifiques"}),f.jsx("div",{className:"grid grid-cols-2 gap-4 fade-in",children:["Terrasse","Parking","Garage","Piscine","Aucun"].map(y=>f.jsx("button",{onClick:()=>d(y),className:`py-4 rounded-lg border-2 transition-all duration-300 ${n.features.includes(y)?"border-primary bg-red-100 text-primary":"border-gray-200 text-gray-600 hover:border-primary hover:bg-red-50"}`,children:y},y))})]}),t===5&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"text-center fade-in",children:[f.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Votre estimation est prête !"}),f.jsx("p",{className:"mt-2 text-gray-600",children:"Renseignez ces informations pour recevoir votre estimation."})]}),f.jsxs("div",{className:"space-y-4 fade-in",children:[f.jsx("div",{className:"flex justify-center gap-4",children:["monsieur","madame"].map(y=>f.jsx("button",{onClick:()=>c("gender",y),className:`px-6 py-2 rounded-full text-lg transition-all duration-300 ${n.contact.gender===y?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y.charAt(0).toUpperCase()+y.slice(1)},y))}),[{id:"firstName",label:"Prénom",placeholder:"Caroline"},{id:"lastName",label:"Nom",placeholder:"Gomez"},{id:"email",label:"Adresse mail",placeholder:"carolinegomez@gmail.com",type:"email"},{id:"phone",label:"Téléphone",placeholder:"07 89 78 65 89",type:"tel"}].map(y=>f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{htmlFor:y.id,className:"block text-sm font-medium text-gray-700",children:y.label}),f.jsx("input",{id:y.id,type:y.type||"text",value:n.contact[y.id],onChange:v=>c(y.id,v.target.value),placeholder:y.placeholder,className:"w-full rounded-lg border border-gray-200 bg-gray-50 px-4 py-2 text-gray-800 placeholder-gray-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-300"})]},y.id))]})]})]},t),i&&f.jsxs("div",{className:"mt-8 p-6 bg-green-50 border-2 border-green-500 rounded-xl text-center fade-in",children:[f.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Merci pour votre demande d'estimation !"}),f.jsx("p",{className:"text-green-600",children:"Nous avons bien reçu vos informations. Notre expert immobilier va étudier votre dossier et vous contactera dans les 48 heures avec une estimation détaillée de votre bien."})]}),!i&&f.jsxs("div",{className:"mt-8 flex justify-between fade-in",children:[t>1&&f.jsxs("button",{onClick:g,className:"flex items-center px-6 py-2 rounded-lg bg-gray-100 text-gray-600 transition-all duration-300 hover:bg-gray-200",children:[f.jsx(Ng,{className:"mr-2 h-5 w-5"}),"Retour"]}),f.jsxs("button",{onClick:t===5?w:p,disabled:!o,className:`ml-auto flex items-center px-6 py-2 rounded-lg transition-all duration-300 ${o?"bg-primary text-white hover:bg-black":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[t===5?"Recevoir mon estimation":"Étape suivante",o?f.jsx(kg,{className:"ml-2 h-5 w-5"}):f.jsx(pN,{className:"ml-2 h-5 w-5"})]})]})]})]})]})}const Z9=()=>{const[t,e]=V.useState([]),[n,r]=V.useState(null),[i,s]=V.useState(!1),[o,a]=V.useState(""),[u,c]=V.useState(""),[d,p]=V.useState(null),[g,w]=V.useState(""),[y,v]=V.useState({id:"",title:"",price:"0",size:"0",types:[],rooms:"0",bedrooms:"0",bathrooms:"0",wc:"0",amenities:[],location:"",images:[],principalImage:"",description:"",condition:"disponible",consomation:"A"}),[I,E]=Bn.useState("");V.useEffect(()=>{(async()=>{try{const ee=ed(Bi,"houses"),ne=(await py(ee)).docs.map(q=>({...q.data(),id:q.id}));e(ne)}catch(ee){console.error("Error fetching houses:",ee)}})()},[]),V.useEffect(()=>{E(n?n.amenities.join(", "):y.amenities.join(", "))},[n,y]);const S=async Y=>{try{const ee=ed(Bi,"houses"),H=await fj(ee,Y);e([...t,{...Y,id:H.id}]),console.log("House added to Firestore with ID:",H.id)}catch(ee){console.error("Error adding house:",ee)}},b=async Y=>{var ee;if((ee=Y.target.files)!=null&&ee[0]){const H=Array.from(Y.target.files),ne=Zb();try{const q=await Promise.all(H.map(async ue=>{const Ae=VU(ne,`houses/${ue.name}-${Date.now()}`),wt=await jU(Ae,ue);return await MU(wt.ref)})),he=ue=>({...ue,images:[...ue.images,...q],principalImage:ue.principalImage||q[0]});n?r(ue=>ue?he(ue):null):v(he)}catch(q){console.error("Error uploading images:",q)}}},N=Y=>{const{name:ee,value:H}=Y.target;n?r({...n,[ee]:H}):v({...y,[ee]:H})},M=Y=>{E(Y.target.value)},z=()=>{const Y=I.split(",").map(ee=>ee.trim()).filter(ee=>ee);n?r({...n,amenities:Y}):v({...y,amenities:Y})},A=async Y=>{Y.preventDefault();try{if(n?!n.images.length||!n.principalImage:!y.images.length||!y.principalImage){alert("Please upload at least one image and select a principal image.");return}if(n){const ee=td(Bi,"houses",n.id);await dj(ee,{...n,images:n.images,principalImage:n.principalImage}),e(t.map(H=>H.id===n.id?n:H)),r(null)}else{const ee={...y,id:crypto.randomUUID(),images:y.images,principalImage:y.principalImage};await S(ee)}s(!1),v({id:"",title:"",price:"0",size:"0",types:[],rooms:"0",bedrooms:"0",bathrooms:"0",wc:"0",amenities:[],location:"",images:[],principalImage:"",description:"",condition:"disponible",consomation:"A"})}catch(ee){console.error("Error submitting house:",ee)}},T=Y=>{r(Y),s(!0)},x=async Y=>{try{const ee=td(Bi,"houses",Y);await hj(ee),e(t.filter(H=>H.id!==Y))}catch(ee){console.error("Error deleting house:",ee)}},C=()=>{r(null),v({id:"",title:"",price:"0",size:"0",types:[],rooms:"0",bedrooms:"0",bathrooms:"0",wc:"0",amenities:[],location:"",images:[],principalImage:"",description:"",condition:"disponible",consomation:"A"}),s(!1)},P=Y=>{const ee=n?[...n.images]:[...y.images];ee.splice(Y,1);const H=ne=>{const q=ne.principalImage===ne.images[Y]?ee[0]||"":ne.principalImage;return{...ne,images:ee,principalImage:q}};n?r(ne=>ne?H(ne):null):v(H)},k=Y=>{const ee=H=>({...H,principalImage:Y});n?r(H=>H?ee(H):null):v(ee)},R=async Y=>{Y.preventDefault();try{await fM(yf,o,u),alert("Bienvenue !")}catch{w("Problème d'email ou de mot de passe. Veuillez réessayer.")}},xe=async()=>{try{await yM(yf),console.log("Déconnexion réussie")}catch(Y){console.error("Erreur lors de la déconnexion :",Y.message)}};V.useEffect(()=>{const Y=gM(yf,ee=>{p(ee||null)});return()=>Y()},[]);function Me({selectedTypes:Y,onChange:ee}){const H=["appartement","maison","local commercial","terrain"],ne=q=>{const he=Y.includes(q)?Y.filter(ue=>ue!==q):[...Y,q];ee(he)};return f.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(q=>f.jsx("button",{onClick:()=>ne(q),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors
              ${Y.includes(q)?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,type:"button",children:q},q))})}return d?f.jsx("div",{className:"min-h-screen bg-gray-100 py-8 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-7xl mx-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Interface d'administration - Management des biens"}),f.jsxs("button",{onClick:xe,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 flex items-center",children:[f.jsx(mN,{className:"w-5 h-5 mr-2"}),"Se déconnecter"]})]}),f.jsx("div",{className:"mb-6 flex justify-end",children:f.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center",children:[f.jsx(EN,{className:"w-5 h-5 mr-2"}),"Ajouter un nouveau bien"]})}),i&&f.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-8",children:[f.jsx("h2",{className:"text-2xl font-semibold mb-6",children:n?"Edit House":"Add New House"}),f.jsxs("form",{onSubmit:A,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre"}),f.jsx("input",{type:"text",id:"title",name:"title",value:n?n.title:y.title,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix"}),f.jsx("input",{type:"number",id:"price",name:"price",value:n?n.price:y.price,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-700 mb-1",children:"Surface"}),f.jsx("input",{type:"number",id:"size",name:"size",value:n?n.size:y.size,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de Propriété"}),f.jsx(Me,{selectedTypes:n?n.types:y.types,onChange:Y=>{n?r({...n,types:Y}):v({...y,types:Y})}})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"rooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pièces"}),f.jsx("input",{type:"number",id:"rooms",name:"rooms",value:n?n.rooms:y.rooms,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Chambres"}),f.jsx("input",{type:"number",id:"bedrooms",name:"bedrooms",value:n?n.bedrooms:y.bedrooms,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Salle de bains"}),f.jsx("input",{type:"number",id:"bathrooms",name:"bathrooms",value:n?n.bathrooms:y.bathrooms,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"wc",className:"block text-sm font-medium text-gray-700 mb-1",children:"WC"}),f.jsx("input",{type:"number",id:"wc",name:"wc",value:n?n.wc:y.wc,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"consomation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Consommation énergétique"}),f.jsxs("select",{id:"consomation",name:"consomation",value:n?n.consomation:y.consomation,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[f.jsx("option",{value:"A",children:"A"}),f.jsx("option",{value:"B",children:"B"}),f.jsx("option",{value:"C",children:"C"}),f.jsx("option",{value:"D",children:"D"}),f.jsx("option",{value:"E",children:"E"}),f.jsx("option",{value:"F",children:"F"}),f.jsx("option",{value:"G",children:"G"})]})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"amenities",className:"block text-sm font-medium text-gray-700 mb-1",children:"Annexes (séparées par une virgule)"}),f.jsx("input",{type:"text",id:"amenities",name:"amenities",value:I,onChange:M,onBlur:z,placeholder:"exemple: piscine,parking,ascenseur",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Localisation"}),f.jsx("input",{type:"text",id:"location",name:"location",value:n?n.location:y.location,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Images (Première image sera la principale par défaut)"}),f.jsx("input",{type:"file",multiple:!0,onChange:b,accept:"image/*",className:"mb-4"}),f.jsx("div",{className:"grid grid-cols-3 gap-4",children:(n?n.images:y.images).map((Y,ee)=>f.jsxs("div",{className:"relative group",children:[f.jsx("img",{src:Y,alt:`House preview ${ee}`,className:"h-32 w-full object-cover rounded-md"}),f.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{type:"button",onClick:()=>P(ee),className:"text-white bg-red-500 p-1 rounded-full mr-2",children:f.jsx(p0,{className:"h-4 w-4"})}),f.jsxs("label",{className:"flex items-center text-white text-sm",children:[f.jsx("input",{type:"radio",name:"principalImage",checked:(n?n.principalImage:y.principalImage)===Y,onChange:()=>k(Y),className:"mr-1"}),"Principale"]})]})]},Y))})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700 mb-1",children:"État"}),f.jsxs("select",{id:"condition",name:"condition",value:n?n.condition:y.condition,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[f.jsx("option",{value:"",children:"Selectionnez une condition"}),f.jsx("option",{value:"vendu",children:"Vendu"}),f.jsx("option",{value:"disponible",children:"Disponible"}),f.jsx("option",{value:"sous compromis",children:"sous compromis"})]})]}),f.jsxs("div",{className:"md:col-span-2",children:[f.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),f.jsx("textarea",{id:"description",name:"description",value:n?n.description:y.description,onChange:N,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),f.jsxs("div",{className:"md:col-span-2 flex justify-end space-x-4",children:[f.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),f.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:n?"Update House":"Add House"})]})]})]}),f.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titre"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Localisation"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"État"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(Y=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Y.id}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Y.title}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(()=>{const ee=Y.price.replace(/[^0-9.-]+/g,""),H=Number(ee);return isNaN(H)?"Invalid price":H.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0})})()}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Y.location}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Y.condition==="vendu"?"bg-red-100 text-red-800":Y.condition==="disponible"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:Y.condition==="vendu"?"Vendu":Y.condition==="disponible"?"Disponible":"Sous compromis"})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[f.jsxs("button",{onClick:()=>T(Y),className:"text-blue-600 hover:text-blue-900 mr-3",children:[f.jsx(vN,{className:"h-5 w-5"}),f.jsx("span",{className:"sr-only",children:"Modifier"})]}),f.jsxs("button",{onClick:()=>x(Y.id),className:"text-red-600 hover:text-red-900",children:[f.jsx(p0,{className:"h-5 w-5"}),f.jsx("span",{className:"sr-only",children:"Supprimer"})]})]})]},Y.id))})]})})]})}):f.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-md w-full space-y-8",children:[f.jsx("div",{children:f.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Interface d'administration"})}),f.jsxs("form",{className:"mt-8 space-y-6",onSubmit:R,children:[f.jsx("input",{type:"hidden",name:"remember",value:"true"}),f.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[f.jsxs("div",{children:[f.jsx("label",{htmlFor:"username",className:"sr-only",children:"Identifiant"}),f.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Identifiant",value:o,onChange:Y=>a(Y.target.value)})]}),f.jsxs("div",{children:[f.jsx("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),f.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Mot de passe",value:u,onChange:Y=>c(Y.target.value)})]})]}),f.jsx("div",{children:f.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Valider"})})]}),g&&f.jsx("p",{style:{color:"red"},children:g}),f.jsxs(Xt,{to:"/",className:"flex items-center justify-between p-6 bg-white shadow-md rounded-lg hover:shadow-lg transition-shadow",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"text-2xl mr-4",children:"🏡"}),f.jsx("span",{className:"text-lg font-medium",children:"Retour à l'accueil"})]}),f.jsx(kg,{className:"h-5 w-5 text-gray-400"})]})]})})},e5=()=>f.jsxs(f.Fragment,{children:[f.jsx(YU,{}),f.jsxs(Zk,{children:[f.jsx(Ln,{path:"/",element:f.jsx(zU,{})}),f.jsx(Ln,{path:"/Vendre",element:f.jsx(QU,{})}),f.jsx(Ln,{path:"/Acheter",element:f.jsx(ZU,{})}),f.jsx(Ln,{path:"/house/:id",element:f.jsx(JU,{})}),f.jsx(Ln,{path:"/EliseBUIL",element:f.jsx(Y9,{})}),f.jsx(Ln,{path:"/Blog",element:f.jsx(Q9,{})}),f.jsx(Ln,{path:"/Estimation",element:f.jsx(X9,{})}),f.jsx(Ln,{path:"/Gestion",element:f.jsx(Z9,{})}),f.jsx(Ln,{path:"*",element:f.jsx(HU,{})})]})]});function t5(){return f.jsx(r1,{children:f.jsx(oN,{basename:"/",children:f.jsx(e5,{})})})}YS(document.getElementById("root")).render(f.jsx(V.StrictMode,{children:f.jsx(t5,{})}));
