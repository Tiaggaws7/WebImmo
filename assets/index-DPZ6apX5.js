function ex(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function tx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var aw={exports:{}},gd={},lw={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tl=Symbol.for("react.element"),nx=Symbol.for("react.portal"),rx=Symbol.for("react.fragment"),ix=Symbol.for("react.strict_mode"),sx=Symbol.for("react.profiler"),ox=Symbol.for("react.provider"),ax=Symbol.for("react.context"),lx=Symbol.for("react.forward_ref"),ux=Symbol.for("react.suspense"),cx=Symbol.for("react.memo"),dx=Symbol.for("react.lazy"),_v=Symbol.iterator;function fx(t){return t===null||typeof t!="object"?null:(t=_v&&t[_v]||t["@@iterator"],typeof t=="function"?t:null)}var uw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cw=Object.assign,dw={};function So(t,e,n){this.props=t,this.context=e,this.refs=dw,this.updater=n||uw}So.prototype.isReactComponent={};So.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};So.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fw(){}fw.prototype=So.prototype;function wm(t,e,n){this.props=t,this.context=e,this.refs=dw,this.updater=n||uw}var Sm=wm.prototype=new fw;Sm.constructor=wm;cw(Sm,So.prototype);Sm.isPureReactComponent=!0;var Ev=Array.isArray,hw=Object.prototype.hasOwnProperty,Tm={current:null},pw={key:!0,ref:!0,__self:!0,__source:!0};function mw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hw.call(e,r)&&!pw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Tl,type:t,key:s,ref:o,props:i,_owner:Tm.current}}function hx(t,e){return{$$typeof:Tl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Im(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tl}function px(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wv=/\/+/g;function If(t,e){return typeof t=="object"&&t!==null&&t.key!=null?px(""+t.key):e.toString(36)}function Mu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tl:case nx:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+If(o,0):r,Ev(i)?(n="",t!=null&&(n=t.replace(wv,"$&/")+"/"),Mu(i,e,n,"",function(c){return c})):i!=null&&(Im(i)&&(i=hx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ev(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+If(s,a);o+=Mu(s,e,n,l,i)}else if(l=fx(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+If(s,a++),o+=Mu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uu(t,e,n){if(t==null)return t;var r=[],i=0;return Mu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bt={current:null},Vu={transition:null},gx={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Vu,ReactCurrentOwner:Tm};function gw(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:uu,forEach:function(t,e,n){uu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uu(t,function(){e++}),e},toArray:function(t){return uu(t,function(e){return e})||[]},only:function(t){if(!Im(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=So;ye.Fragment=rx;ye.Profiler=sx;ye.PureComponent=wm;ye.StrictMode=ix;ye.Suspense=ux;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gx;ye.act=gw;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Tm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hw.call(e,l)&&!pw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Tl,type:t.type,key:i,ref:s,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:ax,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ox,_context:t},t.Consumer=t};ye.createElement=mw;ye.createFactory=function(t){var e=mw.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:lx,render:t}};ye.isValidElement=Im;ye.lazy=function(t){return{$$typeof:dx,_payload:{_status:-1,_result:t},_init:mx}};ye.memo=function(t,e){return{$$typeof:cx,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Vu.transition;Vu.transition={};try{t()}finally{Vu.transition=e}};ye.unstable_act=gw;ye.useCallback=function(t,e){return Bt.current.useCallback(t,e)};ye.useContext=function(t){return Bt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Bt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Bt.current.useEffect(t,e)};ye.useId=function(){return Bt.current.useId()};ye.useImperativeHandle=function(t,e,n){return Bt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Bt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Bt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Bt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Bt.current.useReducer(t,e,n)};ye.useRef=function(t){return Bt.current.useRef(t)};ye.useState=function(t){return Bt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Bt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Bt.current.useTransition()};ye.version="18.3.1";lw.exports=ye;var B=lw.exports;const yw=wo(B),yx=ex({__proto__:null,default:yw},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vx=B,_x=Symbol.for("react.element"),Ex=Symbol.for("react.fragment"),wx=Object.prototype.hasOwnProperty,Sx=vx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tx={key:!0,ref:!0,__self:!0,__source:!0};function vw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wx.call(e,r)&&!Tx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_x,type:t,key:s,ref:o,props:i,_owner:Sx.current}}gd.Fragment=Ex;gd.jsx=vw;gd.jsxs=vw;aw.exports=gd;var m=aw.exports,_w={exports:{}},un={},Ew={exports:{}},ww={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,te){var Y=Q.length;Q.push(te);e:for(;0<Y;){var ae=Y-1>>>1,he=Q[ae];if(0<i(he,te))Q[ae]=te,Q[Y]=he,Y=ae;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var te=Q[0],Y=Q.pop();if(Y!==te){Q[0]=Y;e:for(var ae=0,he=Q.length,be=he>>>1;ae<be;){var Ve=2*(ae+1)-1,rt=Q[Ve],z=Ve+1,G=Q[z];if(0>i(rt,Y))z<he&&0>i(G,rt)?(Q[ae]=G,Q[z]=Y,ae=z):(Q[ae]=rt,Q[Ve]=Y,ae=Ve);else if(z<he&&0>i(G,Y))Q[ae]=G,Q[z]=Y,ae=z;else break e}}return te}function i(Q,te){var Y=Q.sortIndex-te.sortIndex;return Y!==0?Y:Q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,I=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Q){for(var te=n(c);te!==null;){if(te.callback===null)r(c);else if(te.startTime<=Q)r(c),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(c)}}function N(Q){if(v=!1,T(Q),!y)if(n(l)!==null)y=!0,pe(j);else{var te=n(c);te!==null&&me(N,te.startTime-Q)}}function j(Q,te){y=!1,v&&(v=!1,_(S),S=-1),I=!0;var Y=p;try{for(T(te),h=n(l);h!==null&&(!(h.expirationTime>te)||Q&&!P());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var he=ae(h.expirationTime<=te);te=t.unstable_now(),typeof he=="function"?h.callback=he:h===n(l)&&r(l),T(te)}else r(l);h=n(l)}if(h!==null)var be=!0;else{var Ve=n(c);Ve!==null&&me(N,Ve.startTime-te),be=!1}return be}finally{h=null,p=Y,I=!1}}var F=!1,x=null,S=-1,C=5,R=-1;function P(){return!(t.unstable_now()-R<C)}function k(){if(x!==null){var Q=t.unstable_now();R=Q;var te=!0;try{te=x(!0,Q)}finally{te?A():(F=!1,x=null)}}else F=!1}var A;if(typeof E=="function")A=function(){E(k)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,oe=Z.port2;Z.port1.onmessage=k,A=function(){oe.postMessage(null)}}else A=function(){w(k,0)};function pe(Q){x=Q,F||(F=!0,A())}function me(Q,te){S=w(function(){Q(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){y||I||(y=!0,pe(j))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Q){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var Y=p;p=te;try{return Q()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,te){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Y=p;p=Q;try{return te()}finally{p=Y}},t.unstable_scheduleCallback=function(Q,te,Y){var ae=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ae+Y:ae):Y=ae,Q){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Y+he,Q={id:d++,callback:te,priorityLevel:Q,startTime:Y,expirationTime:he,sortIndex:-1},Y>ae?(Q.sortIndex=Y,e(c,Q),n(l)===null&&Q===n(c)&&(v?(_(S),S=-1):v=!0,me(N,Y-ae))):(Q.sortIndex=he,e(l,Q),y||I||(y=!0,pe(j))),Q},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(Q){var te=p;return function(){var Y=p;p=te;try{return Q.apply(this,arguments)}finally{p=Y}}}})(ww);Ew.exports=ww;var Ix=Ew.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=B,ln=Ix;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sw=new Set,Ba={};function ns(t,e){to(t,e),to(t+"Capture",e)}function to(t,e){for(Ba[t]=e,t=0;t<e.length;t++)Sw.add(e[t])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vh=Object.prototype.hasOwnProperty,Ax=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sv={},Tv={};function xx(t){return Vh.call(Tv,t)?!0:Vh.call(Sv,t)?!1:Ax.test(t)?Tv[t]=!0:(Sv[t]=!0,!1)}function Cx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Rx(t,e,n,r){if(e===null||typeof e>"u"||Cx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){St[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];St[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){St[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){St[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){St[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){St[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){St[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){St[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){St[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var bm=/[\-:]([a-z])/g;function Am(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bm,Am);St[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bm,Am);St[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bm,Am);St[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){St[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});St.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){St[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function xm(t,e,n,r){var i=St.hasOwnProperty(e)?St[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Rx(e,n,i,r)&&(n=null),r||i===null?xx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var br=bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cu=Symbol.for("react.element"),Cs=Symbol.for("react.portal"),Rs=Symbol.for("react.fragment"),Cm=Symbol.for("react.strict_mode"),Fh=Symbol.for("react.profiler"),Tw=Symbol.for("react.provider"),Iw=Symbol.for("react.context"),Rm=Symbol.for("react.forward_ref"),Uh=Symbol.for("react.suspense"),Bh=Symbol.for("react.suspense_list"),Pm=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),bw=Symbol.for("react.offscreen"),Iv=Symbol.iterator;function ea(t){return t===null||typeof t!="object"?null:(t=Iv&&t[Iv]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,bf;function fa(t){if(bf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bf=e&&e[1]||""}return`
`+bf+t}var Af=!1;function xf(t,e){if(!t||Af)return"";Af=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Af=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fa(t):""}function Px(t){switch(t.tag){case 5:return fa(t.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 2:case 15:return t=xf(t.type,!1),t;case 11:return t=xf(t.type.render,!1),t;case 1:return t=xf(t.type,!0),t;default:return""}}function $h(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rs:return"Fragment";case Cs:return"Portal";case Fh:return"Profiler";case Cm:return"StrictMode";case Uh:return"Suspense";case Bh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Iw:return(t.displayName||"Context")+".Consumer";case Tw:return(t._context.displayName||"Context")+".Provider";case Rm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pm:return e=t.displayName||null,e!==null?e:$h(t.type)||"Memo";case Lr:e=t._payload,t=t._init;try{return $h(t(e))}catch{}}return null}function kx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $h(e);case 8:return e===Cm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Aw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Nx(t){var e=Aw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function du(t){t._valueTracker||(t._valueTracker=Nx(t))}function xw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Aw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zh(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cw(t,e){e=e.checked,e!=null&&xm(t,"checked",e,!1)}function Hh(t,e){Cw(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Kh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Kh(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Av(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Kh(t,e,n){(e!=="number"||gc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ha=Array.isArray;function zs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(ha(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function Rw(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fu,kw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fu=fu||document.createElement("div"),fu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $a(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ox=["Webkit","ms","Moz","O"];Object.keys(Ta).forEach(function(t){Ox.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ta[e]=Ta[t]})});function Nw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ta.hasOwnProperty(t)&&Ta[t]?(""+e).trim():e+"px"}function Ow(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Nw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Lx=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gh(t,e){if(e){if(Lx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function Qh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jh=null;function km(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yh=null,Hs=null,Ks=null;function Rv(t){if(t=Al(t)){if(typeof Yh!="function")throw Error(J(280));var e=t.stateNode;e&&(e=wd(e),Yh(t.stateNode,t.type,e))}}function Lw(t){Hs?Ks?Ks.push(t):Ks=[t]:Hs=t}function Dw(){if(Hs){var t=Hs,e=Ks;if(Ks=Hs=null,Rv(t),e)for(t=0;t<e.length;t++)Rv(e[t])}}function jw(t,e){return t(e)}function Mw(){}var Cf=!1;function Vw(t,e,n){if(Cf)return t(e,n);Cf=!0;try{return jw(t,e,n)}finally{Cf=!1,(Hs!==null||Ks!==null)&&(Mw(),Dw())}}function za(t,e){var n=t.stateNode;if(n===null)return null;var r=wd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var Xh=!1;if(gr)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Xh=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Xh=!1}function Dx(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ia=!1,yc=null,vc=!1,Zh=null,jx={onError:function(t){Ia=!0,yc=t}};function Mx(t,e,n,r,i,s,o,a,l){Ia=!1,yc=null,Dx.apply(jx,arguments)}function Vx(t,e,n,r,i,s,o,a,l){if(Mx.apply(this,arguments),Ia){if(Ia){var c=yc;Ia=!1,yc=null}else throw Error(J(198));vc||(vc=!0,Zh=c)}}function rs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Fw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pv(t){if(rs(t)!==t)throw Error(J(188))}function Fx(t){var e=t.alternate;if(!e){if(e=rs(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Pv(i),t;if(s===r)return Pv(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function Uw(t){return t=Fx(t),t!==null?Bw(t):null}function Bw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bw(t);if(e!==null)return e;t=t.sibling}return null}var $w=ln.unstable_scheduleCallback,kv=ln.unstable_cancelCallback,Ux=ln.unstable_shouldYield,Bx=ln.unstable_requestPaint,Je=ln.unstable_now,$x=ln.unstable_getCurrentPriorityLevel,Nm=ln.unstable_ImmediatePriority,zw=ln.unstable_UserBlockingPriority,_c=ln.unstable_NormalPriority,zx=ln.unstable_LowPriority,Hw=ln.unstable_IdlePriority,yd=null,Hn=null;function Hx(t){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(yd,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:Wx,Kx=Math.log,qx=Math.LN2;function Wx(t){return t>>>=0,t===0?32:31-(Kx(t)/qx|0)|0}var hu=64,pu=4194304;function pa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ec(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=pa(a):(s&=o,s!==0&&(r=pa(s)))}else o=n&~i,o!==0?r=pa(o):s!==0&&(r=pa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-An(e),i=1<<n,r|=t[n],e&=~i;return r}function Gx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-An(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Gx(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function ep(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kw(){var t=hu;return hu<<=1,!(hu&4194240)&&(hu=64),t}function Rf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Il(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function Jx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-An(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Om(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-An(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pe=0;function qw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ww,Lm,Gw,Qw,Jw,tp=!1,mu=[],Gr=null,Qr=null,Jr=null,Ha=new Map,Ka=new Map,jr=[],Yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nv(t,e){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Ha.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(e.pointerId)}}function na(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Al(e),e!==null&&Lm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Xx(t,e,n,r,i){switch(e){case"focusin":return Gr=na(Gr,t,e,n,r,i),!0;case"dragenter":return Qr=na(Qr,t,e,n,r,i),!0;case"mouseover":return Jr=na(Jr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ha.set(s,na(Ha.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ka.set(s,na(Ka.get(s)||null,t,e,n,r,i)),!0}return!1}function Yw(t){var e=Li(t.target);if(e!==null){var n=rs(e);if(n!==null){if(e=n.tag,e===13){if(e=Fw(n),e!==null){t.blockedOn=e,Jw(t.priority,function(){Gw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=np(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Jh=r,n.target.dispatchEvent(r),Jh=null}else return e=Al(n),e!==null&&Lm(e),t.blockedOn=n,!1;e.shift()}return!0}function Ov(t,e,n){Fu(t)&&n.delete(e)}function Zx(){tp=!1,Gr!==null&&Fu(Gr)&&(Gr=null),Qr!==null&&Fu(Qr)&&(Qr=null),Jr!==null&&Fu(Jr)&&(Jr=null),Ha.forEach(Ov),Ka.forEach(Ov)}function ra(t,e){t.blockedOn===e&&(t.blockedOn=null,tp||(tp=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,Zx)))}function qa(t){function e(i){return ra(i,t)}if(0<mu.length){ra(mu[0],t);for(var n=1;n<mu.length;n++){var r=mu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gr!==null&&ra(Gr,t),Qr!==null&&ra(Qr,t),Jr!==null&&ra(Jr,t),Ha.forEach(e),Ka.forEach(e),n=0;n<jr.length;n++)r=jr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<jr.length&&(n=jr[0],n.blockedOn===null);)Yw(n),n.blockedOn===null&&jr.shift()}var qs=br.ReactCurrentBatchConfig,wc=!0;function eC(t,e,n,r){var i=Pe,s=qs.transition;qs.transition=null;try{Pe=1,Dm(t,e,n,r)}finally{Pe=i,qs.transition=s}}function tC(t,e,n,r){var i=Pe,s=qs.transition;qs.transition=null;try{Pe=4,Dm(t,e,n,r)}finally{Pe=i,qs.transition=s}}function Dm(t,e,n,r){if(wc){var i=np(t,e,n,r);if(i===null)Ff(t,e,r,Sc,n),Nv(t,r);else if(Xx(i,t,e,n,r))r.stopPropagation();else if(Nv(t,r),e&4&&-1<Yx.indexOf(t)){for(;i!==null;){var s=Al(i);if(s!==null&&Ww(s),s=np(t,e,n,r),s===null&&Ff(t,e,r,Sc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ff(t,e,r,null,n)}}var Sc=null;function np(t,e,n,r){if(Sc=null,t=km(r),t=Li(t),t!==null)if(e=rs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Fw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sc=t,null}function Xw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($x()){case Nm:return 1;case zw:return 4;case _c:case zx:return 16;case Hw:return 536870912;default:return 16}default:return 16}}var $r=null,jm=null,Uu=null;function Zw(){if(Uu)return Uu;var t,e=jm,n=e.length,r,i="value"in $r?$r.value:$r.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Uu=i.slice(t,1<r?1-r:void 0)}function Bu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gu(){return!0}function Lv(){return!1}function cn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gu:Lv,this.isPropagationStopped=Lv,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),e}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mm=cn(To),bl=He({},To,{view:0,detail:0}),nC=cn(bl),Pf,kf,ia,vd=He({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ia&&(ia&&t.type==="mousemove"?(Pf=t.screenX-ia.screenX,kf=t.screenY-ia.screenY):kf=Pf=0,ia=t),Pf)},movementY:function(t){return"movementY"in t?t.movementY:kf}}),Dv=cn(vd),rC=He({},vd,{dataTransfer:0}),iC=cn(rC),sC=He({},bl,{relatedTarget:0}),Nf=cn(sC),oC=He({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),aC=cn(oC),lC=He({},To,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uC=cn(lC),cC=He({},To,{data:0}),jv=cn(cC),dC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hC[t])?!!e[t]:!1}function Vm(){return pC}var mC=He({},bl,{key:function(t){if(t.key){var e=dC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vm,charCode:function(t){return t.type==="keypress"?Bu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gC=cn(mC),yC=He({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mv=cn(yC),vC=He({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vm}),_C=cn(vC),EC=He({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),wC=cn(EC),SC=He({},vd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TC=cn(SC),IC=[9,13,27,32],Fm=gr&&"CompositionEvent"in window,ba=null;gr&&"documentMode"in document&&(ba=document.documentMode);var bC=gr&&"TextEvent"in window&&!ba,eS=gr&&(!Fm||ba&&8<ba&&11>=ba),Vv=" ",Fv=!1;function tS(t,e){switch(t){case"keyup":return IC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ps=!1;function AC(t,e){switch(t){case"compositionend":return nS(e);case"keypress":return e.which!==32?null:(Fv=!0,Vv);case"textInput":return t=e.data,t===Vv&&Fv?null:t;default:return null}}function xC(t,e){if(Ps)return t==="compositionend"||!Fm&&tS(t,e)?(t=Zw(),Uu=jm=$r=null,Ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eS&&e.locale!=="ko"?null:e.data;default:return null}}var CC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CC[t.type]:e==="textarea"}function rS(t,e,n,r){Lw(r),e=Tc(e,"onChange"),0<e.length&&(n=new Mm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Aa=null,Wa=null;function RC(t){pS(t,0)}function _d(t){var e=Os(t);if(xw(e))return t}function PC(t,e){if(t==="change")return e}var iS=!1;if(gr){var Of;if(gr){var Lf="oninput"in document;if(!Lf){var Bv=document.createElement("div");Bv.setAttribute("oninput","return;"),Lf=typeof Bv.oninput=="function"}Of=Lf}else Of=!1;iS=Of&&(!document.documentMode||9<document.documentMode)}function $v(){Aa&&(Aa.detachEvent("onpropertychange",sS),Wa=Aa=null)}function sS(t){if(t.propertyName==="value"&&_d(Wa)){var e=[];rS(e,Wa,t,km(t)),Vw(RC,e)}}function kC(t,e,n){t==="focusin"?($v(),Aa=e,Wa=n,Aa.attachEvent("onpropertychange",sS)):t==="focusout"&&$v()}function NC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _d(Wa)}function OC(t,e){if(t==="click")return _d(e)}function LC(t,e){if(t==="input"||t==="change")return _d(e)}function DC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:DC;function Ga(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Vh.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function zv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hv(t,e){var n=zv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zv(n)}}function oS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aS(){for(var t=window,e=gc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gc(t.document)}return e}function Um(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jC(t){var e=aS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oS(n.ownerDocument.documentElement,n)){if(r!==null&&Um(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Hv(n,s);var o=Hv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MC=gr&&"documentMode"in document&&11>=document.documentMode,ks=null,rp=null,xa=null,ip=!1;function Kv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ip||ks==null||ks!==gc(r)||(r=ks,"selectionStart"in r&&Um(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xa&&Ga(xa,r)||(xa=r,r=Tc(rp,"onSelect"),0<r.length&&(e=new Mm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ks)))}function yu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ns={animationend:yu("Animation","AnimationEnd"),animationiteration:yu("Animation","AnimationIteration"),animationstart:yu("Animation","AnimationStart"),transitionend:yu("Transition","TransitionEnd")},Df={},lS={};gr&&(lS=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Ed(t){if(Df[t])return Df[t];if(!Ns[t])return t;var e=Ns[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lS)return Df[t]=e[n];return t}var uS=Ed("animationend"),cS=Ed("animationiteration"),dS=Ed("animationstart"),fS=Ed("transitionend"),hS=new Map,qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(t,e){hS.set(t,e),ns(e,[t])}for(var jf=0;jf<qv.length;jf++){var Mf=qv[jf],VC=Mf.toLowerCase(),FC=Mf[0].toUpperCase()+Mf.slice(1);gi(VC,"on"+FC)}gi(uS,"onAnimationEnd");gi(cS,"onAnimationIteration");gi(dS,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(fS,"onTransitionEnd");to("onMouseEnter",["mouseout","mouseover"]);to("onMouseLeave",["mouseout","mouseover"]);to("onPointerEnter",["pointerout","pointerover"]);to("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function Wv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Vx(r,e,void 0,t),t.currentTarget=null}function pS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Wv(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Wv(i,a,c),s=l}}}if(vc)throw t=Zh,vc=!1,Zh=null,t}function je(t,e){var n=e[up];n===void 0&&(n=e[up]=new Set);var r=t+"__bubble";n.has(r)||(mS(e,t,2,!1),n.add(r))}function Vf(t,e,n){var r=0;e&&(r|=4),mS(n,t,r,e)}var vu="_reactListening"+Math.random().toString(36).slice(2);function Qa(t){if(!t[vu]){t[vu]=!0,Sw.forEach(function(n){n!=="selectionchange"&&(UC.has(n)||Vf(n,!1,t),Vf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vu]||(e[vu]=!0,Vf("selectionchange",!1,e))}}function mS(t,e,n,r){switch(Xw(e)){case 1:var i=eC;break;case 4:i=tC;break;default:i=Dm}n=i.bind(null,e,n,t),i=void 0,!Xh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ff(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Li(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Vw(function(){var c=s,d=km(n),h=[];e:{var p=hS.get(t);if(p!==void 0){var I=Mm,y=t;switch(t){case"keypress":if(Bu(n)===0)break e;case"keydown":case"keyup":I=gC;break;case"focusin":y="focus",I=Nf;break;case"focusout":y="blur",I=Nf;break;case"beforeblur":case"afterblur":I=Nf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=iC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=_C;break;case uS:case cS:case dS:I=aC;break;case fS:I=wC;break;case"scroll":I=nC;break;case"wheel":I=TC;break;case"copy":case"cut":case"paste":I=uC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Mv}var v=(e&4)!==0,w=!v&&t==="scroll",_=v?p!==null?p+"Capture":null:p;v=[];for(var E=c,T;E!==null;){T=E;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,_!==null&&(N=za(E,_),N!=null&&v.push(Ja(E,N,T)))),w)break;E=E.return}0<v.length&&(p=new I(p,y,null,n,d),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",p&&n!==Jh&&(y=n.relatedTarget||n.fromElement)&&(Li(y)||y[yr]))break e;if((I||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,I?(y=n.relatedTarget||n.toElement,I=c,y=y?Li(y):null,y!==null&&(w=rs(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(I=null,y=c),I!==y)){if(v=Dv,N="onMouseLeave",_="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(v=Mv,N="onPointerLeave",_="onPointerEnter",E="pointer"),w=I==null?p:Os(I),T=y==null?p:Os(y),p=new v(N,E+"leave",I,n,d),p.target=w,p.relatedTarget=T,N=null,Li(d)===c&&(v=new v(_,E+"enter",y,n,d),v.target=T,v.relatedTarget=w,N=v),w=N,I&&y)t:{for(v=I,_=y,E=0,T=v;T;T=vs(T))E++;for(T=0,N=_;N;N=vs(N))T++;for(;0<E-T;)v=vs(v),E--;for(;0<T-E;)_=vs(_),T--;for(;E--;){if(v===_||_!==null&&v===_.alternate)break t;v=vs(v),_=vs(_)}v=null}else v=null;I!==null&&Gv(h,p,I,v,!1),y!==null&&w!==null&&Gv(h,w,y,v,!0)}}e:{if(p=c?Os(c):window,I=p.nodeName&&p.nodeName.toLowerCase(),I==="select"||I==="input"&&p.type==="file")var j=PC;else if(Uv(p))if(iS)j=LC;else{j=NC;var F=kC}else(I=p.nodeName)&&I.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=OC);if(j&&(j=j(t,c))){rS(h,j,n,d);break e}F&&F(t,p,c),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&Kh(p,"number",p.value)}switch(F=c?Os(c):window,t){case"focusin":(Uv(F)||F.contentEditable==="true")&&(ks=F,rp=c,xa=null);break;case"focusout":xa=rp=ks=null;break;case"mousedown":ip=!0;break;case"contextmenu":case"mouseup":case"dragend":ip=!1,Kv(h,n,d);break;case"selectionchange":if(MC)break;case"keydown":case"keyup":Kv(h,n,d)}var x;if(Fm)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ps?tS(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(eS&&n.locale!=="ko"&&(Ps||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ps&&(x=Zw()):($r=d,jm="value"in $r?$r.value:$r.textContent,Ps=!0)),F=Tc(c,S),0<F.length&&(S=new jv(S,t,null,n,d),h.push({event:S,listeners:F}),x?S.data=x:(x=nS(n),x!==null&&(S.data=x)))),(x=bC?AC(t,n):xC(t,n))&&(c=Tc(c,"onBeforeInput"),0<c.length&&(d=new jv("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=x))}pS(h,e)})}function Ja(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=za(t,n),s!=null&&r.unshift(Ja(t,s,i)),s=za(t,e),s!=null&&r.push(Ja(t,s,i))),t=t.return}return r}function vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=za(n,s),l!=null&&o.unshift(Ja(n,l,a))):i||(l=za(n,s),l!=null&&o.push(Ja(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var BC=/\r\n?/g,$C=/\u0000|\uFFFD/g;function Qv(t){return(typeof t=="string"?t:""+t).replace(BC,`
`).replace($C,"")}function _u(t,e,n){if(e=Qv(e),Qv(t)!==e&&n)throw Error(J(425))}function Ic(){}var sp=null,op=null;function ap(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lp=typeof setTimeout=="function"?setTimeout:void 0,zC=typeof clearTimeout=="function"?clearTimeout:void 0,Jv=typeof Promise=="function"?Promise:void 0,HC=typeof queueMicrotask=="function"?queueMicrotask:typeof Jv<"u"?function(t){return Jv.resolve(null).then(t).catch(KC)}:lp;function KC(t){setTimeout(function(){throw t})}function Uf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),qa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);qa(e)}function Yr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Io=Math.random().toString(36).slice(2),zn="__reactFiber$"+Io,Ya="__reactProps$"+Io,yr="__reactContainer$"+Io,up="__reactEvents$"+Io,qC="__reactListeners$"+Io,WC="__reactHandles$"+Io;function Li(t){var e=t[zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yr]||n[zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yv(t);t!==null;){if(n=t[zn])return n;t=Yv(t)}return e}t=n,n=t.parentNode}return null}function Al(t){return t=t[zn]||t[yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Os(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function wd(t){return t[Ya]||null}var cp=[],Ls=-1;function yi(t){return{current:t}}function Me(t){0>Ls||(t.current=cp[Ls],cp[Ls]=null,Ls--)}function Le(t,e){Ls++,cp[Ls]=t.current,t.current=e}var ci={},Ot=yi(ci),Wt=yi(!1),qi=ci;function no(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gt(t){return t=t.childContextTypes,t!=null}function bc(){Me(Wt),Me(Ot)}function Xv(t,e,n){if(Ot.current!==ci)throw Error(J(168));Le(Ot,e),Le(Wt,n)}function gS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,kx(t)||"Unknown",i));return He({},n,r)}function Ac(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,qi=Ot.current,Le(Ot,t),Le(Wt,Wt.current),!0}function Zv(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=gS(t,e,qi),r.__reactInternalMemoizedMergedChildContext=t,Me(Wt),Me(Ot),Le(Ot,t)):Me(Wt),Le(Wt,n)}var sr=null,Sd=!1,Bf=!1;function yS(t){sr===null?sr=[t]:sr.push(t)}function GC(t){Sd=!0,yS(t)}function vi(){if(!Bf&&sr!==null){Bf=!0;var t=0,e=Pe;try{var n=sr;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sr=null,Sd=!1}catch(i){throw sr!==null&&(sr=sr.slice(t+1)),$w(Nm,vi),i}finally{Pe=e,Bf=!1}}return null}var Ds=[],js=0,xc=null,Cc=0,dn=[],fn=0,Wi=null,or=1,ar="";function Pi(t,e){Ds[js++]=Cc,Ds[js++]=xc,xc=t,Cc=e}function vS(t,e,n){dn[fn++]=or,dn[fn++]=ar,dn[fn++]=Wi,Wi=t;var r=or;t=ar;var i=32-An(r)-1;r&=~(1<<i),n+=1;var s=32-An(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,or=1<<32-An(e)+i|n<<i|r,ar=s+t}else or=1<<s|n<<i|r,ar=t}function Bm(t){t.return!==null&&(Pi(t,1),vS(t,1,0))}function $m(t){for(;t===xc;)xc=Ds[--js],Ds[js]=null,Cc=Ds[--js],Ds[js]=null;for(;t===Wi;)Wi=dn[--fn],dn[fn]=null,ar=dn[--fn],dn[fn]=null,or=dn[--fn],dn[fn]=null}var sn=null,rn=null,Fe=!1,bn=null;function _S(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function e0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,rn=Yr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wi!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,rn=null,!0):!1;default:return!1}}function dp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function fp(t){if(Fe){var e=rn;if(e){var n=e;if(!e0(t,e)){if(dp(t))throw Error(J(418));e=Yr(n.nextSibling);var r=sn;e&&e0(t,e)?_S(r,n):(t.flags=t.flags&-4097|2,Fe=!1,sn=t)}}else{if(dp(t))throw Error(J(418));t.flags=t.flags&-4097|2,Fe=!1,sn=t}}}function t0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function Eu(t){if(t!==sn)return!1;if(!Fe)return t0(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ap(t.type,t.memoizedProps)),e&&(e=rn)){if(dp(t))throw ES(),Error(J(418));for(;e;)_S(t,e),e=Yr(e.nextSibling)}if(t0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=Yr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=sn?Yr(t.stateNode.nextSibling):null;return!0}function ES(){for(var t=rn;t;)t=Yr(t.nextSibling)}function ro(){rn=sn=null,Fe=!1}function zm(t){bn===null?bn=[t]:bn.push(t)}var QC=br.ReactCurrentBatchConfig;function sa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function wu(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function n0(t){var e=t._init;return e(t._payload)}function wS(t){function e(_,E){if(t){var T=_.deletions;T===null?(_.deletions=[E],_.flags|=16):T.push(E)}}function n(_,E){if(!t)return null;for(;E!==null;)e(_,E),E=E.sibling;return null}function r(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function i(_,E){return _=ti(_,E),_.index=0,_.sibling=null,_}function s(_,E,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<E?(_.flags|=2,E):T):(_.flags|=2,E)):(_.flags|=1048576,E)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,E,T,N){return E===null||E.tag!==6?(E=Gf(T,_.mode,N),E.return=_,E):(E=i(E,T),E.return=_,E)}function l(_,E,T,N){var j=T.type;return j===Rs?d(_,E,T.props.children,N,T.key):E!==null&&(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Lr&&n0(j)===E.type)?(N=i(E,T.props),N.ref=sa(_,E,T),N.return=_,N):(N=Gu(T.type,T.key,T.props,null,_.mode,N),N.ref=sa(_,E,T),N.return=_,N)}function c(_,E,T,N){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=Qf(T,_.mode,N),E.return=_,E):(E=i(E,T.children||[]),E.return=_,E)}function d(_,E,T,N,j){return E===null||E.tag!==7?(E=$i(T,_.mode,N,j),E.return=_,E):(E=i(E,T),E.return=_,E)}function h(_,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Gf(""+E,_.mode,T),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case cu:return T=Gu(E.type,E.key,E.props,null,_.mode,T),T.ref=sa(_,null,E),T.return=_,T;case Cs:return E=Qf(E,_.mode,T),E.return=_,E;case Lr:var N=E._init;return h(_,N(E._payload),T)}if(ha(E)||ea(E))return E=$i(E,_.mode,T,null),E.return=_,E;wu(_,E)}return null}function p(_,E,T,N){var j=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return j!==null?null:a(_,E,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case cu:return T.key===j?l(_,E,T,N):null;case Cs:return T.key===j?c(_,E,T,N):null;case Lr:return j=T._init,p(_,E,j(T._payload),N)}if(ha(T)||ea(T))return j!==null?null:d(_,E,T,N,null);wu(_,T)}return null}function I(_,E,T,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(T)||null,a(E,_,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case cu:return _=_.get(N.key===null?T:N.key)||null,l(E,_,N,j);case Cs:return _=_.get(N.key===null?T:N.key)||null,c(E,_,N,j);case Lr:var F=N._init;return I(_,E,T,F(N._payload),j)}if(ha(N)||ea(N))return _=_.get(T)||null,d(E,_,N,j,null);wu(E,N)}return null}function y(_,E,T,N){for(var j=null,F=null,x=E,S=E=0,C=null;x!==null&&S<T.length;S++){x.index>S?(C=x,x=null):C=x.sibling;var R=p(_,x,T[S],N);if(R===null){x===null&&(x=C);break}t&&x&&R.alternate===null&&e(_,x),E=s(R,E,S),F===null?j=R:F.sibling=R,F=R,x=C}if(S===T.length)return n(_,x),Fe&&Pi(_,S),j;if(x===null){for(;S<T.length;S++)x=h(_,T[S],N),x!==null&&(E=s(x,E,S),F===null?j=x:F.sibling=x,F=x);return Fe&&Pi(_,S),j}for(x=r(_,x);S<T.length;S++)C=I(x,_,S,T[S],N),C!==null&&(t&&C.alternate!==null&&x.delete(C.key===null?S:C.key),E=s(C,E,S),F===null?j=C:F.sibling=C,F=C);return t&&x.forEach(function(P){return e(_,P)}),Fe&&Pi(_,S),j}function v(_,E,T,N){var j=ea(T);if(typeof j!="function")throw Error(J(150));if(T=j.call(T),T==null)throw Error(J(151));for(var F=j=null,x=E,S=E=0,C=null,R=T.next();x!==null&&!R.done;S++,R=T.next()){x.index>S?(C=x,x=null):C=x.sibling;var P=p(_,x,R.value,N);if(P===null){x===null&&(x=C);break}t&&x&&P.alternate===null&&e(_,x),E=s(P,E,S),F===null?j=P:F.sibling=P,F=P,x=C}if(R.done)return n(_,x),Fe&&Pi(_,S),j;if(x===null){for(;!R.done;S++,R=T.next())R=h(_,R.value,N),R!==null&&(E=s(R,E,S),F===null?j=R:F.sibling=R,F=R);return Fe&&Pi(_,S),j}for(x=r(_,x);!R.done;S++,R=T.next())R=I(x,_,S,R.value,N),R!==null&&(t&&R.alternate!==null&&x.delete(R.key===null?S:R.key),E=s(R,E,S),F===null?j=R:F.sibling=R,F=R);return t&&x.forEach(function(k){return e(_,k)}),Fe&&Pi(_,S),j}function w(_,E,T,N){if(typeof T=="object"&&T!==null&&T.type===Rs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case cu:e:{for(var j=T.key,F=E;F!==null;){if(F.key===j){if(j=T.type,j===Rs){if(F.tag===7){n(_,F.sibling),E=i(F,T.props.children),E.return=_,_=E;break e}}else if(F.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Lr&&n0(j)===F.type){n(_,F.sibling),E=i(F,T.props),E.ref=sa(_,F,T),E.return=_,_=E;break e}n(_,F);break}else e(_,F);F=F.sibling}T.type===Rs?(E=$i(T.props.children,_.mode,N,T.key),E.return=_,_=E):(N=Gu(T.type,T.key,T.props,null,_.mode,N),N.ref=sa(_,E,T),N.return=_,_=N)}return o(_);case Cs:e:{for(F=T.key;E!==null;){if(E.key===F)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(_,E.sibling),E=i(E,T.children||[]),E.return=_,_=E;break e}else{n(_,E);break}else e(_,E);E=E.sibling}E=Qf(T,_.mode,N),E.return=_,_=E}return o(_);case Lr:return F=T._init,w(_,E,F(T._payload),N)}if(ha(T))return y(_,E,T,N);if(ea(T))return v(_,E,T,N);wu(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(n(_,E.sibling),E=i(E,T),E.return=_,_=E):(n(_,E),E=Gf(T,_.mode,N),E.return=_,_=E),o(_)):n(_,E)}return w}var io=wS(!0),SS=wS(!1),Rc=yi(null),Pc=null,Ms=null,Hm=null;function Km(){Hm=Ms=Pc=null}function qm(t){var e=Rc.current;Me(Rc),t._currentValue=e}function hp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ws(t,e){Pc=t,Hm=Ms=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qt=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(Hm!==t)if(t={context:t,memoizedValue:e,next:null},Ms===null){if(Pc===null)throw Error(J(308));Ms=t,Pc.dependencies={lanes:0,firstContext:t}}else Ms=Ms.next=t;return e}var Di=null;function Wm(t){Di===null?Di=[t]:Di.push(t)}function TS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Wm(e)):(n.next=i.next,i.next=n),e.interleaved=n,vr(t,r)}function vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Dr=!1;function Gm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vr(t,n)}return i=r.interleaved,i===null?(e.next=e,Wm(r)):(e.next=i.next,i.next=e),r.interleaved=e,vr(t,n)}function $u(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Om(t,n)}}function r0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kc(t,e,n,r){var i=t.updateQueue;Dr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,I=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:I,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(p=e,I=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(I,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,p=typeof y=="function"?y.call(I,h,p):y,p==null)break e;h=He({},h,p);break e;case 2:Dr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else I={eventTime:I,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=I,l=h):d=d.next=I,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qi|=o,t.lanes=o,t.memoizedState=h}}function i0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var xl={},Kn=yi(xl),Xa=yi(xl),Za=yi(xl);function ji(t){if(t===xl)throw Error(J(174));return t}function Qm(t,e){switch(Le(Za,e),Le(Xa,t),Le(Kn,xl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wh(e,t)}Me(Kn),Le(Kn,e)}function so(){Me(Kn),Me(Xa),Me(Za)}function bS(t){ji(Za.current);var e=ji(Kn.current),n=Wh(e,t.type);e!==n&&(Le(Xa,t),Le(Kn,n))}function Jm(t){Xa.current===t&&(Me(Kn),Me(Xa))}var Be=yi(0);function Nc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $f=[];function Ym(){for(var t=0;t<$f.length;t++)$f[t]._workInProgressVersionPrimary=null;$f.length=0}var zu=br.ReactCurrentDispatcher,zf=br.ReactCurrentBatchConfig,Gi=0,ze=null,st=null,pt=null,Oc=!1,Ca=!1,el=0,JC=0;function At(){throw Error(J(321))}function Xm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function Zm(t,e,n,r,i,s){if(Gi=s,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zu.current=t===null||t.memoizedState===null?eR:tR,t=n(r,i),Ca){s=0;do{if(Ca=!1,el=0,25<=s)throw Error(J(301));s+=1,pt=st=null,e.updateQueue=null,zu.current=nR,t=n(r,i)}while(Ca)}if(zu.current=Lc,e=st!==null&&st.next!==null,Gi=0,pt=st=ze=null,Oc=!1,e)throw Error(J(300));return t}function eg(){var t=el!==0;return el=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?ze.memoizedState=pt=t:pt=pt.next=t,pt}function yn(){if(st===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=pt===null?ze.memoizedState:pt.next;if(e!==null)pt=e,st=t;else{if(t===null)throw Error(J(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},pt===null?ze.memoizedState=pt=t:pt=pt.next=t}return pt}function tl(t,e){return typeof e=="function"?e(t):e}function Hf(t){var e=yn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Gi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ze.lanes|=d,Qi|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Pn(r,e.memoizedState)||(qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ze.lanes|=s,Qi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kf(t){var e=yn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Pn(s,e.memoizedState)||(qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function AS(){}function xS(t,e){var n=ze,r=yn(),i=e(),s=!Pn(r.memoizedState,i);if(s&&(r.memoizedState=i,qt=!0),r=r.queue,tg(PS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,nl(9,RS.bind(null,n,r,i,e),void 0,null),mt===null)throw Error(J(349));Gi&30||CS(n,e,i)}return i}function CS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RS(t,e,n,r){e.value=n,e.getSnapshot=r,kS(e)&&NS(t)}function PS(t,e,n){return n(function(){kS(e)&&NS(t)})}function kS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function NS(t){var e=vr(t,1);e!==null&&xn(e,t,1,-1)}function s0(t){var e=Vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:t},e.queue=t,t=t.dispatch=ZC.bind(null,ze,t),[e.memoizedState,t]}function nl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OS(){return yn().memoizedState}function Hu(t,e,n,r){var i=Vn();ze.flags|=t,i.memoizedState=nl(1|e,n,void 0,r===void 0?null:r)}function Td(t,e,n,r){var i=yn();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&Xm(r,o.deps)){i.memoizedState=nl(e,n,s,r);return}}ze.flags|=t,i.memoizedState=nl(1|e,n,s,r)}function o0(t,e){return Hu(8390656,8,t,e)}function tg(t,e){return Td(2048,8,t,e)}function LS(t,e){return Td(4,2,t,e)}function DS(t,e){return Td(4,4,t,e)}function jS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MS(t,e,n){return n=n!=null?n.concat([t]):null,Td(4,4,jS.bind(null,e,t),n)}function ng(){}function VS(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FS(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function US(t,e,n){return Gi&21?(Pn(n,e)||(n=Kw(),ze.lanes|=n,Qi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qt=!0),t.memoizedState=n)}function YC(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=zf.transition;zf.transition={};try{t(!1),e()}finally{Pe=n,zf.transition=r}}function BS(){return yn().memoizedState}function XC(t,e,n){var r=ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$S(t))zS(e,n);else if(n=TS(t,e,n,r),n!==null){var i=Ut();xn(n,t,r,i),HS(n,e,r)}}function ZC(t,e,n){var r=ei(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($S(t))zS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Pn(a,o)){var l=e.interleaved;l===null?(i.next=i,Wm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=TS(t,e,i,r),n!==null&&(i=Ut(),xn(n,t,r,i),HS(n,e,r))}}function $S(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function zS(t,e){Ca=Oc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Om(t,n)}}var Lc={readContext:gn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},eR={readContext:gn,useCallback:function(t,e){return Vn().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:o0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hu(4194308,4,jS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hu(4,2,t,e)},useMemo:function(t,e){var n=Vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=XC.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=Vn();return t={current:t},e.memoizedState=t},useState:s0,useDebugValue:ng,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=s0(!1),e=t[0];return t=YC.bind(null,t[1]),Vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,i=Vn();if(Fe){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),mt===null)throw Error(J(349));Gi&30||CS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,o0(PS.bind(null,r,s,t),[t]),r.flags|=2048,nl(9,RS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Vn(),e=mt.identifierPrefix;if(Fe){var n=ar,r=or;n=(r&~(1<<32-An(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=el++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tR={readContext:gn,useCallback:VS,useContext:gn,useEffect:tg,useImperativeHandle:MS,useInsertionEffect:LS,useLayoutEffect:DS,useMemo:FS,useReducer:Hf,useRef:OS,useState:function(){return Hf(tl)},useDebugValue:ng,useDeferredValue:function(t){var e=yn();return US(e,st.memoizedState,t)},useTransition:function(){var t=Hf(tl)[0],e=yn().memoizedState;return[t,e]},useMutableSource:AS,useSyncExternalStore:xS,useId:BS,unstable_isNewReconciler:!1},nR={readContext:gn,useCallback:VS,useContext:gn,useEffect:tg,useImperativeHandle:MS,useInsertionEffect:LS,useLayoutEffect:DS,useMemo:FS,useReducer:Kf,useRef:OS,useState:function(){return Kf(tl)},useDebugValue:ng,useDeferredValue:function(t){var e=yn();return st===null?e.memoizedState=t:US(e,st.memoizedState,t)},useTransition:function(){var t=Kf(tl)[0],e=yn().memoizedState;return[t,e]},useMutableSource:AS,useSyncExternalStore:xS,useId:BS,unstable_isNewReconciler:!1};function Tn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Id={isMounted:function(t){return(t=t._reactInternals)?rs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=ei(t),s=hr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Xr(t,s,i),e!==null&&(xn(e,t,i,r),$u(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=ei(t),s=hr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xr(t,s,i),e!==null&&(xn(e,t,i,r),$u(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=ei(t),i=hr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xr(t,i,r),e!==null&&(xn(e,t,r,n),$u(e,t,r))}};function a0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ga(n,r)||!Ga(i,s):!0}function KS(t,e,n){var r=!1,i=ci,s=e.contextType;return typeof s=="object"&&s!==null?s=gn(s):(i=Gt(e)?qi:Ot.current,r=e.contextTypes,s=(r=r!=null)?no(t,i):ci),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Id,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function l0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Id.enqueueReplaceState(e,e.state,null)}function mp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gn(s):(s=Gt(e)?qi:Ot.current,i.context=no(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(pp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Id.enqueueReplaceState(i,i.state,null),kc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function oo(t,e){try{var n="",r=e;do n+=Px(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function qf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rR=typeof WeakMap=="function"?WeakMap:Map;function qS(t,e,n){n=hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){jc||(jc=!0,Ap=r),gp(t,e)},n}function WS(t,e,n){n=hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){gp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){gp(t,e),typeof r!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function u0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yR.bind(null,t,e,n),e.then(t,t))}function c0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function d0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hr(-1,1),e.tag=2,Xr(n,e,1))),n.lanes|=1),t)}var iR=br.ReactCurrentOwner,qt=!1;function Ft(t,e,n,r){e.child=t===null?SS(e,null,n,r):io(e,t.child,n,r)}function f0(t,e,n,r,i){n=n.render;var s=e.ref;return Ws(e,i),r=Zm(t,e,n,r,s,i),n=eg(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):(Fe&&n&&Bm(e),e.flags|=1,Ft(t,e,r,i),e.child)}function h0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!cg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,GS(t,e,s,r,i)):(t=Gu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ga,n(o,r)&&t.ref===e.ref)return _r(t,e,i)}return e.flags|=1,t=ti(s,r),t.ref=e.ref,t.return=e,e.child=t}function GS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ga(s,r)&&t.ref===e.ref)if(qt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(qt=!0);else return e.lanes=t.lanes,_r(t,e,i)}return yp(t,e,n,r,i)}function QS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Fs,tn),tn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Fs,tn),tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Le(Fs,tn),tn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Le(Fs,tn),tn|=r;return Ft(t,e,i,n),e.child}function JS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yp(t,e,n,r,i){var s=Gt(n)?qi:Ot.current;return s=no(e,s),Ws(e,i),n=Zm(t,e,n,r,s,i),r=eg(),t!==null&&!qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):(Fe&&r&&Bm(e),e.flags|=1,Ft(t,e,n,i),e.child)}function p0(t,e,n,r,i){if(Gt(n)){var s=!0;Ac(e)}else s=!1;if(Ws(e,i),e.stateNode===null)Ku(t,e),KS(e,n,r),mp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gn(c):(c=Gt(n)?qi:Ot.current,c=no(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&l0(e,o,r,c),Dr=!1;var p=e.memoizedState;o.state=p,kc(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Wt.current||Dr?(typeof d=="function"&&(pp(e,n,d,r),l=e.memoizedState),(a=Dr||a0(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,IS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Tn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gn(l):(l=Gt(n)?qi:Ot.current,l=no(e,l));var I=n.getDerivedStateFromProps;(d=typeof I=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&l0(e,o,r,l),Dr=!1,p=e.memoizedState,o.state=p,kc(e,r,o,i);var y=e.memoizedState;a!==h||p!==y||Wt.current||Dr?(typeof I=="function"&&(pp(e,n,I,r),y=e.memoizedState),(c=Dr||a0(e,n,c,r,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return vp(t,e,n,r,s,i)}function vp(t,e,n,r,i,s){JS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Zv(e,n,!1),_r(t,e,s);r=e.stateNode,iR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=io(e,t.child,null,s),e.child=io(e,null,a,s)):Ft(t,e,a,s),e.memoizedState=r.state,i&&Zv(e,n,!0),e.child}function YS(t){var e=t.stateNode;e.pendingContext?Xv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xv(t,e.context,!1),Qm(t,e.containerInfo)}function m0(t,e,n,r,i){return ro(),zm(i),e.flags|=256,Ft(t,e,n,r),e.child}var _p={dehydrated:null,treeContext:null,retryLane:0};function Ep(t){return{baseLanes:t,cachePool:null,transitions:null}}function XS(t,e,n){var r=e.pendingProps,i=Be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le(Be,i&1),t===null)return fp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=xd(o,r,0,null),t=$i(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ep(n),e.memoizedState=_p,t):rg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ti(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ti(a,s):(s=$i(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ep(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=_p,r}return s=t.child,t=s.sibling,r=ti(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rg(t,e){return e=xd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Su(t,e,n,r){return r!==null&&zm(r),io(e,t.child,null,n),t=rg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=qf(Error(J(422))),Su(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=xd({mode:"visible",children:r.children},i,0,null),s=$i(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&io(e,t.child,null,o),e.child.memoizedState=Ep(o),e.memoizedState=_p,s);if(!(e.mode&1))return Su(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(J(419)),r=qf(s,r,void 0),Su(t,e,o,r)}if(a=(o&t.childLanes)!==0,qt||a){if(r=mt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vr(t,i),xn(r,t,i,-1))}return ug(),r=qf(Error(J(421))),Su(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=vR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,rn=Yr(i.nextSibling),sn=e,Fe=!0,bn=null,t!==null&&(dn[fn++]=or,dn[fn++]=ar,dn[fn++]=Wi,or=t.id,ar=t.overflow,Wi=e),e=rg(e,r.children),e.flags|=4096,e)}function g0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hp(t.return,e,n)}function Wf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ZS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ft(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&g0(t,n,e);else if(t.tag===19)g0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Nc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Nc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wf(e,!0,n,null,s);break;case"together":Wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ku(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=ti(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ti(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oR(t,e,n){switch(e.tag){case 3:YS(e),ro();break;case 5:bS(e);break;case 1:Gt(e.type)&&Ac(e);break;case 4:Qm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(Rc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?XS(t,e,n):(Le(Be,Be.current&1),t=_r(t,e,n),t!==null?t.sibling:null);Le(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,QS(t,e,n)}return _r(t,e,n)}var eT,wp,tT,nT;eT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wp=function(){};tT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ji(Kn.current);var s=null;switch(n){case"input":i=zh(t,i),r=zh(t,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=qh(t,i),r=qh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ic)}Gh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ba.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ba.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&je("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};nT=function(t,e,n,r){n!==r&&(e.flags|=4)};function oa(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aR(t,e,n){var r=e.pendingProps;switch($m(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(e),null;case 1:return Gt(e.type)&&bc(),xt(e),null;case 3:return r=e.stateNode,so(),Me(Wt),Me(Ot),Ym(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Eu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bn!==null&&(Rp(bn),bn=null))),wp(t,e),xt(e),null;case 5:Jm(e);var i=ji(Za.current);if(n=e.type,t!==null&&e.stateNode!=null)tT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return xt(e),null}if(t=ji(Kn.current),Eu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[zn]=e,r[Ya]=s,t=(e.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<ma.length;i++)je(ma[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":bv(r,s),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},je("invalid",r);break;case"textarea":xv(r,s),je("invalid",r)}Gh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_u(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_u(r.textContent,a,t),i=["children",""+a]):Ba.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&je("scroll",r)}switch(n){case"input":du(r),Av(r,s,!0);break;case"textarea":du(r),Cv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ic)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[zn]=e,t[Ya]=r,eT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qh(n,r),n){case"dialog":je("cancel",t),je("close",t),i=r;break;case"iframe":case"object":case"embed":je("load",t),i=r;break;case"video":case"audio":for(i=0;i<ma.length;i++)je(ma[i],t);i=r;break;case"source":je("error",t),i=r;break;case"img":case"image":case"link":je("error",t),je("load",t),i=r;break;case"details":je("toggle",t),i=r;break;case"input":bv(t,r),i=zh(t,r),je("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),je("invalid",t);break;case"textarea":xv(t,r),i=qh(t,r),je("invalid",t);break;default:i=r}Gh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ow(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$a(t,l):typeof l=="number"&&$a(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ba.hasOwnProperty(s)?l!=null&&s==="onScroll"&&je("scroll",t):l!=null&&xm(t,s,l,o))}switch(n){case"input":du(t),Av(t,r,!1);break;case"textarea":du(t),Cv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?zs(t,!!r.multiple,s,!1):r.defaultValue!=null&&zs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ic)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xt(e),null;case 6:if(t&&e.stateNode!=null)nT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=ji(Za.current),ji(Kn.current),Eu(e)){if(r=e.stateNode,n=e.memoizedProps,r[zn]=e,(s=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:_u(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_u(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zn]=e,e.stateNode=r}return xt(e),null;case 13:if(Me(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&rn!==null&&e.mode&1&&!(e.flags&128))ES(),ro(),e.flags|=98560,s=!1;else if(s=Eu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[zn]=e}else ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xt(e),s=!1}else bn!==null&&(Rp(bn),bn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?at===0&&(at=3):ug())),e.updateQueue!==null&&(e.flags|=4),xt(e),null);case 4:return so(),wp(t,e),t===null&&Qa(e.stateNode.containerInfo),xt(e),null;case 10:return qm(e.type._context),xt(e),null;case 17:return Gt(e.type)&&bc(),xt(e),null;case 19:if(Me(Be),s=e.memoizedState,s===null)return xt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)oa(s,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Nc(t),o!==null){for(e.flags|=128,oa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Be,Be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>ao&&(e.flags|=128,r=!0,oa(s,!1),e.lanes=4194304)}else{if(!r)if(t=Nc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),oa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return xt(e),null}else 2*Je()-s.renderingStartTime>ao&&n!==1073741824&&(e.flags|=128,r=!0,oa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=Be.current,Le(Be,r?n&1|2:n&1),e):(xt(e),null);case 22:case 23:return lg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?tn&1073741824&&(xt(e),e.subtreeFlags&6&&(e.flags|=8192)):xt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function lR(t,e){switch($m(e),e.tag){case 1:return Gt(e.type)&&bc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return so(),Me(Wt),Me(Ot),Ym(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Jm(e),null;case 13:if(Me(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Be),null;case 4:return so(),null;case 10:return qm(e.type._context),null;case 22:case 23:return lg(),null;case 24:return null;default:return null}}var Tu=!1,Pt=!1,uR=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function Sp(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var y0=!1;function cR(t,e){if(sp=wc,t=aS(),Um(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var I;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(I=h.firstChild)!==null;)p=h,h=I;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(I=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=I}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(op={focusedElem:t,selectionRange:n},wc=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,_=e.stateNode,E=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Tn(e.type,v),w);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(N){Ge(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return y=y0,y0=!1,y}function Ra(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Sp(e,n,s)}i=i.next}while(i!==r)}}function bd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Tp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rT(t){var e=t.alternate;e!==null&&(t.alternate=null,rT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zn],delete e[Ya],delete e[up],delete e[qC],delete e[WC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iT(t){return t.tag===5||t.tag===3||t.tag===4}function v0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ip(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ic));else if(r!==4&&(t=t.child,t!==null))for(Ip(t,e,n),t=t.sibling;t!==null;)Ip(t,e,n),t=t.sibling}function bp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(bp(t,e,n),t=t.sibling;t!==null;)bp(t,e,n),t=t.sibling}var vt=null,In=!1;function Nr(t,e,n){for(n=n.child;n!==null;)sT(t,e,n),n=n.sibling}function sT(t,e,n){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(yd,n)}catch{}switch(n.tag){case 5:Pt||Vs(n,e);case 6:var r=vt,i=In;vt=null,Nr(t,e,n),vt=r,In=i,vt!==null&&(In?(t=vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(In?(t=vt,n=n.stateNode,t.nodeType===8?Uf(t.parentNode,n):t.nodeType===1&&Uf(t,n),qa(t)):Uf(vt,n.stateNode));break;case 4:r=vt,i=In,vt=n.stateNode.containerInfo,In=!0,Nr(t,e,n),vt=r,In=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Sp(n,e,o),i=i.next}while(i!==r)}Nr(t,e,n);break;case 1:if(!Pt&&(Vs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}Nr(t,e,n);break;case 21:Nr(t,e,n);break;case 22:n.mode&1?(Pt=(r=Pt)||n.memoizedState!==null,Nr(t,e,n),Pt=r):Nr(t,e,n);break;default:Nr(t,e,n)}}function _0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uR),e.forEach(function(r){var i=_R.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,In=!1;break e;case 3:vt=a.stateNode.containerInfo,In=!0;break e;case 4:vt=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(vt===null)throw Error(J(160));sT(s,o,i),vt=null,In=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ge(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)oT(e,t),e=e.sibling}function oT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),Ln(t),r&4){try{Ra(3,t,t.return),bd(3,t)}catch(v){Ge(t,t.return,v)}try{Ra(5,t,t.return)}catch(v){Ge(t,t.return,v)}}break;case 1:En(e,t),Ln(t),r&512&&n!==null&&Vs(n,n.return);break;case 5:if(En(e,t),Ln(t),r&512&&n!==null&&Vs(n,n.return),t.flags&32){var i=t.stateNode;try{$a(i,"")}catch(v){Ge(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Cw(i,s),Qh(a,o);var c=Qh(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Ow(i,h):d==="dangerouslySetInnerHTML"?kw(i,h):d==="children"?$a(i,h):xm(i,d,h,c)}switch(a){case"input":Hh(i,s);break;case"textarea":Rw(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var I=s.value;I!=null?zs(i,!!s.multiple,I,!1):p!==!!s.multiple&&(s.defaultValue!=null?zs(i,!!s.multiple,s.defaultValue,!0):zs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ya]=s}catch(v){Ge(t,t.return,v)}}break;case 6:if(En(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Ge(t,t.return,v)}}break;case 3:if(En(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qa(e.containerInfo)}catch(v){Ge(t,t.return,v)}break;case 4:En(e,t),Ln(t);break;case 13:En(e,t),Ln(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(og=Je())),r&4&&_0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Pt=(c=Pt)||d,En(e,t),Pt=c):En(e,t),Ln(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ne=t,d=t.child;d!==null;){for(h=ne=d;ne!==null;){switch(p=ne,I=p.child,p.tag){case 0:case 11:case 14:case 15:Ra(4,p,p.return);break;case 1:Vs(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){Ge(r,n,v)}}break;case 5:Vs(p,p.return);break;case 22:if(p.memoizedState!==null){w0(h);continue}}I!==null?(I.return=p,ne=I):w0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Nw("display",o))}catch(v){Ge(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Ge(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:En(e,t),Ln(t),r&4&&_0(t);break;case 21:break;default:En(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iT(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($a(i,""),r.flags&=-33);var s=v0(t);bp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=v0(t);Ip(t,a,o);break;default:throw Error(J(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dR(t,e,n){ne=t,aT(t)}function aT(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Tu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pt;a=Tu;var c=Pt;if(Tu=o,(Pt=l)&&!c)for(ne=i;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?S0(i):l!==null?(l.return=o,ne=l):S0(i);for(;s!==null;)ne=s,aT(s),s=s.sibling;ne=i,Tu=a,Pt=c}E0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):E0(t)}}function E0(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pt||bd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&i0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}i0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&qa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Pt||e.flags&512&&Tp(e)}catch(p){Ge(e,e.return,p)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function w0(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function S0(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bd(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ge(e,i,l)}}var s=e.return;try{Tp(e)}catch(l){Ge(e,s,l)}break;case 5:var o=e.return;try{Tp(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var fR=Math.ceil,Dc=br.ReactCurrentDispatcher,ig=br.ReactCurrentOwner,mn=br.ReactCurrentBatchConfig,Ae=0,mt=null,et=null,wt=0,tn=0,Fs=yi(0),at=0,rl=null,Qi=0,Ad=0,sg=0,Pa=null,Ht=null,og=0,ao=1/0,rr=null,jc=!1,Ap=null,Zr=null,Iu=!1,zr=null,Mc=0,ka=0,xp=null,qu=-1,Wu=0;function Ut(){return Ae&6?Je():qu!==-1?qu:qu=Je()}function ei(t){return t.mode&1?Ae&2&&wt!==0?wt&-wt:QC.transition!==null?(Wu===0&&(Wu=Kw()),Wu):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:Xw(t.type)),t):1}function xn(t,e,n,r){if(50<ka)throw ka=0,xp=null,Error(J(185));Il(t,n,r),(!(Ae&2)||t!==mt)&&(t===mt&&(!(Ae&2)&&(Ad|=n),at===4&&Mr(t,wt)),Qt(t,r),n===1&&Ae===0&&!(e.mode&1)&&(ao=Je()+500,Sd&&vi()))}function Qt(t,e){var n=t.callbackNode;Qx(t,e);var r=Ec(t,t===mt?wt:0);if(r===0)n!==null&&kv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kv(n),e===1)t.tag===0?GC(T0.bind(null,t)):yS(T0.bind(null,t)),HC(function(){!(Ae&6)&&vi()}),n=null;else{switch(qw(r)){case 1:n=Nm;break;case 4:n=zw;break;case 16:n=_c;break;case 536870912:n=Hw;break;default:n=_c}n=mT(n,lT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lT(t,e){if(qu=-1,Wu=0,Ae&6)throw Error(J(327));var n=t.callbackNode;if(Gs()&&t.callbackNode!==n)return null;var r=Ec(t,t===mt?wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vc(t,r);else{e=r;var i=Ae;Ae|=2;var s=cT();(mt!==t||wt!==e)&&(rr=null,ao=Je()+500,Bi(t,e));do try{mR();break}catch(a){uT(t,a)}while(!0);Km(),Dc.current=s,Ae=i,et!==null?e=0:(mt=null,wt=0,e=at)}if(e!==0){if(e===2&&(i=ep(t),i!==0&&(r=i,e=Cp(t,i))),e===1)throw n=rl,Bi(t,0),Mr(t,r),Qt(t,Je()),n;if(e===6)Mr(t,r);else{if(i=t.current.alternate,!(r&30)&&!hR(i)&&(e=Vc(t,r),e===2&&(s=ep(t),s!==0&&(r=s,e=Cp(t,s))),e===1))throw n=rl,Bi(t,0),Mr(t,r),Qt(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:ki(t,Ht,rr);break;case 3:if(Mr(t,r),(r&130023424)===r&&(e=og+500-Je(),10<e)){if(Ec(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=lp(ki.bind(null,t,Ht,rr),e);break}ki(t,Ht,rr);break;case 4:if(Mr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-An(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fR(r/1960))-r,10<r){t.timeoutHandle=lp(ki.bind(null,t,Ht,rr),r);break}ki(t,Ht,rr);break;case 5:ki(t,Ht,rr);break;default:throw Error(J(329))}}}return Qt(t,Je()),t.callbackNode===n?lT.bind(null,t):null}function Cp(t,e){var n=Pa;return t.current.memoizedState.isDehydrated&&(Bi(t,e).flags|=256),t=Vc(t,e),t!==2&&(e=Ht,Ht=n,e!==null&&Rp(e)),t}function Rp(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function hR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Mr(t,e){for(e&=~sg,e&=~Ad,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),r=1<<n;t[n]=-1,e&=~r}}function T0(t){if(Ae&6)throw Error(J(327));Gs();var e=Ec(t,0);if(!(e&1))return Qt(t,Je()),null;var n=Vc(t,e);if(t.tag!==0&&n===2){var r=ep(t);r!==0&&(e=r,n=Cp(t,r))}if(n===1)throw n=rl,Bi(t,0),Mr(t,e),Qt(t,Je()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ki(t,Ht,rr),Qt(t,Je()),null}function ag(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(ao=Je()+500,Sd&&vi())}}function Ji(t){zr!==null&&zr.tag===0&&!(Ae&6)&&Gs();var e=Ae;Ae|=1;var n=mn.transition,r=Pe;try{if(mn.transition=null,Pe=1,t)return t()}finally{Pe=r,mn.transition=n,Ae=e,!(Ae&6)&&vi()}}function lg(){tn=Fs.current,Me(Fs)}function Bi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zC(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch($m(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bc();break;case 3:so(),Me(Wt),Me(Ot),Ym();break;case 5:Jm(r);break;case 4:so();break;case 13:Me(Be);break;case 19:Me(Be);break;case 10:qm(r.type._context);break;case 22:case 23:lg()}n=n.return}if(mt=t,et=t=ti(t.current,null),wt=tn=e,at=0,rl=null,sg=Ad=Qi=0,Ht=Pa=null,Di!==null){for(e=0;e<Di.length;e++)if(n=Di[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Di=null}return t}function uT(t,e){do{var n=et;try{if(Km(),zu.current=Lc,Oc){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Oc=!1}if(Gi=0,pt=st=ze=null,Ca=!1,el=0,ig.current=null,n===null||n.return===null){at=1,rl=e,et=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var I=c0(o);if(I!==null){I.flags&=-257,d0(I,o,a,s,e),I.mode&1&&u0(s,c,e),e=I,l=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){u0(s,c,e),ug();break e}l=Error(J(426))}}else if(Fe&&a.mode&1){var w=c0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),d0(w,o,a,s,e),zm(oo(l,a));break e}}s=l=oo(l,a),at!==4&&(at=2),Pa===null?Pa=[s]:Pa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=qS(s,l,e);r0(s,_);break e;case 1:a=l;var E=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Zr===null||!Zr.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=WS(s,a,e);r0(s,N);break e}}s=s.return}while(s!==null)}fT(n)}catch(j){e=j,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function cT(){var t=Dc.current;return Dc.current=Lc,t===null?Lc:t}function ug(){(at===0||at===3||at===2)&&(at=4),mt===null||!(Qi&268435455)&&!(Ad&268435455)||Mr(mt,wt)}function Vc(t,e){var n=Ae;Ae|=2;var r=cT();(mt!==t||wt!==e)&&(rr=null,Bi(t,e));do try{pR();break}catch(i){uT(t,i)}while(!0);if(Km(),Ae=n,Dc.current=r,et!==null)throw Error(J(261));return mt=null,wt=0,at}function pR(){for(;et!==null;)dT(et)}function mR(){for(;et!==null&&!Ux();)dT(et)}function dT(t){var e=pT(t.alternate,t,tn);t.memoizedProps=t.pendingProps,e===null?fT(t):et=e,ig.current=null}function fT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lR(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,et=null;return}}else if(n=aR(n,e,tn),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);at===0&&(at=5)}function ki(t,e,n){var r=Pe,i=mn.transition;try{mn.transition=null,Pe=1,gR(t,e,n,r)}finally{mn.transition=i,Pe=r}return null}function gR(t,e,n,r){do Gs();while(zr!==null);if(Ae&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Jx(t,s),t===mt&&(et=mt=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Iu||(Iu=!0,mT(_c,function(){return Gs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mn.transition,mn.transition=null;var o=Pe;Pe=1;var a=Ae;Ae|=4,ig.current=null,cR(t,n),oT(n,t),jC(op),wc=!!sp,op=sp=null,t.current=n,dR(n),Bx(),Ae=a,Pe=o,mn.transition=s}else t.current=n;if(Iu&&(Iu=!1,zr=t,Mc=i),s=t.pendingLanes,s===0&&(Zr=null),Hx(n.stateNode),Qt(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(jc)throw jc=!1,t=Ap,Ap=null,t;return Mc&1&&t.tag!==0&&Gs(),s=t.pendingLanes,s&1?t===xp?ka++:(ka=0,xp=t):ka=0,vi(),null}function Gs(){if(zr!==null){var t=qw(Mc),e=mn.transition,n=Pe;try{if(mn.transition=null,Pe=16>t?16:t,zr===null)var r=!1;else{if(t=zr,zr=null,Mc=0,Ae&6)throw Error(J(331));var i=Ae;for(Ae|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ne=c;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:Ra(8,d,s)}var h=d.child;if(h!==null)h.return=d,ne=h;else for(;ne!==null;){d=ne;var p=d.sibling,I=d.return;if(rT(d),d===c){ne=null;break}if(p!==null){p.return=I,ne=p;break}ne=I}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ra(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,ne=_;break e}ne=s.return}}var E=t.current;for(ne=E;ne!==null;){o=ne;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ne=T;else e:for(o=E;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bd(9,a)}}catch(j){Ge(a,a.return,j)}if(a===o){ne=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,ne=N;break e}ne=a.return}}if(Ae=i,vi(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(yd,t)}catch{}r=!0}return r}finally{Pe=n,mn.transition=e}}return!1}function I0(t,e,n){e=oo(n,e),e=qS(t,e,1),t=Xr(t,e,1),e=Ut(),t!==null&&(Il(t,1,e),Qt(t,e))}function Ge(t,e,n){if(t.tag===3)I0(t,t,n);else for(;e!==null;){if(e.tag===3){I0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zr===null||!Zr.has(r))){t=oo(n,t),t=WS(e,t,1),e=Xr(e,t,1),t=Ut(),e!==null&&(Il(e,1,t),Qt(e,t));break}}e=e.return}}function yR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(wt&n)===n&&(at===4||at===3&&(wt&130023424)===wt&&500>Je()-og?Bi(t,0):sg|=n),Qt(t,e)}function hT(t,e){e===0&&(t.mode&1?(e=pu,pu<<=1,!(pu&130023424)&&(pu=4194304)):e=1);var n=Ut();t=vr(t,e),t!==null&&(Il(t,e,n),Qt(t,n))}function vR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hT(t,n)}function _R(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),hT(t,n)}var pT;pT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return qt=!1,oR(t,e,n);qt=!!(t.flags&131072)}else qt=!1,Fe&&e.flags&1048576&&vS(e,Cc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ku(t,e),t=e.pendingProps;var i=no(e,Ot.current);Ws(e,n),i=Zm(null,e,r,t,i,n);var s=eg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(s=!0,Ac(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gm(e),i.updater=Id,e.stateNode=i,i._reactInternals=e,mp(e,r,t,n),e=vp(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&Bm(e),Ft(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ku(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=wR(r),t=Tn(r,t),i){case 0:e=yp(null,e,r,t,n);break e;case 1:e=p0(null,e,r,t,n);break e;case 11:e=f0(null,e,r,t,n);break e;case 14:e=h0(null,e,r,Tn(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),yp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),p0(t,e,r,i,n);case 3:e:{if(YS(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,IS(t,e),kc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=oo(Error(J(423)),e),e=m0(t,e,r,n,i);break e}else if(r!==i){i=oo(Error(J(424)),e),e=m0(t,e,r,n,i);break e}else for(rn=Yr(e.stateNode.containerInfo.firstChild),sn=e,Fe=!0,bn=null,n=SS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ro(),r===i){e=_r(t,e,n);break e}Ft(t,e,r,n)}e=e.child}return e;case 5:return bS(e),t===null&&fp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ap(r,i)?o=null:s!==null&&ap(r,s)&&(e.flags|=32),JS(t,e),Ft(t,e,o,n),e.child;case 6:return t===null&&fp(e),null;case 13:return XS(t,e,n);case 4:return Qm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=io(e,null,r,n):Ft(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),f0(t,e,r,i,n);case 7:return Ft(t,e,e.pendingProps,n),e.child;case 8:return Ft(t,e,e.pendingProps.children,n),e.child;case 12:return Ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Le(Rc,r._currentValue),r._currentValue=o,s!==null)if(Pn(s.value,o)){if(s.children===i.children&&!Wt.current){e=_r(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=hr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),hp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),hp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ft(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ws(e,n),i=gn(i),r=r(i),e.flags|=1,Ft(t,e,r,n),e.child;case 14:return r=e.type,i=Tn(r,e.pendingProps),i=Tn(r.type,i),h0(t,e,r,i,n);case 15:return GS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Ku(t,e),e.tag=1,Gt(r)?(t=!0,Ac(e)):t=!1,Ws(e,n),KS(e,r,i),mp(e,r,i,n),vp(null,e,r,!0,t,n);case 19:return ZS(t,e,n);case 22:return QS(t,e,n)}throw Error(J(156,e.tag))};function mT(t,e){return $w(t,e)}function ER(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new ER(t,e,n,r)}function cg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wR(t){if(typeof t=="function")return cg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rm)return 11;if(t===Pm)return 14}return 2}function ti(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")cg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Rs:return $i(n.children,i,s,e);case Cm:o=8,i|=8;break;case Fh:return t=hn(12,n,e,i|2),t.elementType=Fh,t.lanes=s,t;case Uh:return t=hn(13,n,e,i),t.elementType=Uh,t.lanes=s,t;case Bh:return t=hn(19,n,e,i),t.elementType=Bh,t.lanes=s,t;case bw:return xd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tw:o=10;break e;case Iw:o=9;break e;case Rm:o=11;break e;case Pm:o=14;break e;case Lr:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=hn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $i(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function xd(t,e,n,r){return t=hn(22,t,r,e),t.elementType=bw,t.lanes=n,t.stateNode={isHidden:!1},t}function Gf(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function Qf(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function SR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rf(0),this.expirationTimes=Rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dg(t,e,n,r,i,s,o,a,l){return t=new SR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gm(s),t}function TR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gT(t){if(!t)return ci;t=t._reactInternals;e:{if(rs(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Gt(n))return gS(t,n,e)}return e}function yT(t,e,n,r,i,s,o,a,l){return t=dg(n,r,!0,t,i,s,o,a,l),t.context=gT(null),n=t.current,r=Ut(),i=ei(n),s=hr(r,i),s.callback=e??null,Xr(n,s,i),t.current.lanes=i,Il(t,i,r),Qt(t,r),t}function Cd(t,e,n,r){var i=e.current,s=Ut(),o=ei(i);return n=gT(n),e.context===null?e.context=n:e.pendingContext=n,e=hr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xr(i,e,o),t!==null&&(xn(t,i,o,s),$u(t,i,o)),o}function Fc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function b0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fg(t,e){b0(t,e),(t=t.alternate)&&b0(t,e)}function IR(){return null}var vT=typeof reportError=="function"?reportError:function(t){console.error(t)};function hg(t){this._internalRoot=t}Rd.prototype.render=hg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Cd(t,e,null,null)};Rd.prototype.unmount=hg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ji(function(){Cd(null,t,null,null)}),e[yr]=null}};function Rd(t){this._internalRoot=t}Rd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<jr.length&&e!==0&&e<jr[n].priority;n++);jr.splice(n,0,t),n===0&&Yw(t)}};function pg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function A0(){}function bR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Fc(o);s.call(c)}}var o=yT(e,r,t,0,null,!1,!1,"",A0);return t._reactRootContainer=o,t[yr]=o.current,Qa(t.nodeType===8?t.parentNode:t),Ji(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Fc(l);a.call(c)}}var l=dg(t,0,!1,null,null,!1,!1,"",A0);return t._reactRootContainer=l,t[yr]=l.current,Qa(t.nodeType===8?t.parentNode:t),Ji(function(){Cd(e,l,n,r)}),l}function kd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Fc(o);a.call(l)}}Cd(e,o,t,i)}else o=bR(n,e,t,i,r);return Fc(o)}Ww=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pa(e.pendingLanes);n!==0&&(Om(e,n|1),Qt(e,Je()),!(Ae&6)&&(ao=Je()+500,vi()))}break;case 13:Ji(function(){var r=vr(t,1);if(r!==null){var i=Ut();xn(r,t,1,i)}}),fg(t,1)}};Lm=function(t){if(t.tag===13){var e=vr(t,134217728);if(e!==null){var n=Ut();xn(e,t,134217728,n)}fg(t,134217728)}};Gw=function(t){if(t.tag===13){var e=ei(t),n=vr(t,e);if(n!==null){var r=Ut();xn(n,t,e,r)}fg(t,e)}};Qw=function(){return Pe};Jw=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};Yh=function(t,e,n){switch(e){case"input":if(Hh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wd(r);if(!i)throw Error(J(90));xw(r),Hh(r,i)}}}break;case"textarea":Rw(t,n);break;case"select":e=n.value,e!=null&&zs(t,!!n.multiple,e,!1)}};jw=ag;Mw=Ji;var AR={usingClientEntryPoint:!1,Events:[Al,Os,wd,Lw,Dw,ag]},aa={findFiberByHostInstance:Li,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xR={bundleType:aa.bundleType,version:aa.version,rendererPackageName:aa.rendererPackageName,rendererConfig:aa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Uw(t),t===null?null:t.stateNode},findFiberByHostInstance:aa.findFiberByHostInstance||IR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{yd=bu.inject(xR),Hn=bu}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AR;un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pg(e))throw Error(J(200));return TR(t,e,null,n)};un.createRoot=function(t,e){if(!pg(t))throw Error(J(299));var n=!1,r="",i=vT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dg(t,1,!1,null,null,n,!1,r,i),t[yr]=e.current,Qa(t.nodeType===8?t.parentNode:t),new hg(e)};un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=Uw(e),t=t===null?null:t.stateNode,t};un.flushSync=function(t){return Ji(t)};un.hydrate=function(t,e,n){if(!Pd(e))throw Error(J(200));return kd(null,t,e,!0,n)};un.hydrateRoot=function(t,e,n){if(!pg(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=vT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=yT(e,null,t,1,n??null,i,!1,s,o),t[yr]=e.current,Qa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rd(e)};un.render=function(t,e,n){if(!Pd(e))throw Error(J(200));return kd(null,t,e,!1,n)};un.unmountComponentAtNode=function(t){if(!Pd(t))throw Error(J(40));return t._reactRootContainer?(Ji(function(){kd(null,null,t,!1,function(){t._reactRootContainer=null,t[yr]=null})}),!0):!1};un.unstable_batchedUpdates=ag;un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pd(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return kd(t,e,n,!1,r)};un.version="18.3.1-next-f1338f8080-20240426";function _T(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_T)}catch(t){console.error(t)}}_T(),_w.exports=un;var CR=_w.exports,ET,x0=CR;ET=x0.createRoot,x0.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},il.apply(this,arguments)}var Hr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hr||(Hr={}));const C0="popstate";function RR(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Pp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Uc(i)}return kR(e,n,null,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PR(){return Math.random().toString(36).substr(2,8)}function R0(t,e){return{usr:t.state,key:t.key,idx:e}}function Pp(t,e,n,r){return n===void 0&&(n=null),il({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bo(e):e,{state:n,key:e&&e.key||r||PR()})}function Uc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function kR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Hr.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(il({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Hr.Pop;let w=d(),_=w==null?null:w-c;c=w,l&&l({action:a,location:v.location,delta:_})}function p(w,_){a=Hr.Push;let E=Pp(v.location,w,_);c=d()+1;let T=R0(E,c),N=v.createHref(E);try{o.pushState(T,"",N)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(N)}s&&l&&l({action:a,location:v.location,delta:1})}function I(w,_){a=Hr.Replace;let E=Pp(v.location,w,_);c=d();let T=R0(E,c),N=v.createHref(E);o.replaceState(T,"",N),s&&l&&l({action:a,location:v.location,delta:0})}function y(w){let _=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof w=="string"?w:Uc(w);return E=E.replace(/ $/,"%20"),tt(_,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,_)}let v={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(C0,h),l=w,()=>{i.removeEventListener(C0,h),l=null}},createHref(w){return e(i,w)},createURL:y,encodeLocation(w){let _=y(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:I,go(w){return o.go(w)}};return v}var P0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(P0||(P0={}));function NR(t,e,n){return n===void 0&&(n="/"),OR(t,e,n,!1)}function OR(t,e,n,r){let i=typeof e=="string"?bo(e):e,s=mg(i.pathname||"/",n);if(s==null)return null;let o=ST(t);LR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=KR(s);a=zR(o[l],c,r)}return a}function ST(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(tt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ni([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(tt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ST(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:BR(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of TT(s.path))i(s,o,l)}),e}function TT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=TT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function LR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$R(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const DR=/^:[\w-]+$/,jR=3,MR=2,VR=1,FR=10,UR=-2,k0=t=>t==="*";function BR(t,e){let n=t.split("/"),r=n.length;return n.some(k0)&&(r+=UR),e&&(r+=MR),n.filter(i=>!k0(i)).reduce((i,s)=>i+(DR.test(s)?jR:s===""?VR:FR),r)}function $R(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function zR(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=N0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=N0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:ni([s,h.pathname]),pathnameBase:QR(ni([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=ni([s,h.pathnameBase]))}return o}function N0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:I}=d;if(p==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[h];return I&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function HR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function KR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function qR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bo(t):t;return{pathname:n?n.startsWith("/")?n:WR(n,e):e,search:JR(r),hash:YR(i)}}function WR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function IT(t,e){let n=GR(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bT(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=bo(t):(i=il({},t),tt(!i.pathname||!i.pathname.includes("?"),Jf("?","pathname","search",i)),tt(!i.pathname||!i.pathname.includes("#"),Jf("#","pathname","hash",i)),tt(!i.search||!i.search.includes("#"),Jf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=qR(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const ni=t=>t.join("/").replace(/\/\/+/g,"/"),QR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const AT=["post","put","patch","delete"];new Set(AT);const ZR=["get",...AT];new Set(ZR);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(this,arguments)}const gg=B.createContext(null),eP=B.createContext(null),is=B.createContext(null),Nd=B.createContext(null),_i=B.createContext({outlet:null,matches:[],isDataRoute:!1}),xT=B.createContext(null);function tP(t,e){let{relative:n}=e===void 0?{}:e;Cl()||tt(!1);let{basename:r,navigator:i}=B.useContext(is),{hash:s,pathname:o,search:a}=RT(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ni([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Cl(){return B.useContext(Nd)!=null}function Rl(){return Cl()||tt(!1),B.useContext(Nd).location}function CT(t){B.useContext(is).static||B.useLayoutEffect(t)}function nP(){let{isDataRoute:t}=B.useContext(_i);return t?gP():rP()}function rP(){Cl()||tt(!1);let t=B.useContext(gg),{basename:e,future:n,navigator:r}=B.useContext(is),{matches:i}=B.useContext(_i),{pathname:s}=Rl(),o=JSON.stringify(IT(i,n.v7_relativeSplatPath)),a=B.useRef(!1);return CT(()=>{a.current=!0}),B.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=bT(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ni([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function iP(){let{matches:t}=B.useContext(_i),e=t[t.length-1];return e?e.params:{}}function RT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=B.useContext(is),{matches:i}=B.useContext(_i),{pathname:s}=Rl(),o=JSON.stringify(IT(i,r.v7_relativeSplatPath));return B.useMemo(()=>bT(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function sP(t,e){return oP(t,e)}function oP(t,e,n,r){Cl()||tt(!1);let{navigator:i}=B.useContext(is),{matches:s}=B.useContext(_i),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Rl(),d;if(e){var h;let w=typeof e=="string"?bo(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||tt(!1),d=w}else d=c;let p=d.pathname||"/",I=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");I="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=NR(t,{pathname:I}),v=dP(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:ni([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:ni([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&v?B.createElement(Nd.Provider,{value:{location:sl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Hr.Pop}},v):v}function aP(){let t=mP(),e=XR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,null)}const lP=B.createElement(aP,null);class uP extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(_i.Provider,{value:this.props.routeContext},B.createElement(xT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cP(t){let{routeContext:e,match:n,children:r}=t,i=B.useContext(gg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(_i.Provider,{value:e},r)}function dP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||tt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:I}=n,y=h.route.loader&&p[h.route.id]===void 0&&(!I||I[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let I,y=!1,v=null,w=null;n&&(I=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||lP,l&&(c<0&&p===0?(y=!0,w=null):c===p&&(y=!0,w=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),E=()=>{let T;return I?T=v:y?T=w:h.route.Component?T=B.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,B.createElement(cP,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?B.createElement(uP,{location:n.location,revalidation:n.revalidation,component:v,error:I,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}var PT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PT||{}),Bc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bc||{});function fP(t){let e=B.useContext(gg);return e||tt(!1),e}function hP(t){let e=B.useContext(eP);return e||tt(!1),e}function pP(t){let e=B.useContext(_i);return e||tt(!1),e}function kT(t){let e=pP(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function mP(){var t;let e=B.useContext(xT),n=hP(Bc.UseRouteError),r=kT(Bc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function gP(){let{router:t}=fP(PT.UseNavigateStable),e=kT(Bc.UseNavigateStable),n=B.useRef(!1);return CT(()=>{n.current=!0}),B.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,sl({fromRouteId:e},s)))},[t,e])}const O0={};function yP(t,e){O0[e]||(O0[e]=!0,console.warn(e))}const L0=(t,e,n)=>yP(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function vP(t,e){t!=null&&t.v7_startTransition||L0("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&L0("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Mn(t){tt(!1)}function _P(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Hr.Pop,navigator:s,static:o=!1,future:a}=t;Cl()&&tt(!1);let l=e.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:s,static:o,future:sl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=bo(r));let{pathname:d="/",search:h="",hash:p="",state:I=null,key:y="default"}=r,v=B.useMemo(()=>{let w=mg(d,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:I,key:y},navigationType:i}},[l,d,h,p,I,y,i]);return v==null?null:B.createElement(is.Provider,{value:c},B.createElement(Nd.Provider,{children:n,value:v}))}function EP(t){let{children:e,location:n}=t;return sP(kp(e),n)}new Promise(()=>{});function kp(t,e){e===void 0&&(e=[]);let n=[];return B.Children.forEach(t,(r,i)=>{if(!B.isValidElement(r))return;let s=[...e,i];if(r.type===B.Fragment){n.push.apply(n,kp(r.props.children,s));return}r.type!==Mn&&tt(!1),!r.props.index||!r.props.children||tt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Np(){return Np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Np.apply(this,arguments)}function wP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TP(t,e){return t.button===0&&(!e||e==="_self")&&!SP(t)}const IP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bP="6";try{window.__reactRouterVersion=bP}catch{}const AP="startTransition",D0=yx[AP];function xP(t){let{basename:e,children:n,future:r,window:i}=t,s=B.useRef();s.current==null&&(s.current=RR({window:i,v5Compat:!0}));let o=s.current,[a,l]=B.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=B.useCallback(h=>{c&&D0?D0(()=>l(h)):l(h)},[l,c]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.useEffect(()=>vP(r),[r]),B.createElement(_P,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const CP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=B.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=wP(e,IP),{basename:I}=B.useContext(is),y,v=!1;if(typeof c=="string"&&RP.test(c)&&(y=c,CP))try{let T=new URL(window.location.href),N=c.startsWith("//")?new URL(T.protocol+c):new URL(c),j=mg(N.pathname,I);N.origin===T.origin&&j!=null?c=j+N.search+N.hash:v=!0}catch{}let w=tP(c,{relative:i}),_=PP(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function E(T){r&&r(T),T.defaultPrevented||_(T)}return B.createElement("a",Np({},p,{href:y||w,onClick:v||s?r:E,ref:n,target:l}))});var j0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(j0||(j0={}));var M0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(M0||(M0={}));function PP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=nP(),c=Rl(),d=RT(t,{relative:o});return B.useCallback(h=>{if(TP(h,n)){h.preventDefault();let p=r!==void 0?r:Uc(c)===Uc(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}function kP(t){return Object.prototype.toString.call(t)==="[object Object]"}function V0(t){return kP(t)||Array.isArray(t)}function NP(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function yg(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==s?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!V0(a)||!V0(l)?a===l:yg(a,l)})}function F0(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function OP(t,e){if(t.length!==e.length)return!1;const n=F0(t),r=F0(e);return n.every((i,s)=>{const o=r[s];return yg(i,o)})}function vg(t){return typeof t=="number"}function Op(t){return typeof t=="string"}function Od(t){return typeof t=="boolean"}function U0(t){return Object.prototype.toString.call(t)==="[object Object]"}function $e(t){return Math.abs(t)}function _g(t){return Math.sign(t)}function Na(t,e){return $e(t-e)}function LP(t,e){if(t===0||e===0||$e(t)<=$e(e))return 0;const n=Na($e(t),$e(e));return $e(n/t)}function ol(t){return al(t).map(Number)}function Cn(t){return t[Pl(t)]}function Pl(t){return Math.max(0,t.length-1)}function Eg(t,e){return e===Pl(t)}function B0(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function al(t){return Object.keys(t)}function NT(t,e){return[t,e].reduce((n,r)=>(al(r).forEach(i=>{const s=n[i],o=r[i],a=U0(s)&&U0(o);n[i]=a?NT(s,o):o}),n),{})}function Lp(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function DP(t,e){const n={start:r,center:i,end:s};function r(){return 0}function i(l){return s(l)/2}function s(l){return e-l}function o(l,c){return Op(t)?n[t](l):t(e,l,c)}return{measure:o}}function ll(){let t=[];function e(i,s,o,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(s,o,a),l=()=>i.removeEventListener(s,o,a);else{const c=i;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function jP(t,e,n,r){const i=ll(),s=1e3/60;let o=null,a=0,l=0;function c(){i.add(t,"visibilitychange",()=>{t.hidden&&y()})}function d(){I(),i.clear()}function h(w){if(!l)return;o||(o=w);const _=w-o;for(o=w,a+=_;a>=s;)n(s),a-=s;const E=a/s;r(E),l&&e.requestAnimationFrame(h)}function p(){l||(l=e.requestAnimationFrame(h))}function I(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function y(){o=null,a=0}return{init:c,destroy:d,start:p,stop:I,update:()=>n(s),render:r}}function MP(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",s=r?"x":"y",o=!r&&n?-1:1,a=d(),l=h();function c(y){const{height:v,width:w}=y;return r?v:w}function d(){return r?"top":n?"right":"left"}function h(){return r?"bottom":n?"left":"right"}function p(y){return y*o}return{scroll:i,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:p}}function Yi(t=0,e=0){const n=$e(t-e);function r(c){return c<t}function i(c){return c>e}function s(c){return r(c)||i(c)}function o(c){return s(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:a}}function OT(t,e,n){const{constrain:r}=Yi(0,t),i=t+1;let s=o(e);function o(p){return n?$e((i+p)%i):r(p)}function a(){return s}function l(p){return s=o(p),h}function c(p){return d().set(a()+p)}function d(){return OT(t,a(),n)}const h={get:a,set:l,add:c,clone:d};return h}function VP(t,e,n,r,i,s,o,a,l,c,d,h,p,I,y,v,w,_,E){const{cross:T,direction:N}=t,j=["INPUT","SELECT","TEXTAREA"],F={passive:!1},x=ll(),S=ll(),C=Yi(50,225).constrain(I.measure(20)),R={mouse:300,touch:400},P={mouse:500,touch:600},k=y?43:25;let A=!1,Z=0,oe=0,pe=!1,me=!1,Q=!1,te=!1;function Y(D){if(!E)return;function W(Se){(Od(E)||E(D,Se))&&z(Se)}const re=e;x.add(re,"dragstart",Se=>Se.preventDefault(),F).add(re,"touchmove",()=>{},F).add(re,"touchend",()=>{}).add(re,"touchstart",W).add(re,"mousedown",W).add(re,"touchcancel",O).add(re,"contextmenu",O).add(re,"click",$,!0)}function ae(){x.clear(),S.clear()}function he(){const D=te?n:e;S.add(D,"touchmove",G,F).add(D,"touchend",O).add(D,"mousemove",G,F).add(D,"mouseup",O)}function be(D){const W=D.nodeName||"";return j.includes(W)}function Ve(){return(y?P:R)[te?"mouse":"touch"]}function rt(D,W){const re=h.add(_g(D)*-1),Se=d.byDistance(D,!y).distance;return y||$e(D)<C?Se:w&&W?Se*.5:d.byIndex(re.get(),0).distance}function z(D){const W=Lp(D,r);te=W,Q=y&&W&&!D.buttons&&A,A=Na(i.get(),o.get())>=2,!(W&&D.button!==0)&&(be(D.target)||(pe=!0,s.pointerDown(D),c.useFriction(0).useDuration(0),i.set(o),he(),Z=s.readPoint(D),oe=s.readPoint(D,T),p.emit("pointerDown")))}function G(D){if(!Lp(D,r)&&D.touches.length>=2)return O(D);const re=s.readPoint(D),Se=s.readPoint(D,T),Re=Na(re,Z),gt=Na(Se,oe);if(!me&&!te&&(!D.cancelable||(me=Re>gt,!me)))return O(D);const Mt=s.pointerMove(D);Re>v&&(Q=!0),c.useFriction(.3).useDuration(.75),a.start(),i.add(N(Mt)),D.preventDefault()}function O(D){const re=d.byDistance(0,!1).index!==h.get(),Se=s.pointerUp(D)*Ve(),Re=rt(N(Se),re),gt=LP(Se,Re),Mt=k-10*gt,Yt=_+gt/50;me=!1,pe=!1,S.clear(),c.useDuration(Mt).useFriction(Yt),l.distance(Re,!y),te=!1,p.emit("pointerUp")}function $(D){Q&&(D.stopPropagation(),D.preventDefault(),Q=!1)}function K(){return pe}return{init:Y,destroy:ae,pointerDown:K}}function FP(t,e){let r,i;function s(h){return h.timeStamp}function o(h,p){const y=`client${(p||t.scroll)==="x"?"X":"Y"}`;return(Lp(h,e)?h:h.touches[0])[y]}function a(h){return r=h,i=h,o(h)}function l(h){const p=o(h)-o(i),I=s(h)-s(r)>170;return i=h,I&&(r=h),p}function c(h){if(!r||!i)return 0;const p=o(i)-o(r),I=s(h)-s(r),y=s(h)-s(i)>170,v=p/I;return I&&!y&&$e(v)>.1?v:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function UP(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:o}=n;return{top:r,right:i+s,bottom:r+o,left:i,width:s,height:o}}return{measure:t}}function BP(t){function e(r){return t*(r/100)}return{measure:e}}function $P(t,e,n,r,i,s,o){const a=[t].concat(r);let l,c,d=[],h=!1;function p(w){return i.measureSize(o.measure(w))}function I(w){if(!s)return;c=p(t),d=r.map(p);function _(E){for(const T of E){if(h)return;const N=T.target===t,j=r.indexOf(T.target),F=N?c:d[j],x=p(N?t:r[j]);if($e(x-F)>=.5){w.reInit(),e.emit("resize");break}}}l=new ResizeObserver(E=>{(Od(s)||s(w,E))&&_(E)}),n.requestAnimationFrame(()=>{a.forEach(E=>l.observe(E))})}function y(){h=!0,l&&l.disconnect()}return{init:I,destroy:y}}function zP(t,e,n,r,i,s){let o=0,a=0,l=i,c=s,d=t.get(),h=0;function p(F){const x=F/1e3,S=l*x,C=r.get()-t.get(),R=!l;let P=0;return R?(o=0,n.set(r),t.set(r),P=C):(n.set(t),o+=C/S,o*=c,d+=o,t.add(o*x),P=d-h),a=_g(P),h=d,j}function I(){const F=r.get()-e.get();return $e(F)<.001}function y(){return l}function v(){return a}function w(){return o}function _(){return T(i)}function E(){return N(s)}function T(F){return l=F,j}function N(F){return c=F,j}const j={direction:v,duration:y,velocity:w,seek:p,settled:I,useBaseFriction:E,useBaseDuration:_,useFriction:N,useDuration:T};return j}function HP(t,e,n,r,i){const s=i.measure(10),o=i.measure(50),a=Yi(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(I){if(!c())return;const y=t.reachedMin(e.get())?"min":"max",v=$e(t[y]-e.get()),w=n.get()-e.get(),_=a.constrain(v/o);n.subtract(w*_),!I&&$e(w)<s&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function h(I){l=!I}return{shouldConstrain:c,constrain:d,toggleActive:h}}function KP(t,e,n,r,i){const s=Yi(-e+t,0),o=h(),a=d(),l=p();function c(y,v){return Na(y,v)<1}function d(){const y=o[0],v=Cn(o),w=o.lastIndexOf(y),_=o.indexOf(v)+1;return Yi(w,_)}function h(){return n.map((y,v)=>{const{min:w,max:_}=s,E=s.constrain(y),T=!v,N=Eg(n,v);return T?_:N||c(w,E)?w:c(_,E)?_:E}).map(y=>parseFloat(y.toFixed(3)))}function p(){if(e<=t+i)return[s.max];if(r==="keepSnaps")return o;const{min:y,max:v}=a;return o.slice(y,v)}return{snapsContained:l,scrollContainLimit:a}}function qP(t,e,n){const r=e[0],i=n?r-t:Cn(e);return{limit:Yi(i,r)}}function WP(t,e,n,r){const s=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=Yi(s,o);function c(p){return p===1?l(n.get()):p===-1?a(n.get()):!1}function d(p){if(!c(p))return;const I=t*(p*-1);r.forEach(y=>y.add(I))}return{loop:d}}function GP(t){const{max:e,length:n}=t;function r(s){const o=s-e;return n?o/-n:0}return{get:r}}function QP(t,e,n,r,i){const{startEdge:s,endEdge:o}=t,{groupSlides:a}=i,l=h().map(e.measure),c=p(),d=I();function h(){return a(r).map(v=>Cn(v)[o]-v[0][s]).map($e)}function p(){return r.map(v=>n[s]-v[s]).map(v=>-$e(v))}function I(){return a(c).map(v=>v[0]).map((v,w)=>v+l[w])}return{snaps:c,snapsAligned:d}}function JP(t,e,n,r,i,s){const{groupSlides:o}=i,{min:a,max:l}=r,c=d();function d(){const p=o(s),I=!t||e==="keepSnaps";return n.length===1?[s]:I?p:p.slice(a,l).map((y,v,w)=>{const _=!v,E=Eg(w,v);if(_){const T=Cn(w[0])+1;return B0(T)}if(E){const T=Pl(s)-Cn(w)[0]+1;return B0(T,Cn(w)[0])}return y})}return{slideRegistry:c}}function YP(t,e,n,r,i){const{reachedAny:s,removeOffset:o,constrain:a}=r;function l(y){return y.concat().sort((v,w)=>$e(v)-$e(w))[0]}function c(y){const v=t?o(y):a(y),w=e.map((E,T)=>({diff:d(E-v,0),index:T})).sort((E,T)=>$e(E.diff)-$e(T.diff)),{index:_}=w[0];return{index:_,distance:v}}function d(y,v){const w=[y,y+n,y-n];if(!t)return y;if(!v)return l(w);const _=w.filter(E=>_g(E)===v);return _.length?l(_):Cn(w)-n}function h(y,v){const w=e[y]-i.get(),_=d(w,v);return{index:y,distance:_}}function p(y,v){const w=i.get()+y,{index:_,distance:E}=c(w),T=!t&&s(w);if(!v||T)return{index:_,distance:y};const N=e[_]-E,j=y+d(N,0);return{index:_,distance:j}}return{byDistance:p,byIndex:h,shortcut:d}}function XP(t,e,n,r,i,s,o){function a(h){const p=h.distance,I=h.index!==e.get();s.add(p),p&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),I&&(n.set(e.get()),e.set(h.index),o.emit("select"))}function l(h,p){const I=i.byDistance(h,p);a(I)}function c(h,p){const I=e.clone().set(h),y=i.byIndex(I.get(),p);a(y)}return{distance:l,index:c}}function ZP(t,e,n,r,i,s,o,a){const l={passive:!0,capture:!0};let c=0;function d(I){if(!a)return;function y(v){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const E=n.findIndex(T=>T.includes(v));vg(E)&&(i.useDuration(0),r.index(E,0),o.emit("slideFocus"))}s.add(document,"keydown",h,!1),e.forEach((v,w)=>{s.add(v,"focus",_=>{(Od(a)||a(I,_))&&y(w)},l)})}function h(I){I.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function ga(t){let e=t;function n(){return e}function r(l){e=o(l)}function i(l){e+=o(l)}function s(l){e-=o(l)}function o(l){return vg(l)?l:l.get()}return{get:n,set:r,add:i,subtract:s}}function LT(t,e){const n=t.scroll==="x"?s:o,r=e.style;let i=!1;function s(h){return`translate3d(${h}px,0px,0px)`}function o(h){return`translate3d(0px,${h}px,0px)`}function a(h){i||(r.transform=n(t.direction(h)))}function l(h){i=!h}function c(){i||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:c,to:a,toggleActive:l}}function ek(t,e,n,r,i,s,o,a,l){const d=ol(i),h=ol(i).reverse(),p=_().concat(E());function I(x,S){return x.reduce((C,R)=>C-i[R],S)}function y(x,S){return x.reduce((C,R)=>I(C,S)>0?C.concat([R]):C,[])}function v(x){return s.map((S,C)=>({start:S-r[C]+.5+x,end:S+e-.5+x}))}function w(x,S,C){const R=v(S);return x.map(P=>{const k=C?0:-n,A=C?n:0,Z=C?"end":"start",oe=R[P][Z];return{index:P,loopPoint:oe,slideLocation:ga(-1),translate:LT(t,l[P]),target:()=>a.get()>oe?k:A}})}function _(){const x=o[0],S=y(h,x);return w(S,n,!1)}function E(){const x=e-o[0]-1,S=y(d,x);return w(S,-n,!0)}function T(){return p.every(({index:x})=>{const S=d.filter(C=>C!==x);return I(S,e)<=.1})}function N(){p.forEach(x=>{const{target:S,translate:C,slideLocation:R}=x,P=S();P!==R.get()&&(C.to(P),R.set(P))})}function j(){p.forEach(x=>x.translate.clear())}return{canLoop:T,clear:j,loop:N,loopPoints:p}}function tk(t,e,n){let r,i=!1;function s(l){if(!n)return;function c(d){for(const h of d)if(h.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{i||(Od(n)||n(l,d))&&c(d)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:s,destroy:o}}function nk(t,e,n,r){const i={};let s=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(y=>{l||(y.forEach(v=>{const w=e.indexOf(v.target);i[w]=v}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(y=>a.observe(y))}function d(){a&&a.disconnect(),l=!0}function h(y){return al(i).reduce((v,w)=>{const _=parseInt(w),{isIntersecting:E}=i[_];return(y&&E||!y&&!E)&&v.push(_),v},[])}function p(y=!0){if(y&&s)return s;if(!y&&o)return o;const v=h(y);return y&&(s=v),y||(o=v),v}return{init:c,destroy:d,get:p}}function rk(t,e,n,r,i,s){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&i,d=y(),h=v(),p=n.map(o),I=w();function y(){if(!c)return 0;const E=n[0];return $e(e[a]-E[a])}function v(){if(!c)return 0;const E=s.getComputedStyle(Cn(r));return parseFloat(E.getPropertyValue(`margin-${l}`))}function w(){return n.map((E,T,N)=>{const j=!T,F=Eg(N,T);return j?p[T]+d:F?p[T]+h:N[T+1][a]-E[a]}).map($e)}return{slideSizes:p,slideSizesWithGaps:I,startGap:d,endGap:h}}function ik(t,e,n,r,i,s,o,a,l){const{startEdge:c,endEdge:d,direction:h}=t,p=vg(n);function I(_,E){return ol(_).filter(T=>T%E===0).map(T=>_.slice(T,T+E))}function y(_){return _.length?ol(_).reduce((E,T,N)=>{const j=Cn(E)||0,F=j===0,x=T===Pl(_),S=i[c]-s[j][c],C=i[c]-s[T][d],R=!r&&F?h(o):0,P=!r&&x?h(a):0,k=$e(C-P-(S+R));return N&&k>e+l&&E.push(T),x&&E.push(_.length),E},[]).map((E,T,N)=>{const j=Math.max(N[T-1]||0);return _.slice(j,E)}):[]}function v(_){return p?I(_,n):y(_)}return{groupSlides:v}}function sk(t,e,n,r,i,s,o){const{align:a,axis:l,direction:c,startIndex:d,loop:h,duration:p,dragFree:I,dragThreshold:y,inViewThreshold:v,slidesToScroll:w,skipSnaps:_,containScroll:E,watchResize:T,watchSlides:N,watchDrag:j,watchFocus:F}=s,x=2,S=UP(),C=S.measure(e),R=n.map(S.measure),P=MP(l,c),k=P.measureSize(C),A=BP(k),Z=DP(a,k),oe=!h&&!!E,pe=h||!!E,{slideSizes:me,slideSizesWithGaps:Q,startGap:te,endGap:Y}=rk(P,C,R,n,pe,i),ae=ik(P,k,w,h,C,R,te,Y,x),{snaps:he,snapsAligned:be}=QP(P,Z,C,R,ae),Ve=-Cn(he)+Cn(Q),{snapsContained:rt,scrollContainLimit:z}=KP(k,Ve,be,E,x),G=oe?rt:be,{limit:O}=qP(Ve,G,h),$=OT(Pl(G),d,h),K=$.clone(),U=ol(n),D=({dragHandler:vn,scrollBody:Fo,scrollBounds:Xn,options:{loop:bi}},ds)=>{bi||Xn.constrain(vn.pointerDown()),Fo.seek(ds)},W=({scrollBody:vn,translate:Fo,location:Xn,offsetLocation:bi,scrollLooper:ds,slideLooper:Uo,dragHandler:cf,animation:df,eventHandler:fs,scrollBounds:ql,options:{loop:Bo}},Cr)=>{const hs=vn.settled(),$o=!ql.shouldConstrain(),On=Bo?hs:hs&&$o;On&&!cf.pointerDown()&&(df.stop(),fs.emit("settle")),On||fs.emit("scroll");const Wl=Xn.get()*Cr+Mt.get()*(1-Cr);bi.set(Wl),Bo&&(ds.loop(vn.direction()),Uo.loop()),Fo.to(bi.get())},re=jP(r,i,vn=>D(cs,vn),vn=>W(cs,vn)),Se=.68,Re=G[$.get()],gt=ga(Re),Mt=ga(Re),Yt=ga(Re),Xt=ga(Re),Zt=zP(gt,Yt,Mt,Xt,p,Se),Mo=YP(h,G,Ve,O,Xt),Ii=XP(re,$,K,Zt,Mo,Xt,o),ls=GP(O),Vo=ll(),ct=nk(e,n,o,v),{slideRegistry:dt}=JP(oe,E,G,z,ae,U),us=ZP(t,n,dt,Ii,Zt,Vo,o,F),cs={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:C,slideRects:R,animation:re,axis:P,dragHandler:VP(P,t,r,i,Xt,FP(P,i),gt,re,Ii,Zt,Mo,$,o,A,I,y,_,Se,j),eventStore:Vo,percentOfView:A,index:$,indexPrevious:K,limit:O,location:gt,offsetLocation:Yt,previousLocation:Mt,options:s,resizeHandler:$P(e,o,i,n,P,T,S),scrollBody:Zt,scrollBounds:HP(O,Yt,Xt,Zt,A),scrollLooper:WP(Ve,O,Yt,[gt,Yt,Mt,Xt]),scrollProgress:ls,scrollSnapList:G.map(ls.get),scrollSnaps:G,scrollTarget:Mo,scrollTo:Ii,slideLooper:ek(P,k,Ve,me,Q,he,G,Yt,n),slideFocus:us,slidesHandler:tk(e,o,N),slidesInView:ct,slideIndexes:U,slideRegistry:dt,slidesToScroll:ae,target:Xt,translate:LT(P,e)};return cs}function ok(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function i(c){return r(c).forEach(d=>d(e,c)),l}function s(c,d){return t[c]=r(c).concat([d]),l}function o(c,d){return t[c]=r(c).filter(h=>h!==d),l}function a(){t={}}const l={init:n,emit:i,off:o,on:s,clear:a};return l}const ak={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function lk(t){function e(s,o){return NT(s,o||{})}function n(s){const o=s.breakpoints||{},a=al(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(s,a)}function r(s){return s.map(o=>al(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function uk(t){let e=[];function n(s,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(s,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(s=>s.destroy())}return{init:n,destroy:r}}function $c(t,e,n){const r=t.ownerDocument,i=r.defaultView,s=lk(i),o=uk(s),a=ll(),l=ok(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:h}=s,{on:p,off:I,emit:y}=l,v=P;let w=!1,_,E=c(ak,$c.globalOptions),T=c(E),N=[],j,F,x;function S(){const{container:U,slides:D}=T;F=(Op(U)?t.querySelector(U):U)||t.children[0];const re=Op(D)?F.querySelectorAll(D):D;x=[].slice.call(re||F.children)}function C(U){const D=sk(t,F,x,r,i,U,l);if(U.loop&&!D.slideLooper.canLoop()){const W=Object.assign({},U,{loop:!1});return C(W)}return D}function R(U,D){w||(E=c(E,U),T=d(E),N=D||N,S(),_=C(T),h([E,...N.map(({options:W})=>W)]).forEach(W=>a.add(W,"change",P)),T.active&&(_.translate.to(_.location.get()),_.animation.init(),_.slidesInView.init(),_.slideFocus.init(K),_.eventHandler.init(K),_.resizeHandler.init(K),_.slidesHandler.init(K),_.options.loop&&_.slideLooper.loop(),F.offsetParent&&x.length&&_.dragHandler.init(K),j=o.init(K,N)))}function P(U,D){const W=ae();k(),R(c({startIndex:W},U),D),l.emit("reInit")}function k(){_.dragHandler.destroy(),_.eventStore.clear(),_.translate.clear(),_.slideLooper.clear(),_.resizeHandler.destroy(),_.slidesHandler.destroy(),_.slidesInView.destroy(),_.animation.destroy(),o.destroy(),a.clear()}function A(){w||(w=!0,a.clear(),k(),l.emit("destroy"),l.clear())}function Z(U,D,W){!T.active||w||(_.scrollBody.useBaseFriction().useDuration(D===!0?0:T.duration),_.scrollTo.index(U,W||0))}function oe(U){const D=_.index.add(1).get();Z(D,U,-1)}function pe(U){const D=_.index.add(-1).get();Z(D,U,1)}function me(){return _.index.add(1).get()!==ae()}function Q(){return _.index.add(-1).get()!==ae()}function te(){return _.scrollSnapList}function Y(){return _.scrollProgress.get(_.location.get())}function ae(){return _.index.get()}function he(){return _.indexPrevious.get()}function be(){return _.slidesInView.get()}function Ve(){return _.slidesInView.get(!1)}function rt(){return j}function z(){return _}function G(){return t}function O(){return F}function $(){return x}const K={canScrollNext:me,canScrollPrev:Q,containerNode:O,internalEngine:z,destroy:A,off:I,on:p,emit:y,plugins:rt,previousScrollSnap:he,reInit:v,rootNode:G,scrollNext:oe,scrollPrev:pe,scrollProgress:Y,scrollSnapList:te,scrollTo:Z,selectedScrollSnap:ae,slideNodes:$,slidesInView:be,slidesNotInView:Ve};return R(e,n),setTimeout(()=>l.emit("init"),0),K}$c.globalOptions=void 0;function wg(t={},e=[]){const n=B.useRef(t),r=B.useRef(e),[i,s]=B.useState(),[o,a]=B.useState(),l=B.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return B.useEffect(()=>{yg(n.current,t)||(n.current=t,l())},[t,l]),B.useEffect(()=>{OP(r.current,e)||(r.current=e,l())},[e,l]),B.useEffect(()=>{if(NP()&&o){$c.globalOptions=wg.globalOptions;const c=$c(o,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[o,s]),[a,i]}wg.globalOptions=void 0;/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>B.createElement("svg",{ref:l,...dk,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DT("lucide",i),...a},[...o.map(([c,d])=>B.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(t,e)=>{const n=B.forwardRef(({className:r,...i},s)=>B.createElement(fk,{ref:s,iconNode:e,className:DT(`lucide-${ck(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=nt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=nt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=nt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=nt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=nt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=nt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=nt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=nt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=nt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=nt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=nt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=nt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=nt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var $0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},zT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,I=c&63;l||(I=64,o||(p=64)),r.push(n[d],n[h],n[p],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($T(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new Ck;const p=s<<2|a>>4;if(r.push(p),c!==64){const I=a<<4&240|c>>2;if(r.push(I),h!==64){const y=c<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ck extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Rk=function(t){const e=$T(t);return zT.encodeByteArray(e,!0)},zc=function(t){return Rk(t).replace(/\./g,"")},HT=function(t){try{return zT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=()=>Pk().__FIREBASE_DEFAULTS__,Nk=()=>{if(typeof process>"u"||typeof $0>"u")return;const t=$0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ok=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HT(t[1]);return e&&JSON.parse(e)},Ld=()=>{try{return kk()||Nk()||Ok()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KT=t=>{var e,n;return(n=(e=Ld())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Lk=t=>{const e=KT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qT=()=>{var t;return(t=Ld())===null||t===void 0?void 0:t.config},WT=t=>{var e;return(e=Ld())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zc(JSON.stringify(n)),zc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function Vk(){var t;const e=(t=Ld())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Uk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Bk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $k(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zk(){return!Vk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hk(){try{return typeof indexedDB=="object"}catch{return!1}}function Kk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="FirebaseError";class Ar extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qk,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Wk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ar(i,a,r)}}function Wk(t,e){return t.replace(Gk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Gk=/\{\$([^}]+)}/g;function Qk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(z0(s)&&z0(o)){if(!Hc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function z0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ya(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function va(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Jk(t,e){const n=new Yk(t,e);return n.subscribe.bind(n)}class Yk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Xk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yf),i.error===void 0&&(i.error=Yf),i.complete===void 0&&(i.complete=Yf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class Xi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Dk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tN(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eN(t){return t===Ni?void 0:t}function tN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Zk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const rN={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},iN=_e.INFO,sN={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},oN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=sN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=iN,this._logHandler=oN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const aN=(t,e)=>e.some(n=>t instanceof n);let H0,K0;function lN(){return H0||(H0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uN(){return K0||(K0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GT=new WeakMap,Dp=new WeakMap,QT=new WeakMap,Xf=new WeakMap,Tg=new WeakMap;function cN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ri(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GT.set(n,t)}).catch(()=>{}),Tg.set(e,t),e}function dN(t){if(Dp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Dp.set(t,e)}let jp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fN(t){jp=t(jp)}function hN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zf(this),e,...n);return QT.set(r,e.sort?e.sort():[e]),ri(r)}:uN().includes(t)?function(...e){return t.apply(Zf(this),e),ri(GT.get(this))}:function(...e){return ri(t.apply(Zf(this),e))}}function pN(t){return typeof t=="function"?hN(t):(t instanceof IDBTransaction&&dN(t),aN(t,lN())?new Proxy(t,jp):t)}function ri(t){if(t instanceof IDBRequest)return cN(t);if(Xf.has(t))return Xf.get(t);const e=pN(t);return e!==t&&(Xf.set(t,e),Tg.set(e,t)),e}const Zf=t=>Tg.get(t);function mN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ri(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ri(o.result),l.oldVersion,l.newVersion,ri(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const gN=["get","getKey","getAll","getAllKeys","count"],yN=["put","add","delete","clear"],eh=new Map;function q0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eh.get(e))return eh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return eh.set(e,s),s}fN(t=>({...t,get:(e,n,r)=>q0(e,n)||t.get(e,n,r),has:(e,n)=>!!q0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_N(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _N(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mp="@firebase/app",W0="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new Sg("@firebase/app"),EN="@firebase/app-compat",wN="@firebase/analytics-compat",SN="@firebase/analytics",TN="@firebase/app-check-compat",IN="@firebase/app-check",bN="@firebase/auth",AN="@firebase/auth-compat",xN="@firebase/database",CN="@firebase/data-connect",RN="@firebase/database-compat",PN="@firebase/functions",kN="@firebase/functions-compat",NN="@firebase/installations",ON="@firebase/installations-compat",LN="@firebase/messaging",DN="@firebase/messaging-compat",jN="@firebase/performance",MN="@firebase/performance-compat",VN="@firebase/remote-config",FN="@firebase/remote-config-compat",UN="@firebase/storage",BN="@firebase/storage-compat",$N="@firebase/firestore",zN="@firebase/vertexai",HN="@firebase/firestore-compat",KN="firebase",qN="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="[DEFAULT]",WN={[Mp]:"fire-core",[EN]:"fire-core-compat",[SN]:"fire-analytics",[wN]:"fire-analytics-compat",[IN]:"fire-app-check",[TN]:"fire-app-check-compat",[bN]:"fire-auth",[AN]:"fire-auth-compat",[xN]:"fire-rtdb",[CN]:"fire-data-connect",[RN]:"fire-rtdb-compat",[PN]:"fire-fn",[kN]:"fire-fn-compat",[NN]:"fire-iid",[ON]:"fire-iid-compat",[LN]:"fire-fcm",[DN]:"fire-fcm-compat",[jN]:"fire-perf",[MN]:"fire-perf-compat",[VN]:"fire-rc",[FN]:"fire-rc-compat",[UN]:"fire-gcs",[BN]:"fire-gcs-compat",[$N]:"fire-fst",[HN]:"fire-fst-compat",[zN]:"fire-vertex","fire-js":"fire-js",[KN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Map,GN=new Map,Fp=new Map;function G0(t,e){try{t.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lo(t){const e=t.name;if(Fp.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;Fp.set(e,t);for(const n of Kc.values())G0(n,t);for(const n of GN.values())G0(n,t);return!0}function Ig(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function lr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new kl("app","Firebase",QN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=qN;function JT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ii.create("bad-app-name",{appName:String(i)});if(n||(n=qT()),!n)throw ii.create("no-options");const s=Kc.get(i);if(s){if(Hc(n,s.options)&&Hc(r,s.config))return s;throw ii.create("duplicate-app",{appName:i})}const o=new nN(i);for(const l of Fp.values())o.addComponent(l);const a=new JN(n,r,o);return Kc.set(i,a),a}function YT(t=Vp){const e=Kc.get(t);if(!e&&t===Vp&&qT())return JT();if(!e)throw ii.create("no-app",{appName:t});return e}function si(t,e,n){var r;let i=(r=WN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(a.join(" "));return}lo(new Xi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="firebase-heartbeat-database",XN=1,ul="firebase-heartbeat-store";let th=null;function XT(){return th||(th=mN(YN,XN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),th}async function ZN(t){try{const n=(await XT()).transaction(ul),r=await n.objectStore(ul).get(ZT(t));return await n.done,r}catch(e){if(e instanceof Ar)Er.warn(e.message);else{const n=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Er.warn(n.message)}}}async function Q0(t,e){try{const r=(await XT()).transaction(ul,"readwrite");await r.objectStore(ul).put(e,ZT(t)),await r.done}catch(n){if(n instanceof Ar)Er.warn(n.message);else{const r=ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Er.warn(r.message)}}}function ZT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=1024,tO=30*24*60*60*1e3;class nO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=J0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=tO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Er.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=J0(),{heartbeatsToSend:r,unsentEntries:i}=rO(this._heartbeatsCache.heartbeats),s=zc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Er.warn(n),""}}}function J0(){return new Date().toISOString().substring(0,10)}function rO(t,e=eO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Y0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Y0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hk()?Kk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Q0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Q0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Y0(t){return zc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t){lo(new Xi("platform-logger",e=>new vN(e),"PRIVATE")),lo(new Xi("heartbeat",e=>new nO(e),"PRIVATE")),si(Mp,W0,t),si(Mp,W0,"esm2017"),si("fire-js","")}sO("");var X0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zi,e1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function C(){}C.prototype=S.prototype,x.D=S.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(R,P,k){for(var A=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)A[Z-2]=arguments[Z];return S.prototype[P].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,S,C){C||(C=0);var R=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)R[P]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(P=0;16>P;++P)R[P]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=x.g[0],C=x.g[1],P=x.g[2];var k=x.g[3],A=S+(k^C&(P^k))+R[0]+3614090360&4294967295;S=C+(A<<7&4294967295|A>>>25),A=k+(P^S&(C^P))+R[1]+3905402710&4294967295,k=S+(A<<12&4294967295|A>>>20),A=P+(C^k&(S^C))+R[2]+606105819&4294967295,P=k+(A<<17&4294967295|A>>>15),A=C+(S^P&(k^S))+R[3]+3250441966&4294967295,C=P+(A<<22&4294967295|A>>>10),A=S+(k^C&(P^k))+R[4]+4118548399&4294967295,S=C+(A<<7&4294967295|A>>>25),A=k+(P^S&(C^P))+R[5]+1200080426&4294967295,k=S+(A<<12&4294967295|A>>>20),A=P+(C^k&(S^C))+R[6]+2821735955&4294967295,P=k+(A<<17&4294967295|A>>>15),A=C+(S^P&(k^S))+R[7]+4249261313&4294967295,C=P+(A<<22&4294967295|A>>>10),A=S+(k^C&(P^k))+R[8]+1770035416&4294967295,S=C+(A<<7&4294967295|A>>>25),A=k+(P^S&(C^P))+R[9]+2336552879&4294967295,k=S+(A<<12&4294967295|A>>>20),A=P+(C^k&(S^C))+R[10]+4294925233&4294967295,P=k+(A<<17&4294967295|A>>>15),A=C+(S^P&(k^S))+R[11]+2304563134&4294967295,C=P+(A<<22&4294967295|A>>>10),A=S+(k^C&(P^k))+R[12]+1804603682&4294967295,S=C+(A<<7&4294967295|A>>>25),A=k+(P^S&(C^P))+R[13]+4254626195&4294967295,k=S+(A<<12&4294967295|A>>>20),A=P+(C^k&(S^C))+R[14]+2792965006&4294967295,P=k+(A<<17&4294967295|A>>>15),A=C+(S^P&(k^S))+R[15]+1236535329&4294967295,C=P+(A<<22&4294967295|A>>>10),A=S+(P^k&(C^P))+R[1]+4129170786&4294967295,S=C+(A<<5&4294967295|A>>>27),A=k+(C^P&(S^C))+R[6]+3225465664&4294967295,k=S+(A<<9&4294967295|A>>>23),A=P+(S^C&(k^S))+R[11]+643717713&4294967295,P=k+(A<<14&4294967295|A>>>18),A=C+(k^S&(P^k))+R[0]+3921069994&4294967295,C=P+(A<<20&4294967295|A>>>12),A=S+(P^k&(C^P))+R[5]+3593408605&4294967295,S=C+(A<<5&4294967295|A>>>27),A=k+(C^P&(S^C))+R[10]+38016083&4294967295,k=S+(A<<9&4294967295|A>>>23),A=P+(S^C&(k^S))+R[15]+3634488961&4294967295,P=k+(A<<14&4294967295|A>>>18),A=C+(k^S&(P^k))+R[4]+3889429448&4294967295,C=P+(A<<20&4294967295|A>>>12),A=S+(P^k&(C^P))+R[9]+568446438&4294967295,S=C+(A<<5&4294967295|A>>>27),A=k+(C^P&(S^C))+R[14]+3275163606&4294967295,k=S+(A<<9&4294967295|A>>>23),A=P+(S^C&(k^S))+R[3]+4107603335&4294967295,P=k+(A<<14&4294967295|A>>>18),A=C+(k^S&(P^k))+R[8]+1163531501&4294967295,C=P+(A<<20&4294967295|A>>>12),A=S+(P^k&(C^P))+R[13]+2850285829&4294967295,S=C+(A<<5&4294967295|A>>>27),A=k+(C^P&(S^C))+R[2]+4243563512&4294967295,k=S+(A<<9&4294967295|A>>>23),A=P+(S^C&(k^S))+R[7]+1735328473&4294967295,P=k+(A<<14&4294967295|A>>>18),A=C+(k^S&(P^k))+R[12]+2368359562&4294967295,C=P+(A<<20&4294967295|A>>>12),A=S+(C^P^k)+R[5]+4294588738&4294967295,S=C+(A<<4&4294967295|A>>>28),A=k+(S^C^P)+R[8]+2272392833&4294967295,k=S+(A<<11&4294967295|A>>>21),A=P+(k^S^C)+R[11]+1839030562&4294967295,P=k+(A<<16&4294967295|A>>>16),A=C+(P^k^S)+R[14]+4259657740&4294967295,C=P+(A<<23&4294967295|A>>>9),A=S+(C^P^k)+R[1]+2763975236&4294967295,S=C+(A<<4&4294967295|A>>>28),A=k+(S^C^P)+R[4]+1272893353&4294967295,k=S+(A<<11&4294967295|A>>>21),A=P+(k^S^C)+R[7]+4139469664&4294967295,P=k+(A<<16&4294967295|A>>>16),A=C+(P^k^S)+R[10]+3200236656&4294967295,C=P+(A<<23&4294967295|A>>>9),A=S+(C^P^k)+R[13]+681279174&4294967295,S=C+(A<<4&4294967295|A>>>28),A=k+(S^C^P)+R[0]+3936430074&4294967295,k=S+(A<<11&4294967295|A>>>21),A=P+(k^S^C)+R[3]+3572445317&4294967295,P=k+(A<<16&4294967295|A>>>16),A=C+(P^k^S)+R[6]+76029189&4294967295,C=P+(A<<23&4294967295|A>>>9),A=S+(C^P^k)+R[9]+3654602809&4294967295,S=C+(A<<4&4294967295|A>>>28),A=k+(S^C^P)+R[12]+3873151461&4294967295,k=S+(A<<11&4294967295|A>>>21),A=P+(k^S^C)+R[15]+530742520&4294967295,P=k+(A<<16&4294967295|A>>>16),A=C+(P^k^S)+R[2]+3299628645&4294967295,C=P+(A<<23&4294967295|A>>>9),A=S+(P^(C|~k))+R[0]+4096336452&4294967295,S=C+(A<<6&4294967295|A>>>26),A=k+(C^(S|~P))+R[7]+1126891415&4294967295,k=S+(A<<10&4294967295|A>>>22),A=P+(S^(k|~C))+R[14]+2878612391&4294967295,P=k+(A<<15&4294967295|A>>>17),A=C+(k^(P|~S))+R[5]+4237533241&4294967295,C=P+(A<<21&4294967295|A>>>11),A=S+(P^(C|~k))+R[12]+1700485571&4294967295,S=C+(A<<6&4294967295|A>>>26),A=k+(C^(S|~P))+R[3]+2399980690&4294967295,k=S+(A<<10&4294967295|A>>>22),A=P+(S^(k|~C))+R[10]+4293915773&4294967295,P=k+(A<<15&4294967295|A>>>17),A=C+(k^(P|~S))+R[1]+2240044497&4294967295,C=P+(A<<21&4294967295|A>>>11),A=S+(P^(C|~k))+R[8]+1873313359&4294967295,S=C+(A<<6&4294967295|A>>>26),A=k+(C^(S|~P))+R[15]+4264355552&4294967295,k=S+(A<<10&4294967295|A>>>22),A=P+(S^(k|~C))+R[6]+2734768916&4294967295,P=k+(A<<15&4294967295|A>>>17),A=C+(k^(P|~S))+R[13]+1309151649&4294967295,C=P+(A<<21&4294967295|A>>>11),A=S+(P^(C|~k))+R[4]+4149444226&4294967295,S=C+(A<<6&4294967295|A>>>26),A=k+(C^(S|~P))+R[11]+3174756917&4294967295,k=S+(A<<10&4294967295|A>>>22),A=P+(S^(k|~C))+R[2]+718787259&4294967295,P=k+(A<<15&4294967295|A>>>17),A=C+(k^(P|~S))+R[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+k&4294967295}r.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var C=S-this.blockSize,R=this.B,P=this.h,k=0;k<S;){if(P==0)for(;k<=C;)i(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<S;)if(R[P++]=x.charCodeAt(k++),P==this.blockSize){i(this,R),P=0;break}}else for(;k<S;)if(R[P++]=x[k++],P==this.blockSize){i(this,R),P=0;break}}this.h=P,this.o+=S},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var C=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=C&255,C/=256;for(this.u(x),x=Array(16),S=C=0;4>S;++S)for(var R=0;32>R;R+=8)x[C++]=this.g[S]>>>R&255;return x};function s(x,S){var C=a;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=S(x)}function o(x,S){this.h=S;for(var C=[],R=!0,P=x.length-1;0<=P;P--){var k=x[P]|0;R&&k==S||(C[P]=k,R=!1)}this.g=C}var a={};function l(x){return-128<=x&&128>x?s(x,function(S){return new o([S|0],0>S?-1:0)}):new o([x|0],0>x?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return h;if(0>x)return w(c(-x));for(var S=[],C=1,R=0;x>=C;R++)S[R]=x/C|0,C*=4294967296;return new o(S,0)}function d(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return w(d(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(S,8)),R=h,P=0;P<x.length;P+=8){var k=Math.min(8,x.length-P),A=parseInt(x.substring(P,P+k),S);8>k?(k=c(Math.pow(S,k)),R=R.j(k).add(c(A))):(R=R.j(C),R=R.add(c(A)))}return R}var h=l(0),p=l(1),I=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-w(this).m();for(var x=0,S=1,C=0;C<this.g.length;C++){var R=this.i(C);x+=(0<=R?R:4294967296+R)*S,S*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(y(this))return"0";if(v(this))return"-"+w(this).toString(x);for(var S=c(Math.pow(x,6)),C=this,R="";;){var P=N(C,S).g;C=_(C,P.j(S));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=P,y(C))return k+R;for(;6>k.length;)k="0"+k;R=k+R}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function y(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function v(x){return x.h==-1}t.l=function(x){return x=_(this,x),v(x)?-1:y(x)?0:1};function w(x){for(var S=x.g.length,C=[],R=0;R<S;R++)C[R]=~x.g[R];return new o(C,~x.h).add(p)}t.abs=function(){return v(this)?w(this):this},t.add=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],R=0,P=0;P<=S;P++){var k=R+(this.i(P)&65535)+(x.i(P)&65535),A=(k>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);R=A>>>16,k&=65535,A&=65535,C[P]=A<<16|k}return new o(C,C[C.length-1]&-2147483648?-1:0)};function _(x,S){return x.add(w(S))}t.j=function(x){if(y(this)||y(x))return h;if(v(this))return v(x)?w(this).j(w(x)):w(w(this).j(x));if(v(x))return w(this.j(w(x)));if(0>this.l(I)&&0>x.l(I))return c(this.m()*x.m());for(var S=this.g.length+x.g.length,C=[],R=0;R<2*S;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var P=0;P<x.g.length;P++){var k=this.i(R)>>>16,A=this.i(R)&65535,Z=x.i(P)>>>16,oe=x.i(P)&65535;C[2*R+2*P]+=A*oe,E(C,2*R+2*P),C[2*R+2*P+1]+=k*oe,E(C,2*R+2*P+1),C[2*R+2*P+1]+=A*Z,E(C,2*R+2*P+1),C[2*R+2*P+2]+=k*Z,E(C,2*R+2*P+2)}for(R=0;R<S;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=S;R<2*S;R++)C[R]=0;return new o(C,0)};function E(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function T(x,S){this.g=x,this.h=S}function N(x,S){if(y(S))throw Error("division by zero");if(y(x))return new T(h,h);if(v(x))return S=N(w(x),S),new T(w(S.g),w(S.h));if(v(S))return S=N(x,w(S)),new T(w(S.g),S.h);if(30<x.g.length){if(v(x)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var C=p,R=S;0>=R.l(x);)C=j(C),R=j(R);var P=F(C,1),k=F(R,1);for(R=F(R,2),C=F(C,2);!y(R);){var A=k.add(R);0>=A.l(x)&&(P=P.add(C),k=A),R=F(R,1),C=F(C,1)}return S=_(x,P.j(S)),new T(P,S)}for(P=h;0<=x.l(S);){for(C=Math.max(1,Math.floor(x.m()/S.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),k=c(C),A=k.j(S);v(A)||0<A.l(x);)C-=R,k=c(C),A=k.j(S);y(k)&&(k=p),P=P.add(k),x=_(x,A)}return new T(P,x)}t.A=function(x){return N(this,x).h},t.and=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)&x.i(R);return new o(C,this.h&x.h)},t.or=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)|x.i(R);return new o(C,this.h|x.h)},t.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),C=[],R=0;R<S;R++)C[R]=this.i(R)^x.i(R);return new o(C,this.h^x.h)};function j(x){for(var S=x.g.length+1,C=[],R=0;R<S;R++)C[R]=x.i(R)<<1|x.i(R-1)>>>31;return new o(C,x.h)}function F(x,S){var C=S>>5;S%=32;for(var R=x.g.length-C,P=[],k=0;k<R;k++)P[k]=0<S?x.i(k+C)>>>S|x.i(k+C+1)<<32-S:x.i(k+C);return new o(P,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,e1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,zi=o}).apply(typeof X0<"u"?X0:typeof self<"u"?self:typeof window<"u"?window:{});var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t1,_a,n1,Qu,Up,r1,i1,s1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,g){return u==Array.prototype||u==Object.prototype||(u[f]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Au=="object"&&Au];for(var f=0;f<u.length;++f){var g=u[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var g=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in g))break e;g=g[L]}u=u[u.length-1],b=g[u],f=f(b),f!=b&&f!=null&&e(g,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var g=0,b=!1,L={next:function(){if(!b&&g<u.length){var M=g++;return{value:f(M,u[M]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,g){return u.call.apply(u.bind,arguments)}function h(u,f,g){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),u.apply(f,L)}}return function(){return u.apply(f,arguments)}}function p(u,f,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function I(u,f){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function y(u,f){function g(){}g.prototype=f.prototype,u.aa=f.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(b,L,M){for(var X=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)X[ke-2]=arguments[ke];return f.prototype[L].apply(b,X)}}function v(u){const f=u.length;if(0<f){const g=Array(f);for(let b=0;b<f;b++)g[b]=u[b];return g}return[]}function w(u,f){for(let g=1;g<arguments.length;g++){const b=arguments[g];if(l(b)){const L=u.length||0,M=b.length||0;u.length=L+M;for(let X=0;X<M;X++)u[L+X]=b[X]}else u.push(b)}}class _{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function E(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function N(u){return N[" "](u),u}N[" "]=function(){};var j=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function F(u,f,g){for(const b in u)f.call(g,u[b],b,u)}function x(u,f){for(const g in u)f.call(void 0,u[g],g,u)}function S(u){const f={};for(const g in u)f[g]=u[g];return f}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(u,f){let g,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(g in b)u[g]=b[g];for(let M=0;M<C.length;M++)g=C[M],Object.prototype.hasOwnProperty.call(b,g)&&(u[g]=b[g])}}function P(u){var f=1;u=u.split(":");const g=[];for(;0<f&&u.length;)g.push(u.shift()),f--;return u.length&&g.push(u.join(":")),g}function k(u){a.setTimeout(()=>{throw u},0)}function A(){var u=te;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class Z{constructor(){this.h=this.g=null}add(f,g){const b=oe.get();b.set(f,g),this.h?this.h.next=b:this.g=b,this.h=b}}var oe=new _(()=>new pe,u=>u.reset());class pe{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let me,Q=!1,te=new Z,Y=()=>{const u=a.Promise.resolve(void 0);me=()=>{u.then(ae)}};var ae=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(g){k(g)}var f=oe;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}Q=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return u}();function rt(u,f){if(be.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(j){e:{try{N(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else g=="mouseover"?f=u.fromElement:g=="mouseout"&&(f=u.toElement);this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:z[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&rt.aa.h.call(this)}}y(rt,be);var z={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),O=0;function $(u,f,g,b,L){this.listener=u,this.proxy=null,this.src=f,this.type=g,this.capture=!!b,this.ha=L,this.key=++O,this.da=this.fa=!1}function K(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function U(u){this.src=u,this.g={},this.h=0}U.prototype.add=function(u,f,g,b,L){var M=u.toString();u=this.g[M],u||(u=this.g[M]=[],this.h++);var X=W(u,f,b,L);return-1<X?(f=u[X],g||(f.fa=!1)):(f=new $(f,this.src,M,!!b,L),f.fa=g,u.push(f)),f};function D(u,f){var g=f.type;if(g in u.g){var b=u.g[g],L=Array.prototype.indexOf.call(b,f,void 0),M;(M=0<=L)&&Array.prototype.splice.call(b,L,1),M&&(K(f),u.g[g].length==0&&(delete u.g[g],u.h--))}}function W(u,f,g,b){for(var L=0;L<u.length;++L){var M=u[L];if(!M.da&&M.listener==f&&M.capture==!!g&&M.ha==b)return L}return-1}var re="closure_lm_"+(1e6*Math.random()|0),Se={};function Re(u,f,g,b,L){if(Array.isArray(f)){for(var M=0;M<f.length;M++)Re(u,f[M],g,b,L);return null}return g=Vo(g),u&&u[G]?u.K(f,g,c(b)?!!b.capture:!!b,L):gt(u,f,g,!1,b,L)}function gt(u,f,g,b,L,M){if(!f)throw Error("Invalid event type");var X=c(L)?!!L.capture:!!L,ke=Ii(u);if(ke||(u[re]=ke=new U(u)),g=ke.add(f,g,b,X,M),g.proxy)return g;if(b=Mt(),g.proxy=b,b.src=u,b.listener=g,u.addEventListener)Ve||(L=X),L===void 0&&(L=!1),u.addEventListener(f.toString(),b,L);else if(u.attachEvent)u.attachEvent(Zt(f.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Mt(){function u(g){return f.call(u.src,u.listener,g)}const f=Mo;return u}function Yt(u,f,g,b,L){if(Array.isArray(f))for(var M=0;M<f.length;M++)Yt(u,f[M],g,b,L);else b=c(b)?!!b.capture:!!b,g=Vo(g),u&&u[G]?(u=u.i,f=String(f).toString(),f in u.g&&(M=u.g[f],g=W(M,g,b,L),-1<g&&(K(M[g]),Array.prototype.splice.call(M,g,1),M.length==0&&(delete u.g[f],u.h--)))):u&&(u=Ii(u))&&(f=u.g[f.toString()],u=-1,f&&(u=W(f,g,b,L)),(g=-1<u?f[u]:null)&&Xt(g))}function Xt(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[G])D(f.i,u);else{var g=u.type,b=u.proxy;f.removeEventListener?f.removeEventListener(g,b,u.capture):f.detachEvent?f.detachEvent(Zt(g),b):f.addListener&&f.removeListener&&f.removeListener(b),(g=Ii(f))?(D(g,u),g.h==0&&(g.src=null,f[re]=null)):K(u)}}}function Zt(u){return u in Se?Se[u]:Se[u]="on"+u}function Mo(u,f){if(u.da)u=!0;else{f=new rt(f,this);var g=u.listener,b=u.ha||u.src;u.fa&&Xt(u),u=g.call(b,f)}return u}function Ii(u){return u=u[re],u instanceof U?u:null}var ls="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vo(u){return typeof u=="function"?u:(u[ls]||(u[ls]=function(f){return u.handleEvent(f)}),u[ls])}function ct(){he.call(this),this.i=new U(this),this.M=this,this.F=null}y(ct,he),ct.prototype[G]=!0,ct.prototype.removeEventListener=function(u,f,g,b){Yt(this,u,f,g,b)};function dt(u,f){var g,b=u.F;if(b)for(g=[];b;b=b.F)g.push(b);if(u=u.M,b=f.type||f,typeof f=="string")f=new be(f,u);else if(f instanceof be)f.target=f.target||u;else{var L=f;f=new be(b,u),R(f,L)}if(L=!0,g)for(var M=g.length-1;0<=M;M--){var X=f.g=g[M];L=us(X,b,!0,f)&&L}if(X=f.g=u,L=us(X,b,!0,f)&&L,L=us(X,b,!1,f)&&L,g)for(M=0;M<g.length;M++)X=f.g=g[M],L=us(X,b,!1,f)&&L}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var g=u.g[f],b=0;b<g.length;b++)K(g[b]);delete u.g[f],u.h--}}this.F=null},ct.prototype.K=function(u,f,g,b){return this.i.add(String(u),f,!1,g,b)},ct.prototype.L=function(u,f,g,b){return this.i.add(String(u),f,!0,g,b)};function us(u,f,g,b){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,M=0;M<f.length;++M){var X=f[M];if(X&&!X.da&&X.capture==g){var ke=X.listener,yt=X.ha||X.src;X.fa&&D(u.i,X),L=ke.call(yt,b)!==!1&&L}}return L&&!b.defaultPrevented}function cs(u,f,g){if(typeof u=="function")g&&(u=p(u,g));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function vn(u){u.g=cs(()=>{u.g=null,u.i&&(u.i=!1,vn(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class Fo extends he{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:vn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xn(u){he.call(this),this.h=u,this.g={}}y(Xn,he);var bi=[];function ds(u){F(u.g,function(f,g){this.g.hasOwnProperty(g)&&Xt(f)},u),u.g={}}Xn.prototype.N=function(){Xn.aa.N.call(this),ds(this)},Xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uo=a.JSON.stringify,cf=a.JSON.parse,df=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function fs(){}fs.prototype.h=null;function ql(u){return u.h||(u.h=u.i())}function Bo(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hs(){be.call(this,"d")}y(hs,be);function $o(){be.call(this,"c")}y($o,be);var On={},Wl=null;function Gl(){return Wl=Wl||new ct}On.La="serverreachability";function ky(u){be.call(this,On.La,u)}y(ky,be);function zo(u){const f=Gl();dt(f,new ky(f))}On.STAT_EVENT="statevent";function Ny(u,f){be.call(this,On.STAT_EVENT,u),this.stat=f}y(Ny,be);function Vt(u){const f=Gl();dt(f,new Ny(f,u))}On.Ma="timingevent";function Oy(u,f){be.call(this,On.Ma,u),this.size=f}y(Oy,be);function Ho(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function Ko(){this.g=!0}Ko.prototype.xa=function(){this.g=!1};function kA(u,f,g,b,L,M){u.info(function(){if(u.g)if(M)for(var X="",ke=M.split("&"),yt=0;yt<ke.length;yt++){var xe=ke[yt].split("=");if(1<xe.length){var It=xe[0];xe=xe[1];var bt=It.split("_");X=2<=bt.length&&bt[1]=="type"?X+(It+"="+xe+"&"):X+(It+"=redacted&")}}else X=null;else X=M;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+f+`
`+g+`
`+X})}function NA(u,f,g,b,L,M,X){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+f+`
`+g+`
`+M+" "+X})}function ps(u,f,g,b){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+LA(u,g)+(b?" "+b:"")})}function OA(u,f){u.info(function(){return"TIMEOUT: "+f})}Ko.prototype.info=function(){};function LA(u,f){if(!u.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var b=g[u];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var M=L[0];if(M!="noop"&&M!="stop"&&M!="close")for(var X=1;X<L.length;X++)L[X]=""}}}}return Uo(g)}catch{return f}}var Ql={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ly={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ff;function Jl(){}y(Jl,fs),Jl.prototype.g=function(){return new XMLHttpRequest},Jl.prototype.i=function(){return{}},ff=new Jl;function Rr(u,f,g,b){this.j=u,this.i=f,this.l=g,this.R=b||1,this.U=new Xn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dy}function Dy(){this.i=null,this.g="",this.h=!1}var jy={},hf={};function pf(u,f,g){u.L=1,u.v=eu(Zn(f)),u.m=g,u.P=!0,My(u,null)}function My(u,f){u.F=Date.now(),Yl(u),u.A=Zn(u.v);var g=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),Yy(g.i,"t",b),u.C=0,g=u.j.J,u.h=new Dy,u.g=mv(u.j,g?f:null,!u.m),0<u.O&&(u.M=new Fo(p(u.Y,u,u.g),u.O)),f=u.U,g=u.g,b=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(bi[0]=L.toString()),L=bi);for(var M=0;M<L.length;M++){var X=Re(g,L[M],b||f.handleEvent,!1,f.h||f);if(!X)break;f.g[X.key]=X}f=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),zo(),kA(u.i,u.u,u.A,u.l,u.R,u.m)}Rr.prototype.ca=function(u){u=u.target;const f=this.M;f&&er(u)==3?f.j():this.Y(u)},Rr.prototype.Y=function(u){try{if(u==this.g)e:{const bt=er(this.g);var f=this.g.Ba();const ys=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||iv(this.g)))){this.J||bt!=4||f==7||(f==8||0>=ys?zo(3):zo(2)),mf(this);var g=this.g.Z();this.X=g;t:if(Vy(this)){var b=iv(this.g);u="";var L=b.length,M=er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ai(this),qo(this);var X="";break t}this.h.i=new a.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,u+=this.h.i.decode(b[f],{stream:!(M&&f==L-1)});b.length=0,this.h.g+=u,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=g==200,NA(this.i,this.u,this.A,this.l,this.R,bt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,yt=this.g;if((ke=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(ke)){var xe=ke;break t}}xe=null}if(g=xe)ps(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gf(this,g);else{this.o=!1,this.s=3,Vt(12),Ai(this),qo(this);break e}}if(this.P){g=!0;let _n;for(;!this.J&&this.C<X.length;)if(_n=DA(this,X),_n==hf){bt==4&&(this.s=4,Vt(14),g=!1),ps(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==jy){this.s=4,Vt(15),ps(this.i,this.l,X,"[Invalid Chunk]"),g=!1;break}else ps(this.i,this.l,_n,null),gf(this,_n);if(Vy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||X.length!=0||this.h.h||(this.s=1,Vt(16),g=!1),this.o=this.o&&g,!g)ps(this.i,this.l,X,"[Invalid Chunked Response]"),Ai(this),qo(this);else if(0<X.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Sf(It),It.M=!0,Vt(11))}}else ps(this.i,this.l,X,null),gf(this,X);bt==4&&Ai(this),this.o&&!this.J&&(bt==4?dv(this.j,this):(this.o=!1,Yl(this)))}else XA(this.g),g==400&&0<X.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Ai(this),qo(this)}}}catch{}finally{}};function Vy(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function DA(u,f){var g=u.C,b=f.indexOf(`
`,g);return b==-1?hf:(g=Number(f.substring(g,b)),isNaN(g)?jy:(b+=1,b+g>f.length?hf:(f=f.slice(b,b+g),u.C=b+g,f)))}Rr.prototype.cancel=function(){this.J=!0,Ai(this)};function Yl(u){u.S=Date.now()+u.I,Fy(u,u.I)}function Fy(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ho(p(u.ba,u),f)}function mf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Rr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(OA(this.i,this.A),this.L!=2&&(zo(),Vt(17)),Ai(this),this.s=2,qo(this)):Fy(this,this.S-u)};function qo(u){u.j.G==0||u.J||dv(u.j,u)}function Ai(u){mf(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,ds(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function gf(u,f){try{var g=u.j;if(g.G!=0&&(g.g==u||yf(g.h,u))){if(!u.K&&yf(g.h,u)&&g.G==3){try{var b=g.Da.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)ou(g),iu(g);else break e;wf(g),Vt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=Ho(p(g.Za,g),6e3));if(1>=$y(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ci(g,11)}else if((u.K||g.g==u)&&ou(g),!E(f))for(L=g.Da.g.parse(f),f=0;f<L.length;f++){let xe=L[f];if(g.T=xe[0],xe=xe[1],g.G==2)if(xe[0]=="c"){g.K=xe[1],g.ia=xe[2];const It=xe[3];It!=null&&(g.la=It,g.j.info("VER="+g.la));const bt=xe[4];bt!=null&&(g.Aa=bt,g.j.info("SVER="+g.Aa));const ys=xe[5];ys!=null&&typeof ys=="number"&&0<ys&&(b=1.5*ys,g.L=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const _n=u.g;if(_n){const lu=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lu){var M=b.h;M.g||lu.indexOf("spdy")==-1&&lu.indexOf("quic")==-1&&lu.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(vf(M,M.h),M.h=null))}if(b.D){const Tf=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Tf&&(b.ya=Tf,De(b.I,b.D,Tf))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),b=g;var X=u;if(b.qa=pv(b,b.J?b.ia:null,b.W),X.K){zy(b.h,X);var ke=X,yt=b.L;yt&&(ke.I=yt),ke.B&&(mf(ke),Yl(ke)),b.g=X}else uv(b);0<g.i.length&&su(g)}else xe[0]!="stop"&&xe[0]!="close"||Ci(g,7);else g.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Ci(g,7):Ef(g):xe[0]!="noop"&&g.l&&g.l.ta(xe),g.v=0)}}zo(4)}catch{}}var jA=class{constructor(u,f){this.g=u,this.map=f}};function Uy(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function By(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $y(u){return u.h?1:u.g?u.g.size:0}function yf(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function vf(u,f){u.g?u.g.add(f):u.h=f}function zy(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}Uy.prototype.cancel=function(){if(this.i=Hy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Hy(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const g of u.g.values())f=f.concat(g.D);return f}return v(u.i)}function MA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],g=u.length,b=0;b<g;b++)f.push(u[b]);return f}f=[],g=0;for(b in u)f[g++]=u[b];return f}function VA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var g=0;g<u;g++)f.push(g);return f}f=[],g=0;for(const b in u)f[g++]=b;return f}}}function Ky(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var g=VA(u),b=MA(u),L=b.length,M=0;M<L;M++)f.call(void 0,b[M],g&&g[M],u)}var qy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FA(u,f){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var b=u[g].indexOf("="),L=null;if(0<=b){var M=u[g].substring(0,b);L=u[g].substring(b+1)}else M=u[g];f(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function xi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof xi){this.h=u.h,Xl(this,u.j),this.o=u.o,this.g=u.g,Zl(this,u.s),this.l=u.l;var f=u.i,g=new Qo;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Wy(this,g),this.m=u.m}else u&&(f=String(u).match(qy))?(this.h=!1,Xl(this,f[1]||"",!0),this.o=Wo(f[2]||""),this.g=Wo(f[3]||"",!0),Zl(this,f[4]),this.l=Wo(f[5]||"",!0),Wy(this,f[6]||"",!0),this.m=Wo(f[7]||"")):(this.h=!1,this.i=new Qo(null,this.h))}xi.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Go(f,Gy,!0),":");var g=this.g;return(g||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Go(f,Gy,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Go(g,g.charAt(0)=="/"?$A:BA,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Go(g,HA)),u.join("")};function Zn(u){return new xi(u)}function Xl(u,f,g){u.j=g?Wo(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function Zl(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function Wy(u,f,g){f instanceof Qo?(u.i=f,KA(u.i,u.h)):(g||(f=Go(f,zA)),u.i=new Qo(f,u.h))}function De(u,f,g){u.i.set(f,g)}function eu(u){return De(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Wo(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Go(u,f,g){return typeof u=="string"?(u=encodeURI(u).replace(f,UA),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function UA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gy=/[#\/\?@]/g,BA=/[#\?:]/g,$A=/[#\?]/g,zA=/[#\?@]/g,HA=/#/g;function Qo(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Pr(u){u.g||(u.g=new Map,u.h=0,u.i&&FA(u.i,function(f,g){u.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Qo.prototype,t.add=function(u,f){Pr(this),this.i=null,u=ms(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(f),this.h+=1,this};function Qy(u,f){Pr(u),f=ms(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function Jy(u,f){return Pr(u),f=ms(u,f),u.g.has(f)}t.forEach=function(u,f){Pr(this),this.g.forEach(function(g,b){g.forEach(function(L){u.call(f,L,b,this)},this)},this)},t.na=function(){Pr(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let b=0;b<f.length;b++){const L=u[b];for(let M=0;M<L.length;M++)g.push(f[b])}return g},t.V=function(u){Pr(this);let f=[];if(typeof u=="string")Jy(this,u)&&(f=f.concat(this.g.get(ms(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)f=f.concat(u[g])}return f},t.set=function(u,f){return Pr(this),this.i=null,u=ms(this,u),Jy(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function Yy(u,f,g){Qy(u,f),0<g.length&&(u.i=null,u.g.set(ms(u,f),v(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var b=f[g];const M=encodeURIComponent(String(b)),X=this.V(b);for(b=0;b<X.length;b++){var L=M;X[b]!==""&&(L+="="+encodeURIComponent(String(X[b]))),u.push(L)}}return this.i=u.join("&")};function ms(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function KA(u,f){f&&!u.j&&(Pr(u),u.i=null,u.g.forEach(function(g,b){var L=b.toLowerCase();b!=L&&(Qy(this,b),Yy(this,L,g))},u)),u.j=f}function qA(u,f){const g=new Ko;if(a.Image){const b=new Image;b.onload=I(kr,g,"TestLoadImage: loaded",!0,f,b),b.onerror=I(kr,g,"TestLoadImage: error",!1,f,b),b.onabort=I(kr,g,"TestLoadImage: abort",!1,f,b),b.ontimeout=I(kr,g,"TestLoadImage: timeout",!1,f,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else f(!1)}function WA(u,f){const g=new Ko,b=new AbortController,L=setTimeout(()=>{b.abort(),kr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:b.signal}).then(M=>{clearTimeout(L),M.ok?kr(g,"TestPingServer: ok",!0,f):kr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),kr(g,"TestPingServer: error",!1,f)})}function kr(u,f,g,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(g)}catch{}}function GA(){this.g=new df}function QA(u,f,g){const b=g||"";try{Ky(u,function(L,M){let X=L;c(L)&&(X=Uo(L)),f.push(b+M+"="+encodeURIComponent(X))})}catch(L){throw f.push(b+"type="+encodeURIComponent("_badmap")),L}}function tu(u){this.l=u.Ub||null,this.j=u.eb||!1}y(tu,fs),tu.prototype.g=function(){return new nu(this.l,this.j)},tu.prototype.i=function(u){return function(){return u}}({});function nu(u,f){ct.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(nu,ct),t=nu.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,Yo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yo(this)),this.g&&(this.readyState=3,Yo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xy(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xy(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Jo(this):Yo(this),this.readyState==3&&Xy(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Jo(this))},t.Qa=function(u){this.g&&(this.response=u,Jo(this))},t.ga=function(){this.g&&Jo(this)};function Jo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yo(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=f.next();return u.join(`\r
`)};function Yo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(nu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Zy(u){let f="";return F(u,function(g,b){f+=b,f+=":",f+=g,f+=`\r
`}),f}function _f(u,f,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=Zy(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):De(u,f,g))}function qe(u){ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(qe,ct);var JA=/^https?$/i,YA=["POST","PUT"];t=qe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ff.g(),this.v=this.o?ql(this.o):ql(ff),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(M){ev(this,M);return}if(u=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)g.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const M of b.keys())g.set(M,b.get(M));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(YA,f,void 0))||b||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,X]of g)this.g.setRequestHeader(M,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rv(this),this.u=!0,this.g.send(u),this.u=!1}catch(M){ev(this,M)}};function ev(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,tv(u),ru(u)}function tv(u){u.A||(u.A=!0,dt(u,"complete"),dt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,dt(this,"complete"),dt(this,"abort"),ru(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ru(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nv(this):this.bb())},t.bb=function(){nv(this)};function nv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||er(u)!=4||u.Z()!=2)){if(u.u&&er(u)==4)cs(u.Ea,0,u);else if(dt(u,"readystatechange"),er(u)==4){u.h=!1;try{const X=u.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var b;if(b=X===0){var L=String(u.D).match(qy)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),b=!JA.test(L?L.toLowerCase():"")}g=b}if(g)dt(u,"complete"),dt(u,"success");else{u.m=6;try{var M=2<er(u)?u.g.statusText:""}catch{M=""}u.l=M+" ["+u.Z()+"]",tv(u)}}finally{ru(u)}}}}function ru(u,f){if(u.g){rv(u);const g=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||dt(u,"ready");try{g.onreadystatechange=b}catch{}}}function rv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function er(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),cf(f)}};function iv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function XA(u){const f={};u=(u.g&&2<=er(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(E(u[b]))continue;var g=P(u[b]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=f[L]||[];f[L]=M,M.push(g)}x(f,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xo(u,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||f}function sv(u){this.Aa=0,this.i=[],this.j=new Ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xo("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xo("baseRetryDelayMs",5e3,u),this.cb=Xo("retryDelaySeedMs",1e4,u),this.Wa=Xo("forwardChannelMaxRetries",2,u),this.wa=Xo("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Uy(u&&u.concurrentRequestLimit),this.Da=new GA,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sv.prototype,t.la=8,t.G=1,t.connect=function(u,f,g,b){Vt(0),this.W=u,this.H=f||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.I=pv(this,null,this.W),su(this)};function Ef(u){if(ov(u),u.G==3){var f=u.U++,g=Zn(u.I);if(De(g,"SID",u.K),De(g,"RID",f),De(g,"TYPE","terminate"),Zo(u,g),f=new Rr(u,u.j,f),f.L=2,f.v=eu(Zn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=mv(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Yl(f)}hv(u)}function iu(u){u.g&&(Sf(u),u.g.cancel(),u.g=null)}function ov(u){iu(u),u.u&&(a.clearTimeout(u.u),u.u=null),ou(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function su(u){if(!By(u.h)&&!u.s){u.s=!0;var f=u.Ga;me||Y(),Q||(me(),Q=!0),te.add(f,u),u.B=0}}function ZA(u,f){return $y(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ho(p(u.Ga,u,f),fv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Rr(this,this.j,u);let M=this.o;if(this.S&&(M?(M=S(M),R(M,this.S)):M=this.S),this.m!==null||this.O||(L.H=M,M=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(f+=b,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=lv(this,L,f),g=Zn(this.I),De(g,"RID",u),De(g,"CVER",22),this.D&&De(g,"X-HTTP-Session-Id",this.D),Zo(this,g),M&&(this.O?f="headers="+encodeURIComponent(String(Zy(M)))+"&"+f:this.m&&_f(g,this.m,M)),vf(this.h,L),this.Ua&&De(g,"TYPE","init"),this.P?(De(g,"$req",f),De(g,"SID","null"),L.T=!0,pf(L,g,null)):pf(L,g,f),this.G=2}}else this.G==3&&(u?av(this,u):this.i.length==0||By(this.h)||av(this))};function av(u,f){var g;f?g=f.l:g=u.U++;const b=Zn(u.I);De(b,"SID",u.K),De(b,"RID",g),De(b,"AID",u.T),Zo(u,b),u.m&&u.o&&_f(b,u.m,u.o),g=new Rr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),f&&(u.i=f.D.concat(u.i)),f=lv(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),vf(u.h,g),pf(g,b,f)}function Zo(u,f){u.H&&F(u.H,function(g,b){De(f,b,g)}),u.l&&Ky({},function(g,b){De(f,b,g)})}function lv(u,f,g){g=Math.min(u.i.length,g);var b=u.l?p(u.l.Na,u.l,u):null;e:{var L=u.i;let M=-1;for(;;){const X=["count="+g];M==-1?0<g?(M=L[0].g,X.push("ofs="+M)):M=0:X.push("ofs="+M);let ke=!0;for(let yt=0;yt<g;yt++){let xe=L[yt].g;const It=L[yt].map;if(xe-=M,0>xe)M=Math.max(0,L[yt].g-100),ke=!1;else try{QA(It,X,"req"+xe+"_")}catch{b&&b(It)}}if(ke){b=X.join("&");break e}}}return u=u.i.splice(0,g),f.D=u,b}function uv(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;me||Y(),Q||(me(),Q=!0),te.add(f,u),u.v=0}}function wf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ho(p(u.Fa,u),fv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,cv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ho(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),iu(this),cv(this))};function Sf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function cv(u){u.g=new Rr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=Zn(u.qa);De(f,"RID","rpc"),De(f,"SID",u.K),De(f,"AID",u.T),De(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&De(f,"TO",u.ja),De(f,"TYPE","xmlhttp"),Zo(u,f),u.m&&u.o&&_f(f,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=eu(Zn(f)),g.m=null,g.P=!0,My(g,u)}t.Za=function(){this.C!=null&&(this.C=null,iu(this),wf(this),Vt(19))};function ou(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function dv(u,f){var g=null;if(u.g==f){ou(u),Sf(u),u.g=null;var b=2}else if(yf(u.h,f))g=f.D,zy(u.h,f),b=1;else return;if(u.G!=0){if(f.o)if(b==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var L=u.B;b=Gl(),dt(b,new Oy(b,g)),su(u)}else uv(u);else if(L=f.s,L==3||L==0&&0<f.X||!(b==1&&ZA(u,f)||b==2&&wf(u)))switch(g&&0<g.length&&(f=u.h,f.i=f.i.concat(g)),L){case 1:Ci(u,5);break;case 4:Ci(u,10);break;case 3:Ci(u,6);break;default:Ci(u,2)}}}function fv(u,f){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*f}function Ci(u,f){if(u.j.info("Error code "+f),f==2){var g=p(u.fb,u),b=u.Xa;const L=!b;b=new xi(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Xl(b,"https"),eu(b),L?qA(b.toString(),g):WA(b.toString(),g)}else Vt(2);u.G=0,u.l&&u.l.sa(f),hv(u),ov(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function hv(u){if(u.G=0,u.ka=[],u.l){const f=Hy(u.h);(f.length!=0||u.i.length!=0)&&(w(u.ka,f),w(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function pv(u,f,g){var b=g instanceof xi?Zn(g):new xi(g);if(b.g!="")f&&(b.g=f+"."+b.g),Zl(b,b.s);else{var L=a.location;b=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var M=new xi(null);b&&Xl(M,b),f&&(M.g=f),L&&Zl(M,L),g&&(M.l=g),b=M}return g=u.D,f=u.ya,g&&f&&De(b,g,f),De(b,"VER",u.la),Zo(u,b),b}function mv(u,f,g){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new qe(new tu({eb:g})):new qe(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gv(){}t=gv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function au(){}au.prototype.g=function(u,f){return new en(u,f)};function en(u,f){ct.call(this),this.g=new sv(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!E(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!E(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new gs(this)}y(en,ct),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Ef(this.g)},en.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Uo(u),u=g);f.i.push(new jA(f.Ya++,u)),f.G==3&&su(f)},en.prototype.N=function(){this.g.l=null,delete this.j,Ef(this.g),delete this.g,en.aa.N.call(this)};function yv(u){hs.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const g in f){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}y(yv,hs);function vv(){$o.call(this),this.status=1}y(vv,$o);function gs(u){this.g=u}y(gs,gv),gs.prototype.ua=function(){dt(this.g,"a")},gs.prototype.ta=function(u){dt(this.g,new yv(u))},gs.prototype.sa=function(u){dt(this.g,new vv)},gs.prototype.ra=function(){dt(this.g,"b")},au.prototype.createWebChannel=au.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,s1=function(){return new au},i1=function(){return Gl()},r1=On,Up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ql.NO_ERROR=0,Ql.TIMEOUT=8,Ql.HTTP_ERROR=6,Qu=Ql,Ly.COMPLETE="complete",n1=Ly,Bo.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,_a=Bo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,t1=qe}).apply(typeof Au<"u"?Au:typeof self<"u"?self:typeof window<"u"?window:{});const Z0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Sg("@firebase/firestore");function Ss(){return Zi.logLevel}function ee(t,...e){if(Zi.logLevel<=_e.DEBUG){const n=e.map(bg);Zi.debug(`Firestore (${xo}): ${t}`,...n)}}function wr(t,...e){if(Zi.logLevel<=_e.ERROR){const n=e.map(bg);Zi.error(`Firestore (${xo}): ${t}`,...n)}}function uo(t,...e){if(Zi.logLevel<=_e.WARN){const n=e.map(bg);Zi.warn(`Firestore (${xo}): ${t}`,...n)}}function bg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: `+t;throw wr(e),new Error(e)}function Ce(t,e){t||ue()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class aO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class lO{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new o1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Rt(e)}}class uO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class cO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new uO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ce(this.o===void 0);const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new dO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=hO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function co(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new lt(0,0))}static max(){return new ce(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends cl{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const pO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends cl{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return pO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Ue.fromString(e))}static fromName(e){return new se(Ue.fromString(e).popFirst(5))}static empty(){return new se(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Ue(e.slice()))}}function mO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new di(i,se.empty(),e)}function gO(t){return new di(t.readTime,t.key,-1)}class di{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new di(ce.min(),se.empty(),-1)}static max(){return new di(ce.max(),se.empty(),-1)}}function yO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _O{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==vO)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function EO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Dd.oe=-1;function jd(t){return t==null}function qc(t){return t===0&&1/t==-1/0}function wO(t){return typeof t=="number"&&Number.isInteger(t)&&!qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=e_(e)),e=TO(t.get(n),e);return e_(e)}function TO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function e_(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ei(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xu(this.root,e,this.comparator,!0)}}class xu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_t.RED,this.left=i??_t.EMPTY,this.right=s??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,s){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(e){return new n_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class n_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new pn([])}unionWith(e){let n=new ut(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new u1("Invalid base64 string: "+s):s}}(e);return new Tt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const IO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(t){if(Ce(!!t),typeof t=="string"){let e=0;const n=IO.exec(t);if(Ce(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hi(t){return typeof t=="string"?Tt.fromBase64String(t):Tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Md(t){const e=t.mapValue.fields.__previous_value__;return Ag(e)?Md(e):e}function dl(t){const e=fi(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class fl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ag(t)?4:xO(t)?9007199254740991:AO(t)?10:11:ue()}function Jn(t,e){if(t===e)return!0;const n=pi(t);if(n!==pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dl(t).isEqual(dl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=fi(i.timestampValue),a=fi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return hi(i.bytesValue).isEqual(hi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qe(i.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qe(i.integerValue)===Qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qe(i.doubleValue),a=Qe(s.doubleValue);return o===a?qc(o)===qc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return co(t.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(t_(o)!==t_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Jn(o[l],a[l])))return!1;return!0}(t,e);default:return ue()}}function hl(t,e){return(t.values||[]).find(n=>Jn(n,e))!==void 0}function fo(t,e){if(t===e)return 0;const n=pi(t),r=pi(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qe(s.integerValue||s.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return r_(t.timestampValue,e.timestampValue);case 4:return r_(dl(t),dl(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(s,o){const a=hi(s),l=hi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=we(a[c],l[c]);if(d!==0)return d}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=we(Qe(s.latitude),Qe(o.latitude));return a!==0?a:we(Qe(s.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return i_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},p=o.fields||{},I=(a=h.value)===null||a===void 0?void 0:a.arrayValue,y=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=we(((c=I==null?void 0:I.values)===null||c===void 0?void 0:c.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:i_(I,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Cu.mapValue&&o===Cu.mapValue)return 0;if(s===Cu.mapValue)return 1;if(o===Cu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=we(l[h],d[h]);if(p!==0)return p;const I=fo(a[l[h]],c[d[h]]);if(I!==0)return I}return we(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ue()}}function r_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=fi(t),r=fi(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function i_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=fo(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function ho(t){return Bp(t)}function Bp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=fi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Bp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Bp(n.fields[o])}`;return i+"}"}(t.mapValue):ue()}function Ju(t){switch(pi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Md(t);return e?16+Ju(e):16;case 5:return 2*t.stringValue.length;case 6:return hi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ju(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ei(r.fields,(s,o)=>{i+=s.length+Ju(o)}),i}(t.mapValue);default:throw ue()}}function $p(t){return!!t&&"integerValue"in t}function xg(t){return!!t&&"arrayValue"in t}function s_(t){return!!t&&"nullValue"in t}function o_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yu(t){return!!t&&"mapValue"in t}function AO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Oa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Oa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oa(n)}setAll(e){let n=Et.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Oa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Yu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ei(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nn(Oa(this.value))}}function c1(t){const e=[];return Ei(t.fields,(n,r)=>{const i=new Et([n]);if(Yu(r)){const s=c1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new kt(e,0,ce.min(),ce.min(),ce.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new kt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new kt(e,2,n,ce.min(),ce.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,ce.min(),ce.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.position=e,this.inclusive=n}}function a_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=fo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function l_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function CO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{}class ot extends d1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PO(e,n,r):n==="array-contains"?new OO(e,r):n==="in"?new LO(e,r):n==="not-in"?new DO(e,r):n==="array-contains-any"?new jO(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new kO(e,r):new NO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fo(n,this.value)):n!==null&&pi(this.value)===pi(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends d1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Yn(e,n)}matches(e){return f1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function f1(t){return t.op==="and"}function h1(t){return RO(t)&&f1(t)}function RO(t){for(const e of t.filters)if(e instanceof Yn)return!1;return!0}function zp(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+ho(t.value);if(h1(t))return t.filters.map(e=>zp(e)).join(",");{const e=t.filters.map(n=>zp(n)).join(",");return`${t.op}(${e})`}}function p1(t,e){return t instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&Jn(r.value,i.value)}(t,e):t instanceof Yn?function(r,i){return i instanceof Yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&p1(o,i.filters[a]),!0):!1}(t,e):void ue()}function m1(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`}(t):t instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(m1).join(" ,")+"}"}(t):"Filter"}class PO extends ot{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class kO extends ot{constructor(e,n){super(e,"in",n),this.keys=g1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NO extends ot{constructor(e,n){super(e,"not-in",n),this.keys=g1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function g1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class OO extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xg(n)&&hl(n.arrayValue,this.value)}}class LO extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hl(this.value.arrayValue,n)}}class DO extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hl(this.value.arrayValue,n)}}class jO extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function u_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new MO(t,e,n,r,i,s,o)}function Cg(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ho(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ho(r)).join(",")),e.ue=n}return e.ue}function Rg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!p1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!l_(t.startAt,e.startAt)&&l_(t.endAt,e.endAt)}function Hp(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function VO(t,e,n,r,i,s,o,a){return new Vd(t,e,n,r,i,s,o,a)}function Pg(t){return new Vd(t)}function c_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FO(t){return t.collectionGroup!==null}function La(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ut(Et.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Gc(s,r))}),n.has(Et.keyField().canonicalString())||e.ce.push(new Gc(Et.keyField(),r))}return e.ce}function qn(t){const e=de(t);return e.le||(e.le=UO(e,La(t))),e.le}function UO(t,e){if(t.limitType==="F")return u_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Gc(i.field,s)});const n=t.endAt?new Wc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wc(t.startAt.position,t.startAt.inclusive):null;return u_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Kp(t,e,n){return new Vd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fd(t,e){return Rg(qn(t),qn(e))&&t.limitType===e.limitType}function y1(t){return`${Cg(qn(t))}|lt:${t.limitType}`}function Ts(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>m1(i)).join(", ")}]`),jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ho(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ho(i)).join(",")),`Target(${r})`}(qn(t))}; limitType=${t.limitType})`}function Ud(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of La(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=a_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,La(r),i)||r.endAt&&!function(o,a,l){const c=a_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,La(r),i))}(t,e)}function BO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v1(t){return(e,n)=>{let r=!1;for(const i of La(t)){const s=$O(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function $O(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?fo(l,c):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return l1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new Ke(se.comparator);function Sr(){return zO}const _1=new Ke(se.comparator);function Ea(...t){let e=_1;for(const n of t)e=e.insert(n.key,n);return e}function E1(t){let e=_1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mi(){return Da()}function w1(){return Da()}function Da(){return new ss(t=>t.toString(),(t,e)=>t.isEqual(e))}const HO=new Ke(se.comparator),KO=new ut(se.comparator);function Ee(...t){let e=KO;for(const n of t)e=e.add(n);return e}const qO=new ut(we);function WO(){return qO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function S1(t){return{integerValue:""+t}}function GO(t,e){return wO(e)?S1(e):kg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this._=void 0}}function QO(t,e,n){return t instanceof Qc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ag(s)&&(s=Md(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof pl?I1(t,e):t instanceof ml?b1(t,e):function(i,s){const o=T1(i,s),a=d_(o)+d_(i.Pe);return $p(o)&&$p(i.Pe)?S1(a):kg(i.serializer,a)}(t,e)}function JO(t,e,n){return t instanceof pl?I1(t,e):t instanceof ml?b1(t,e):n}function T1(t,e){return t instanceof Jc?function(r){return $p(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Qc extends Bd{}class pl extends Bd{constructor(e){super(),this.elements=e}}function I1(t,e){const n=A1(e);for(const r of t.elements)n.some(i=>Jn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ml extends Bd{constructor(e){super(),this.elements=e}}function b1(t,e){let n=A1(e);for(const r of t.elements)n=n.filter(i=>!Jn(i,r));return{arrayValue:{values:n}}}class Jc extends Bd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function d_(t){return Qe(t.integerValue||t.doubleValue)}function A1(t){return xg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function YO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof pl&&i instanceof pl||r instanceof ml&&i instanceof ml?co(r.elements,i.elements,Jn):r instanceof Jc&&i instanceof Jc?Jn(r.Pe,i.Pe):r instanceof Qc&&i instanceof Qc}(t.transform,e.transform)}class XO{constructor(e,n){this.version=e,this.transformResults=n}}class Rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rn}static exists(e){return new Rn(void 0,e)}static updateTime(e){return new Rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $d{}function x1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ng(t.key,Rn.none()):new Ol(t.key,t.data,Rn.none());{const n=t.data,r=nn.empty();let i=new ut(Et.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new wi(t.key,r,new pn(i.toArray()),Rn.none())}}function ZO(t,e,n){t instanceof Ol?function(i,s,o){const a=i.value.clone(),l=h_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wi?function(i,s,o){if(!Xu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=h_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(C1(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ja(t,e,n,r){return t instanceof Ol?function(s,o,a,l){if(!Xu(s.precondition,o))return a;const c=s.value.clone(),d=p_(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof wi?function(s,o,a,l){if(!Xu(s.precondition,o))return a;const c=p_(s.fieldTransforms,l,o),d=o.data;return d.setAll(C1(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Xu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function e2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=T1(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function f_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&co(r,i,(s,o)=>YO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ol extends $d{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wi extends $d{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function C1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function h_(t,e,n){const r=new Map;Ce(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,JO(o,a,n[i]))}return r}function p_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,QO(s,o,e))}return r}class Ng extends $d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t2 extends $d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ZO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ja(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ja(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=w1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=x1(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(n,r)=>f_(n,r))&&co(this.baseMutations,e.baseMutations,(n,r)=>f_(n,r))}}class Og{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ce(e.mutations.length===r.length);let i=function(){return HO}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Og(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,Te;function s2(t){switch(t){default:return ue();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function R1(t){if(t===void 0)return wr("GRPC error has no .code"),q.UNKNOWN;switch(t){case Ze.OK:return q.OK;case Ze.CANCELLED:return q.CANCELLED;case Ze.UNKNOWN:return q.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return q.INTERNAL;case Ze.UNAVAILABLE:return q.UNAVAILABLE;case Ze.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Ze.NOT_FOUND:return q.NOT_FOUND;case Ze.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Ze.ABORTED:return q.ABORTED;case Ze.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Ze.DATA_LOSS:return q.DATA_LOSS;default:return ue()}}(Te=Ze||(Ze={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new zi([4294967295,4294967295],0);function m_(t){const e=o2().encode(t),n=new e1;return n.update(e),new Uint8Array(n.digest())}function g_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zi([n,r],0),new zi([i,s],0)]}class Lg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wa(`Invalid padding: ${n}`);if(r<0)throw new wa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wa(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=zi.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(zi.fromNumber(r)));return i.compare(a2)===1&&(i=new zi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=m_(e),[r,i]=g_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Lg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=m_(e),[r,i]=g_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ll.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zd(ce.min(),i,new Ke(we),Sr(),Ee())}}class Ll{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ll(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class P1{constructor(e,n){this.targetId=e,this.me=n}}class k1{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class y_{constructor(){this.fe=0,this.ge=v_(),this.pe=Tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Ll(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=v_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class l2{constructor(e){this.Le=e,this.Be=new Map,this.ke=Sr(),this.qe=Ru(),this.Qe=Ru(),this.Ke=new Ke(we)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(Hp(s))if(r===0){const o=new se(s.path);this.We(n,o,kt.newNoDocument(o,ce.min()))}else Ce(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=hi(r).toUint8Array()}catch(l){if(l instanceof u1)return uo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Lg(o,i,s)}catch(l){return uo(l instanceof wa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Hp(a.target)){const l=new se(a.target.path);this.st(l).has(o)||this.ot(o,l)||this.We(o,l,kt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ee();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new zd(e,n,this.Ke,this.ke,r);return this.ke=Sr(),this.qe=Ru(),this.Qe=Ru(),this.Ke=new Ke(we),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new y_,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new ut(we),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ut(we),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new y_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ru(){return new Ke(se.comparator)}function v_(){return new Ke(se.comparator)}const u2={asc:"ASCENDING",desc:"DESCENDING"},c2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d2={and:"AND",or:"OR"};class f2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qp(t,e){return t.useProto3Json||jd(e)?e:{value:e}}function Yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function h2(t,e){return Yc(t,e.toTimestamp())}function Wn(t){return Ce(!!t),ce.fromTimestamp(function(n){const r=fi(n);return new lt(r.seconds,r.nanos)}(t))}function Dg(t,e){return Wp(t,e).canonicalString()}function Wp(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function O1(t){const e=Ue.fromString(t);return Ce(V1(e)),e}function Gp(t,e){return Dg(t.databaseId,e.path)}function nh(t,e){const n=O1(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(D1(n))}function L1(t,e){return Dg(t.databaseId,e)}function p2(t){const e=O1(t);return e.length===4?Ue.emptyPath():D1(e)}function Qp(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D1(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function __(t,e,n){return{name:Gp(t,e),fields:n.value.mapValue.fields}}function m2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ce(d===void 0||typeof d=="string"),Tt.fromBase64String(d||"")):(Ce(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Tt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?q.UNKNOWN:R1(c.code);return new ie(d,c.message||"")}(o);n=new k1(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=nh(t,r.document.name),s=Wn(r.document.updateTime),o=r.document.createTime?Wn(r.document.createTime):ce.min(),a=new nn({mapValue:{fields:r.document.fields}}),l=kt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Zu(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=nh(t,r.document),s=r.readTime?Wn(r.readTime):ce.min(),o=kt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Zu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=nh(t,r.document),s=r.removedTargetIds||[];n=new Zu([],s,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new i2(i,s),a=r.targetId;n=new P1(a,o)}}return n}function g2(t,e){let n;if(e instanceof Ol)n={update:__(t,e.key,e.value)};else if(e instanceof Ng)n={delete:Gp(t,e.key)};else if(e instanceof wi)n={update:__(t,e.key,e.data),updateMask:b2(e.fieldMask)};else{if(!(e instanceof t2))return ue();n={verify:Gp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Qc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ml)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:h2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ue()}(t,e.precondition)),n}function y2(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Wn(i.updateTime):Wn(s);return o.isEqual(ce.min())&&(o=Wn(s)),new XO(o,i.transformResults||[])}(n,e))):[]}function v2(t,e){return{documents:[L1(t,e.path)]}}function _2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L1(t,i);const s=function(c){if(c.length!==0)return M1(Yn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Is(p.field),direction:S2(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=qp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function E2(t){let e=p2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ce(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=j1(h);return p instanceof Yn&&h1(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(y){return new Gc(bs(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,jd(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,I=h.values||[];return new Wc(I,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,I=h.values||[];return new Wc(I,p)}(n.endAt)),VO(e,i,o,s,a,"F",l,c)}function w2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function j1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bs(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=bs(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bs(n.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bs(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return ot.create(bs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(r=>j1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function S2(t){return u2[t]}function T2(t){return c2[t]}function I2(t){return d2[t]}function Is(t){return{fieldPath:t.canonicalString()}}function bs(t){return Et.fromServerFormat(t.fieldPath)}function M1(t){return t instanceof ot?function(n){if(n.op==="=="){if(o_(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NAN"}};if(s_(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(o_(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NAN"}};if(s_(n.value))return{unaryFilter:{field:Is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(n.field),op:T2(n.op),value:n.value}}}(t):t instanceof Yn?function(n){const r=n.getFilters().map(i=>M1(i));return r.length===1?r[0]:{compositeFilter:{op:I2(n.op),filters:r}}}(t):ue()}function b2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function V1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,r,i,s=ce.min(),o=ce.min(),a=Tt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.ht=e}}function x2(t){const e=E2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.ln=new R2}addToCollectionParentIndex(e,n){return this.ln.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(di.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(di.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class R2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ut(Ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zt{static withCacheSize(e){return new zt(e,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zt.DEFAULT_COLLECTION_PERCENTILE=10,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zt.DEFAULT=new zt(41943040,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zt.DISABLED=new zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new po(0)}static Qn(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_([t,e],[n,r]){const i=we(t,n);return i===0?we(e,r):i}class P2{constructor(e){this.Gn=e,this.buffer=new ut(w_),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();w_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Yn(3e5)})}}class N2{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Dd.oe);const r=new P2(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(E_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E_):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Ss()<=_e.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function O2(t,e){return new N2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.changes=new ss(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ja(r.mutation,i,pn.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=Mi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ea();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Sr();const o=Da(),a=function(){return Da()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof wi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ja(d.mutation,c,d.mutation.getFieldMask(),lt.now())):o.set(c.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new D2(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Da();let i=new Ke((o,a)=>o-a),s=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||pn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||Ee()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=w1();d.forEach(p=>{if(!s.has(p)){const I=x1(n.get(p),r.get(p));I!==null&&h.set(p,I),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(Mi());let a=-1,l=s;return o.next(c=>H.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ee())).next(d=>({batchId:a,changes:E1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=Ea();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ea();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,l=>{const c=function(h,p){return new Vd(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,kt.newInvalidDocument(d)))});let a=Ea();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&ja(d.mutation,c,pn.empty(),lt.now()),Ud(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return H.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wn(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:x2(i.bundledQuery),readTime:Wn(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.overlays=new Ke(se.comparator),this.Er=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mi();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=Mi(),s=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ke((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Mi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Mi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return H.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new r2(n,r));let s=this.Er.get(n);s===void 0&&(s=Ee(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.sessionToken=Tt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.dr=new ut(ht.Ar),this.Rr=new ut(ht.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new ht(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new ht(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new se(new Ue([])),r=new ht(n,e),i=new ht(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new se(new Ue([])),r=new ht(n,e),i=new ht(n,e+1);let s=Ee();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ht(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ht{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return se.comparator(e.key,n.key)||we(e.br,n.br)}static Vr(e,n){return we(e.br,n.br)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new ut(ht.Ar)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new n2(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.vr=this.vr.add(new ht(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ht(n,0),i=new ht(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const a=this.Cr(o.br);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(we);return n.forEach(i=>{const s=new ht(i,0),o=new ht(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],a=>{r=r.add(a.br)})}),H.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new ht(new se(s),0);let a=new ut(we);return this.vr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.br)),!0)},o),H.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ce(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return H.forEach(n.mutations,i=>{const s=new ht(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new ht(n,0),i=this.vr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.Nr=e,this.docs=function(){return new Ke(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=Sr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():kt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Sr();const o=n.path,a=new se(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||yO(gO(d),r)<=0||(i.has(d.key)||Ud(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ue()}Lr(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $2(this)}getSize(e){return H.resolve(this.size)}}class $2 extends L2{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.persistence=e,this.Br=new ss(n=>Cg(n),Rg),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.kr=0,this.qr=new jg,this.targetCount=0,this.Qr=po.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),H.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new po(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Un(n),H.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Dd(0),this.Ur=!1,this.Ur=!0,this.Wr=new F2,this.referenceDelegate=e(this),this.Gr=new z2(this),this.indexManager=new C2,this.remoteDocumentCache=function(i){return new B2(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new A2(n),this.jr=new M2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new V2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new U2(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new H2(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return H.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class H2 extends _O{constructor(e){super(),this.currentSequenceNumber=e}}class Mg{constructor(e){this.persistence=e,this.Zr=new jg,this.Xr=null}static ei(e){return new Mg(e)}get ti(){if(this.Xr)return this.Xr;throw ue()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),H.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.ti,r=>{const i=se.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return H.or([()=>H.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Xc{constructor(e,n){this.persistence=e,this.ri=new ss(r=>SO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=O2(this,n)}static ei(e,n){return new Xc(e,n)}Hr(){}Jr(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return H.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?H.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ce.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),H.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ju(e.data.value)),n}ir(e,n,r){return H.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Ee(),i=Ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Vg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return zk()?8:EO(Lt())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new K2;return this.ts(e,n,o).next(a=>{if(s.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(Ss()<=_e.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Ts(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),H.resolve()):(Ss()<=_e.DEBUG&&ee("QueryEngine","Query:",Ts(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(Ss()<=_e.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Ts(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):H.resolve())}Xi(e,n){if(c_(n))return H.resolve(null);let r=qn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kp(n,null,"F"),r=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ee(...s);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.rs(n,a);return this.ss(n,c,o,l.readTime)?this.Xi(e,Kp(n,null,"F")):this.os(e,c,n,l)}))})))}es(e,n,r,i){return c_(n)||i.isEqual(ce.min())?H.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?H.resolve(null):(Ss()<=_e.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ts(n)),this.os(e,o,n,mO(i,-1)).next(a=>a))})}rs(e,n){let r=new ut(v1(e));return n.forEach((i,s)=>{Ud(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return Ss()<=_e.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Ts(n)),this.Zi.getDocumentsMatchingQuery(e,n,di.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Ke(we),this.cs=new ss(s=>Cg(s),Rg),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j2(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function G2(t,e,n,r){return new W2(t,e,n,r)}async function U1(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ee();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function Q2(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let I=H.resolve();return p.forEach(y=>{I=I.next(()=>d.getEntry(l,y)).next(v=>{const w=c.docVersions.get(y);Ce(w!==null),v.version.compareTo(w)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function B1(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function J2(t,e){const n=de(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Gr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Gr.addMatchingKeys(s,d.addedDocuments,h)));let I=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?I=I.withResumeToken(Tt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(d.resumeToken,r)),i=i.insert(h,I),function(v,w,_){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,I,d)&&a.push(n.Gr.updateTargetData(s,I))});let l=Sr(),c=Ee();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Y2(s,o,e.documentUpdates).next(d=>{l=d.Is,c=d.Es})),!r.isEqual(ce.min())){const d=n.Gr.getLastRemoteSnapshotVersion(s).next(h=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.us=i,s))}function Y2(t,e,n){let r=Ee(),i=Ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Sr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Is:o,Es:i}})}function X2(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Z2(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new Kr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Jp(t,e,n){const r=de(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ro(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function S_(t,e,n){const r=de(t);let i=ce.min(),s=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=de(l),p=h.cs.get(d);return p!==void 0?H.resolve(h.us.get(p)):h.Gr.getTargetData(c,d)}(r,o,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:Ee())).next(a=>(eL(r,BO(e),a),{documents:a,ds:s})))}function eL(t,e,n){let r=t.ls.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class T_{constructor(){this.activeTargetIds=WO()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tL{constructor(){this._o=new T_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new T_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pu=null;function rh(){return Pu===null?Pu=function(){return 268435456+Math.round(2147483648*Math.random())}():Pu++,"0x"+Pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="WebChannelConnection";class sL extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const a=rh(),l=this.No(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,s,o),this.Bo(n,l,c,i).then(d=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw uo("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}ko(n,r,i,s,o,a){return this.Oo(n,r,i,s,o)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=rL[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=rh();return new Promise((o,a)=>{const l=new t1;l.setWithCredentials(!0),l.listenOnce(n1.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qu.NO_ERROR:const d=l.getResponseJson();ee(Ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Qu.TIMEOUT:ee(Ct,`RPC '${e}' ${s} timed out`),a(new ie(q.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const h=l.getStatus();if(ee(Ct,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const I=p==null?void 0:p.error;if(I&&I.status&&I.message){const y=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(_)>=0?_:q.UNKNOWN}(I.status);a(new ie(y,I.message))}else a(new ie(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ie(q.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{ee(Ct,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ee(Ct,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}qo(e,n,r){const i=rh(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=s1(),a=i1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ee(Ct,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,I=!1;const y=new iL({Eo:w=>{I?ee(Ct,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(ee(Ct,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),ee(Ct,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},Ao:()=>h.close()}),v=(w,_,E)=>{w.listen(_,T=>{try{E(T)}catch(N){setTimeout(()=>{throw N},0)}})};return v(h,_a.EventType.OPEN,()=>{I||(ee(Ct,`RPC '${e}' stream ${i} transport opened.`),y.So())}),v(h,_a.EventType.CLOSE,()=>{I||(I=!0,ee(Ct,`RPC '${e}' stream ${i} transport closed`),y.Do())}),v(h,_a.EventType.ERROR,w=>{I||(I=!0,uo(Ct,`RPC '${e}' stream ${i} transport errored:`,w),y.Do(new ie(q.UNAVAILABLE,"The operation could not be completed")))}),v(h,_a.EventType.MESSAGE,w=>{var _;if(!I){const E=w.data[0];Ce(!!E);const T=E,N=(T==null?void 0:T.error)||((_=T[0])===null||_===void 0?void 0:_.error);if(N){ee(Ct,`RPC '${e}' stream ${i} received error:`,N);const j=N.status;let F=function(C){const R=Ze[C];if(R!==void 0)return R1(R)}(j),x=N.message;F===void 0&&(F=q.INTERNAL,x="Unknown error status: "+j+" with message "+N.message),I=!0,y.Do(new ie(F,x)),h.close()}else ee(Ct,`RPC '${e}' stream ${i} received:`,E),y.vo(E)}}),v(a,r1.STAT_EVENT,w=>{w.stat===Up.PROXY?ee(Ct,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Up.NOPROXY&&ee(Ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.bo()},0),y}}function ih(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){return new f2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,r,i,s,o,a,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new $1(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(wr(n.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new ie(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oL extends z1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=m2(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?Wn(o.readTime):ce.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Qp(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Hp(l)?{documents:v2(s,l)}:{query:_2(s,l).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=N1(s,o.resumeToken);const c=qp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=Yc(s,o.snapshotVersion.toTimestamp());const c=qp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=w2(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Qp(this.serializer),n.removeTarget=e,this.c_(n)}}class aL extends z1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=y2(e.writeResults,e.commitTime),r=Wn(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Qp(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>g2(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new ie(q.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,Wp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(q.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,Wp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(q.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class uL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(wr(n),this.C_=!1):ee("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{os(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=de(l);c.k_.add(4),await Dl(c),c.K_.set("Unknown"),c.k_.delete(4),await Kd(c)}(this))})}),this.K_=new uL(r,i)}}async function Kd(t){if(os(t))for(const e of t.q_)await e(!0)}async function Dl(t){for(const e of t.q_)await e(!1)}function H1(t,e){const n=de(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),$g(n)?Bg(n):Po(n).s_()&&Ug(n,e))}function Fg(t,e){const n=de(t),r=Po(n);n.B_.delete(e),r.s_()&&K1(n,e),n.B_.size===0&&(r.s_()?r.a_():os(n)&&n.K_.set("Unknown"))}function Ug(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Po(t).V_(e)}function K1(t,e){t.U_.xe(e),Po(t).m_(e)}function Bg(t){t.U_=new l2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Po(t).start(),t.K_.F_()}function $g(t){return os(t)&&!Po(t).i_()&&t.B_.size>0}function os(t){return de(t).k_.size===0}function q1(t){t.U_=void 0}async function dL(t){t.K_.set("Online")}async function fL(t){t.B_.forEach((e,n)=>{Ug(t,e)})}async function hL(t,e){q1(t),$g(t)?(t.K_.O_(e),Bg(t)):t.K_.set("Unknown")}async function pL(t,e,n){if(t.K_.set("Online"),e instanceof k1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zc(t,r)}else if(e instanceof Zu?t.U_.$e(e):e instanceof P1?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(ce.min()))try{const r=await B1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.U_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.B_.get(c);d&&s.B_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.B_.get(l);if(!d)return;s.B_.set(l,d.withResumeToken(Tt.EMPTY_BYTE_STRING,d.snapshotVersion)),K1(s,l);const h=new Kr(d.target,l,c,d.sequenceNumber);Ug(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await Zc(t,r)}}async function Zc(t,e,n){if(!Ro(e))throw e;t.k_.add(1),await Dl(t),t.K_.set("Offline"),n||(n=()=>B1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Kd(t)})}function W1(t,e){return e().catch(n=>Zc(t,n,e))}async function qd(t){const e=de(t),n=mi(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;mL(e);)try{const i=await X2(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,gL(e,i)}catch(i){await Zc(e,i)}G1(e)&&Q1(e)}function mL(t){return os(t)&&t.L_.length<10}function gL(t,e){t.L_.push(e);const n=mi(t);n.s_()&&n.f_&&n.g_(e.mutations)}function G1(t){return os(t)&&!mi(t).i_()&&t.L_.length>0}function Q1(t){mi(t).start()}async function yL(t){mi(t).w_()}async function vL(t){const e=mi(t);for(const n of t.L_)e.g_(n.mutations)}async function _L(t,e,n){const r=t.L_.shift(),i=Og.from(r,e,n);await W1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qd(t)}async function EL(t,e){e&&mi(t).f_&&await async function(r,i){if(function(o){return s2(o)&&o!==q.ABORTED}(i.code)){const s=r.L_.shift();mi(r).__(),await W1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await qd(r)}}(t,e),G1(t)&&Q1(t)}async function b_(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=os(n);n.k_.add(3),await Dl(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Kd(n)}async function wL(t,e){const n=de(t);e?(n.k_.delete(2),await Kd(n)):e||(n.k_.add(2),await Dl(n),n.K_.set("Unknown"))}function Po(t){return t.W_||(t.W_=function(n,r,i){const s=de(n);return s.b_(),new oL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:dL.bind(null,t),mo:fL.bind(null,t),po:hL.bind(null,t),R_:pL.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),$g(t)?Bg(t):t.K_.set("Unknown")):(await t.W_.stop(),q1(t))})),t.W_}function mi(t){return t.G_||(t.G_=function(n,r,i){const s=de(n);return s.b_(),new aL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:yL.bind(null,t),po:EL.bind(null,t),p_:vL.bind(null,t),y_:_L.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await qd(t)):(await t.G_.stop(),t.L_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new zg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(t,e){if(wr("AsyncQueue",`${e}: ${t}`),Ro(t))return new ie(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{static emptySet(e){return new Qs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Ea(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.z_=new Ke(se.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ue():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class mo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new mo(e,n,Qs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class TL{constructor(){this.queries=x_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=de(n),s=i.queries;i.queries=x_(),s.forEach((o,a)=>{for(const l of a.J_)l.onError(r)})})(this,new ie(q.ABORTED,"Firestore shutting down"))}}function x_(){return new ss(t=>y1(t),Fd)}async function J1(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new SL,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Hg(o,`Initialization of query '${Ts(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&Kg(n)}async function Y1(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IL(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.J_)a.ta(i)&&(r=!0);o.H_=i}}r&&Kg(n)}function bL(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function Kg(t){t.X_.forEach(e=>{e.next()})}var Yp,C_;(C_=Yp||(Yp={})).na="default",C_.Cache="cache";class X1{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.key=e}}class eI{constructor(e){this.key=e}}class AL{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ee(),this.mutatedKeys=Ee(),this.Va=v1(e),this.ma=new Qs(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new A_,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),I=Ud(this.query,h)?h:null,y=!!p&&this.mutatedKeys.has(p.key),v=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let w=!1;p&&I?p.data.isEqual(I.data)?y!==v&&(r.track({type:3,doc:I}),w=!0):this.ya(p,I)||(r.track({type:2,doc:I}),w=!0,(l&&this.Va(I,l)>0||c&&this.Va(I,c)<0)&&(a=!0)):!p&&I?(r.track({type:0,doc:I}),w=!0):p&&!I&&(r.track({type:1,doc:p}),w=!0,(l||c)&&(a=!0)),w&&(I?(o=o.add(I),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ma:o,pa:r,ss:a,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((d,h)=>function(I,y){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return v(I)-v(y)}(d.type,h.type)||this.Va(d.doc,h.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,c=l!==this.Aa;return this.Aa=l,o.length!==0||c?{snapshot:new mo(this.query,e.ma,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new A_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ee(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new eI(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new Z1(r))}),n}va(e){this.da=e.ds,this.Ra=Ee();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return mo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class xL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class CL{constructor(e){this.key=e,this.Fa=!1}}class RL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new ss(a=>y1(a),Fd),this.Oa=new Map,this.Na=new Set,this.La=new Ke(se.comparator),this.Ba=new Map,this.ka=new jg,this.qa={},this.Qa=new Map,this.Ka=po.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function PL(t,e,n=!0){const r=oI(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await tI(r,e,n,!0),i}async function kL(t,e){const n=oI(t);await tI(n,e,!0,!1)}async function tI(t,e,n,r){const i=await Z2(t.localStore,qn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await NL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&H1(t.remoteStore,i),a}async function NL(t,e,n,r,i){t.Ua=(h,p,I)=>async function(v,w,_,E){let T=w.view.ga(_);T.ss&&(T=await S_(v.localStore,w.query,!1).then(({documents:x})=>w.view.ga(x,T)));const N=E&&E.targetChanges.get(w.targetId),j=E&&E.targetMismatches.get(w.targetId)!=null,F=w.view.applyChanges(T,v.isPrimaryClient,N,j);return P_(v,w.targetId,F.ba),F.snapshot}(t,h,p,I);const s=await S_(t.localStore,e,!0),o=new AL(e,s.ds),a=o.ga(s.documents),l=Ll.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);P_(t,n,c.ba);const d=new xL(e,n,o);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function OL(t,e,n){const r=de(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!Fd(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Jp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Fg(r.remoteStore,i.targetId),Xp(r,i.targetId)}).catch(Co)):(Xp(r,i.targetId),await Jp(r.localStore,i.targetId,!0))}async function LL(t,e){const n=de(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fg(n.remoteStore,r.targetId))}async function DL(t,e,n){const r=$L(t);try{const i=await function(o,a){const l=de(o),c=lt.now(),d=a.reduce((I,y)=>I.add(y.key),Ee());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",I=>{let y=Sr(),v=Ee();return l.hs.getEntries(I,d).next(w=>{y=w,y.forEach((_,E)=>{E.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(I,y)).next(w=>{h=w;const _=[];for(const E of a){const T=e2(E,h.get(E.key).overlayedDocument);T!=null&&_.push(new wi(E.key,T,c1(T.value.mapValue),Rn.exists(!0)))}return l.mutationQueue.addMutationBatch(I,c,_,a)}).next(w=>{p=w;const _=w.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(I,w.batchId,_)})}).then(()=>({batchId:p.batchId,changes:E1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.qa[o.currentUser.toKey()];c||(c=new Ke(we)),c=c.insert(a,l),o.qa[o.currentUser.toKey()]=c}(r,i.batchId,n),await jl(r,i.changes),await qd(r.remoteStore)}catch(i){const s=Hg(i,"Failed to persist write");n.reject(s)}}async function nI(t,e){const n=de(t);try{const r=await J2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ba.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?Ce(o.Fa):i.removedDocuments.size>0&&(Ce(o.Fa),o.Fa=!1))}),await jl(n,r,e)}catch(r){await Co(r)}}function R_(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const a=o.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.J_)p.ea(a)&&(c=!0)}),c&&Kg(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jL(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new Ke(se.comparator);o=o.insert(s,kt.newNoDocument(s,ce.min()));const a=Ee().add(s),l=new zd(ce.min(),new Map,new Ke(we),o,a);await nI(r,l),r.La=r.La.remove(s),r.Ba.delete(e),qg(r)}else await Jp(r.localStore,e,!1).then(()=>Xp(r,e,n)).catch(Co)}async function ML(t,e){const n=de(t),r=e.batch.batchId;try{const i=await Q2(n.localStore,e);iI(n,r,null),rI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jl(n,i)}catch(i){await Co(i)}}async function VL(t,e,n){const r=de(t);try{const i=await function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ce(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);iI(r,e,n),rI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jl(r,i)}catch(i){await Co(i)}}function rI(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function iI(t,e,n){const r=de(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Xp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||sI(t,r)})}function sI(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(Fg(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),qg(t))}function P_(t,e,n){for(const r of n)r instanceof Z1?(t.ka.addReference(r.key,e),FL(t,r)):r instanceof eI?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||sI(t,r.key)):ue()}function FL(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.Na.add(r),qg(t))}function qg(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new se(Ue.fromString(e)),r=t.Ka.next();t.Ba.set(r,new CL(n)),t.La=t.La.insert(n,r),H1(t.remoteStore,new Kr(qn(Pg(n.path)),r,"TargetPurposeLimboResolution",Dd.oe))}}async function jl(t,e,n){const r=de(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{o.push(r.Ua(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Vg.zi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(l,c){const d=de(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(c,p=>H.forEach(p.Wi,I=>d.persistence.referenceDelegate.addReference(h,p.targetId,I)).next(()=>H.forEach(p.Gi,I=>d.persistence.referenceDelegate.removeReference(h,p.targetId,I)))))}catch(h){if(!Ro(h))throw h;ee("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const I=d.us.get(p),y=I.snapshotVersion,v=I.withLastLimboFreeSnapshotVersion(y);d.us=d.us.insert(p,v)}}}(r.localStore,s))}async function UL(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await U1(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(a=>{a.forEach(l=>{l.reject(new ie(q.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jl(n,r.Ts)}}function BL(t,e){const n=de(t),r=n.Ba.get(e);if(r&&r.Fa)return Ee().add(r.key);{let i=Ee();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const a=n.xa.get(o);i=i.unionWith(a.view.fa)}return i}}function oI(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jL.bind(null,e),e.Ma.R_=IL.bind(null,e.eventManager),e.Ma.Wa=bL.bind(null,e.eventManager),e}function $L(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ML.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VL.bind(null,e),e}class ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return G2(this.persistence,new q2,e.initialUser,this.serializer)}ja(e){return new F1(Mg.ei,this.serializer)}za(e){return new tL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ed.provider={build:()=>new ed};class zL extends ed{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ce(this.persistence.referenceDelegate instanceof Xc);const r=this.persistence.referenceDelegate.garbageCollector;return new k2(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?zt.withCacheSize(this.cacheSizeBytes):zt.DEFAULT;return new F1(r=>Xc.ei(r,n),this.serializer)}}class Zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UL.bind(null,this.syncEngine),await wL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TL}()}createDatastore(e){const n=Hd(e.databaseInfo.databaseId),r=function(s){return new sL(s)}(e.databaseInfo);return function(s,o,a,l){return new lL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new cL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>R_(this.syncEngine,n,0),function(){return I_.p()?new I_:new nL}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new RL(i,s,o,a,l,c);return d&&(h.$a=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=de(i);ee("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await Dl(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zp.provider={build:()=>new Zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=a1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ee("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sh(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await U1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function k_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KL(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>b_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>b_(e.remoteStore,i)),t._onlineComponents=e}async function KL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await sh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await sh(t,new ed)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await sh(t,new zL(void 0));return t._offlineComponents}async function lI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await k_(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await k_(t,new Zp))),t._onlineComponents}function qL(t){return lI(t).then(e=>e.syncEngine)}async function uI(t){const e=await lI(t),n=e.eventManager;return n.onListen=PL.bind(null,e.syncEngine),n.onUnlisten=OL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LL.bind(null,e.syncEngine),n}function WL(t,e,n={}){const r=new pr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new aI({next:p=>{d.eu(),o.enqueueAndForget(()=>Y1(s,h));const I=p.docs.has(a);!I&&p.fromCache?c.reject(new ie(q.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&p.fromCache&&l&&l.source==="server"?c.reject(new ie(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new X1(Pg(a.path),d,{includeMetadataChanges:!0,ua:!0});return J1(s,h)}(await uI(t),t.asyncQueue,e,n,r)),r.promise}function GL(t,e,n={}){const r=new pr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new aI({next:p=>{d.eu(),o.enqueueAndForget(()=>Y1(s,h)),p.fromCache&&l.source==="server"?c.reject(new ie(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new X1(a,d,{includeMetadataChanges:!0,ua:!0});return J1(s,h)}(await uI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t,e,n){if(!n)throw new ie(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QL(t,e,n,r){if(e===!0&&r===!0)throw new ie(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function O_(t){if(!se.isDocumentKey(t))throw new ie(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function L_(t){if(se.isDocumentKey(t))throw new ie(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function Tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wg(t);throw new ie(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oO;switch(r.type){case"firstParty":return new cO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=N_.get(n);r&&(ee("ComponentProvider","Removing Datastore"),N_.delete(n),r.terminate())}(this),Promise.resolve()}}function JL(t,e,n,r={}){var i;const s=(t=Tr(t,Wd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Rt.MOCK_USER;else{a=jk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ie(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Rt(c)}t._authCredentials=new aO(new o1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gd(this.firestore,e,this._query)}}class on{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new on(this.firestore,e,this._key)}}class oi extends Gd{constructor(e,n,r){super(e,n,Pg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new on(this.firestore,null,new se(e))}withConverter(e){return new oi(this.firestore,e,this._path)}}function td(t,e,...n){if(t=Dt(t),dI("collection","path",e),t instanceof Wd){const r=Ue.fromString(e,...n);return L_(r),new oi(t,null,r)}{if(!(t instanceof on||t instanceof oi))throw new ie(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return L_(r),new oi(t.firestore,null,r)}}function nd(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=a1.newId()),dI("doc","path",e),t instanceof Wd){const r=Ue.fromString(e,...n);return O_(r),new on(t,null,new se(r))}{if(!(t instanceof on||t instanceof oi))throw new ie(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return O_(r),new on(t.firestore,t instanceof oi?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new $1(this,"async_queue_retry"),this.fu=()=>{const r=ih();r&&ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=ih();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=ih();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new pr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ro(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw wr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=zg.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&ue()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class ko extends Wd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new j_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new j_(e),this._firestoreClient=void 0,await e}}}function YL(t,e){const n=typeof t=="object"?t:YT(),r=typeof t=="string"?t:"(default)",i=Ig(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Lk("firestore");s&&JL(i,...s)}return i}function Gg(t){if(t._terminated)throw new ie(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XL(t),t._firestoreClient}function XL(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new bO(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,cI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new HL(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new go(Tt.fromBase64String(e))}catch(n){throw new ie(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new go(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=/^__.*__$/;class eD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ol(e,this.data,n,this.fieldTransforms)}}class tD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class Xg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return rd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(fI(this.Mu)&&ZL.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class nD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hd(e)}$u(e,n,r,i=!1){return new Xg({Mu:e,methodName:n,Ku:r,path:Et.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hI(t){const e=t._freezeSettings(),n=Hd(t._databaseId);return new nD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rD(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);ty("Data must be an object, but it was:",o,r);const a=pI(r,o);let l,c;if(s.merge)l=new pn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=gI(e,h,n);if(!o.contains(p))throw new ie(q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);aD(d,p)||d.push(p)}l=new pn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new eD(new nn(a),l,c)}class Zg extends Qg{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zg}}function iD(t,e,n,r){const i=t.$u(1,e,n);ty("Data must be an object, but it was:",i,r);const s=[],o=nn.empty();Ei(r,(l,c)=>{const d=ny(e,l,n);c=Dt(c);const h=i.Bu(d);if(c instanceof Zg)s.push(d);else{const p=ey(c,h);p!=null&&(s.push(d),o.set(d,p))}});const a=new pn(s);return new tD(o,a,i.fieldTransforms)}function sD(t,e,n,r,i,s){if(t.$u(1,e,n),gI(e,r,n),s.length%2!=0)throw new ie(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`)}function ey(t,e){if(mI(t=Dt(t)))return ty("Unsupported field value:",e,t),pI(t,e);if(t instanceof Qg)return function(r,i){if(!fI(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ey(a,i.ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return GO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=lt.fromDate(r);return{timestampValue:Yc(i.serializer,s)}}if(r instanceof lt){const s=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(i.serializer,s)}}if(r instanceof Jg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof go)return{bytesValue:N1(i.serializer,r._byteString)};if(r instanceof on){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Dg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return kg(a.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Wg(r)}`)}(t,e)}function pI(t,e){const n={};return l1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(t,(r,i)=>{const s=ey(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof Jg||t instanceof go||t instanceof on||t instanceof Qg||t instanceof Yg)}function ty(t,e,n){if(!mI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Wg(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function gI(t,e,n){if((e=Dt(e))instanceof Qd)return e._internalPath;if(typeof e=="string")return ny(t,e);throw rd("Field path arguments must be of type string or ",t,!1,void 0,n)}const oD=new RegExp("[~\\*/\\[\\]]");function ny(t,e,n){if(e.search(oD)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qd(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ie(q.INVALID_ARGUMENT,a+t+l)}function aD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new on(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lD extends yI{data(){return super.data()}}function vI(t,e){return typeof e=="string"?ny(t,e):e instanceof Qd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cD{convertValue(e,n="none"){switch(pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ei(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Qe(o.doubleValue));return new Yg(s)}convertGeoPoint(e){return new Jg(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Md(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dl(e));default:return null}}convertTimestamp(e){const n=fi(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Ce(V1(r));const i=new fl(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||wr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _I extends yI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ec extends _I{data(e={}){return super.data(e)}}class fD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ec(this._firestore,this._userDataWriter,r.key,r,new Sa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ec(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ec(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:hD(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){t=Tr(t,on);const e=Tr(t.firestore,ko);return WL(Gg(e),t._key).then(n=>vD(e,t,n))}class EI extends cD{constructor(e){super(),this.firestore=e}convertBytes(e){return new go(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new on(this.firestore,null,n)}}function ry(t){t=Tr(t,Gd);const e=Tr(t.firestore,ko),n=Gg(e),r=new EI(e);return uD(t._query),GL(n,t._query).then(i=>new fD(e,r,t,i))}function mD(t,e,n,...r){t=Tr(t,on);const i=Tr(t.firestore,ko),s=hI(i);let o;return o=typeof(e=Dt(e))=="string"||e instanceof Qd?sD(s,"updateDoc",t._key,e,n,r):iD(s,"updateDoc",t._key,e),iy(i,[o.toMutation(t._key,Rn.exists(!0))])}function gD(t){return iy(Tr(t.firestore,ko),[new Ng(t._key,Rn.none())])}function yD(t,e){const n=Tr(t.firestore,ko),r=nd(t),i=dD(t.converter,e);return iy(n,[rD(hI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Rn.exists(!1))]).then(()=>r)}function iy(t,e){return function(r,i){const s=new pr;return r.asyncQueue.enqueueAndForget(async()=>DL(await qL(r),i,s)),s.promise}(Gg(t),e)}function vD(t,e,n){const r=n.docs.get(e._key),i=new EI(t);return new _I(t,i,e._key,r,new Sa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){xo=i})(Ao),lo(new Xi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ko(new lO(r.getProvider("auth-internal")),new fO(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),si(Z0,"4.7.5",e),si(Z0,"4.7.5","esm2017")})();var _D="firebase",ED="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(_D,ED,"app");function sy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wD=wI,SI=new kl("auth","Firebase",wI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Sg("@firebase/auth");function SD(t,...e){id.logLevel<=_e.WARN&&id.warn(`Auth (${Ao}): ${t}`,...e)}function tc(t,...e){id.logLevel<=_e.ERROR&&id.error(`Auth (${Ao}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,...e){throw oy(t,...e)}function Gn(t,...e){return oy(t,...e)}function TI(t,e,n){const r=Object.assign(Object.assign({},wD()),{[e]:n});return new kl("auth","Firebase",r).create(e,{appName:t.name})}function ai(t){return TI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return SI.create(t,...e)}function le(t,e,...n){if(!t)throw oy(e,...n)}function ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tc(e),new Error(e)}function Ir(t,e){t||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TD(){return M_()==="http:"||M_()==="https:"}function M_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TD()||Uk()||"connection"in navigator)?navigator.onLine:!0}function bD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ir(n>e,"Short delay should be less than long delay!"),this.isMobile=Mk()||Bk()}get(){return ID()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t,e){Ir(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new Ml(3e4,6e4);function as(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Si(t,e,n,r,i={}){return bI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Nl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return Fk()||(c.referrerPolicy="no-referrer"),II.fetch()(AI(t,t.config.apiHost,n,a),c)})}async function bI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},AD),e);try{const i=new RD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw ku(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ku(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ku(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ku(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw TI(t,d,c);kn(t,d)}}catch(i){if(i instanceof Ar)throw i;kn(t,"network-request-failed",{message:String(i)})}}async function Jd(t,e,n,r,i={}){const s=await Si(t,e,n,r,i);return"mfaPendingCredential"in s&&kn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function AI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ay(t.config,i):`${t.config.apiScheme}://${i}`}function CD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gn(this.auth,"network-request-failed")),xD.get())})}}function ku(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gn(t,e,r);return i.customData._tokenResponse=n,i}function V_(t){return t!==void 0&&t.enterprise!==void 0}class PD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kD(t,e){return Si(t,"GET","/v2/recaptchaConfig",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){return Si(t,"POST","/v1/accounts:delete",e)}async function xI(t,e){return Si(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OD(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),i=ly(r);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ma(oh(i.auth_time)),issuedAtTime:Ma(oh(i.iat)),expirationTime:Ma(oh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function oh(t){return Number(t)*1e3}function ly(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tc("JWT malformed, contained fewer than 3 sections"),null;try{const i=HT(n);return i?JSON.parse(i):(tc("Failed to decode base64 JWT payload"),null)}catch(i){return tc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function F_(t){const e=ly(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ar&&LD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function LD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ma(this.lastLoginAt),this.creationTime=Ma(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await gl(t,xI(n,{idToken:r}));le(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?CI(s.providerUserInfo):[],a=MD(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function jD(t){const e=Dt(t);await sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CI(t){return t.map(e=>{var{providerId:n}=e,r=sy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(t,e){const n=await bI(t,{},async()=>{const r=Nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=AI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",II.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FD(t,e){return Si(t,"POST","/v2/accounts:revokeToken",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=F_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await VD(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Js;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Js,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=sy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await gl(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return OD(this,e)}reload(){return jD(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(ai(this.auth));const e=await this.getIdToken();return await gl(this,ND(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:N,isAnonymous:j,providerData:F,stsTokenManager:x}=n;le(T&&x,e,"internal-error");const S=Js.fromJSON(this.name,x);le(typeof T=="string",e,"internal-error"),Or(h,e.name),Or(p,e.name),le(typeof N=="boolean",e,"internal-error"),le(typeof j=="boolean",e,"internal-error"),Or(I,e.name),Or(y,e.name),Or(v,e.name),Or(w,e.name),Or(_,e.name),Or(E,e.name);const C=new cr({uid:T,auth:e,email:p,emailVerified:N,displayName:h,isAnonymous:j,photoURL:y,phoneNumber:I,tenantId:v,stsTokenManager:S,createdAt:_,lastLoginAt:E});return F&&Array.isArray(F)&&(C.providerData=F.map(R=>Object.assign({},R))),w&&(C._redirectEventId=w),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Js;i.updateFromServerResponse(n);const s=new cr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];le(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?CI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Js;a.updateFromIdToken(r);const l=new cr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new tm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;function dr(t){Ir(t instanceof Function,"Expected a class definition");let e=U_.get(t);return e?(Ir(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,U_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RI.type="NONE";const B_=RI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ys{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=nc(this.userKey,i.apiKey,s),this.fullPersistenceKey=nc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ys(dr(B_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||dr(B_);const o=nc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=cr._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ys(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ys(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DI(e))return"Blackberry";if(jI(e))return"Webos";if(kI(e))return"Safari";if((e.includes("chrome/")||NI(e))&&!e.includes("edge/"))return"Chrome";if(LI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PI(t=Lt()){return/firefox\//i.test(t)}function kI(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NI(t=Lt()){return/crios\//i.test(t)}function OI(t=Lt()){return/iemobile/i.test(t)}function LI(t=Lt()){return/android/i.test(t)}function DI(t=Lt()){return/blackberry/i.test(t)}function jI(t=Lt()){return/webos/i.test(t)}function uy(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UD(t=Lt()){var e;return uy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BD(){return $k()&&document.documentMode===10}function MI(t=Lt()){return uy(t)||LI(t)||jI(t)||DI(t)||/windows phone/i.test(t)||OI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e=[]){let n;switch(t){case"Browser":n=$_(Lt());break;case"Worker":n=`${$_(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(t,e={}){return Si(t,"GET","/v2/passwordPolicy",as(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=6;class KD{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:HD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z_(this),this.idTokenSubscription=new z_(this),this.beforeStateQueue=new $D(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ys.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xI(this,{idToken:e}),r=await cr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(lr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(ai(this));const n=e?Dt(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zD(this),n=new KD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Ys.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&SD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function No(t){return Dt(t)}class z_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jk(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WD(t){Yd=t}function FI(t){return Yd.loadJS(t)}function GD(){return Yd.recaptchaEnterpriseScript}function QD(){return Yd.gapiScript}function JD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class YD{constructor(){this.enterprise=new XD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class XD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZD="recaptcha-enterprise",UI="NO_RECAPTCHA";class ej{constructor(e){this.type=ZD,this.auth=No(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{kD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new PD(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;V_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(UI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YD().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&V_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=GD();l.length!==0&&(l+=a),FI(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function H_(t,e,n,r=!1,i=!1){const s=new ej(t);let o;if(i)o=UI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function K_(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await H_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await H_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(t,e){const n=Ig(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Hc(s,e??{}))return i;kn(i,"already-initialized")}return n.initialize({options:e})}function nj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(dr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function rj(t,e,n){const r=No(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=BI(e),{host:o,port:a}=ij(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),sj()}function BI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ij(t){const e=BI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:q_(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:q_(o)}}}function q_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function oj(t,e){return Si(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,e){return Jd(t,"POST","/v1/accounts:signInWithPassword",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e){return Jd(t,"POST","/v1/accounts:signInWithEmailLink",as(t,e))}async function uj(t,e){return Jd(t,"POST","/v1/accounts:signInWithEmailLink",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends cy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new yl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K_(e,n,"signInWithPassword",aj);case"emailLink":return lj(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return K_(e,r,"signUpPassword",oj);case"emailLink":return uj(e,{idToken:n,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(t,e){return Jd(t,"POST","/v1/accounts:signInWithIdp",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="http://localhost";class es extends cy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=sy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new es(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xs(e,n)}buildRequest(){const e={requestUri:cj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fj(t){const e=ya(va(t)).link,n=e?ya(va(e)).deep_link_id:null,r=ya(va(t)).deep_link_id;return(r?ya(va(r)).link:null)||r||n||e||t}class dy{constructor(e){var n,r,i,s,o,a;const l=ya(va(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=dj((i=l.mode)!==null&&i!==void 0?i:null);le(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=fj(e);try{return new dy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(e,n){return yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=dy.parseLink(n);return le(r,"argument-error"),yl._fromEmailAndCode(e,r.code,r.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends $I{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Vl{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Vl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return es._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fr.credential(n,r)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Vl{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Vl{constructor(){super("twitter.com")}static credential(e,n){return es._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await cr._fromIdTokenResponse(e,r,i),o=W_(r);return new yo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=W_(r);return new yo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function W_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od extends Ar{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,od.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new od(e,n,r,i)}}function zI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?od._fromErrorAndOperation(t,s,e,r):s})}async function hj(t,e,n=!1){const r=await gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pj(t,e,n=!1){const{auth:r}=t;if(lr(r.app))return Promise.reject(ai(r));const i="reauthenticate";try{const s=await gl(t,zI(r,i,e,t),n);le(s.idToken,r,"internal-error");const o=ly(s.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),yo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&kn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(t,e,n=!1){if(lr(t.app))return Promise.reject(ai(t));const r="signIn",i=await zI(t,r,e),s=await yo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function mj(t,e){return HI(No(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t){const e=No(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function yj(t,e,n){return lr(t.app)?Promise.reject(ai(t)):mj(Dt(t),Oo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gj(t),r})}function vj(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function _j(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function Ej(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function wj(t){return Dt(t).signOut()}const ad="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=1e3,Tj=10;class qI extends KI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);BD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Tj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Sj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qI.type="LOCAL";const Ij=qI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI extends KI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WI.type="SESSION";const GI=WI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Xd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await bj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=fy("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return window}function xj(t){Qn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){return typeof Qn().WorkerGlobalScope<"u"&&typeof Qn().importScripts=="function"}async function Cj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Pj(){return QI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="firebaseLocalStorageDb",kj=1,ld="firebaseLocalStorage",YI="fbase_key";class Fl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zd(t,e){return t.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function Nj(){const t=indexedDB.deleteDatabase(JI);return new Fl(t).toPromise()}function nm(){const t=indexedDB.open(JI,kj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ld,{keyPath:YI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ld)?e(r):(r.close(),await Nj(),e(await nm()))})})}async function G_(t,e,n){const r=Zd(t,!0).put({[YI]:e,value:n});return new Fl(r).toPromise()}async function Oj(t,e){const n=Zd(t,!1).get(e),r=await new Fl(n).toPromise();return r===void 0?null:r.value}function Q_(t,e){const n=Zd(t,!0).delete(e);return new Fl(n).toPromise()}const Lj=800,Dj=3;class XI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Dj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xd._getInstance(Pj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Cj(),!this.activeServiceWorker)return;this.sender=new Aj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await G_(e,ad,"1"),await Q_(e,ad),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>G_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Oj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Q_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Zd(i,!1).getAll();return new Fl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XI.type="LOCAL";const jj=XI;new Ml(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t,e){return e?dr(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy extends cy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Vj(t){return HI(t.auth,new hy(t),t.bypassAuthState)}function Fj(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),pj(n,new hy(t),t.bypassAuthState)}async function Uj(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),hj(n,new hy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vj;case"linkViaPopup":case"linkViaRedirect":return Uj;case"reauthViaPopup":case"reauthViaRedirect":return Fj;default:kn(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=new Ml(2e3,1e4);class Us extends ZI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Us.currentPopupAction&&Us.currentPopupAction.cancel(),Us.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const e=fy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Us.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bj.get())};e()}}Us.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j="pendingRedirect",rc=new Map;class zj extends ZI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rc.get(this.auth._key());if(!e){try{const r=await Hj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rc.set(this.auth._key(),e)}return this.bypassAuthState||rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hj(t,e){const n=Wj(e),r=qj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Kj(t,e){rc.set(t._key(),e)}function qj(t){return dr(t._redirectPersistence)}function Wj(t){return nc($j,t.config.apiKey,t.name)}async function Gj(t,e,n=!1){if(lr(t.app))return Promise.reject(ai(t));const r=No(t),i=Mj(r,e),o=await new zj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=10*60*1e3;class Jj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eb(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Qj&&this.cachedEventUids.clear(),this.cachedEventUids.has(J_(e))}saveEventToCache(e){this.cachedEventUids.add(J_(e)),this.lastProcessedEventTime=Date.now()}}function J_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Yj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e={}){return Si(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eM=/^https?/;async function tM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Xj(t);for(const n of e)try{if(nM(n))return}catch{}kn(t,"unauthorized-domain")}function nM(t){const e=em(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!eM.test(n))return!1;if(Zj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=new Ml(3e4,6e4);function Y_(){const t=Qn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function iM(t){return new Promise((e,n)=>{var r,i,s;function o(){Y_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y_(),n(Gn(t,"network-request-failed"))},timeout:rM.get()})}if(!((i=(r=Qn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Qn().gapi)===null||s===void 0)&&s.load)o();else{const a=JD("iframefcb");return Qn()[a]=()=>{gapi.load?o():n(Gn(t,"network-request-failed"))},FI(`${QD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ic=null,e})}let ic=null;function sM(t){return ic=ic||iM(t),ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=new Ml(5e3,15e3),aM="__/auth/iframe",lM="emulator/auth/iframe",uM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dM(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ay(e,lM):`https://${t.config.authDomain}/${aM}`,r={apiKey:e.apiKey,appName:t.name,v:Ao},i=cM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Nl(r).slice(1)}`}async function fM(t){const e=await sM(t),n=Qn().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:dM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Gn(t,"network-request-failed"),a=Qn().setTimeout(()=>{s(o)},oM.get());function l(){Qn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pM=500,mM=600,gM="_blank",yM="http://localhost";class X_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vM(t,e,n,r=pM,i=mM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},hM),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Lt().toLowerCase();n&&(a=NI(c)?gM:n),PI(c)&&(e=e||yM,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[I,y])=>`${p}${I}=${y},`,"");if(UD(c)&&a!=="_self")return _M(e||"",a),new X_(null);const h=window.open(e||"",a,d);le(h,t,"popup-blocked");try{h.focus()}catch{}return new X_(h)}function _M(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM="__/auth/handler",wM="emulator/auth/handler",SM=encodeURIComponent("fac");async function Z_(t,e,n,r,i,s){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ao,eventId:i};if(e instanceof $I){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Qk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Vl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${SM}=${encodeURIComponent(l)}`:"";return`${TM(t)}?${Nl(a).slice(1)}${c}`}function TM({config:t}){return t.emulator?ay(t,wM):`https://${t.authDomain}/${EM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah="webStorageSupport";class IM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GI,this._completeRedirectFn=Gj,this._overrideRedirectResult=Kj}async _openPopup(e,n,r,i){var s;Ir((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Z_(e,n,r,em(),i);return vM(e,o,fy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Z_(e,n,r,em(),i);return xj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ir(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fM(e),r=new Jj(e);return n.register("authEvent",i=>(le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ah,{type:ah},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ah];o!==void 0&&n(!!o),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=tM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MI()||kI()||uy()}}const bM=IM;var eE="@firebase/auth",tE="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CM(t){lo(new Xi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VI(t)},c=new qD(r,i,s,l);return nj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lo(new Xi("auth-internal",e=>{const n=No(e.getProvider("auth").getImmediate());return(r=>new AM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(eE,tE,xM(t)),si(eE,tE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=5*60,PM=WT("authIdTokenMaxAge")||RM;let nE=null;const kM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>PM)return;const i=n==null?void 0:n.token;nE!==i&&(nE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function NM(t=YT()){const e=Ig(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tj(t,{popupRedirectResolver:bM,persistence:[jj,Ij,GI]}),r=WT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=kM(s.toString());_j(n,o,()=>o(n.currentUser)),vj(n,a=>o(a))}}const i=KT("auth");return i&&rj(n,`http://${i}`),n}function OM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}WD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Gn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",OM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CM("Browser");const LM={apiKey:"AIzaSyC69Z9yIw8aGdRt9k4CQp8SuRpH6oJGSGI",authDomain:"webimmo-6189a.firebaseapp.com",projectId:"webimmo-6189a",storageBucket:"webimmo-6189a.firebasestorage.app",messagingSenderId:"487406344453",appId:"1:487406344453:web:38762583c738366c2bbf6c",measurementId:"G-16CV9SZ186"},tb=JT(LM),Vi=YL(tb),lh=NM(tb),DM="/assets/profile_picture-Dl6-h9h0.jpg";function rE({children:t,className:e="",variant:n="default",size:r="default",...i}){const s="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",o={default:"bg-blue-600 text-white hover:bg-blue-700",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground"},a={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"};return m.jsx("button",{className:`${s} ${o[n]} ${a[r]} ${e}`,...i,children:t})}function jM(){const[t,e]=wg({loop:!0}),[n,r]=B.useState(!1),[i,s]=B.useState(!1),[o,a]=B.useState([]),l=B.useCallback(()=>e&&e.scrollPrev(),[e]),c=B.useCallback(()=>e&&e.scrollNext(),[e]),d=B.useCallback(()=>{e&&(r(e.canScrollPrev()),s(e.canScrollNext()))},[e]);return B.useEffect(()=>{(async()=>{try{const I=(await ry(td(Vi,"houses"))).docs.map(y=>{const v=y.data();return{id:v.id,imageUrl:v.image}});a(I)}catch(p){console.error("Erreur lors de la récupération des données :",p)}})()},[]),B.useEffect(()=>{e&&(d(),e.on("select",d))},[e,d]),B.useEffect(()=>{if(!e)return;const h=setInterval(()=>{e.scrollNext()},5e3);return()=>clearInterval(h)},[e]),m.jsx("div",{className:"flex flex-col min-h-screen",children:m.jsxs("main",{className:"flex-grow",children:[m.jsxs("section",{className:"py-16 px-4 md:px-8 max-w-5xl mx-auto",children:[m.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"À propos de moi"}),m.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[m.jsx("img",{src:DM,alt:"Elise BUIL",className:"w-64 h-64 rounded-full object-cover"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-lg mb-4",children:"Bien plus qu'un métier, une véritable passion!"}),m.jsx("p",{className:"text-lg mb-4",children:"Riche d’une forte expérience dans le secteur de l’immobilier, je mets mon expertise à votre service pour vous accompagner dans toutes vos démarches liées à la vente de votre bien. Je mets un point d’honneur à développer une véritable relation basée sur l’écoute et le respect de vos besoins."}),m.jsx("p",{className:"text-lg mb-4",children:"Issue d'une formation juridique en droit immobilier, je vous propose un accompagnement spécialisé dans la concrétisation de vos projets immobiliers, notamment en proposant la rédaction du compromis de vente en collaboration avec votre notaire , vous faisant ainsi bénéficier d'un temps précieux."}),m.jsx("p",{className:"text-lg mb-4",children:"Mon service de vente immobilière se distingue par une approche unique alliant expertise juridique et authentique relation d’échanges."}),m.jsxs("p",{className:"text-lg mb-4",children:["N'hésitez pas à prendre contact avec moi pour échanger sur vos projets, je me ferai un plaisir de pouvoir répondre à vos questions.",m.jsx("br",{})," Ensemble, construisons une relation solide et fiable pour mener à bien votre vente immobilière en toute sécurité!              "]}),m.jsx("p",{className:"text-lg",children:"Au plaisir de vous rencontrer,"}),m.jsx("div",{className:"mt-12",children:m.jsx("a",{href:"/NomPrenom",className:"mx-auto inline-block bg-blue-600 text-white text-lg font-medium py-3 px-8 rounded-lg shadow hover:bg-blue-700 transition duration-300",children:"Contactez-moi dès aujourd'hui"})})]})]})]}),m.jsx("section",{className:"bg-white",children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"embla overflow-hidden",ref:t,children:m.jsx("div",{className:"embla__container flex",children:o.map(h=>m.jsx("div",{className:"embla__slide flex-[0_0_100%] min-w-0",children:m.jsx("img",{src:h.imageUrl,alt:`Maison ${h.id}`,className:"w-full h-[calc(100vh-64px)] object-cover"})},h.id))})}),m.jsx(rE,{variant:"outline",size:"icon",onClick:l,disabled:!n,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-50 hover:bg-opacity-75",children:m.jsx(MT,{className:"h-6 w-6"})}),m.jsx(rE,{variant:"outline",size:"icon",onClick:c,disabled:!i,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-50 hover:bg-opacity-75",children:m.jsx(mk,{className:"h-6 w-6"})})]})}),m.jsx("section",{className:"my-12 flex justify-center",children:m.jsx("div",{className:"",children:m.jsx("a",{href:"/Acheter",className:"mx-auto inline-block bg-blue-600 text-white text-lg font-medium py-3 px-8 rounded-lg shadow hover:bg-blue-700 transition duration-300",children:"Voir tous nos biens disponibles"})})})]})})}function MM(){return m.jsx("h1",{children:"404 - Page Not Found"})}const vl={_origin:"https://api.emailjs.com"},VM=(t,e="https://api.emailjs.com")=>{vl._userID=t,vl._origin=e},nb=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class iE{constructor(e){this.status=e.status,this.text=e.responseText}}const rb=(t,e,n={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new iE(o);a.status===200||a.text==="OK"?r(a):i(a)}),s.addEventListener("error",({target:o})=>{i(new iE(o))}),s.open("POST",vl._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),FM=(t,e,n,r)=>{const i=r||vl._userID;return nb(i,t,e),rb("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},UM=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},BM=(t,e,n,r)=>{const i=r||vl._userID,s=UM(n);nb(i,t,e);const o=new FormData(s);return o.append("lib_version","3.2.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",i),rb("/api/v1.0/email/send-form",o)},ud={init:VM,send:FM,sendForm:BM};function $M(){const[t,e]=B.useState({name:"",surname:"",phone:"",email:"",project:"",availability:""}),[n,r]=B.useState(!1),i=a=>{const{name:l,value:c}=a.target;e(d=>({...d,[l]:c}))},s=a=>{a.preventDefault(),ud.send("service_ygysf6c","template_tvk3cpa",t,"3Q6blDIxCWaiJ9nvg").then(h=>{console.log("Email sent successfully:",h.text),r(!0)},h=>{console.error("Failed to send email:",h.text)})},o=()=>{r(!1),e({name:"",surname:"",phone:"",email:"",project:"",availability:""})};return m.jsx("div",{className:"min-h-screen bg-gray-100 p-4 flex items-center justify-center",children:m.jsxs("div",{className:"w-full max-w-5xl bg-white rounded-xl shadow-xl overflow-hidden flex flex-col lg:flex-row",style:{maxHeight:"95vh"},children:[m.jsxs("div",{className:"lg:w-2/5 p-6 bg-indigo-600 text-white flex flex-col justify-center",children:[m.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Vendez Votre Bien"}),m.jsx("p",{className:"text-lg mb-6",children:"Obtenez une estimation gratuite dès aujourd'hui"}),m.jsxs("ul",{className:"space-y-3 text-base",children:[m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Analyse de marché experte"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Stratégie de vente personnalisée"]}),m.jsxs("li",{className:"flex items-center",children:[m.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Accompagnement commercial, administratif et juridique"]})]})]}),n?m.jsx("div",{className:"w-2/4 mx-auto",children:m.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[m.jsx("p",{className:"text-xl text-center mb-6",children:"Merci de votre confiance, nos experts reviennent vers vous d'ici 48 heures maximum"}),m.jsx("button",{onClick:o,className:"w-full max-w-md flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out",children:"Je veux obtenir une autre estimation"})]})}):m.jsxs("form",{onSubmit:s,className:"lg:w-3/5 p-6 space-y-4 overflow-y-auto",children:[m.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-base font-medium text-gray-700 mb-1",children:"Prénom"}),m.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:t.name,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",placeholder:"Jean"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"surname",className:"block text-base font-medium text-gray-700 mb-1",children:"Nom de famille"}),m.jsx("input",{type:"text",id:"surname",name:"surname",required:!0,value:t.surname,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",placeholder:"Dupont"})]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"phone",className:"block text-base font-medium text-gray-700 mb-1",children:"Numéro de téléphone"}),m.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,value:t.phone,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",placeholder:"06 12 34 56 78"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-base font-medium text-gray-700 mb-1",children:"Email"}),m.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:t.email,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",placeholder:"jean.dupont@exemple.com"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"project",className:"block text-base font-medium text-gray-700 mb-1",children:"Votre Projet Immobilier"}),m.jsx("textarea",{id:"project",name:"project",required:!0,rows:3,value:t.project,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",placeholder:"Décrivez votre projet immobilier (par exemple, vendre une maison de 3 chambres, rechercher un bien d'investissement)"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"availability",className:"block text-base font-medium text-gray-700 mb-1",children:"Vos Disponibilités"}),m.jsx("textarea",{id:"availability",name:"availability",required:!0,rows:3,value:t.availability,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",placeholder:"Par exemple, en semaine après 17h, week-ends de 9h à 17h"})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out",children:"Obtenez Votre Estimation Gratuite"})})]})]})})}const zM=()=>{const[t,e]=B.useState(!1),n=()=>e(!t);return m.jsx("header",{className:"sticky top-0 bg-white p-4 border-b border-gray-200 z-50",children:m.jsxs("nav",{className:"container mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("div",{className:"font-bold text-lg",children:m.jsx(Kt,{to:"/",children:"Votre solution clé en main !"})}),m.jsx("button",{onClick:n,className:"md:hidden",children:t?m.jsx(BT,{className:"h-6 w-6"}):m.jsx(_k,{className:"h-6 w-6"})}),m.jsx("div",{className:"hidden md:flex items-center space-x-6",children:m.jsx(sE,{})})]}),t&&m.jsx("div",{className:"md:hidden mt-4 space-y-4",children:m.jsx(sE,{})})]})})},sE=()=>m.jsxs(m.Fragment,{children:[m.jsx(Kt,{to:"/Vendre",className:"block text-black hover:text-gray-700",children:"Vendre"}),m.jsx(Kt,{to:"/Acheter",className:"block text-black hover:text-gray-700",children:"Acheter"}),m.jsx(Kt,{to:"/Blog",className:"block text-black hover:text-gray-700",children:"Actualités"}),m.jsx(Kt,{to:"/NomPrenom",className:"block text-black hover:text-gray-700",children:"Elise BUIL"}),m.jsxs("a",{href:"tel:+590690590565",className:"block text-black hover:text-gray-700",children:[m.jsx("span",{className:"md:hidden",children:"Appeler"}),m.jsx("span",{className:"hidden md:inline",children:"+590 690 590 565"}),m.jsx(UT,{className:"inline-block ml-2 h-4 w-4 md:hidden"})]}),m.jsx(Kt,{to:"/Gestion",className:"block text-black hover:text-gray-700",children:"mon compte"}),m.jsx(Kt,{to:"/Estimation",className:"block bg-black text-white px-4 py-2 rounded-lg font-bold hover:bg-gray-800 transition-colors text-center",children:"Estimer votre bien"})]});function HM(){return m.jsx("footer",{className:"bg-gray-800 text-white py-8",children:m.jsxs("div",{className:"container mx-auto px-4",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:"investimmo"}),m.jsx("p",{className:"text-sm",children:"Votre partenaire de confiance en immobilier"})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Navigation"}),m.jsxs("ul",{className:"space-y-2",children:[m.jsx("li",{children:m.jsx(Kt,{to:"/Vendre",className:"text-sm hover:underline",children:"Vendre"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/Acheter",className:"text-sm hover:underline",children:"Acheter"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/Blog",className:"text-sm hover:underline",children:"Nos guides"})}),m.jsx("li",{children:m.jsx(Kt,{to:"/NomPrenom",className:"text-sm hover:underline",children:"Nom Prenom"})})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contactez-nous"}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(UT,{className:"h-4 w-4 mr-2"}),m.jsx("a",{href:"tel:+33789985632",className:"text-sm hover:underline",children:"+33 7 89 98 56 32"})]}),m.jsx(Kt,{to:"/Estimation",className:"inline-block mt-4 bg-white text-black px-4 py-2 rounded-lg font-bold hover:bg-gray-200 transition-colors text-center",children:"Estimer votre bien"})]})]}),m.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-700 text-center text-sm",children:["© ",new Date().getFullYear()," investimmo. Tous droits réservés."]})]})})}const KM=()=>{const{id:t}=iP(),[e,n]=B.useState(null);return B.useEffect(()=>{(async()=>{if(!t)return;const i=nd(Vi,"houses",t),s=await pD(i);s.exists()?n({id:s.id,...s.data()}):n(null)})()},[t]),e?m.jsx("div",{className:"min-h-screen bg-gray-100 p-4 md:p-8",children:m.jsx("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:m.jsxs("div",{className:"p-6",children:[m.jsxs(Kt,{to:"/Acheter",className:"inline-flex items-center text-violet-600 hover:text-violet-800 mb-4",children:[m.jsx(hk,{className:"w-4 h-4 mr-2"}),"Retour à la liste"]}),m.jsx("h1",{className:"text-3xl font-bold mb-4",children:e.title}),m.jsx("img",{src:e.image,alt:e.title,className:"w-full h-64 object-cover rounded-lg mb-6"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Détails de la propriété"}),m.jsxs("ul",{className:"space-y-2",children:[m.jsxs("li",{children:[m.jsx("strong",{children:"Prix:"})," ",(()=>{const r=e.price.replace(/[^0-9.-]+/g,""),i=Number(r);return isNaN(i)?"Invalid price":i.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0})})()]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Taille:"})," ",e.size," m²"]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Type:"})," ",e.type]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Pièces:"})," ",e.rooms]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Chambres:"})," ",e.bedrooms]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Salles de bain:"})," ",e.bathrooms]}),m.jsxs("li",{children:[m.jsx("strong",{children:"Localisation:"})," ",e.location]})]})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Commodités"}),m.jsx("ul",{className:"space-y-2",children:e.amenities.map((r,i)=>m.jsx("li",{className:"inline-block bg-gray-100 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2",children:r},i))})]})]}),m.jsxs("div",{className:"mt-6",children:[m.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Description"}),m.jsx("p",{className:"text-gray-700",children:e.description})]})]})})}):m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Chargement..."})};function qM(){const[t,e]=B.useState([]),[n,r]=B.useState([]),[i,s]=B.useState({location:"",maxPrice:1e8,minSize:0,propertyTypes:[],rooms:"0",bedrooms:"0",bathrooms:"0",amenities:[],condition:"all"}),[o,a]=B.useState(!1);B.useEffect(()=>{(async()=>{const w=td(Vi,"houses"),E=(await ry(w)).docs.map(T=>({...T.data(),id:T.id}));e(E)})()},[]),B.useEffect(()=>{const v=t.filter(w=>(i.condition==="all"||w.condition===i.condition)&&parseInt(w.price)<=i.maxPrice&&parseInt(w.size)>=i.minSize&&(i.propertyTypes.length===0||i.propertyTypes.includes(w.type))&&parseInt(w.rooms)>=parseInt(i.rooms)&&parseInt(w.bedrooms)>=parseInt(i.bedrooms)&&parseInt(w.bathrooms)>=parseInt(i.bathrooms)&&(i.amenities.length===0||i.amenities.every(_=>w.amenities.includes(_)))&&(i.location===""||w.location.toLowerCase().includes(i.location.toLowerCase())));r(v)},[t,i]);const l=v=>{const{name:w,value:_}=v.target;s(E=>({...E,[w]:w==="maxPrice"||w==="minSize"?parseInt(_):_}))},c=(v,w)=>{s(_=>({..._,[v]:Array.isArray(_[v])?_[v].includes(w)?_[v].filter(E=>E!==w):[..._[v],w]:_[v]}))},d=v=>{switch(v){case"vendu":return"bg-red-500 text-white";case"sous compromis":return"bg-yellow-500 text-black";default:return"bg-green-500 text-white"}},h=v=>{switch(v){case"vendu":return"VENDU";case"sous compromis":return"SOUS COMPROMIS";default:return"DISPONIBLE"}},p=[{value:"appartement",label:"Appartement"},{value:"maison",label:"Maison"},{value:"local commercial",label:"Local commercial"},{value:"terrain",label:"Terrain"}],I=[{value:"piscine",label:"Piscine"},{value:"parking",label:"Parking"},{value:"cave",label:"Cave"},{value:"belle vue",label:"Belle vue"},{value:"ascenseur",label:"Ascenseur"}],y=["all","disponible","sous compromis","vendu"];return m.jsx("div",{className:"min-h-screen bg-gray-100 p-4 md:p-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Disponible à la vente"}),m.jsxs("button",{onClick:()=>a(!o),className:"bg-violet-600 text-white py-2 px-4 rounded-lg text-sm font-semibold hover:bg-violet-700 transition-colors duration-200 flex items-center",children:[o?m.jsx(BT,{className:"mr-2"}):m.jsx(Sk,{className:"mr-2"}),o?"Fermer les filtres":"Afficher les filtres"]})]}),m.jsx("div",{className:"flex justify-center space-x-4 mb-6",children:y.map(v=>m.jsx("button",{onClick:()=>s(w=>({...w,condition:v})),className:`py-2 px-4 rounded-lg text-sm font-semibold transition-colors duration-200 ${i.condition===v?"bg-violet-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:v==="all"?"Tous":v.charAt(0).toUpperCase()+v.slice(1)},v))}),o&&m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Localisation"}),m.jsx("input",{id:"location",name:"location",type:"text",value:i.location,onChange:l,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"maxPrice",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix Maximum"}),m.jsx("input",{id:"maxPrice",name:"maxPrice",type:"number",value:i.maxPrice,onChange:l,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"minSize",className:"block text-sm font-medium text-gray-700 mb-1",children:"Taille Minimum (m²)"}),m.jsx("input",{id:"minSize",name:"minSize",type:"number",value:i.minSize,onChange:l,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de Propriété"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(v=>m.jsx("button",{type:"button",onClick:()=>c("propertyTypes",v.value),className:`py-1 px-3 rounded-full text-xs font-medium transition-colors duration-200 ${i.propertyTypes.includes(v.value)?"bg-violet-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v.label},v.value))})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"rooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de Pièces minimum"}),m.jsx("select",{id:"rooms",name:"rooms",value:i.rooms,onChange:l,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none",children:[1,2,3,4,5,"6+"].map(v=>m.jsxs("option",{value:v.toString(),children:[v," ",v===1?"pièce":"pièces"]},v))})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de chambres minimum"}),m.jsx("select",{id:"bedrooms",name:"bedrooms",value:i.bedrooms,onChange:l,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none",children:[1,2,3,4,5,"6+"].map(v=>m.jsxs("option",{value:v.toString(),children:[v," ",v===1?"chambre":"chambres"]},v))})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de salles de bain minimum"}),m.jsx("select",{id:"bathrooms",name:"bathrooms",value:i.bathrooms,onChange:l,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none",children:[1,2,3,4,"5+"].map(v=>m.jsxs("option",{value:v.toString(),children:[v," ",v===1?"salle de bain":"salles de bain"]},v))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Commodités"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(v=>m.jsx("button",{type:"button",onClick:()=>c("amenities",v.value),className:`py-1 px-3 rounded-full text-xs font-medium transition-colors duration-200 ${i.amenities.includes(v.value)?"bg-violet-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v.label},v.value))})]})]}),n.length===0?m.jsx("p",{children:"Aucune propriété ne correspond à vos critères."}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(v=>m.jsxs(Kt,{to:`/house/${v.id}`,className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[m.jsx("div",{className:"relative",children:m.jsx("img",{src:v.image,alt:v.title,className:"w-full h-48 object-cover"})}),m.jsxs("div",{className:"p-4",children:[m.jsx("h3",{className:"text-lg font-semibold mb-2",children:v.title}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("p",{className:"text-gray-600",children:v.location}),m.jsx("div",{className:`m-1 px-2 py-1 rounded-full text-xs font-bold ${d(v.condition)}`,children:h(v.condition)})]}),m.jsx("p",{className:"text-violet-600 font-bold mb-2",children:(()=>{const w=v.price.replace(/[^0-9.-]+/g,""),_=Number(w);return isNaN(_)?"Invalid price":_.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0})})()}),m.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[m.jsxs("span",{children:[v.size," m²"]}),m.jsxs("span",{children:[v.rooms," pièces"]}),m.jsxs("span",{children:[v.bedrooms," ch."]}),m.jsxs("span",{children:[v.bathrooms," sdb."]})]}),m.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:v.amenities.map(w=>m.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded",children:w},w))})]})]},v.id))})]})})}function ib(t,e){return function(){return t.apply(e,arguments)}}const{toString:WM}=Object.prototype,{getPrototypeOf:py}=Object,ef=(t=>e=>{const n=WM.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Nn=t=>(t=t.toLowerCase(),e=>ef(e)===t),tf=t=>e=>typeof e===t,{isArray:Lo}=Array,_l=tf("undefined");function GM(t){return t!==null&&!_l(t)&&t.constructor!==null&&!_l(t.constructor)&&an(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const sb=Nn("ArrayBuffer");function QM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&sb(t.buffer),e}const JM=tf("string"),an=tf("function"),ob=tf("number"),nf=t=>t!==null&&typeof t=="object",YM=t=>t===!0||t===!1,sc=t=>{if(ef(t)!=="object")return!1;const e=py(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},XM=Nn("Date"),ZM=Nn("File"),eV=Nn("Blob"),tV=Nn("FileList"),nV=t=>nf(t)&&an(t.pipe),rV=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||an(t.append)&&((e=ef(t))==="formdata"||e==="object"&&an(t.toString)&&t.toString()==="[object FormData]"))},iV=Nn("URLSearchParams"),[sV,oV,aV,lV]=["ReadableStream","Request","Response","Headers"].map(Nn),uV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ul(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Lo(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function ab(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Fi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,lb=t=>!_l(t)&&t!==Fi;function rm(){const{caseless:t}=lb(this)&&this||{},e={},n=(r,i)=>{const s=t&&ab(e,i)||i;sc(e[s])&&sc(r)?e[s]=rm(e[s],r):sc(r)?e[s]=rm({},r):Lo(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ul(arguments[r],n);return e}const cV=(t,e,n,{allOwnKeys:r}={})=>(Ul(e,(i,s)=>{n&&an(i)?t[s]=ib(i,n):t[s]=i},{allOwnKeys:r}),t),dV=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),fV=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},hV=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&py(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},pV=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},mV=t=>{if(!t)return null;if(Lo(t))return t;let e=t.length;if(!ob(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},gV=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&py(Uint8Array)),yV=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},vV=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},_V=Nn("HTMLFormElement"),EV=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),oE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),wV=Nn("RegExp"),ub=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ul(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},SV=t=>{ub(t,(e,n)=>{if(an(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(an(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},TV=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Lo(t)?r(t):r(String(t).split(e)),n},IV=()=>{},bV=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,uh="abcdefghijklmnopqrstuvwxyz",aE="0123456789",cb={DIGIT:aE,ALPHA:uh,ALPHA_DIGIT:uh+uh.toUpperCase()+aE},AV=(t=16,e=cb.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function xV(t){return!!(t&&an(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const CV=t=>{const e=new Array(10),n=(r,i)=>{if(nf(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Lo(r)?[]:{};return Ul(r,(o,a)=>{const l=n(o,i+1);!_l(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},RV=Nn("AsyncFunction"),PV=t=>t&&(nf(t)||an(t))&&an(t.then)&&an(t.catch),db=((t,e)=>t?setImmediate:e?((n,r)=>(Fi.addEventListener("message",({source:i,data:s})=>{i===Fi&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Fi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",an(Fi.postMessage)),kV=typeof queueMicrotask<"u"?queueMicrotask.bind(Fi):typeof process<"u"&&process.nextTick||db,V={isArray:Lo,isArrayBuffer:sb,isBuffer:GM,isFormData:rV,isArrayBufferView:QM,isString:JM,isNumber:ob,isBoolean:YM,isObject:nf,isPlainObject:sc,isReadableStream:sV,isRequest:oV,isResponse:aV,isHeaders:lV,isUndefined:_l,isDate:XM,isFile:ZM,isBlob:eV,isRegExp:wV,isFunction:an,isStream:nV,isURLSearchParams:iV,isTypedArray:gV,isFileList:tV,forEach:Ul,merge:rm,extend:cV,trim:uV,stripBOM:dV,inherits:fV,toFlatObject:hV,kindOf:ef,kindOfTest:Nn,endsWith:pV,toArray:mV,forEachEntry:yV,matchAll:vV,isHTMLForm:_V,hasOwnProperty:oE,hasOwnProp:oE,reduceDescriptors:ub,freezeMethods:SV,toObjectSet:TV,toCamelCase:EV,noop:IV,toFiniteNumber:bV,findKey:ab,global:Fi,isContextDefined:lb,ALPHABET:cb,generateString:AV,isSpecCompliantForm:xV,toJSONObject:CV,isAsyncFn:RV,isThenable:PV,setImmediate:db,asap:kV};function fe(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}V.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const fb=fe.prototype,hb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{hb[t]={value:t}});Object.defineProperties(fe,hb);Object.defineProperty(fb,"isAxiosError",{value:!0});fe.from=(t,e,n,r,i,s)=>{const o=Object.create(fb);return V.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),fe.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const NV=null;function im(t){return V.isPlainObject(t)||V.isArray(t)}function pb(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function lE(t,e,n){return t?t.concat(e).map(function(i,s){return i=pb(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function OV(t){return V.isArray(t)&&!t.some(im)}const LV=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function rf(t,e,n){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!V.isUndefined(w[v])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(i))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(V.isDate(y))return y.toISOString();if(!l&&V.isBlob(y))throw new fe("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(y)||V.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,v,w){let _=y;if(y&&!w&&typeof y=="object"){if(V.endsWith(v,"{}"))v=r?v:v.slice(0,-2),y=JSON.stringify(y);else if(V.isArray(y)&&OV(y)||(V.isFileList(y)||V.endsWith(v,"[]"))&&(_=V.toArray(y)))return v=pb(v),_.forEach(function(T,N){!(V.isUndefined(T)||T===null)&&e.append(o===!0?lE([v],N,s):o===null?v:v+"[]",c(T))}),!1}return im(y)?!0:(e.append(lE(w,v,s),c(y)),!1)}const h=[],p=Object.assign(LV,{defaultVisitor:d,convertValue:c,isVisitable:im});function I(y,v){if(!V.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(y),V.forEach(y,function(_,E){(!(V.isUndefined(_)||_===null)&&i.call(e,_,V.isString(E)?E.trim():E,v,p))===!0&&I(_,v?v.concat(E):[E])}),h.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return I(t),e}function uE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function my(t,e){this._pairs=[],t&&rf(t,this,e)}const mb=my.prototype;mb.append=function(e,n){this._pairs.push([e,n])};mb.toString=function(e){const n=e?function(r){return e.call(this,r,uE)}:uE;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function DV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gb(t,e,n){if(!e)return t;const r=n&&n.encode||DV;V.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=V.isURLSearchParams(e)?e.toString():new my(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class cE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(r){r!==null&&e(r)})}}const yb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jV=typeof URLSearchParams<"u"?URLSearchParams:my,MV=typeof FormData<"u"?FormData:null,VV=typeof Blob<"u"?Blob:null,FV={isBrowser:!0,classes:{URLSearchParams:jV,FormData:MV,Blob:VV},protocols:["http","https","file","blob","url","data"]},gy=typeof window<"u"&&typeof document<"u",sm=typeof navigator=="object"&&navigator||void 0,UV=gy&&(!sm||["ReactNative","NativeScript","NS"].indexOf(sm.product)<0),BV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$V=gy&&window.location.href||"http://localhost",zV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gy,hasStandardBrowserEnv:UV,hasStandardBrowserWebWorkerEnv:BV,navigator:sm,origin:$V},Symbol.toStringTag,{value:"Module"})),Nt={...zV,...FV};function HV(t,e){return rf(t,new Nt.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Nt.isNode&&V.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function KV(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function qV(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function vb(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&V.isArray(i)?i.length:o,l?(V.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!V.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&V.isArray(i[o])&&(i[o]=qV(i[o])),!a)}if(V.isFormData(t)&&V.isFunction(t.entries)){const n={};return V.forEachEntry(t,(r,i)=>{e(KV(r),i,n,0)}),n}return null}function WV(t,e,n){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Bl={transitional:yb,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=V.isObject(e);if(s&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return i?JSON.stringify(vb(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return HV(e,this.formSerializer).toString();if((a=V.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return rf(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),WV(e)):e}],transformResponse:[function(e){const n=this.transitional||Bl.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?fe.from(a,fe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nt.classes.FormData,Blob:Nt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{Bl.headers[t]={}});const GV=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QV=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&GV[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},dE=Symbol("internals");function la(t){return t&&String(t).trim().toLowerCase()}function oc(t){return t===!1||t==null?t:V.isArray(t)?t.map(oc):String(t)}function JV(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const YV=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ch(t,e,n,r,i){if(V.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!V.isString(e)){if(V.isString(r))return e.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(e)}}function XV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function ZV(t,e){const n=V.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Jt=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const d=la(l);if(!d)throw new Error("header name must be a non-empty string");const h=V.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=oc(a))}const o=(a,l)=>V.forEach(a,(c,d)=>s(c,d,l));if(V.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(V.isString(e)&&(e=e.trim())&&!YV(e))o(QV(e),n);else if(V.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=la(e),e){const r=V.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return JV(i);if(V.isFunction(n))return n.call(this,i,r);if(V.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=la(e),e){const r=V.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||ch(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=la(o),o){const a=V.findKey(r,o);a&&(!n||ch(r,r[a],a,n))&&(delete r[a],i=!0)}}return V.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||ch(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return V.forEach(this,(i,s)=>{const o=V.findKey(r,s);if(o){n[o]=oc(i),delete n[s];return}const a=e?XV(s):String(s).trim();a!==s&&delete n[s],n[a]=oc(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return V.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&V.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[dE]=this[dE]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=la(o);r[a]||(ZV(i,o),r[a]=!0)}return V.isArray(e)?e.forEach(s):s(e),this}};Jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(Jt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});V.freezeMethods(Jt);function dh(t,e){const n=this||Bl,r=e||n,i=Jt.from(r.headers);let s=r.data;return V.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function _b(t){return!!(t&&t.__CANCEL__)}function Do(t,e,n){fe.call(this,t??"canceled",fe.ERR_CANCELED,e,n),this.name="CanceledError"}V.inherits(Do,fe,{__CANCEL__:!0});function Eb(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new fe("Request failed with status code "+n.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function e4(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function t4(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[s];o||(o=c),n[i]=l,r[i]=c;let h=s,p=0;for(;h!==i;)p+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const I=d&&c-d;return I?Math.round(p*1e3/I):void 0}}function n4(t,e){let n=0,r=1e3/e,i,s;const o=(c,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),h=d-n;h>=r?o(c,d):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const cd=(t,e,n=3)=>{let r=0;const i=t4(50,250);return n4(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},fE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},hE=t=>(...e)=>V.asap(()=>t(...e)),r4=Nt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Nt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Nt.origin),Nt.navigator&&/(msie|trident)/i.test(Nt.navigator.userAgent)):()=>!0,i4=Nt.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];V.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),V.isString(r)&&o.push("path="+r),V.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function s4(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function o4(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function wb(t,e){return t&&!s4(e)?o4(t,e):e}const pE=t=>t instanceof Jt?{...t}:t;function ts(t,e){e=e||{};const n={};function r(c,d,h,p){return V.isPlainObject(c)&&V.isPlainObject(d)?V.merge.call({caseless:p},c,d):V.isPlainObject(d)?V.merge({},d):V.isArray(d)?d.slice():d}function i(c,d,h,p){if(V.isUndefined(d)){if(!V.isUndefined(c))return r(void 0,c,h,p)}else return r(c,d,h,p)}function s(c,d){if(!V.isUndefined(d))return r(void 0,d)}function o(c,d){if(V.isUndefined(d)){if(!V.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,h){if(h in e)return r(c,d);if(h in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,h)=>i(pE(c),pE(d),h,!0)};return V.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||i,p=h(t[d],e[d],d);V.isUndefined(p)&&h!==a||(n[d]=p)}),n}const Sb=t=>{const e=ts({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Jt.from(o),e.url=gb(wb(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(V.isFormData(n)){if(Nt.hasStandardBrowserEnv||Nt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Nt.hasStandardBrowserEnv&&(r&&V.isFunction(r)&&(r=r(e)),r||r!==!1&&r4(e.url))){const c=i&&s&&i4.read(s);c&&o.set(i,c)}return e},a4=typeof XMLHttpRequest<"u",l4=a4&&function(t){return new Promise(function(n,r){const i=Sb(t);let s=i.data;const o=Jt.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,d,h,p,I,y;function v(){I&&I(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function _(){if(!w)return;const T=Jt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),j={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:T,config:t,request:w};Eb(function(x){n(x),v()},function(x){r(x),v()},j),w=null}"onloadend"in w?w.onloadend=_:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(_)},w.onabort=function(){w&&(r(new fe("Request aborted",fe.ECONNABORTED,t,w)),w=null)},w.onerror=function(){r(new fe("Network Error",fe.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||yb;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),r(new fe(N,j.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,t,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&V.forEach(o.toJSON(),function(N,j){w.setRequestHeader(j,N)}),V.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),c&&([p,y]=cd(c,!0),w.addEventListener("progress",p)),l&&w.upload&&([h,I]=cd(l),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",I)),(i.cancelToken||i.signal)&&(d=T=>{w&&(r(!T||T.type?new Do(null,t,w):T),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const E=e4(i.url);if(E&&Nt.protocols.indexOf(E)===-1){r(new fe("Unsupported protocol "+E+":",fe.ERR_BAD_REQUEST,t));return}w.send(s||null)})},u4=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof fe?d:new Do(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new fe(`timeout ${e} of ms exceeded`,fe.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>V.asap(a),l}},c4=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},d4=async function*(t,e){for await(const n of f4(t))yield*c4(n,e)},f4=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},mE=(t,e,n,r)=>{const i=d4(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){a(),l.close();return}let h=d.byteLength;if(n){let p=s+=h;n(p)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},sf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Tb=sf&&typeof ReadableStream=="function",h4=sf&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Ib=(t,...e)=>{try{return!!t(...e)}catch{return!1}},p4=Tb&&Ib(()=>{let t=!1;const e=new Request(Nt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),gE=64*1024,om=Tb&&Ib(()=>V.isReadableStream(new Response("").body)),dd={stream:om&&(t=>t.body)};sf&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!dd[e]&&(dd[e]=V.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new fe(`Response type '${e}' is not supported`,fe.ERR_NOT_SUPPORT,r)})})})(new Response);const m4=async t=>{if(t==null)return 0;if(V.isBlob(t))return t.size;if(V.isSpecCompliantForm(t))return(await new Request(Nt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(V.isArrayBufferView(t)||V.isArrayBuffer(t))return t.byteLength;if(V.isURLSearchParams(t)&&(t=t+""),V.isString(t))return(await h4(t)).byteLength},g4=async(t,e)=>{const n=V.toFiniteNumber(t.getContentLength());return n??m4(e)},y4=sf&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:p}=Sb(t);c=c?(c+"").toLowerCase():"text";let I=u4([i,s&&s.toAbortSignal()],o),y;const v=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let w;try{if(l&&p4&&n!=="get"&&n!=="head"&&(w=await g4(d,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),F;if(V.isFormData(r)&&(F=j.headers.get("content-type"))&&d.setContentType(F),j.body){const[x,S]=fE(w,cd(hE(l)));r=mE(j.body,gE,x,S)}}V.isString(h)||(h=h?"include":"omit");const _="credentials"in Request.prototype;y=new Request(e,{...p,signal:I,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:_?h:void 0});let E=await fetch(y);const T=om&&(c==="stream"||c==="response");if(om&&(a||T&&v)){const j={};["status","statusText","headers"].forEach(C=>{j[C]=E[C]});const F=V.toFiniteNumber(E.headers.get("content-length")),[x,S]=a&&fE(F,cd(hE(a),!0))||[];E=new Response(mE(E.body,gE,x,()=>{S&&S(),v&&v()}),j)}c=c||"text";let N=await dd[V.findKey(dd,c)||"text"](E,t);return!T&&v&&v(),await new Promise((j,F)=>{Eb(j,F,{data:N,headers:Jt.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:y})})}catch(_){throw v&&v(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,t,y),{cause:_.cause||_}):fe.from(_,_&&_.code,t,y)}}),am={http:NV,xhr:l4,fetch:y4};V.forEach(am,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const yE=t=>`- ${t}`,v4=t=>V.isFunction(t)||t===null||t===!1,bb={getAdapter:t=>{t=V.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!v4(n)&&(r=am[(o=String(n)).toLowerCase()],r===void 0))throw new fe(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(yE).join(`
`):" "+yE(s[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:am};function fh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Do(null,t)}function vE(t){return fh(t),t.headers=Jt.from(t.headers),t.data=dh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),bb.getAdapter(t.adapter||Bl.adapter)(t).then(function(r){return fh(t),r.data=dh.call(t,t.transformResponse,r),r.headers=Jt.from(r.headers),r},function(r){return _b(r)||(fh(t),r&&r.response&&(r.response.data=dh.call(t,t.transformResponse,r.response),r.response.headers=Jt.from(r.response.headers))),Promise.reject(r)})}const Ab="1.7.9",of={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{of[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const _E={};of.transitional=function(e,n,r){function i(s,o){return"[Axios v"+Ab+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new fe(i(o," has been removed"+(n?" in "+n:"")),fe.ERR_DEPRECATED);return n&&!_E[o]&&(_E[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};of.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function _4(t,e,n){if(typeof t!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new fe("option "+s+" must be "+l,fe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new fe("Unknown option "+s,fe.ERR_BAD_OPTION)}}const ac={assertOptions:_4,validators:of},Dn=ac.validators;let Hi=class{constructor(e){this.defaults=e,this.interceptors={request:new cE,response:new cE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ts(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&ac.assertOptions(r,{silentJSONParsing:Dn.transitional(Dn.boolean),forcedJSONParsing:Dn.transitional(Dn.boolean),clarifyTimeoutError:Dn.transitional(Dn.boolean)},!1),i!=null&&(V.isFunction(i)?n.paramsSerializer={serialize:i}:ac.assertOptions(i,{encode:Dn.function,serialize:Dn.function},!0)),ac.assertOptions(n,{baseUrl:Dn.spelling("baseURL"),withXsrfToken:Dn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&V.merge(s.common,s[n.method]);s&&V.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=Jt.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let d,h=0,p;if(!l){const y=[vE.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,c),p=y.length,d=Promise.resolve(n);h<p;)d=d.then(y[h++],y[h++]);return d}p=a.length;let I=n;for(h=0;h<p;){const y=a[h++],v=a[h++];try{I=y(I)}catch(w){v.call(this,w);break}}try{d=vE.call(this,I)}catch(y){return Promise.reject(y)}for(h=0,p=c.length;h<p;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=ts(this.defaults,e);const n=wb(e.baseURL,e.url);return gb(n,e.params,e.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(e){Hi.prototype[e]=function(n,r){return this.request(ts(r||{},{method:e,url:n,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(ts(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Hi.prototype[e]=n(),Hi.prototype[e+"Form"]=n(!0)});let E4=class xb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Do(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new xb(function(i){e=i}),cancel:e}}};function w4(t){return function(n){return t.apply(null,n)}}function S4(t){return V.isObject(t)&&t.isAxiosError===!0}const lm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lm).forEach(([t,e])=>{lm[e]=t});function Cb(t){const e=new Hi(t),n=ib(Hi.prototype.request,e);return V.extend(n,Hi.prototype,e,{allOwnKeys:!0}),V.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Cb(ts(t,i))},n}const Ye=Cb(Bl);Ye.Axios=Hi;Ye.CanceledError=Do;Ye.CancelToken=E4;Ye.isCancel=_b;Ye.VERSION=Ab;Ye.toFormData=rf;Ye.AxiosError=fe;Ye.Cancel=Ye.CanceledError;Ye.all=function(e){return Promise.all(e)};Ye.spread=w4;Ye.isAxiosError=S4;Ye.mergeConfig=ts;Ye.AxiosHeaders=Jt;Ye.formToJSON=t=>vb(V.isHTMLForm(t)?new FormData(t):t);Ye.getAdapter=bb.getAdapter;Ye.HttpStatusCode=lm;Ye.default=Ye;const{Axios:e5,AxiosError:t5,CanceledError:n5,isCancel:r5,CancelToken:i5,VERSION:s5,all:o5,Cancel:a5,isAxiosError:l5,spread:u5,toFormData:c5,AxiosHeaders:d5,HttpStatusCode:f5,formToJSON:h5,getAdapter:p5,mergeConfig:m5}=Ye;var T4=Function.prototype.toString,hh=Object.create,I4=Object.prototype.toString,b4=function(){function t(){this._keys=[],this._values=[]}return t.prototype.has=function(e){return!!~this._keys.indexOf(e)},t.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},t.prototype.set=function(e,n){this._keys.push(e),this._values.push(n)},t}();function A4(){return new b4}function x4(){return new WeakMap}var C4=typeof WeakMap<"u"?x4:A4;function yy(t){if(!t)return hh(null);var e=t.constructor;if(e===Object)return t===Object.prototype?{}:hh(t);if(e&&~T4.call(e).indexOf("[native code]"))try{return new e}catch{}return hh(t)}function R4(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}function P4(t){return t.flags}var k4=/test/g.flags==="g"?P4:R4;function Rb(t){var e=I4.call(t);return e.substring(8,e.length-1)}function N4(t){return t[Symbol.toStringTag]||Rb(t)}var O4=typeof Symbol<"u"?N4:Rb,L4=Object.defineProperty,D4=Object.getOwnPropertyDescriptor,Pb=Object.getOwnPropertyNames,vy=Object.getOwnPropertySymbols,kb=Object.prototype,Nb=kb.hasOwnProperty,j4=kb.propertyIsEnumerable,Ob=typeof vy=="function";function M4(t){return Pb(t).concat(vy(t))}var V4=Ob?M4:Pb;function af(t,e,n){for(var r=V4(t),i=0,s=r.length,o=void 0,a=void 0;i<s;++i)if(o=r[i],!(o==="callee"||o==="caller")){if(a=D4(t,o),!a){e[o]=n.copier(t[o],n);continue}!a.get&&!a.set&&(a.value=n.copier(a.value,n));try{L4(e,o,a)}catch{e[o]=a.value}}return e}function F4(t,e){var n=new e.Constructor;e.cache.set(t,n);for(var r=0,i=t.length;r<i;++r)n[r]=e.copier(t[r],e);return n}function U4(t,e){var n=new e.Constructor;return e.cache.set(t,n),af(t,n,e)}function Lb(t,e){return t.slice(0)}function B4(t,e){return t.slice(0,t.size,t.type)}function $4(t,e){return new e.Constructor(Lb(t.buffer))}function z4(t,e){return new e.Constructor(t.getTime())}function Db(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r,i){n.set(i,e.copier(r,e))}),n}function H4(t,e){return af(t,Db(t,e),e)}function K4(t,e){var n=yy(e.prototype);e.cache.set(t,n);for(var r in t)Nb.call(t,r)&&(n[r]=e.copier(t[r],e));return n}function q4(t,e){var n=yy(e.prototype);e.cache.set(t,n);for(var r in t)Nb.call(t,r)&&(n[r]=e.copier(t[r],e));for(var i=vy(t),s=0,o=i.length,a=void 0;s<o;++s)a=i[s],j4.call(t,a)&&(n[a]=e.copier(t[a],e));return n}var W4=Ob?q4:K4;function G4(t,e){var n=yy(e.prototype);return e.cache.set(t,n),af(t,n,e)}function ph(t,e){return new e.Constructor(t.valueOf())}function Q4(t,e){var n=new e.Constructor(t.source,k4(t));return n.lastIndex=t.lastIndex,n}function lc(t,e){return t}function jb(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r){n.add(e.copier(r,e))}),n}function J4(t,e){return af(t,jb(t,e),e)}var Y4=Array.isArray,_y=Object.assign,X4=Object.getPrototypeOf||function(t){return t.__proto__},Mb={array:F4,arrayBuffer:Lb,blob:B4,dataView:$4,date:z4,error:lc,map:Db,object:W4,regExp:Q4,set:jb},Z4=_y({},Mb,{array:U4,map:H4,object:G4,set:J4});function eF(t){return{Arguments:t.object,Array:t.array,ArrayBuffer:t.arrayBuffer,Blob:t.blob,Boolean:ph,DataView:t.dataView,Date:t.date,Error:t.error,Float32Array:t.arrayBuffer,Float64Array:t.arrayBuffer,Int8Array:t.arrayBuffer,Int16Array:t.arrayBuffer,Int32Array:t.arrayBuffer,Map:t.map,Number:ph,Object:t.object,Promise:lc,RegExp:t.regExp,Set:t.set,String:ph,WeakMap:lc,WeakSet:lc,Uint8Array:t.arrayBuffer,Uint8ClampedArray:t.arrayBuffer,Uint16Array:t.arrayBuffer,Uint32Array:t.arrayBuffer,Uint64Array:t.arrayBuffer}}function Vb(t){var e=_y({},Mb,t),n=eF(e),r=n.Array,i=n.Object;function s(o,a){if(a.prototype=a.Constructor=void 0,!o||typeof o!="object")return o;if(a.cache.has(o))return a.cache.get(o);if(a.prototype=X4(o),a.Constructor=a.prototype&&a.prototype.constructor,!a.Constructor||a.Constructor===Object)return i(o,a);if(Y4(o))return r(o,a);var l=n[O4(o)];return l?l(o,a):typeof o.then=="function"?o:i(o,a)}return function(a){return s(a,{Constructor:void 0,cache:C4(),copier:s,prototype:void 0})}}function tF(t){return Vb(_y({},Z4,t))}tF({});var Ey=Vb({}),nF=Error,rF=EvalError,iF=RangeError,sF=ReferenceError,Fb=SyntaxError,$l=TypeError,oF=URIError,aF=Object.getOwnPropertyDescriptor,uc=aF;if(uc)try{uc([],"length")}catch{uc=null}var lf=uc,cc=Object.defineProperty||!1;if(cc)try{cc({},"a",{value:1})}catch{cc=!1}var uf=cc,mh,EE;function lF(){return EE||(EE=1,mh=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),mh}var gh,wE;function uF(){if(wE)return gh;wE=1;var t=typeof Symbol<"u"&&Symbol,e=lF();return gh=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},gh}var yh,SE;function cF(){if(SE)return yh;SE=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(l,c){for(var d=[],h=0;h<l.length;h+=1)d[h]=l[h];for(var p=0;p<c.length;p+=1)d[p+l.length]=c[p];return d},s=function(l,c){for(var d=[],h=c,p=0;h<l.length;h+=1,p+=1)d[p]=l[h];return d},o=function(a,l){for(var c="",d=0;d<a.length;d+=1)c+=a[d],d+1<a.length&&(c+=l);return c};return yh=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==r)throw new TypeError(t+c);for(var d=s(arguments,1),h,p=function(){if(this instanceof h){var _=c.apply(this,i(d,arguments));return Object(_)===_?_:this}return c.apply(l,i(d,arguments))},I=n(0,c.length-d.length),y=[],v=0;v<I;v++)y[v]="$"+v;if(h=Function("binder","return function ("+o(y,",")+"){ return binder.apply(this,arguments); }")(p),c.prototype){var w=function(){};w.prototype=c.prototype,h.prototype=new w,w.prototype=null}return h},yh}var vh,TE;function zl(){if(TE)return vh;TE=1;var t=cF();return vh=Function.prototype.bind||t,vh}var _h,IE;function wy(){return IE||(IE=1,_h=Function.prototype.call),_h}var Eh,bE;function Sy(){return bE||(bE=1,Eh=Function.prototype.apply),Eh}var dF=typeof Reflect<"u"&&Reflect&&Reflect.apply,fF=zl(),hF=Sy(),pF=wy(),mF=dF,Ub=mF||fF.call(pF,hF),gF=zl(),yF=$l,vF=wy(),_F=Ub,Bb=function(e){if(e.length<1||typeof e[0]!="function")throw new yF("a function is required");return _F(gF,vF,e)},wh,AE;function EF(){if(AE)return wh;AE=1;var t=Bb,e=lf,n=[].__proto__===Array.prototype,r=n&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return wh=r&&typeof r.get=="function"?t([r.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,wh}var Sh,xE;function wF(){if(xE)return Sh;xE=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=zl();return Sh=n.call(t,e),Sh}var ve,SF=nF,TF=rF,IF=iF,bF=sF,vo=Fb,Zs=$l,AF=oF,$b=Function,Th=function(t){try{return $b('"use strict"; return ('+t+").constructor;")()}catch{}},El=lf,xF=uf,Ih=function(){throw new Zs},CF=El?function(){try{return arguments.callee,Ih}catch{try{return El(arguments,"callee").get}catch{return Ih}}}():Ih,_s=uF()(),RF=EF(),ft=typeof Reflect=="function"&&Reflect.getPrototypeOf||Object.getPrototypeOf||RF,zb=Sy(),Hl=wy(),As={},PF=typeof Uint8Array>"u"||!ft?ve:ft(Uint8Array),Ki={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ve:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ve:ArrayBuffer,"%ArrayIteratorPrototype%":_s&&ft?ft([][Symbol.iterator]()):ve,"%AsyncFromSyncIteratorPrototype%":ve,"%AsyncFunction%":As,"%AsyncGenerator%":As,"%AsyncGeneratorFunction%":As,"%AsyncIteratorPrototype%":As,"%Atomics%":typeof Atomics>"u"?ve:Atomics,"%BigInt%":typeof BigInt>"u"?ve:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ve:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ve:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ve:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":SF,"%eval%":eval,"%EvalError%":TF,"%Float32Array%":typeof Float32Array>"u"?ve:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ve:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ve:FinalizationRegistry,"%Function%":$b,"%GeneratorFunction%":As,"%Int8Array%":typeof Int8Array>"u"?ve:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ve:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ve:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_s&&ft?ft(ft([][Symbol.iterator]())):ve,"%JSON%":typeof JSON=="object"?JSON:ve,"%Map%":typeof Map>"u"?ve:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_s||!ft?ve:ft(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%Object.getOwnPropertyDescriptor%":El,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ve:Promise,"%Proxy%":typeof Proxy>"u"?ve:Proxy,"%RangeError%":IF,"%ReferenceError%":bF,"%Reflect%":typeof Reflect>"u"?ve:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ve:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_s||!ft?ve:ft(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ve:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_s&&ft?ft(""[Symbol.iterator]()):ve,"%Symbol%":_s?Symbol:ve,"%SyntaxError%":vo,"%ThrowTypeError%":CF,"%TypedArray%":PF,"%TypeError%":Zs,"%Uint8Array%":typeof Uint8Array>"u"?ve:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ve:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ve:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ve:Uint32Array,"%URIError%":AF,"%WeakMap%":typeof WeakMap>"u"?ve:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ve:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ve:WeakSet,"%Function.prototype.call%":Hl,"%Function.prototype.apply%":zb,"%Object.defineProperty%":xF};if(ft)try{null.error}catch(t){var kF=ft(ft(t));Ki["%Error.prototype%"]=kF}var NF=function t(e){var n;if(e==="%AsyncFunction%")n=Th("async function () {}");else if(e==="%GeneratorFunction%")n=Th("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Th("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ft&&(n=ft(i.prototype))}return Ki[e]=n,n},CE={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Kl=zl(),fd=wF(),OF=Kl.call(Hl,Array.prototype.concat),LF=Kl.call(zb,Array.prototype.splice),RE=Kl.call(Hl,String.prototype.replace),hd=Kl.call(Hl,String.prototype.slice),DF=Kl.call(Hl,RegExp.prototype.exec),jF=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,MF=/\\(\\)?/g,VF=function(e){var n=hd(e,0,1),r=hd(e,-1);if(n==="%"&&r!=="%")throw new vo("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new vo("invalid intrinsic syntax, expected opening `%`");var i=[];return RE(e,jF,function(s,o,a,l){i[i.length]=a?RE(l,MF,"$1"):o||s}),i},FF=function(e,n){var r=e,i;if(fd(CE,r)&&(i=CE[r],r="%"+i[0]+"%"),fd(Ki,r)){var s=Ki[r];if(s===As&&(s=NF(r)),typeof s>"u"&&!n)throw new Zs("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new vo("intrinsic "+e+" does not exist!")},Ty=function(e,n){if(typeof e!="string"||e.length===0)throw new Zs("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Zs('"allowMissing" argument must be a boolean');if(DF(/^%?[^%]*%?$/,e)===null)throw new vo("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=VF(e),i=r.length>0?r[0]:"",s=FF("%"+i+"%",n),o=s.name,a=s.value,l=!1,c=s.alias;c&&(i=c[0],LF(r,OF([0,1],c)));for(var d=1,h=!0;d<r.length;d+=1){var p=r[d],I=hd(p,0,1),y=hd(p,-1);if((I==='"'||I==="'"||I==="`"||y==='"'||y==="'"||y==="`")&&I!==y)throw new vo("property names with quotes must have matching quotes");if((p==="constructor"||!h)&&(l=!0),i+="."+p,o="%"+i+"%",fd(Ki,o))a=Ki[o];else if(a!=null){if(!(p in a)){if(!n)throw new Zs("base intrinsic for "+e+" exists, but the property is not available.");return}if(El&&d+1>=r.length){var v=El(a,p);h=!!v,h&&"get"in v&&!("originalValue"in v.get)?a=v.get:a=a[p]}else h=fd(a,p),a=a[p];h&&!l&&(Ki[o]=a)}}return a},Hb={exports:{}},PE=uf,UF=Fb,Es=$l,kE=lf,BF=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Es("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Es("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Es("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Es("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Es("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Es("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!kE&&kE(e,n);if(PE)PE(e,n,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:r,writable:s===null&&l?l.writable:!s});else if(a||!i&&!s&&!o)e[n]=r;else throw new UF("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},um=uf,Kb=function(){return!!um};Kb.hasArrayLengthDefineBug=function(){if(!um)return null;try{return um([],"length",{value:1}).length!==1}catch{return!0}};var $F=Kb,zF=Ty,NE=BF,HF=$F(),OE=lf,LE=$l,KF=zF("%Math.floor%"),qF=function(e,n){if(typeof e!="function")throw new LE("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||KF(n)!==n)throw new LE("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&OE){var o=OE(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!r)&&(HF?NE(e,"length",n,!0,!0):NE(e,"length",n)),e},WF=zl(),GF=Sy(),QF=Ub,JF=function(){return QF(WF,GF,arguments)};(function(t){var e=qF,n=uf,r=Bb,i=JF;t.exports=function(o){var a=r(arguments),l=o.length-(arguments.length-1);return e(a,1+(l>0?l:0),!0)},n?n(t.exports,"apply",{value:i}):t.exports.apply=i})(Hb);var YF=Hb.exports,qb=Ty,Wb=YF,XF=Wb(qb("String.prototype.indexOf")),ZF=function(e,n){var r=qb(e,!!n);return typeof r=="function"&&XF(e,".prototype.")>-1?Wb(r):r};const eU={},tU=Object.freeze(Object.defineProperty({__proto__:null,default:eU},Symbol.toStringTag,{value:"Module"})),nU=tx(tU);var Iy=typeof Map=="function"&&Map.prototype,bh=Object.getOwnPropertyDescriptor&&Iy?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,pd=Iy&&bh&&typeof bh.get=="function"?bh.get:null,DE=Iy&&Map.prototype.forEach,by=typeof Set=="function"&&Set.prototype,Ah=Object.getOwnPropertyDescriptor&&by?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,md=by&&Ah&&typeof Ah.get=="function"?Ah.get:null,jE=by&&Set.prototype.forEach,rU=typeof WeakMap=="function"&&WeakMap.prototype,Va=rU?WeakMap.prototype.has:null,iU=typeof WeakSet=="function"&&WeakSet.prototype,Fa=iU?WeakSet.prototype.has:null,sU=typeof WeakRef=="function"&&WeakRef.prototype,ME=sU?WeakRef.prototype.deref:null,oU=Boolean.prototype.valueOf,aU=Object.prototype.toString,lU=Function.prototype.toString,uU=String.prototype.match,Ay=String.prototype.slice,qr=String.prototype.replace,cU=String.prototype.toUpperCase,VE=String.prototype.toLowerCase,Gb=RegExp.prototype.test,FE=Array.prototype.concat,$n=Array.prototype.join,dU=Array.prototype.slice,UE=Math.floor,cm=typeof BigInt=="function"?BigInt.prototype.valueOf:null,xh=Object.getOwnPropertySymbols,dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,_o=typeof Symbol=="function"&&typeof Symbol.iterator=="object",jt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===_o||!0)?Symbol.toStringTag:null,Qb=Object.prototype.propertyIsEnumerable,BE=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function $E(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Gb.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-UE(-t):UE(t);if(r!==t){var i=String(r),s=Ay.call(e,i.length+1);return qr.call(i,n,"$&_")+"."+qr.call(qr.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return qr.call(e,n,"$&_")}var fm=nU,zE=fm.custom,HE=Xb(zE)?zE:null,Jb={__proto__:null,double:'"',single:"'"},fU={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},hU=function t(e,n,r,i){var s=n||{};if(ir(s,"quoteStyle")&&!ir(Jb,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ir(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=ir(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ir(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ir(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return eA(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?$E(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?$E(e,c):c}var d=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof e=="object")return hm(e)?"[Array]":"[Object]";var h=kU(s,r);if(typeof i>"u")i=[];else if(Zb(i,e)>=0)return"[Circular]";function p(A,Z,oe){if(Z&&(i=dU.call(i),i.push(Z)),oe){var pe={depth:s.depth};return ir(s,"quoteStyle")&&(pe.quoteStyle=s.quoteStyle),t(A,pe,r+1,i)}return t(A,s,r+1,i)}if(typeof e=="function"&&!KE(e)){var I=SU(e),y=Nu(e,p);return"[Function"+(I?": "+I:" (anonymous)")+"]"+(y.length>0?" { "+$n.call(y,", ")+" }":"")}if(Xb(e)){var v=_o?qr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):dm.call(e);return typeof e=="object"&&!_o?ua(v):v}if(CU(e)){for(var w="<"+VE.call(String(e.nodeName)),_=e.attributes||[],E=0;E<_.length;E++)w+=" "+_[E].name+"="+Yb(pU(_[E].value),"double",s);return w+=">",e.childNodes&&e.childNodes.length&&(w+="..."),w+="</"+VE.call(String(e.nodeName))+">",w}if(hm(e)){if(e.length===0)return"[]";var T=Nu(e,p);return h&&!PU(T)?"["+pm(T,h)+"]":"[ "+$n.call(T,", ")+" ]"}if(gU(e)){var N=Nu(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!Qb.call(e,"cause")?"{ ["+String(e)+"] "+$n.call(FE.call("[cause]: "+p(e.cause),N),", ")+" }":N.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+$n.call(N,", ")+" }"}if(typeof e=="object"&&o){if(HE&&typeof e[HE]=="function"&&fm)return fm(e,{depth:d-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(TU(e)){var j=[];return DE&&DE.call(e,function(A,Z){j.push(p(Z,e,!0)+" => "+p(A,e))}),qE("Map",pd.call(e),j,h)}if(AU(e)){var F=[];return jE&&jE.call(e,function(A){F.push(p(A,e))}),qE("Set",md.call(e),F,h)}if(IU(e))return Ch("WeakMap");if(xU(e))return Ch("WeakSet");if(bU(e))return Ch("WeakRef");if(vU(e))return ua(p(Number(e)));if(EU(e))return ua(p(cm.call(e)));if(_U(e))return ua(oU.call(e));if(yU(e))return ua(p(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof xs<"u"&&e===xs)return"{ [object globalThis] }";if(!mU(e)&&!KE(e)){var x=Nu(e,p),S=BE?BE(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",R=!S&&jt&&Object(e)===e&&jt in e?Ay.call(Ti(e),8,-1):C?"Object":"",P=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",k=P+(R||C?"["+$n.call(FE.call([],R||[],C||[]),": ")+"] ":"");return x.length===0?k+"{}":h?k+"{"+pm(x,h)+"}":k+"{ "+$n.call(x,", ")+" }"}return String(e)};function Yb(t,e,n){var r=n.quoteStyle||e,i=Jb[r];return i+t+i}function pU(t){return qr.call(String(t),/"/g,"&quot;")}function hm(t){return Ti(t)==="[object Array]"&&(!jt||!(typeof t=="object"&&jt in t))}function mU(t){return Ti(t)==="[object Date]"&&(!jt||!(typeof t=="object"&&jt in t))}function KE(t){return Ti(t)==="[object RegExp]"&&(!jt||!(typeof t=="object"&&jt in t))}function gU(t){return Ti(t)==="[object Error]"&&(!jt||!(typeof t=="object"&&jt in t))}function yU(t){return Ti(t)==="[object String]"&&(!jt||!(typeof t=="object"&&jt in t))}function vU(t){return Ti(t)==="[object Number]"&&(!jt||!(typeof t=="object"&&jt in t))}function _U(t){return Ti(t)==="[object Boolean]"&&(!jt||!(typeof t=="object"&&jt in t))}function Xb(t){if(_o)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!dm)return!1;try{return dm.call(t),!0}catch{}return!1}function EU(t){if(!t||typeof t!="object"||!cm)return!1;try{return cm.call(t),!0}catch{}return!1}var wU=Object.prototype.hasOwnProperty||function(t){return t in this};function ir(t,e){return wU.call(t,e)}function Ti(t){return aU.call(t)}function SU(t){if(t.name)return t.name;var e=uU.call(lU.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Zb(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function TU(t){if(!pd||!t||typeof t!="object")return!1;try{pd.call(t);try{md.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function IU(t){if(!Va||!t||typeof t!="object")return!1;try{Va.call(t,Va);try{Fa.call(t,Fa)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function bU(t){if(!ME||!t||typeof t!="object")return!1;try{return ME.call(t),!0}catch{}return!1}function AU(t){if(!md||!t||typeof t!="object")return!1;try{md.call(t);try{pd.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function xU(t){if(!Fa||!t||typeof t!="object")return!1;try{Fa.call(t,Fa);try{Va.call(t,Va)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function CU(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function eA(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return eA(Ay.call(t,0,e.maxStringLength),e)+r}var i=fU[e.quoteStyle||"single"];i.lastIndex=0;var s=qr.call(qr.call(t,i,"\\$1"),/[\x00-\x1f]/g,RU);return Yb(s,"single",e)}function RU(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+cU.call(e.toString(16))}function ua(t){return"Object("+t+")"}function Ch(t){return t+" { ? }"}function qE(t,e,n,r){var i=r?pm(n,r):$n.call(n,", ");return t+" ("+e+") {"+i+"}"}function PU(t){for(var e=0;e<t.length;e++)if(Zb(t[e],`
`)>=0)return!1;return!0}function kU(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=$n.call(Array(t.indent+1)," ");else return null;return{base:n,prev:$n.call(Array(e+1),n)}}function pm(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+$n.call(t,","+n)+`
`+e.prev}function Nu(t,e){var n=hm(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=ir(t,i)?e(t[i],t):""}var s=typeof xh=="function"?xh(t):[],o;if(_o){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)ir(t,l)&&(n&&String(Number(l))===l&&l<t.length||_o&&o["$"+l]instanceof Symbol||(Gb.call(/[^\w$]/,l)?r.push(e(l,t)+": "+e(t[l],t)):r.push(l+": "+e(t[l],t))));if(typeof xh=="function")for(var c=0;c<s.length;c++)Qb.call(t,s[c])&&r.push("["+e(s[c])+"]: "+e(t[s[c]],t));return r}var tA=Ty,jo=ZF,NU=hU,OU=$l,Ou=tA("%WeakMap%",!0),Lu=tA("%Map%",!0),LU=jo("WeakMap.prototype.get",!0),DU=jo("WeakMap.prototype.set",!0),jU=jo("WeakMap.prototype.has",!0),MU=jo("Map.prototype.get",!0),VU=jo("Map.prototype.set",!0),FU=jo("Map.prototype.has",!0),xy=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},UU=function(t,e){var n=xy(t,e);return n&&n.value},BU=function(t,e,n){var r=xy(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},$U=function(t,e){return!!xy(t,e)},zU=function(){var e,n,r,i={assert:function(s){if(!i.has(s))throw new OU("Side channel does not contain "+NU(s))},get:function(s){if(Ou&&s&&(typeof s=="object"||typeof s=="function")){if(e)return LU(e,s)}else if(Lu){if(n)return MU(n,s)}else if(r)return UU(r,s)},has:function(s){if(Ou&&s&&(typeof s=="object"||typeof s=="function")){if(e)return jU(e,s)}else if(Lu){if(n)return FU(n,s)}else if(r)return $U(r,s);return!1},set:function(s,o){Ou&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Ou),DU(e,s,o)):Lu?(n||(n=new Lu),VU(n,s,o)):(r||(r={key:{},next:null}),BU(r,s,o))}};return i},HU=String.prototype.replace,KU=/%20/g,Rh={RFC1738:"RFC1738",RFC3986:"RFC3986"},Cy={default:Rh.RFC3986,formatters:{RFC1738:function(t){return HU.call(t,KU,"+")},RFC3986:function(t){return String(t)}},RFC1738:Rh.RFC1738,RFC3986:Rh.RFC3986},qU=Cy,Ph=Object.prototype.hasOwnProperty,Oi=Array.isArray,jn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),WU=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(Oi(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},nA=function(e,n){for(var r=n&&n.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},GU=function t(e,n,r){if(!n)return e;if(typeof n!="object"&&typeof n!="function"){if(Oi(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Ph.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return Oi(e)&&!Oi(n)&&(i=nA(e,r)),Oi(e)&&Oi(n)?(n.forEach(function(s,o){if(Ph.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,r):e.push(s)}else e[o]=s}),e):Object.keys(n).reduce(function(s,o){var a=n[o];return Ph.call(s,o)?s[o]=t(s[o],a,r):s[o]=a,s},i)},QU=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},JU=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},kh=1024,YU=function(e,n,r,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(I){return"%26%23"+parseInt(I.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;l+=kh){for(var c=o.length>=kh?o.slice(l,l+kh):o,d=[],h=0;h<c.length;++h){var p=c.charCodeAt(h);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||s===qU.RFC1738&&(p===40||p===41)){d[d.length]=c.charAt(h);continue}if(p<128){d[d.length]=jn[p];continue}if(p<2048){d[d.length]=jn[192|p>>6]+jn[128|p&63];continue}if(p<55296||p>=57344){d[d.length]=jn[224|p>>12]+jn[128|p>>6&63]+jn[128|p&63];continue}h+=1,p=65536+((p&1023)<<10|c.charCodeAt(h)&1023),d[d.length]=jn[240|p>>18]+jn[128|p>>12&63]+jn[128|p>>6&63]+jn[128|p&63]}a+=d.join("")}return a},XU=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],d=o[c];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:o,prop:c}),r.push(d))}return WU(n),e},ZU=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},eB=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},tB=function(e,n){return[].concat(e,n)},nB=function(e,n){if(Oi(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},rA={arrayToObject:nA,assign:QU,combine:tB,compact:XU,decode:JU,encode:YU,isBuffer:eB,isRegExp:ZU,maybeMap:nB,merge:GU},iA=zU,dc=rA,Ua=Cy,rB=Object.prototype.hasOwnProperty,sA={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},Fn=Array.isArray,iB=Array.prototype.push,oA=function(t,e){iB.apply(t,Fn(e)?e:[e])},sB=Date.prototype.toISOString,WE=Ua.default,it={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:dc.encode,encodeValuesOnly:!1,filter:void 0,format:WE,formatter:Ua.formatters[WE],indices:!1,serializeDate:function(e){return sB.call(e)},skipNulls:!1,strictNullHandling:!1},oB=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Nh={},aB=function t(e,n,r,i,s,o,a,l,c,d,h,p,I,y,v,w,_,E){for(var T=e,N=E,j=0,F=!1;(N=N.get(Nh))!==void 0&&!F;){var x=N.get(e);if(j+=1,typeof x<"u"){if(x===j)throw new RangeError("Cyclic object value");F=!0}typeof N.get(Nh)>"u"&&(j=0)}if(typeof d=="function"?T=d(n,T):T instanceof Date?T=I(T):r==="comma"&&Fn(T)&&(T=dc.maybeMap(T,function(Y){return Y instanceof Date?I(Y):Y})),T===null){if(o)return c&&!w?c(n,it.encoder,_,"key",y):n;T=""}if(oB(T)||dc.isBuffer(T)){if(c){var S=w?n:c(n,it.encoder,_,"key",y);return[v(S)+"="+v(c(T,it.encoder,_,"value",y))]}return[v(n)+"="+v(String(T))]}var C=[];if(typeof T>"u")return C;var R;if(r==="comma"&&Fn(T))w&&c&&(T=dc.maybeMap(T,c)),R=[{value:T.length>0?T.join(",")||null:void 0}];else if(Fn(d))R=d;else{var P=Object.keys(T);R=h?P.sort(h):P}var k=l?String(n).replace(/\./g,"%2E"):String(n),A=i&&Fn(T)&&T.length===1?k+"[]":k;if(s&&Fn(T)&&T.length===0)return A+"[]";for(var Z=0;Z<R.length;++Z){var oe=R[Z],pe=typeof oe=="object"&&oe&&typeof oe.value<"u"?oe.value:T[oe];if(!(a&&pe===null)){var me=p&&l?String(oe).replace(/\./g,"%2E"):String(oe),Q=Fn(T)?typeof r=="function"?r(A,me):A:A+(p?"."+me:"["+me+"]");E.set(e,j);var te=iA();te.set(Nh,E),oA(C,t(pe,Q,r,i,s,o,a,l,r==="comma"&&w&&Fn(T)?null:c,d,h,p,I,y,v,w,_,te))}}return C},lB=function(e){if(!e)return it;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||it.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Ua.default;if(typeof e.format<"u"){if(!rB.call(Ua.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=Ua.formatters[r],s=it.filter;(typeof e.filter=="function"||Fn(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in sA?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=it.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:it.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:it.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:it.allowEmptyArrays,arrayFormat:o,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:it.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?it.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:it.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:it.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:it.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:it.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:it.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:it.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:it.strictNullHandling}},uB=function(t,e){var n=t,r=lB(e),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):Fn(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var a=sA[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var c=iA(),d=0;d<i.length;++d){var h=i[d],p=n[h];r.skipNulls&&p===null||oA(o,aB(p,h,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var I=o.join(r.delimiter),y=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),I.length>0?y+I:""},Eo=rA,mm=Object.prototype.hasOwnProperty,cB=Array.isArray,We={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Eo.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},dB=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},aA=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},fB="utf8=%26%2310003%3B",hB="utf8=%E2%9C%93",pB=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),a=-1,l,c=n.charset;if(n.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===hB?c="utf-8":o[l]===fB&&(c="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var d=o[l],h=d.indexOf("]="),p=h===-1?d.indexOf("="):h+1,I,y;p===-1?(I=n.decoder(d,We.decoder,c,"key"),y=n.strictNullHandling?null:""):(I=n.decoder(d.slice(0,p),We.decoder,c,"key"),y=Eo.maybeMap(aA(d.slice(p+1),n),function(w){return n.decoder(w,We.decoder,c,"value")})),y&&n.interpretNumericEntities&&c==="iso-8859-1"&&(y=dB(String(y))),d.indexOf("[]=")>-1&&(y=cB(y)?[y]:y);var v=mm.call(r,I);v&&n.duplicates==="combine"?r[I]=Eo.combine(r[I],y):(!v||n.duplicates==="last")&&(r[I]=y)}return r},mB=function(t,e,n,r){for(var i=r?e:aA(e,n),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&n.parseArrays)o=n.allowEmptyArrays&&(i===""||n.strictNullHandling&&i===null)?[]:[].concat(i);else{o=n.plainObjects?{__proto__:null}:{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=n.decodeDotInKeys?l.replace(/%2E/g,"."):l,d=parseInt(c,10);!n.parseArrays&&c===""?o={0:i}:!isNaN(d)&&a!==c&&String(d)===c&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(o=[],o[d]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},gB=function(e,n,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=r.depth>0&&o.exec(s),c=l?s.slice(0,l.index):s,d=[];if(c){if(!r.plainObjects&&mm.call(Object.prototype,c)&&!r.allowPrototypes)return;d.push(c)}for(var h=0;r.depth>0&&(l=a.exec(s))!==null&&h<r.depth;){if(h+=1,!r.plainObjects&&mm.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(l[1])}if(l){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");d.push("["+s.slice(l.index)+"]")}return mB(d,n,r,i)}},yB=function(e){if(!e)return We;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?We.charset:e.charset,r=typeof e.duplicates>"u"?We.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:We.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:We.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:We.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:We.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:We.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:We.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:We.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:We.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:We.decoder,delimiter:typeof e.delimiter=="string"||Eo.isRegExp(e.delimiter)?e.delimiter:We.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:We.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:We.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:We.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:We.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:We.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:We.strictNullHandling}},vB=function(t,e){var n=yB(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?{__proto__:null}:{};for(var r=typeof t=="string"?pB(t,n):t,i=n.plainObjects?{__proto__:null}:{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],l=gB(a,r[a],n,typeof t=="string");i=Eo.merge(i,l,n)}return n.allowSparse===!0?i:Eo.compact(i)},_B=uB,EB=vB,wB=Cy,SB={formats:wB,parse:EB,stringify:_B};const TB=wo(SB);function IB(t,e){t.interceptors.request.use(function(n){return e().then(r=>(n.headers.set("Authorization",`Bearer ${r}`),n))})}var lA={exports:{}},Xe=lA.exports={},Un,Bn;function gm(){throw new Error("setTimeout has not been defined")}function ym(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Un=setTimeout:Un=gm}catch{Un=gm}try{typeof clearTimeout=="function"?Bn=clearTimeout:Bn=ym}catch{Bn=ym}})();function uA(t){if(Un===setTimeout)return setTimeout(t,0);if((Un===gm||!Un)&&setTimeout)return Un=setTimeout,setTimeout(t,0);try{return Un(t,0)}catch{try{return Un.call(null,t,0)}catch{return Un.call(this,t,0)}}}function bB(t){if(Bn===clearTimeout)return clearTimeout(t);if((Bn===ym||!Bn)&&clearTimeout)return Bn=clearTimeout,clearTimeout(t);try{return Bn(t)}catch{try{return Bn.call(null,t)}catch{return Bn.call(this,t)}}}var fr=[],eo=!1,Ui,fc=-1;function AB(){!eo||!Ui||(eo=!1,Ui.length?fr=Ui.concat(fr):fc=-1,fr.length&&cA())}function cA(){if(!eo){var t=uA(AB);eo=!0;for(var e=fr.length;e;){for(Ui=fr,fr=[];++fc<e;)Ui&&Ui[fc].run();fc=-1,e=fr.length}Ui=null,eo=!1,bB(t)}}Xe.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];fr.push(new dA(t,e)),fr.length===1&&!eo&&uA(cA)};function dA(t,e){this.fun=t,this.array=e}dA.prototype.run=function(){this.fun.apply(null,this.array)};Xe.title="browser";Xe.browser=!0;Xe.env={};Xe.argv=[];Xe.version="";Xe.versions={};function xr(){}Xe.on=xr;Xe.addListener=xr;Xe.once=xr;Xe.off=xr;Xe.removeListener=xr;Xe.removeAllListeners=xr;Xe.emit=xr;Xe.prependListener=xr;Xe.prependOnceListener=xr;Xe.listeners=function(t){return[]};Xe.binding=function(t){throw new Error("process.binding is not supported")};Xe.cwd=function(){return"/"};Xe.chdir=function(t){throw new Error("process.chdir is not supported")};Xe.umask=function(){return 0};var xB=lA.exports;const Wr=wo(xB);function CB(){return typeof Wr<"u"&&!Wr.browser}function RB(){return typeof window<"u"&&"navigator"in window&&"product"in window.navigator&&window.navigator.product==="ReactNative"}function PB(){return Wr.versions&&Wr.versions.node?`v${Wr.versions.node}`:Wr.version}function kB(){return window}function vm(){}const NB=t=>new Promise(e=>{setTimeout(e,t)}),OB=t=>Math.pow(Math.SQRT2,t);function LB(t,e=5){const{responseLogger:n=vm,requestLogger:r=vm}=t.defaults;t.interceptors.request.use(function(i){return r(i),i},function(i){return r(i),Promise.reject(i)}),t.interceptors.response.use(function(i){return n(i),i},async function(i){const{response:s}=i,{config:o}=i;if(n(i),!o||!t.defaults.retryOnError)return Promise.reject(i);const a=o.attempts||1;if(a>e)return i.attempts=o.attempts,Promise.reject(i);let l=null,c=OB(a);return s?s.status>=500&&s.status<600?l=`Server ${s.status}`:s.status===429&&(l="Rate limit",s.headers&&i.response.headers["x-contentful-ratelimit-reset"]&&(c=s.headers["x-contentful-ratelimit-reset"])):l="Connection",l?(c=Math.floor(c*1e3+Math.random()*200+500),t.defaults.logHandler("warning",`${l} error occurred. Waiting for ${c} ms before retrying...`),o.attempts=a+1,delete o.httpAgent,delete o.httpsAgent,NB(c).then(()=>t(o))):Promise.reject(i)})}var DB=typeof xs=="object"&&xs&&xs.Object===Object&&xs,jB=DB,MB=jB,VB=typeof self=="object"&&self&&self.Object===Object&&self,FB=MB||VB||Function("return this")(),UB=FB,BB=UB,$B=BB.Symbol,fA=$B,GE=fA,hA=Object.prototype,zB=hA.hasOwnProperty,HB=hA.toString,ca=GE?GE.toStringTag:void 0;function KB(t){var e=zB.call(t,ca),n=t[ca];try{t[ca]=void 0;var r=!0}catch{}var i=HB.call(t);return r&&(e?t[ca]=n:delete t[ca]),i}var qB=KB,WB=Object.prototype,GB=WB.toString;function QB(t){return GB.call(t)}var JB=QB,QE=fA,YB=qB,XB=JB,ZB="[object Null]",e3="[object Undefined]",JE=QE?QE.toStringTag:void 0;function t3(t){return t==null?t===void 0?e3:ZB:JE&&JE in Object(t)?YB(t):XB(t)}var pA=t3,n3=Array.isArray,r3=n3;function i3(t){return t!=null&&typeof t=="object"}var mA=i3,s3=pA,o3=r3,a3=mA,l3="[object String]";function u3(t){return typeof t=="string"||!o3(t)&&a3(t)&&s3(t)==l3}var c3=u3;const YE=wo(c3);class d3 extends Error{constructor(){super("Throttled function aborted"),this.name="AbortError"}}function f3({limit:t,interval:e,strict:n,onDelay:r}){if(!Number.isFinite(t))throw new TypeError("Expected `limit` to be a finite number");if(!Number.isFinite(e))throw new TypeError("Expected `interval` to be a finite number");const i=new Map;let s=0,o=0;function a(){const c=Date.now();return c-s>e?(o=1,s=c,0):(o<t?o++:(s+=e,o=1),s-c)}const l=a;return c=>{const d=function(...h){if(!d.isEnabled)return(async()=>c.apply(this,h))();let p;return new Promise((I,y)=>{const v=()=>{I(c.apply(this,h)),i.delete(p)},w=l();w>0?(p=setTimeout(v,w),i.set(p,y),r==null||r(...h)):v()})};return d.abort=()=>{for(const h of i.keys())clearTimeout(h),i.get(h)(new d3);i.clear()},d.isEnabled=!0,Object.defineProperty(d,"queueSize",{get(){return i.size}}),d}}const _m=/(?<value>\d+)(%)/;function Oh(t,e=7){var r;let n=e;if(_m.test(t)){const i=(r=t.match(_m))==null?void 0:r.groups;if(i&&i.value){const s=parseInt(i.value)/100;n=Math.round(e*s)}}return Math.min(30,Math.max(1,n))}function XE(t,e){return e("info",`Throttle request to ${t}/s`),f3({limit:t,interval:1e3,strict:!1})}const h3=(t,e="auto")=>{const{logHandler:n=vm}=t.defaults;let r=YE(e)?Oh(e):Oh("auto",e),i=XE(r,n),s=!1,o=t.interceptors.request.use(l=>i(()=>l)(),function(l){return Promise.reject(l)});const a=t.interceptors.response.use(l=>{if(!s&&YE(e)&&(e==="auto"||_m.test(e))&&l.headers&&l.headers["x-contentful-ratelimit-second-limit"]){const c=parseInt(l.headers["x-contentful-ratelimit-second-limit"]),d=Oh(e,c);d!==r&&(o&&t.interceptors.request.eject(o),r=d,i=XE(d,n),o=t.interceptors.request.use(h=>i(()=>h)(),function(h){return Promise.reject(h)})),s=!0}return l},function(l){return Promise.reject(l)});return()=>{t.interceptors.request.eject(o),t.interceptors.response.eject(a)}},p3=/^(?!\w+:\/\/)([^\s:]+\.?[^\s:]+)(?::(\d+))?(?!:)$/;function m3(t){const e=Ey(t);return e.httpAgent=t.httpAgent,e.httpsAgent=t.httpsAgent,e}function gA(t,e){const r={...{insecure:!1,retryOnError:!0,logHandler:(h,p)=>{if(h==="error"&&p){const I=[p.name,p.message].filter(y=>y).join(" - ");console.error(`[error] ${I}`),console.error(p);return}console.log(`[${h}] ${p}`)},headers:{},httpAgent:!1,httpsAgent:!1,timeout:3e4,throttle:0,basePath:"",adapter:void 0,maxContentLength:1073741824,maxBodyLength:1073741824},...e};if(!r.accessToken){const h=new TypeError("Expected parameter accessToken");throw r.logHandler("error",h),h}const i=r.insecure?"http":"https",s=r.space?`${r.space}/`:"";let o=r.defaultHostname,a=r.insecure?80:443;if(r.host&&p3.test(r.host)){const h=r.host.split(":");h.length===2?[o,a]=h:o=h[0]}r.basePath&&(r.basePath=`/${r.basePath.split("/").filter(Boolean).join("/")}`);const l=e.baseURL||`${i}://${o}:${a}${r.basePath}/spaces/${s}`;!r.headers.Authorization&&typeof r.accessToken!="function"&&(r.headers.Authorization="Bearer "+r.accessToken);const c={baseURL:l,headers:r.headers,httpAgent:r.httpAgent,httpsAgent:r.httpsAgent,proxy:r.proxy,timeout:r.timeout,adapter:r.adapter,maxContentLength:r.maxContentLength,maxBodyLength:r.maxBodyLength,paramsSerializer:{serialize:h=>TB.stringify(h)},logHandler:r.logHandler,responseLogger:r.responseLogger,requestLogger:r.requestLogger,retryOnError:r.retryOnError},d=t.create(c);return d.httpClientParams=e,d.cloneWithNewParams=function(h){return gA(t,{...m3(e),...h})},r.onBeforeRequest&&d.interceptors.request.use(r.onBeforeRequest),typeof r.accessToken=="function"&&IB(d,r.accessToken),r.throttle&&h3(d,r.throttle),LB(d,r.retryLimit),r.onError&&d.interceptors.response.use(h=>h,r.onError),d}function Sn({query:t}){const e={};return delete t.resolveLinks,e.params=Ey(t),e}function yA(t){const e=Object.getOwnPropertyNames(t);for(const n of e){const r=t[n];r&&typeof r=="object"&&yA(r)}return Object.freeze(t)}function g3(t){return yA(t.sys||{}),t}function ZE(){const t=kB();if(!t)return null;const e=t.navigator.userAgent,n=t.navigator.platform,r=["Macintosh","MacIntel","MacPPC","Mac68K"],i=["Win32","Win64","Windows","WinCE"],s=["iPhone","iPad","iPod"];return r.indexOf(n)!==-1?"macOS":s.indexOf(n)!==-1?"iOS":i.indexOf(n)!==-1?"Windows":/Android/.test(e)?"Android":/Linux/.test(n)?"Linux":null}function y3(){const t=Wr.platform||"linux",e=Wr.version||"0.0.0",n={android:"Android",aix:"Linux",darwin:"macOS",freebsd:"Linux",linux:"Linux",openbsd:"Linux",sunos:"Linux",win32:"Windows"};return t in n?`${n[t]||"Linux"}/${e}`:null}function v3(t,e,n,r){const i=[];e&&i.push(`app ${e}`),n&&i.push(`integration ${n}`),i.push(`sdk ${t}`);let s=null;try{RB()?(s=ZE(),i.push("platform ReactNative")):CB()?(s=y3(),i.push(`platform node.js/${PB()}`)):(s=ZE(),i.push("platform browser"))}catch{s=null}return s&&i.push(`os ${s}`),`${i.filter(o=>o!=="").join("; ")};`}function vA(t){return Object.defineProperty(t,"toPlainObject",{enumerable:!1,configurable:!1,writable:!1,value:function(){return Ey(this)}})}function _3(t,e){return function(n){return t(e(n))}}var E3=_3,w3=E3,S3=w3(Object.getPrototypeOf,Object),T3=S3,I3=pA,b3=T3,A3=mA,x3="[object Object]",C3=Function.prototype,R3=Object.prototype,_A=C3.toString,P3=R3.hasOwnProperty,k3=_A.call(Object);function N3(t){if(!A3(t)||I3(t)!=x3)return!1;var e=b3(t);if(e===null)return!0;var n=P3.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&_A.call(n)==k3}var O3=N3;const Lh=wo(O3);function wn(t){var a;const{config:e,response:n}=t;let r;if(e&&e.headers&&e.headers.Authorization){const l=`...${e.headers.Authorization.toString().substr(-5)}`;e.headers.Authorization=`Bearer ${l}`}if(!Lh(n)||!Lh(e))throw t;const i=n==null?void 0:n.data,s={status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText,message:"",details:{}};e&&Lh(e)&&(s.request={url:e.url,headers:e.headers,method:e.method,payloadData:e.data}),i&&typeof i=="object"&&("requestId"in i&&(s.requestId=i.requestId||"UNKNOWN"),"message"in i&&(s.message=i.message||""),"details"in i&&(s.details=i.details||{}),r=(a=i.sys)==null?void 0:a.id);const o=new Error;o.name=r&&r!=="Unknown"?r:`${n==null?void 0:n.status} ${n==null?void 0:n.statusText}`;try{o.message=JSON.stringify(s,null,"  ")}catch{o.message=(s==null?void 0:s.message)??""}throw o}function L3(t){return function(n){return Object.assign({},t,n)}}var EA={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},Ry={0:8203,1:8204,2:8205,3:65279},D3=new Array(4).fill(String.fromCodePoint(Ry[0])).join("");function j3(t){let e=JSON.stringify(t);return`${D3}${Array.from(e).map(n=>{let r=n.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${n} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(Ry[i])).join("")}).join("")}`}function M3(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function V3(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function F3(t,e,n="auto"){return n===!0||n==="auto"&&(M3(t)||V3(t))?t:`${t}${j3(e)}`}Object.fromEntries(Object.entries(Ry).map(t=>t.reverse()));Object.fromEntries(Object.entries(EA).map(t=>t.reverse()));`${Object.values(EA).map(t=>`\\u{${t.toString(16)}}`).join("")}`;function hc(t,e){return F3(t,e)}var U3=Object.prototype.hasOwnProperty,B3=Object.prototype.toString,$3=function(t,e,n){if(B3.call(e)!=="[object Function]")throw new TypeError("iterator must be a function");var r=t.length;if(r===+r)for(var i=0;i<r;i++)e.call(n,t[i],i,t);else for(var s in t)U3.call(t,s)&&e.call(n,t[s],s,t)},z3=$3,li=Oe;function Oe(t,e,n){if(arguments.length===3)return Oe.set(t,e,n);if(arguments.length===2)return Oe.get(t,e);var r=Oe.bind(Oe,t);for(var i in Oe)Oe.hasOwnProperty(i)&&(r[i]=Oe[i].bind(r,t));return r}Oe.get=function(t,e){for(var n=Array.isArray(e)?e:Oe.parse(e),r=0;r<n.length;++r){var i=n[r];if(!(typeof t=="object"&&i in t))throw new Error("Invalid reference token: "+i);t=t[i]}return t};Oe.set=function(t,e,n){var r=Array.isArray(e)?e:Oe.parse(e),i=r[0];if(r.length===0)throw Error("Can not set the root object");for(var s=0;s<r.length-1;++s){var o=r[s];typeof o!="string"&&typeof o!="number"&&(o=String(o)),!(o==="__proto__"||o==="constructor"||o==="prototype")&&(o==="-"&&Array.isArray(t)&&(o=t.length),i=r[s+1],o in t||(i.match(/^(\d+|-)$/)?t[o]=[]:t[o]={}),t=t[o])}return i==="-"&&Array.isArray(t)&&(i=t.length),t[i]=n,this};Oe.remove=function(t,e){var n=Array.isArray(e)?e:Oe.parse(e),r=n[n.length-1];if(r===void 0)throw new Error('Invalid JSON pointer for remove: "'+e+'"');var i=Oe.get(t,n.slice(0,-1));if(Array.isArray(i)){var s=+r;if(r===""&&isNaN(s))throw new Error('Invalid array index: "'+r+'"');Array.prototype.splice.call(i,s,1)}else delete i[r]};Oe.dict=function(t,e){var n={};return Oe.walk(t,function(r,i){n[i]=r},e),n};Oe.walk=function(t,e,n){var r=[];n=n||function(i){var s=Object.prototype.toString.call(i);return s==="[object Object]"||s==="[object Array]"},function i(s){z3(s,function(o,a){r.push(String(a)),n(o)?i(o):e(o,Oe.compile(r)),r.pop()})}(t)};Oe.has=function(t,e){try{Oe.get(t,e)}catch{return!1}return!0};Oe.escape=function(t){return t.toString().replace(/~/g,"~0").replace(/\//g,"~1")};Oe.unescape=function(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")};Oe.parse=function(t){if(t==="")return[];if(t.charAt(0)!=="/")throw new Error("Invalid JSON pointer: "+t);return t.substring(1).split(/\//).map(Oe.unescape)};Oe.compile=function(t){return t.length===0?"":"/"+t.map(Oe.escape).join("/")};const H3=({pointer:t,mappings:e,data:n,hiddenStrings:r})=>{const i=e[t];delete e[t];const s=wA(n,t);for(const o of s){e[o]=i;const a=li.get(n,o),l=hc(a,r);li.set(n,o,l)}},wA=(t,e="")=>{const n=[],r=li.get(t,e);if(r.content)for(let i=0;i<r.content.length;i++)r.content[i].nodeType==="text"?n.push(`${e}/content/${i}/value`):n.push(...wA(t,`${e}/content/${i}`));return n},ew=({entityId:t,entityType:e,space:n,environment:r,field:i,locale:s,editorInterface:o,fieldType:a,targetOrigin:l,platform:c})=>({origin:"contentful.com",href:`${`https://app.contentful.com/spaces/${n}/environments/${r}`}/${e==="Entry"?"entries":"assets"}/${t}/?focusedField=${i}&focusedLocale=${s}&source=vercel-content-link`,contentful:{editorInterface:o,fieldType:a}}),K3=t=>["builtin","sidebar-builtin","editor-builtin"].includes(t),q3=t=>G3.includes(t);function W3(t){if(typeof structuredClone=="function")return structuredClone(t);try{return JSON.parse(JSON.stringify(t))}catch(e){return console.warn("Failed to clone data:",t,e),t}}const G3=["singleLine","tagEditor","listInput","checkbox","richTextEditor","multipleLine"];function tw(t,e,n,r,i,s,o){const a=o?e[o]:e;switch(t){case"Symbol":{const l=hc(a,n);li.set(r,i,l);break}case"Text":{const l=hc(a,n);li.set(r,i,l);break}case"RichText":{H3({pointer:"",mappings:s,data:a,hiddenStrings:n});break}case"Array":{const l=a.map(c=>typeof c=="string"?hc(c,n):c);li.set(r,i,l);break}}}const Du=(t,e,n,r,i)=>{if(!t.fields)return;const{contentSourceMaps:s}=t.sys;if(!s){console.error("Content source maps data is missing");return}const{mappings:o}=s;for(const a in o){const{source:l}=o[a],c=t.sys.space.sys.id,d=t.sys.environment.sys.id,h=t.sys.id,p=t.sys.type,I=e[l.fieldType],y=n[l.editorInterface];if(K3(y.widgetNamespace)&&!q3(y.widgetId))continue;const v=a.startsWith("/")?a:`/${a}`;if(li.has(t,v)){const w=li.get(t,v);if(w===null)return;const _=v.split("/").pop();if(!_){console.error("Field name could not be extracted from the pointer",v);return}const E=t.sys.locale;if(E){const T=ew({entityId:h,entityType:p,space:c,environment:d,field:_,locale:E,editorInterface:y,fieldType:I,targetOrigin:r,platform:i});tw(I,w,T,t,v,o)}else Object.keys(w).forEach(T=>{const N=ew({entityId:h,entityType:p,space:c,environment:d,field:_,locale:T,editorInterface:y,fieldType:I,targetOrigin:r,platform:i});tw(I,w,N,t,`${v}/${T}`,o,T)})}}},Q3=(t,e,n)=>{var r;const i=W3(t);if(i.sys&&"items"in i){const s=i;if(!((r=s.sys)!=null&&r.contentSourceMapsLookup))return console.error("Content source maps lookup data is missing"),s;const{contentSourceMapsLookup:{fieldTypes:o,editorInterfaces:a}}=s.sys,{items:l,includes:c}=s;l.forEach(d=>Du(d,o,a,e,n)),c&&c.Entry&&c.Entry.forEach(d=>Du(d,o,a,e,n)),c&&c.Asset&&c.Asset.forEach(d=>Du(d,o,a,e,n))}else{const s=i;if(!s.sys.contentSourceMapsLookup)return console.error("Content source maps lookup data is missing"),s;Du(s,s.sys.contentSourceMapsLookup.fieldTypes,s.sys.contentSourceMapsLookup.editorInterfaces,e,n)}return i};var J3=Function.prototype.toString,Dh=Object.create,Y3=Object.defineProperty,X3=Object.getOwnPropertyDescriptor,nw=Object.getOwnPropertyNames,Py=Object.getOwnPropertySymbols,Z3=Object.getPrototypeOf,SA=Object.prototype,e6=SA.hasOwnProperty,t6=SA.propertyIsEnumerable,TA=typeof Py=="function",n6=typeof WeakMap=="function",r6=function(){if(n6)return function(){return new WeakMap};var t=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(n){return!!~this._keys.indexOf(n)},e.prototype.get=function(n){return this._values[this._keys.indexOf(n)]},e.prototype.set=function(n,r){this._keys.push(n),this._values.push(r)},e}();return function(){return new t}}(),IA=function(t,e){var n=t.__proto__||Z3(t);if(!n)return Dh(null);var r=n.constructor;if(r===e.Object)return n===e.Object.prototype?{}:Dh(n);if(~J3.call(r).indexOf("[native code]"))try{return new r}catch{}return Dh(n)},i6=function(t,e,n,r){var i=IA(t,e);r.set(t,i);for(var s in t)e6.call(t,s)&&(i[s]=n(t[s],r));if(TA)for(var o=Py(t),a=0,l=o.length,c=void 0;a<l;++a)c=o[a],t6.call(t,c)&&(i[c]=n(t[c],r));return i},rw=function(t,e,n,r){var i=IA(t,e);r.set(t,i);for(var s=TA?nw(t).concat(Py(t)):nw(t),o=0,a=s.length,l=void 0,c=void 0;o<a;++o)if(l=s[o],l!=="callee"&&l!=="caller")if(c=X3(t,l),c){!c.get&&!c.set&&(c.value=n(t[l],r));try{Y3(i,l,c)}catch{i[l]=c.value}}else i[l]=n(t[l],r);return i},s6=function(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},o6=Array.isArray,a6=Object.getPrototypeOf,l6=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:(console&&console.error&&console.error('Unable to locate global object, returning "this".'),this)}();function wl(t,e){var n=!!(e&&e.isStrict),r=e&&e.realm||l6,i=n?rw:i6,s=function(o,a){if(!o||typeof o!="object")return o;if(a.has(o))return a.get(o);var l=o.__proto__||a6(o),c=l&&l.constructor;if(!c||c===r.Object)return i(o,r,s,a);var d;if(o6(o)){if(n)return rw(o,r,s,a);d=new c,a.set(o,d);for(var h=0,p=o.length;h<p;++h)d[h]=s(o[h],a);return d}if(o instanceof r.Date)return new c(o.getTime());if(o instanceof r.RegExp)return d=new c(o.source,o.flags||s6(o)),d.lastIndex=o.lastIndex,d;if(r.Map&&o instanceof r.Map)return d=new c,a.set(o,d),o.forEach(function(I,y){d.set(y,s(I,a))}),d;if(r.Set&&o instanceof r.Set)return d=new c,a.set(o,d),o.forEach(function(I){d.add(s(I,a))}),d;if(r.Blob&&o instanceof r.Blob)return o.slice(0,o.size,o.type);if(r.Buffer&&r.Buffer.isBuffer(o))return d=r.Buffer.allocUnsafe?r.Buffer.allocUnsafe(o.length):new c(o.length),a.set(o,d),o.copy(d),d;if(r.ArrayBuffer){if(r.ArrayBuffer.isView(o))return d=new c(o.buffer.slice(0)),a.set(o,d),d;if(o instanceof r.ArrayBuffer)return d=o.slice(0),a.set(o,d),d}return typeof o.then=="function"||o instanceof Error||r.WeakMap&&o instanceof r.WeakMap||r.WeakSet&&o instanceof r.WeakSet?o:i(o,r,s,a)};return s(t,r6())}wl.default=wl;wl.strict=function(e,n){return wl(e,{isStrict:!0,realm:n?n.realm:void 0})};var u6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c6=function(){function t(e,n){var r=[],i=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),l;!(i=(l=a.next()).done)&&(r.push(l.value),!(n&&r.length===n));i=!0);}catch(c){s=!0,o=c}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function da(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var Sl={},d6=function(e){return e&&e.sys&&e.sys.type==="Link"},f6=function(e){return e&&e.sys&&e.sys.type==="ResourceLink"},h6=function(e){return e.space&&e.environment?[e.type+"!"+e.id,e.space.sys.id+"!"+e.environment.sys.id+"!"+e.type+"!"+e.id]:[e.type+"!"+e.id]},iw=function(e,n){var r=n.entryId,i=n.linkType,s=n.spaceId,o=n.environmentId;return s&&o?e.get(s+"!"+o+"!"+i+"!"+r):e.get(i+"!"+r)},p6=function(e){var n=/.*:spaces\/([^/]+)(?:\/environments\/([^/]+))?\/entries\/([^/]+)$/;if(n.test(e)){var r=e.match(n),i=c6(r,4);i[0];var s=i[1],o=i[2],a=o===void 0?"master":o,l=i[3];return{spaceId:s,environmentId:a,entryId:l}}},m6=function(e,n){var r=n.sys,i=r.type,s=r.linkType;if(i==="ResourceLink"){if(!s.startsWith("Contentful:"))return n;var o=n.sys.urn,a=p6(o),l=a.spaceId,c=a.environmentId,d=a.entryId,h=s.split(":")[1];return iw(e,{linkType:h,entryId:d,spaceId:l,environmentId:c})||Sl}var p=n.sys.id;return iw(e,{linkType:s,entryId:p})||Sl},g6=function(e){if(Array.isArray(e))return e.filter(function(r){return r!==Sl});for(var n in e)e[n]===Sl&&delete e[n];return e},y6=function t(e,n,r,i){if(n(e))return r(e);if(e&&(typeof e>"u"?"undefined":u6(e))==="object"){for(var s in e)e.hasOwnProperty(s)&&(e[s]=t(e[s],n,r,i));i&&(e=g6(e))}return e},v6=function(e,n,r){var i=m6(e,n);return i===Sl?r?i:n:i},_6=function(e,n){if(!Array.isArray(n))return e;var r=Object.keys(e).filter(function(i){return n.indexOf(i)!==-1});return r.reduce(function(i,s){return i[s]=e[s],i},{})},bA=function(e,n){if(n=n||{},!e.items)return[];var r=wl(e),i=Object.keys(r.includes||{}).reduce(function(a,l){return[].concat(da(a),da(e.includes[l]))},[]),s=[].concat(da(r.items),da(i)).filter(function(a){return!!a.sys}),o=new Map(s.reduce(function(a,l){var c=h6(l.sys).map(function(d){return[d,l]});return a.push.apply(a,da(c)),a},[]));return s.forEach(function(a){var l=_6(a,n.itemEntryPoints);Object.assign(a,y6(l,function(c){return d6(c)||f6(c)},function(c){return v6(o,c,n.removeUnresolved)},n.removeUnresolved))}),r.items},Em={exports:{}};(function(t,e){e=t.exports=n,e.getSerialize=r;function n(i,s,o,a){return JSON.stringify(i,r(s,a),o)}function r(i,s){var o=[],a=[];return s==null&&(s=function(l,c){return o[0]===c?"[Circular ~]":"[Circular ~."+a.slice(0,o.indexOf(c)).join(".")+"]"}),function(l,c){if(o.length>0){var d=o.indexOf(this);~d?o.splice(d+1):o.push(this),~d?a.splice(d,1/0,l):a.push(l),~o.indexOf(c)&&(c=s.call(this,l,c))}else o.push(c);return i==null?c:i.call(this,l,c)}}})(Em,Em.exports);var E6=Em.exports;const w6=wo(E6);function AA(t){return Object.defineProperty(t,"stringifySafe",{enumerable:!1,configurable:!1,writable:!1,value:function(e=null,n=""){return w6(this,e,n,(r,i)=>({sys:{type:"Link",linkType:"Entry",id:i.sys.id,circular:!0}}))}})}async function S6(t,e,n){if(!e||!e.initial&&!e.nextSyncToken&&!e.nextPageToken)throw new Error("Please provide one of `initial`, `nextSyncToken` or `nextPageToken` parameters for syncing");if(e.content_type&&!e.type)e.type="Entry";else if(e.content_type&&e.type&&e.type!=="Entry")throw new Error("When using the `content_type` filter your `type` parameter cannot be different from `Entry`.");const r={withoutLinkResolution:!1,withoutUnresolvableLinks:!1,paginate:!0},{withoutLinkResolution:i,withoutUnresolvableLinks:s,paginate:o}=Object.assign(Object.assign({},r),n),a=await xA(t,[],e,{paginate:o});i||(a.items=bA(a,{removeUnresolved:s,itemEntryPoints:["fields"]}));const l=T6(a.items);return a.nextSyncToken&&(l.nextSyncToken=a.nextSyncToken),a.nextPageToken&&(l.nextPageToken=a.nextPageToken),g3(AA(vA(l)))}function T6(t){const e=n=>(r,i)=>(i.sys.type===n&&r.push(vA(i)),r);return{entries:t.reduce(e("Entry"),[]),assets:t.reduce(e("Asset"),[]),deletedEntries:t.reduce(e("DeletedEntry"),[]),deletedAssets:t.reduce(e("DeletedAsset"),[])}}function I6(t){return t.nextPageToken?{sync_token:t.nextPageToken}:t.nextSyncToken?{sync_token:t.nextSyncToken}:t.sync_token?{sync_token:t.sync_token}:t}async function xA(t,e,n,{paginate:r}){const i=I6(n),o=(await t.get("sync",Sn({query:i}))).data||{};return e=e.concat(o.items||[]),o.nextPageUrl?r?(delete i.initial,i.sync_token=jh(o.nextPageUrl),xA(t,e,i,{paginate:r})):{items:e,nextPageToken:jh(o.nextPageUrl)}:o.nextSyncUrl?{items:e,nextSyncToken:jh(o.nextSyncUrl)}:{items:[]}}function jh(t){const e=t.split("?");return e.length>0?e[1].replace("sync_token=",""):""}function Ri(t){const e={};let n=!1;for(const r in t)Array.isArray(t[r])&&(e[r]=t[r].join(","),n=!0);return n?Object.assign(Object.assign({},t),e):t}function CA(t){if(!t.select)return new Set;const e=Array.isArray(t.select)?t.select:t.select.split(",").map(n=>n.trim());return new Set(e)}function tr(t){if(!t.select)return t;const e=CA(t);return e.has("sys")?t:(e.add("sys.id"),e.add("sys.type"),Object.assign(Object.assign({},t),{select:[...e].join(",")}))}function sw(t,{resolveLinks:e,removeUnresolved:n}){const r=AA(t);return e&&(r.items=bA(r,{removeUnresolved:n,itemEntryPoints:["fields"]})),r}class mr extends Error{constructor(e,n){super(`Invalid "${e}" provided, `+n),this.name="ValidationError"}}function b6(t,e,n){if(n=n||{},typeof e!="number")throw new mr(t,`only numeric values are allowed for timestamps, provided type was "${typeof e}"`);if(n.maximum&&e>n.maximum)throw new mr(t,`value (${e}) cannot be further in the future than expected maximum (${n.maximum})`);if(n.now&&e<n.now)throw new mr(t,`value (${e}) cannot be in the past, current time was ${n.now}`)}function A6(t){if(t.locale==="*")throw new mr("locale",`The use of locale='*' is no longer supported.To fetch an entry in all existing locales,
      use client.withAllLocales instead of the locale='*' parameter.`)}function x6(t){if(t.locale)throw new mr("locale","The `locale` parameter is not allowed")}function ju(t,e){e?x6(t):A6(t)}function pc(t){if("resolveLinks"in t)throw new mr("resolveLinks",`The use of the 'resolveLinks' parameter is no longer supported. By default, links are resolved.
      If you do not want to resolve links, use client.withoutLinkResolution.`)}function mc(t){if("removeUnresolved"in t)throw new mr("removeUnresolved",`The use of the 'removeUnresolved' parameter is no longer supported. By default, unresolved links are kept as link objects.
      If you do not want to include unresolved links, use client.withoutUnresolvableLinks.`)}function C6(t,e){if(e===void 0)return!1;if(typeof e!="boolean")throw new mr("includeContentSourceMaps","The 'includeContentSourceMaps' parameter must be a boolean.");if(e&&!(t==="preview.contentful.com"))throw new mr("includeContentSourceMaps",`The 'includeContentSourceMaps' parameter can only be used with the CPA. Please set host to 'preview.contentful.com' to include Content Source Maps.
      `);return e}function ws(t){for(const e in t){const n=t[e];if(typeof n=="object"&&n!==null&&!Array.isArray(n))throw new Error(`Objects are not supported as value for the "${e}" query parameter.`)}}const R6=48*60*60;class P6 extends Error{constructor(e,n,r){super("The resource could not be found."),this.sys={type:"Error",id:"NotFound"},this.details={type:"Entry",id:e,environment:n,space:r}}}function RA({http:t,getGlobalOptions:e},n){const r=(z="unknown")=>new P6(z,e().environment,e().space),i=z=>{let G=z==="space"?e().spaceBaseUrl:e().environmentBaseUrl;if(!G)throw new Error("Please define baseUrl for "+z);return G.endsWith("/")||(G+="/"),G};function s(z={}){var G,O;const $=t.httpClientParams,K=(G=$==null?void 0:$.includeContentSourceMaps)!==null&&G!==void 0?G:(O=$==null?void 0:$.alphaFeatures)===null||O===void 0?void 0:O.includeContentSourceMaps,U=$==null?void 0:$.host;if(C6(U,K)&&(z.includeContentSourceMaps=!0,z.select)){const W=CA(z);W.add("sys"),z.select=Array.from(W).join(",")}return z}function o(z,G){var O;return((O=G==null?void 0:G.params)===null||O===void 0?void 0:O.includeContentSourceMaps)?Q3(z):z}async function a({context:z,path:G,config:O}){const $=i(z);try{const K=await t.get($+G,O);return o(K.data,O)}catch(K){wn(K)}}async function l({context:z,path:G,data:O,config:$}){const K=i(z);try{return(await t.post(K+G,O,$)).data}catch(U){wn(U)}}async function c(){return a({context:"space",path:""})}async function d(z){return a({context:"environment",path:`content_types/${z}`})}async function h(z={}){return a({context:"environment",path:"content_types",config:Sn({query:z})})}async function p(z,G={}){return y(z,G,n)}async function I(z={}){return w(z,n)}async function y(z,G,O={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:$}=O;return ju(G,$),pc(G),mc(G),ws(G),v(z,$?Object.assign(Object.assign({},G),{locale:"*"}):G,O)}async function v(z,G,O){if(!z)throw r(z);try{const $=await _(Object.assign({"sys.id":z},s(G)),O);if($.items.length>0)return $.items[0];throw r(z)}catch($){wn($)}}async function w(z,G={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:O}=G;return ju(z,O),pc(z),mc(z),ws(z),_(O?Object.assign(Object.assign({},z),{locale:"*"}):z,G)}async function _(z,G){const{withoutLinkResolution:O,withoutUnresolvableLinks:$}=G;try{const K=await a({context:"environment",path:"entries",config:Sn({query:s(Ri(tr(z)))})});return sw(K,{resolveLinks:!O,removeUnresolved:$??!1})}catch(K){wn(K)}}async function E(z,G={}){return F(z,G,n)}async function T(z={}){return N(z,n)}async function N(z,G={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:O}=G;ju(z,O),ws(z);const $=O?Object.assign(Object.assign({},z),{locale:"*"}):z;return x($)}async function j(z,G){try{return a({context:"environment",path:`assets/${z}`,config:Sn({query:s(tr(G))})})}catch(O){wn(O)}}async function F(z,G,O={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:$}=O;ju(G,$),ws(G);const K=$?Object.assign(Object.assign({},G),{locale:"*"}):G;return j(z,K)}async function x(z){try{return a({context:"environment",path:"assets",config:Sn({query:s(Ri(tr(z)))})})}catch(G){wn(G)}}async function S(z){return a({context:"environment",path:`tags/${z}`})}async function C(z={}){return ws(z),a({context:"environment",path:"tags",config:Sn({query:Ri(tr(z))})})}async function R(z){try{const G=Math.floor(Date.now()/1e3),O=G+R6;b6("expiresAt",z,{maximum:O,now:G})}catch(G){wn(G)}return l({context:"environment",path:"asset_keys",data:{expiresAt:z}})}async function P(z={}){return ws(z),a({context:"environment",path:"locales",config:Sn({query:tr(z)})})}async function k(z,G={paginate:!0}){return A(z,G,n)}async function A(z,G,O={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){pc(z),mc(z);const $=Object.assign(Object.assign({},G),O);return rt(t),S6(t,z,$)}function Z(z){return oe(z,n)}function oe(z,G={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){return pe(z,G)}function pe(z,G){const{withoutLinkResolution:O,withoutUnresolvableLinks:$}=G;return sw(z,{resolveLinks:!O,removeUnresolved:$??!1})}function me(z,G={}){return Q(z,G)}async function Q(z,G={}){try{return a({context:"environment",path:`taxonomy/concept-schemes/${z}`,config:Sn({query:Ri(tr(G))})})}catch(O){wn(O)}}function te(z={}){return Y(z)}async function Y(z={}){try{return a({context:"environment",path:"taxonomy/concept-schemes",config:Sn({query:Ri(tr(z))})})}catch(G){wn(G)}}function ae(z,G={}){return he(z,G)}async function he(z,G={}){try{return a({context:"environment",path:`taxonomy/concepts/${z}`,config:Sn({query:Ri(tr(G))})})}catch(O){wn(O)}}function be(z={}){return Ve(z)}async function Ve(z={}){try{return a({context:"environment",path:"taxonomy/concepts",config:Sn({query:Ri(tr(z))})})}catch(G){wn(G)}}function rt(z){z.defaults.baseURL=e().environmentBaseUrl}return{version:"11.3.1",getSpace:c,getContentType:d,getContentTypes:h,getAsset:E,getAssets:T,getTag:S,getTags:C,getLocales:P,parseEntries:Z,sync:k,getEntry:p,getEntries:I,getConceptScheme:me,getConceptSchemes:te,getConcept:ae,getConcepts:be,createAssetKey:R}}function k6({http:t,getGlobalOptions:e},n,r){const i=RA({http:t,getGlobalOptions:e},n),s=i||{};return Object.defineProperty(s,"withAllLocales",{get:()=>r(Object.assign(Object.assign({},n),{withAllLocales:!0}))}),Object.defineProperty(s,"withoutLinkResolution",{get:()=>r(Object.assign(Object.assign({},n),{withoutLinkResolution:!0}))}),Object.defineProperty(s,"withoutUnresolvableLinks",{get:()=>r(Object.assign(Object.assign({},n),{withoutUnresolvableLinks:!0}))}),Object.create(s)}const N6=({http:t,getGlobalOptions:e})=>{function n(i){return k6({http:t,getGlobalOptions:e},i,n)}const r=RA({http:t,getGlobalOptions:e},{withoutLinkResolution:!1,withAllLocales:!1,withoutUnresolvableLinks:!1});return Object.assign(Object.assign({},r),{get withAllLocales(){return n({withAllLocales:!0,withoutLinkResolution:!1,withoutUnresolvableLinks:!1})},get withoutLinkResolution(){return n({withAllLocales:!1,withoutLinkResolution:!0,withoutUnresolvableLinks:!1})},get withoutUnresolvableLinks(){return n({withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!0})}})};function O6(t){if(!t.accessToken)throw new TypeError("Expected parameter accessToken");if(!t.space)throw new TypeError("Expected parameter space");pc(t),mc(t);const n=Object.assign(Object.assign({},{resolveLinks:!0,removeUnresolved:!1,defaultHostname:"cdn.contentful.com",environment:"master"}),t),r=v3("contentful.js/11.3.1",n.application,n.integration);n.headers=Object.assign(Object.assign({},n.headers),{"Content-Type":"application/vnd.contentful.delivery.v1+json","X-Contentful-User-Agent":r});const i=gA(Ye,n);if(!i.defaults.baseURL)throw new Error("Please define a baseURL");const s=L3({space:n.space,environment:n.environment,spaceBaseUrl:i.defaults.baseURL,environmentBaseUrl:`${i.defaults.baseURL}environments/${n.environment}`});return i.defaults.baseURL=s({}).environmentBaseUrl,N6({http:i,getGlobalOptions:s})}var Bs={},L6=t=>{if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype};(function(t){var e=L6;t.BLOCKS=void 0,function(O){O.DOCUMENT="document",O.PARAGRAPH="paragraph",O.HEADING_1="heading-1",O.HEADING_2="heading-2",O.HEADING_3="heading-3",O.HEADING_4="heading-4",O.HEADING_5="heading-5",O.HEADING_6="heading-6",O.OL_LIST="ordered-list",O.UL_LIST="unordered-list",O.LIST_ITEM="list-item",O.HR="hr",O.QUOTE="blockquote",O.EMBEDDED_ENTRY="embedded-entry-block",O.EMBEDDED_ASSET="embedded-asset-block",O.EMBEDDED_RESOURCE="embedded-resource-block",O.TABLE="table",O.TABLE_ROW="table-row",O.TABLE_CELL="table-cell",O.TABLE_HEADER_CELL="table-header-cell"}(t.BLOCKS||(t.BLOCKS={})),t.INLINES=void 0,function(O){O.ASSET_HYPERLINK="asset-hyperlink",O.EMBEDDED_ENTRY="embedded-entry-inline",O.EMBEDDED_RESOURCE="embedded-resource-inline",O.ENTRY_HYPERLINK="entry-hyperlink",O.HYPERLINK="hyperlink",O.RESOURCE_HYPERLINK="resource-hyperlink"}(t.INLINES||(t.INLINES={})),t.MARKS=void 0,function(O){O.BOLD="bold",O.ITALIC="italic",O.UNDERLINE="underline",O.CODE="code",O.SUPERSCRIPT="superscript",O.SUBSCRIPT="subscript",O.STRIKETHROUGH="strikethrough"}(t.MARKS||(t.MARKS={}));var n=function(O,$){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,U){K.__proto__=U}||function(K,U){for(var D in U)Object.prototype.hasOwnProperty.call(U,D)&&(K[D]=U[D])},n(O,$)};function r(O,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");n(O,$);function K(){this.constructor=O}O.prototype=$===null?Object.create($):(K.prototype=$.prototype,new K)}function i(O,$,K){if(K||arguments.length===2)for(var U=0,D=$.length,W;U<D;U++)(W||!(U in $))&&(W||(W=Array.prototype.slice.call($,0,U)),W[U]=$[U]);return O.concat(W||Array.prototype.slice.call($))}typeof SuppressedError=="function"&&SuppressedError;var s,o=[t.BLOCKS.PARAGRAPH,t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6,t.BLOCKS.OL_LIST,t.BLOCKS.UL_LIST,t.BLOCKS.HR,t.BLOCKS.QUOTE,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.BLOCKS.EMBEDDED_RESOURCE,t.BLOCKS.TABLE],a=[t.BLOCKS.PARAGRAPH,t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6,t.BLOCKS.OL_LIST,t.BLOCKS.UL_LIST,t.BLOCKS.HR,t.BLOCKS.QUOTE,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.BLOCKS.EMBEDDED_RESOURCE],l=[t.BLOCKS.TABLE,t.BLOCKS.TABLE_ROW,t.BLOCKS.TABLE_CELL,t.BLOCKS.TABLE_HEADER_CELL],c=[t.BLOCKS.HR,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.BLOCKS.EMBEDDED_RESOURCE],d=(s={},s[t.BLOCKS.OL_LIST]=[t.BLOCKS.LIST_ITEM],s[t.BLOCKS.UL_LIST]=[t.BLOCKS.LIST_ITEM],s[t.BLOCKS.LIST_ITEM]=a,s[t.BLOCKS.QUOTE]=[t.BLOCKS.PARAGRAPH],s[t.BLOCKS.TABLE]=[t.BLOCKS.TABLE_ROW],s[t.BLOCKS.TABLE_ROW]=[t.BLOCKS.TABLE_CELL,t.BLOCKS.TABLE_HEADER_CELL],s[t.BLOCKS.TABLE_CELL]=[t.BLOCKS.PARAGRAPH,t.BLOCKS.UL_LIST,t.BLOCKS.OL_LIST],s[t.BLOCKS.TABLE_HEADER_CELL]=[t.BLOCKS.PARAGRAPH],s),h=[t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6],p=i([t.BLOCKS.PARAGRAPH],h,!0),I=[t.BLOCKS.DOCUMENT,t.BLOCKS.PARAGRAPH,t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6,t.BLOCKS.OL_LIST,t.BLOCKS.UL_LIST,t.BLOCKS.LIST_ITEM,t.BLOCKS.HR,t.BLOCKS.QUOTE,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.INLINES.HYPERLINK,t.INLINES.ENTRY_HYPERLINK,t.INLINES.ASSET_HYPERLINK,t.INLINES.EMBEDDED_ENTRY,"text"],y=[t.MARKS.BOLD,t.MARKS.CODE,t.MARKS.ITALIC,t.MARKS.UNDERLINE],v={nodeType:t.BLOCKS.DOCUMENT,data:{},content:[{nodeType:t.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};function w(O,$){for(var K=0,U=Object.keys(O);K<U.length;K++){var D=U[K];if($===O[D])return!0}return!1}function _(O){return w(t.INLINES,O.nodeType)}function E(O){return w(t.BLOCKS,O.nodeType)}function T(O){return O.nodeType==="text"}var N=Object.freeze({__proto__:null,isBlock:E,isInline:_,isText:T}),j=function(O){var $=O.path,K=O.property,U=O.typeName,D=O.value;return{details:'The type of "'.concat(K,'" is incorrect, expected type: ').concat(U),name:"type",path:$.toArray(),type:U,value:D}},F=function(O){var $=O.min,K=O.value,U=O.path;return{name:"size",min:$,path:U.toArray(),details:"Size must be at least ".concat($),value:K}},x=function(O){var $=O.max,K=O.value,U=O.path;return{name:"size",max:$,path:U.toArray(),details:"Size must be at most ".concat($),value:K}},S=function(O){var $=O.expected,K=O.value,U=O.path;return{details:"Value must be one of expected values",name:"in",expected:i([],$,!0).sort(),path:U.toArray(),value:K}},C=function(O){var $=O.property,K=O.path;return{details:'The property "'.concat($,'" is not expected'),name:"unexpected",path:K.toArray()}},R=function(O){var $=O.property,K=O.path;return{details:'The property "'.concat($,'" is required here'),name:"required",path:K.toArray()}},P=function(){function O($,K){var U=this;this.obj=$,this.path=K,this._errors=[],this.catch=function(){for(var D,W=[],re=0;re<arguments.length;re++)W[re]=arguments[re];(D=U._errors).push.apply(D,W)},this.exists=function(D){return D in U.obj?!0:(U.catch(R({property:D,path:U.path.of(D)})),!1)},this.object=function(D){var W,re=D?U.obj[D]:U.obj;if(D&&!U.exists(D))return!1;if(e(re))return!0;var Se=D?U.path.of(D):U.path,Re=(W=D??U.path.last())!==null&&W!==void 0?W:"value";return U.catch(j({typeName:"Object",property:Re,path:Se,value:re})),!1},this.string=function(D){var W=U.obj[D];return D&&!U.exists(D)?!1:typeof W=="string"?!0:(U.catch(j({typeName:"String",property:D,path:U.path.of(D),value:W})),!1)},this.number=function(D,W){var re=U.obj[D];return W&&!(D in U.obj)?!0:U.exists(D)?typeof re=="number"&&!Number.isNaN(re)?!0:(U.catch(j({typeName:"Number",property:D,path:U.path.of(D),value:re})),!1):!1},this.array=function(D){var W=U.obj[D];return D&&!U.exists(D)?!1:Array.isArray(W)?!0:(U.catch(j({typeName:"Array",property:D,path:U.path.of(D),value:W})),!1)},this.enum=function(D,W){var re=U.obj[D];return typeof re=="string"&&W.includes(re)?!0:(U.catch(S({expected:W,value:re,path:U.path.of(D)})),!1)},this.empty=function(D){if(!U.array(D))return!1;var W=U.obj[D];return W.length===0?!0:(U.catch(x({max:0,value:W,path:U.path.of(D)})),!1)},this.minLength=function(D,W){if(!U.array(D))return!1;var re=U.obj[D];return re.length>=W?!0:(U.catch(F({min:W,value:re,path:U.path.of(D)})),!1)},this.noAdditionalProperties=function(D){var W=Object.keys(U.obj).sort().filter(function(re){return!D.includes(re)});return W.forEach(function(re){return U.catch(C({property:re,path:U.path.of(re)}))}),W.length===0},this.each=function(D,W){if(U.array(D)){var re=U.obj[D],Se=!1;re.forEach(function(Re,gt){if(!Se){var Mt=W(Re,U.path.of(D).of(gt));Mt.length>0&&(Se=!0),U.catch.apply(U,Mt)}})}}}return Object.defineProperty(O.prototype,"errors",{get:function(){var $=this,K=function(U){return JSON.stringify({details:U.details,path:U.path})};return this._errors.filter(function(U,D){return $._errors.findIndex(function(W){return K(U)===K(W)})===D})},enumerable:!1,configurable:!0}),O}(),k=[],A=function(){function O($,K){this.contentRule=$,this.validateData=K}return O.prototype.assert=function($,K){var U,D,W=new P($,K);if(!W.object())return W.errors;W.noAdditionalProperties(["nodeType","data","content"]);var re=Array.isArray(this.contentRule)?{nodeTypes:this.contentRule}:this.contentRule($,K),Se=re.nodeTypes,Re=re.min,gt=Re===void 0?0:Re;if(Se.length===0&&gt>0)throw new Error("Invalid content rule. Cannot have enforce a 'min' of ".concat(gt," with no nodeTypes"));if(W.minLength("content",gt),Se.length===0?W.empty("content"):W.each("content",function(Yt,Xt){var Zt=new P(Yt,Xt);return Zt.object()&&Zt.enum("nodeType",Se),Zt.errors}),W.object("data")){var Mt=(D=(U=this.validateData)===null||U===void 0?void 0:U.call(this,$.data,K.of("data")))!==null&&D!==void 0?D:[];W.catch.apply(W,Mt)}return W.errors},O}(),Z=function(O){r($,O);function $(K,U){var D=O.call(this,U,function(W,re){return D.assertLink(W,re)})||this;return D.linkType=K,D.assertLink=function(W,re){var Se=new P(W,re);if(Se.object("target")){var Re=new P(W.target.sys,re.of("target").of("sys"));Re.object()&&(Re.enum("type",[D.type]),Re.enum("linkType",[D.linkType]),D.type==="Link"?(Re.string("id"),Re.noAdditionalProperties(["type","linkType","id"])):D.type==="ResourceLink"&&(Re.string("urn"),Re.noAdditionalProperties(["type","linkType","urn"]))),Se.catch.apply(Se,Re.errors)}return Se.noAdditionalProperties(["target"]),Se.errors},D.type=D.linkType.startsWith("Contentful:")?"ResourceLink":"Link",D}return $}(A),oe=function(O){r($,O);function $(){var K=O.call(this,["text"],function(U,D){return K.assertLink(U,D)})||this;return K.assertLink=function(U,D){var W=new P(U,D);return W.string("uri"),W.noAdditionalProperties(["uri"]),W.errors},K}return $}(A),pe=function(O,$){return new A(O,$)},me=function(O,$){return new Z(O,$)},Q=function(){function O($){$===void 0&&($=[]);var K=this;this.path=$,this.of=function(U){return new O(i(i([],K.path,!0),[U],!1))},this.isRoot=function(){return K.path.length===0},this.last=function(){return K.path[K.path.length-1]},this.toArray=function(){return K.path}}return O}();function te(O,$){var K=new P(O,$);return K.object()&&(K.noAdditionalProperties(["nodeType","data","value","marks"]),K.object("data"),K.each("marks",function(U,D){var W=new P(U,D);return W.object()&&W.string("type"),W.errors}),K.string("value")),K.errors}var Y,ae=pe(i(i([],Object.values(t.INLINES),!0),["text"],!1).sort()),he=pe([t.BLOCKS.LIST_ITEM]),be=me("Entry",k),Ve=pe(function(){return{nodeTypes:[t.BLOCKS.PARAGRAPH],min:1}},function(O,$){var K=new P(O,$);return K.noAdditionalProperties(["colspan","rowspan"]),K.number("colspan",!0),K.number("rowspan",!0),K.errors}),rt=(Y={},Y[t.BLOCKS.DOCUMENT]=pe(o),Y[t.BLOCKS.PARAGRAPH]=ae,Y[t.BLOCKS.HEADING_1]=ae,Y[t.BLOCKS.HEADING_2]=ae,Y[t.BLOCKS.HEADING_3]=ae,Y[t.BLOCKS.HEADING_4]=ae,Y[t.BLOCKS.HEADING_5]=ae,Y[t.BLOCKS.HEADING_6]=ae,Y[t.BLOCKS.QUOTE]=pe(d[t.BLOCKS.QUOTE]),Y[t.BLOCKS.EMBEDDED_ENTRY]=be,Y[t.BLOCKS.EMBEDDED_ASSET]=me("Asset",k),Y[t.BLOCKS.EMBEDDED_RESOURCE]=me("Contentful:Entry",k),Y[t.BLOCKS.HR]=pe(k),Y[t.BLOCKS.OL_LIST]=he,Y[t.BLOCKS.UL_LIST]=he,Y[t.BLOCKS.LIST_ITEM]=pe(i([],a,!0).sort()),Y[t.BLOCKS.TABLE]=pe(function(){return{nodeTypes:[t.BLOCKS.TABLE_ROW],min:1}}),Y[t.BLOCKS.TABLE_ROW]=pe(function(){return{nodeTypes:[t.BLOCKS.TABLE_CELL,t.BLOCKS.TABLE_HEADER_CELL],min:1}}),Y[t.BLOCKS.TABLE_CELL]=Ve,Y[t.BLOCKS.TABLE_HEADER_CELL]=Ve,Y[t.INLINES.HYPERLINK]=new oe,Y[t.INLINES.EMBEDDED_ENTRY]=be,Y[t.INLINES.EMBEDDED_RESOURCE]=me("Contentful:Entry",k),Y[t.INLINES.ENTRY_HYPERLINK]=me("Entry",["text"]),Y[t.INLINES.ASSET_HYPERLINK]=me("Asset",["text"]),Y[t.INLINES.RESOURCE_HYPERLINK]=me("Contentful:Entry",["text"]),Y);function z(O,$){if(O.nodeType==="text")return te(O,$);var K=rt[O.nodeType].assert(O,$);if(K.length>0)return K;var U=new P(O,$);return U.each("content",function(D,W){return z(D,W)}),U.errors}var G=function(O){var $=new Q,K=new P(O,$);return K.object()&&K.enum("nodeType",[t.BLOCKS.DOCUMENT]),K.errors.length>0?K.errors:z(O,$)};t.CONTAINERS=d,t.EMPTY_DOCUMENT=v,t.HEADINGS=h,t.LIST_ITEM_BLOCKS=a,t.TABLE_BLOCKS=l,t.TEXT_CONTAINERS=p,t.TOP_LEVEL_BLOCKS=o,t.V1_MARKS=y,t.V1_NODE_TYPES=I,t.VOID_BLOCKS=c,t.helpers=N,t.validateRichTextDocument=G})(Bs);var Ie=B,ge=Bs,$s=function(){return $s=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$s.apply(this,arguments)};function D6(t,e){return Ie.isValidElement(t)&&t.key===null?Ie.cloneElement(t,{key:e}):t}function j6(t,e){return t.map(function(n,r){return D6(PA(n,e),r)})}function PA(t,e){var n=e.renderNode,r=e.renderMark,i=e.renderText,s=e.preserveWhitespace;if(ge.helpers.isText(t)){var o=i?i(t.value):t.value;if(s&&!i){o=o.replace(/ {2,}/g,function(d){return" ".repeat(d.length)});var a=o.split(`
`),l=[];a.forEach(function(d,h){l.push(d),h!==a.length-1&&l.push(Ie.createElement("br",null))}),o=l}return t.marks.reduce(function(d,h){return r[h.type]?r[h.type](d):d},o)}else{var c=j6(t.content,e);return!t.nodeType||!n[t.nodeType]?Ie.createElement(Ie.Fragment,null,c):n[t.nodeType](t,c)}}var Ne,nr,M6=(Ne={},Ne[ge.BLOCKS.DOCUMENT]=function(t,e){return e},Ne[ge.BLOCKS.PARAGRAPH]=function(t,e){return Ie.createElement("p",null,e)},Ne[ge.BLOCKS.HEADING_1]=function(t,e){return Ie.createElement("h1",null,e)},Ne[ge.BLOCKS.HEADING_2]=function(t,e){return Ie.createElement("h2",null,e)},Ne[ge.BLOCKS.HEADING_3]=function(t,e){return Ie.createElement("h3",null,e)},Ne[ge.BLOCKS.HEADING_4]=function(t,e){return Ie.createElement("h4",null,e)},Ne[ge.BLOCKS.HEADING_5]=function(t,e){return Ie.createElement("h5",null,e)},Ne[ge.BLOCKS.HEADING_6]=function(t,e){return Ie.createElement("h6",null,e)},Ne[ge.BLOCKS.EMBEDDED_ENTRY]=function(t,e){return Ie.createElement("div",null,e)},Ne[ge.BLOCKS.EMBEDDED_RESOURCE]=function(t,e){return Ie.createElement("div",null,e)},Ne[ge.BLOCKS.UL_LIST]=function(t,e){return Ie.createElement("ul",null,e)},Ne[ge.BLOCKS.OL_LIST]=function(t,e){return Ie.createElement("ol",null,e)},Ne[ge.BLOCKS.LIST_ITEM]=function(t,e){return Ie.createElement("li",null,e)},Ne[ge.BLOCKS.QUOTE]=function(t,e){return Ie.createElement("blockquote",null,e)},Ne[ge.BLOCKS.HR]=function(){return Ie.createElement("hr",null)},Ne[ge.BLOCKS.TABLE]=function(t,e){return Ie.createElement("table",null,Ie.createElement("tbody",null,e))},Ne[ge.BLOCKS.TABLE_ROW]=function(t,e){return Ie.createElement("tr",null,e)},Ne[ge.BLOCKS.TABLE_HEADER_CELL]=function(t,e){return Ie.createElement("th",null,e)},Ne[ge.BLOCKS.TABLE_CELL]=function(t,e){return Ie.createElement("td",null,e)},Ne[ge.INLINES.ASSET_HYPERLINK]=function(t){return Mh(ge.INLINES.ASSET_HYPERLINK,t)},Ne[ge.INLINES.ENTRY_HYPERLINK]=function(t){return Mh(ge.INLINES.ENTRY_HYPERLINK,t)},Ne[ge.INLINES.RESOURCE_HYPERLINK]=function(t){return ow(ge.INLINES.RESOURCE_HYPERLINK,t)},Ne[ge.INLINES.EMBEDDED_ENTRY]=function(t){return Mh(ge.INLINES.EMBEDDED_ENTRY,t)},Ne[ge.INLINES.EMBEDDED_RESOURCE]=function(t,e){return ow(ge.INLINES.EMBEDDED_RESOURCE,t)},Ne[ge.INLINES.HYPERLINK]=function(t,e){return Ie.createElement("a",{href:t.data.uri},e)},Ne),V6=(nr={},nr[ge.MARKS.BOLD]=function(t){return Ie.createElement("b",null,t)},nr[ge.MARKS.ITALIC]=function(t){return Ie.createElement("i",null,t)},nr[ge.MARKS.UNDERLINE]=function(t){return Ie.createElement("u",null,t)},nr[ge.MARKS.CODE]=function(t){return Ie.createElement("code",null,t)},nr[ge.MARKS.SUPERSCRIPT]=function(t){return Ie.createElement("sup",null,t)},nr[ge.MARKS.SUBSCRIPT]=function(t){return Ie.createElement("sub",null,t)},nr[ge.MARKS.STRIKETHROUGH]=function(t){return Ie.createElement("s",null,t)},nr);function Mh(t,e){return Ie.createElement("span",{key:e.data.target.sys.id},"type: ",e.nodeType," id: ",e.data.target.sys.id)}function ow(t,e){return Ie.createElement("span",{key:e.data.target.sys.urn},"type: ",e.nodeType," urn: ",e.data.target.sys.urn)}function F6(t,e){return e===void 0&&(e={}),t?PA(t,{renderNode:$s($s({},M6),e.renderNode),renderMark:$s($s({},V6),e.renderMark),renderText:e.renderText,preserveWhitespace:e.preserveWhitespace}):null}var U6=F6;const B6=O6({space:"pyaejmbpwnt8",accessToken:"ymHPDZdnv7_Uh4lWvhojmA0hlvwHm_5uzNCfoA-ODG4"});function $6(){const[t,e]=B.useState([]),[n,r]=B.useState("General"),[i,s]=B.useState(null),[o,a]=B.useState(!0);B.useEffect(()=>{(async()=>{try{const w=(await B6.getEntries({content_type:"blogPost",select:["fields.title","fields.category","fields.excerpt","fields.content","fields.author","fields.date"]})).items.map(_=>({id:_.sys.id,title:_.fields.title,category:_.fields.category,excerpt:_.fields.excerpt,content:_.fields.content,author:_.fields.author,date:_.fields.date}));e(w)}catch(v){console.error("Error fetching articles:",v)}finally{a(!1)}})()},[]);const l=n==="General"?t:t.filter(y=>y.category===n),c=["General","Acheteur","Vendeur","Investisseur"],d=()=>m.jsx("div",{className:"flex flex-col space-y-2",children:c.map(y=>m.jsx("button",{className:`text-left py-2 px-4 rounded transition-colors ${n===y?"bg-blue-100 text-blue-800 font-semibold":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>{r(y),s(null)},children:y.charAt(0).toUpperCase()+y.slice(1)},y))}),h=({article:y})=>m.jsxs("article",{className:"bg-white border border-gray-200 rounded-lg p-6 transition-shadow duration-300 hover:shadow-md",children:[m.jsx("h2",{className:"text-2xl font-serif font-semibold mb-2",children:m.jsx("a",{href:"#",onClick:v=>{v.preventDefault(),s(y)},className:"text-gray-800 hover:text-blue-600 transition-colors",children:y.title})}),m.jsx("p",{className:"text-gray-600 mb-4",children:y.excerpt}),m.jsxs("div",{className:"flex justify-between items-center text-sm",children:[m.jsxs("span",{className:"text-gray-500",children:["Par ",y.author," | ",y.date]}),m.jsx("button",{onClick:()=>s(y),className:"text-blue-600 hover:text-blue-800 transition-colors font-semibold",children:"Lire la suite →"})]})]}),p=()=>m.jsx("div",{className:"space-y-6",children:l.map(y=>m.jsx(h,{article:y},y.id))}),I=({article:y})=>{const v={renderNode:{[Bs.BLOCKS.PARAGRAPH]:(w,_)=>m.jsx("p",{className:"text-gray-700 mb-4",children:_}),[Bs.BLOCKS.HEADING_1]:(w,_)=>m.jsx("h1",{className:"text-3xl font-bold mb-4",children:_}),[Bs.BLOCKS.HEADING_2]:(w,_)=>m.jsx("h2",{className:"text-2xl font-semibold mb-3",children:_})},renderMark:{[Bs.MARKS.BOLD]:w=>m.jsx("strong",{className:"font-bold",children:w})}};return m.jsxs("article",{className:"bg-white border border-gray-200 rounded-lg p-8",children:[m.jsx("h1",{className:"text-4xl font-serif font-bold mb-4 text-gray-800",children:y.title}),m.jsxs("div",{className:"text-sm text-gray-500 mb-6",children:[m.jsxs("span",{children:["Par ",y.author]}),m.jsx("span",{className:"mx-2",children:"|"}),m.jsx("span",{children:y.date})]}),m.jsx("p",{className:"text-xl text-gray-600 mb-8",children:y.excerpt}),m.jsx("div",{className:"prose max-w-none mb-8",children:U6(y.content,v)}),m.jsx("button",{onClick:()=>s(null),className:"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"← Retour à tous les articles"})]})};return m.jsx("div",{className:"bg-gray-100",children:m.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[m.jsx("h1",{className:"text-5xl font-serif font-bold mb-12 text-center text-gray-800",children:"Le Blog d'Investimmo"}),o?m.jsx("p",{className:"text-center text-gray-600",children:"Chargement des articles..."}):m.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[m.jsx("aside",{className:"lg:w-1/4",children:m.jsxs("div",{className:"sticky top-8",children:[m.jsx("h2",{className:"text-2xl font-serif font-semibold mb-4 text-gray-800",children:"Catégories"}),m.jsx(d,{})]})}),m.jsx("main",{className:"lg:w-3/4",children:i?m.jsx(I,{article:i}):m.jsx(p,{})})]})]})})}const z6=()=>{const[t,e]=B.useState({name:"",email:"",phone:"",message:""}),[n,r]=B.useState(!1),[i,s]=B.useState(""),[o,a]=B.useState(""),l=d=>{e({...t,[d.target.name]:d.target.value})},c=async d=>{d.preventDefault(),r(!0),s(""),a("");try{await ud.send("service_ygysf6c","template_tvk3cpa",t,"3Q6blDIxCWaiJ9nvg"),s("Votre message a été envoyé avec succès ! Merci de m'avoir contacté.")}catch(h){console.error("EmailJS Error:",h),a("Une erreur s'est produite lors de l'envoi de votre message. Veuillez réessayer plus tard.")}finally{r(!1)}};return m.jsx("div",{className:"bg-gray-100 text-gray-800",children:m.jsxs("main",{className:"container mx-auto w-2/3 p-4",children:[m.jsxs("header",{className:"bg-gray-800 text-white text-center py-6 rounded shadow",children:[m.jsx("h1",{className:"text-2xl font-bold",children:"Marie Lefèvre"}),m.jsx("p",{className:"text-lg",children:"Agent Immobilier & Spécialiste en Rédaction de Mandats"})]}),m.jsxs("section",{className:"py-16 px-4 md:px-8 max-w-5xl mx-auto",children:[m.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"À propos de moi"}),m.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[m.jsx("img",{src:"https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80",alt:"Jane Doe",className:"w-64 h-64 rounded-full object-cover"}),m.jsxs("div",{children:[m.jsx("p",{className:"text-lg mb-4",children:"Avec plus de 10 ans d'expérience dans le secteur de l'immobilier, j'ai aidé de nombreuses familles à trouver leur maison de rêve et des investisseurs à acquérir des propriétés lucratives. Ma passion pour l'immobilier et mon engagement envers la réussite de mes clients me distinguent dans ce marché compétitif."}),m.jsx("p",{className:"text-lg",children:"Je crois en l'établissement de relations durables avec mes clients, en offrant un service personnalisé et en utilisant des technologies de pointe pour simplifier le processus d'achat et de vente. Que vous soyez un primo-accédant ou un investisseur expérimenté, je suis là pour vous guider à chaque étape."})]})]})]}),m.jsxs("section",{id:"expertise",className:"bg-white mt-6 p-6 rounded shadow",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Mon Expertise"}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-gray-200 p-4 rounded shadow",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Vente et Location de Biens Immobiliers"}),m.jsx("p",{className:"text-gray-600",children:"Je possède une vaste expérience dans la vente et la location de biens résidentiels et commerciaux. Mon objectif est de guider mes clients à chaque étape, de l’évaluation du bien à la signature du contrat, en garantissant une transaction rapide et sûre."})]}),m.jsxs("div",{className:"bg-gray-200 p-4 rounded shadow",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Rédaction de Mandats Immobiliers"}),m.jsx("p",{className:"text-gray-600",children:"Je rédige des mandats de vente et de location conformes aux exigences légales, en veillant à la clarté des termes et à la protection des intérêts des deux parties. Chaque mandat est adapté aux spécificités du bien et aux attentes du client, tout en respectant les normes juridiques en vigueur."})]}),m.jsxs("div",{className:"bg-gray-200 p-4 rounded shadow",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Conseils Juridiques en Immobilier"}),m.jsx("p",{className:"text-gray-600",children:"Forte de mes connaissances approfondies en droit immobilier, je conseille mes clients sur les aspects juridiques des transactions, y compris les baux, les conflits de copropriété et la législation fiscale liée à l'immobilier. Je m'assure que toutes les démarches respectent les règles en vigueur."})]}),m.jsxs("div",{className:"bg-gray-200 p-4 rounded shadow",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Négociation et Vente"}),m.jsx("p",{className:"text-gray-600",children:"Je suis également experte en négociation immobilière, cherchant à obtenir les meilleures conditions pour mes clients, tout en favorisant une relation de confiance et de transparence avec toutes les parties impliquées dans la transaction."})]})]})]}),m.jsxs("section",{className:"mb-12 bg-white p-6 rounded-lg shadow-md",children:[m.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Témoignages Clients"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("blockquote",{className:"italic text-gray-600 border-l-4 border-blue-500 pl-4",children:[`"L'expertise et le dévouement de Jane ont rendu notre achat de maison fluide et agréable. Son attention aux détails et sa connaissance du marché sont incomparables."`,m.jsx("footer",{className:"text-gray-500 mt-2",children:"- John & Sarah M."})]}),m.jsxs("blockquote",{className:"italic text-gray-600 border-l-4 border-blue-500 pl-4",children:['"Travailler avec Jane pour vendre notre propriété a été une expérience fantastique. Sa stratégie marketing et ses talents de négociation ont abouti à un prix de vente supérieur à nos attentes."',m.jsx("footer",{className:"text-gray-500 mt-2",children:"- Robert L."})]})]})]}),m.jsxs("section",{id:"contact",className:"bg-white mt-6 p-6 rounded-lg shadow-lg",children:[m.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Contactez-moi"}),i?m.jsxs("div",{className:"text-center",children:[m.jsx("p",{className:"text-green-500 text-xl font-semibold mb-4",children:i}),m.jsx("button",{onClick:()=>{s(""),e({name:"",email:"",phone:"",message:""})},className:"bg-black text-white font-medium py-2 px-4 rounded-md shadow hover:bg-gray-800 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50 transition duration-150",children:"Envoyer un autre message"})]}):m.jsxs("form",{className:"space-y-6",onSubmit:c,children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nom :"}),m.jsx("input",{type:"text",id:"name",name:"name",required:!0,placeholder:"Votre nom complet",value:t.name,onChange:l,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email :"}),m.jsx("input",{type:"email",id:"email",name:"email",required:!0,placeholder:"Votre adresse email",value:t.email,onChange:l,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Téléphone :"}),m.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,placeholder:"Votre numéro de téléphone",value:t.phone,onChange:l,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message :"}),m.jsx("textarea",{id:"message",name:"message",rows:5,required:!0,placeholder:"Votre message",value:t.message,onChange:l,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),m.jsx("button",{type:"submit",disabled:n,className:"w-full bg-black text-white font-medium py-3 rounded-md shadow hover:bg-gray-800 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50 transition duration-150",children:n?"Envoi en cours...":"Envoyer le Message"})]}),o&&m.jsx("p",{className:"text-red-500 mt-4",children:o})]})]})})},H6=[FT,jT,VT,Tk,Ak];function K6(){const[t,e]=B.useState(1),[n,r]=B.useState({address:"",propertyType:"",livingArea:"",landArea:"",floors:"",rooms:"",bedrooms:"",constructionPeriod:"",condition:"",features:[],saleTimeline:"",contact:{gender:"",firstName:"",lastName:"",email:"",phone:""}}),[i,s]=B.useState(!1),[o,a]=B.useState(!1),l=(y,v)=>{r(w=>({...w,[y]:v}))},c=(y,v)=>{r(w=>({...w,contact:{...w.contact,[y]:v}}))},d=y=>{r(v=>({...v,features:v.features.includes(y)?v.features.filter(w=>w!==y):[...v.features,y]}))},h=()=>{o&&(e(y=>Math.min(y+1,5)),a(!1))},p=()=>{e(y=>Math.max(y-1,1)),a(!1)},I=async()=>{if(!o)return;const y={address:n.address,propertyType:n.propertyType,livingArea:n.livingArea,landArea:n.landArea,floors:n.floors,rooms:n.rooms,bedrooms:n.bedrooms,features:n.features.join(", "),contactGender:n.contact.gender,contactFirstName:n.contact.firstName,contactLastName:n.contact.lastName,contactEmail:n.contact.email,contactPhone:n.contact.phone},v="service_ygysf6c",w="template_m9ywkos",_="3Q6blDIxCWaiJ9nvg";try{ud.init(_),await ud.send(v,w,y),s(!0)}catch(E){console.error("Error sending email:",E)}};return B.useEffect(()=>{const y=document.querySelector(".progress-bar");switch(y&&(y.style.width=`${(t-1)*25}%`),t){case 1:a(n.address.length>0);break;case 2:a(n.propertyType!=="");break;case 3:a(n.livingArea!==""&&n.landArea!==""&&n.floors!==""&&n.rooms!==""&&n.bedrooms!=="");break;case 4:a(n.features.length>0);break;case 5:a(n.contact.gender!==""&&n.contact.firstName!==""&&n.contact.lastName!==""&&n.contact.email!==""&&n.contact.phone!=="");break;default:a(!1)}},[t,n]),m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-4 md:p-6",children:m.jsxs("div",{className:"mx-auto max-w-4xl",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("div",{className:"flex justify-between mb-2",children:H6.map((y,v)=>m.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full transition-all duration-300 ${v+1===t?"bg-blue-600 text-white pulse":v+1<t?"bg-blue-200 text-blue-700":"bg-gray-200 text-gray-500"}`,children:m.jsx(y,{className:"h-6 w-6"})},v))}),m.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:m.jsx("div",{className:"progress-bar h-full bg-blue-600 transition-all duration-500 ease-out",style:{width:"0%"}})})]}),m.jsxs("div",{className:"overflow-hidden rounded-xl bg-white p-6 shadow-lg",children:[m.jsxs("div",{className:"slide-in",children:[t===1&&m.jsxs("div",{className:"space-y-6",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"Où se situe votre bien ?"}),m.jsxs("div",{className:"space-y-4 fade-in",children:[m.jsx("label",{htmlFor:"address",className:"block text-lg font-medium text-gray-700",children:"Adresse du bien à estimer"}),m.jsxs("div",{className:"relative",children:[m.jsx(FT,{className:"absolute left-3 top-3 h-6 w-6 text-gray-400"}),m.jsx("input",{id:"address",type:"text",value:n.address,onChange:y=>l("address",y.target.value),placeholder:"12 rue Saint Denis, 75011 Paris",className:"w-full rounded-lg border-2 border-gray-200 bg-gray-50 py-3 pl-12 pr-4 text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 transition-all duration-300"})]})]})]}),t===2&&m.jsxs("div",{className:"space-y-6",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"Quel type de bien souhaitez-vous estimer ?"}),m.jsx("div",{className:"grid grid-cols-2 gap-4 fade-in",children:[{id:"appartement",label:"Un appartement",icon:jT},{id:"maison",label:"Une maison",icon:VT},{id:"terrain",label:"Un Terrain",icon:vk},{id:"local commercial",label:"Un local commercial",icon:Ik}].map(y=>m.jsxs("button",{onClick:()=>l("propertyType",y.id),className:`flex flex-col items-center justify-center p-6 rounded-xl border-2 transition-all duration-300 ${n.propertyType===y.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 text-gray-600 hover:border-blue-300 hover:bg-blue-50"}`,children:[m.jsx(y.icon,{className:"mb-4 h-16 w-16"}),m.jsx("span",{className:"text-lg font-medium",children:y.label})]},y.id))})]}),t===3&&m.jsxs("div",{className:"space-y-6",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"Détails de votre bien"}),m.jsx("div",{className:"grid grid-cols-2 gap-4 fade-in",children:[{id:"livingArea",label:"Surface habitable",unit:"m²"},{id:"landArea",label:"Surface du terrain",unit:"m²"},{id:"floors",label:"Nombre de niveaux"},{id:"rooms",label:"Nombre de pièces"},{id:"bedrooms",label:"Nombre de chambres"}].map(y=>m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:y.id,className:"block text-sm font-medium text-gray-700",children:y.label}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{id:y.id,type:"number",value:n[y.id],onChange:v=>l(y.id,v.target.value),className:"w-full rounded-lg border-2 border-gray-200 bg-gray-50 px-4 py-2 text-gray-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 transition-all duration-300"}),y.unit&&m.jsx("span",{className:"ml-2 text-sm text-gray-500",children:y.unit})]})]},y.id))})]}),t===4&&m.jsxs("div",{className:"space-y-6",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"Caractéristiques spécifiques"}),m.jsx("div",{className:"grid grid-cols-2 gap-4 fade-in",children:["Terrasse","Parking","Garage","Piscine","Aucun"].map(y=>m.jsx("button",{onClick:()=>d(y),className:`py-4 rounded-lg border-2 transition-all duration-300 ${n.features.includes(y)?"border-blue-500 bg-blue-100 text-blue-700":"border-gray-200 text-gray-600 hover:border-blue-300 hover:bg-blue-50"}`,children:y},y))})]}),t===5&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"text-center fade-in",children:[m.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Votre estimation est prête !"}),m.jsx("p",{className:"mt-2 text-gray-600",children:"Renseignez ces informations pour recevoir votre estimation."})]}),m.jsxs("div",{className:"space-y-4 fade-in",children:[m.jsx("div",{className:"flex justify-center gap-4",children:["monsieur","madame"].map(y=>m.jsx("button",{onClick:()=>c("gender",y),className:`px-6 py-2 rounded-full text-lg transition-all duration-300 ${n.contact.gender===y?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y.charAt(0).toUpperCase()+y.slice(1)},y))}),[{id:"firstName",label:"Prénom",placeholder:"Caroline"},{id:"lastName",label:"Nom",placeholder:"Gomez"},{id:"email",label:"Adresse mail",placeholder:"carolinegomez@gmail.com",type:"email"},{id:"phone",label:"Téléphone",placeholder:"07 89 78 65 89",type:"tel"}].map(y=>m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{htmlFor:y.id,className:"block text-sm font-medium text-gray-700",children:y.label}),m.jsx("input",{id:y.id,type:y.type||"text",value:n.contact[y.id],onChange:v=>c(y.id,v.target.value),placeholder:y.placeholder,className:"w-full rounded-lg border-2 border-gray-200 bg-gray-50 px-4 py-2 text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 transition-all duration-300"})]},y.id))]})]})]},t),i&&m.jsxs("div",{className:"mt-8 p-6 bg-green-50 border-2 border-green-500 rounded-xl text-center fade-in",children:[m.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Merci pour votre demande d'estimation !"}),m.jsx("p",{className:"text-green-600",children:"Nous avons bien reçu vos informations. Notre expert immobilier va étudier votre dossier et vous contactera dans les 48 heures avec une estimation détaillée de votre bien."})]}),!i&&m.jsxs("div",{className:"mt-8 flex justify-between fade-in",children:[t>1&&m.jsxs("button",{onClick:p,className:"flex items-center px-6 py-2 rounded-lg bg-gray-100 text-gray-600 transition-all duration-300 hover:bg-gray-200",children:[m.jsx(MT,{className:"mr-2 h-5 w-5"}),"Retour"]}),m.jsxs("button",{onClick:t===5?I:h,disabled:!o,className:`ml-auto flex items-center px-6 py-2 rounded-lg transition-all duration-300 ${o?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[t===5?"Recevoir mon estimation":"Étape suivante",o?m.jsx(pk,{className:"ml-2 h-5 w-5"}):m.jsx(gk,{className:"ml-2 h-5 w-5"})]})]})]})]})})}const q6=()=>{const[t,e]=B.useState([]),[n,r]=B.useState(null),[i,s]=B.useState(!1),[o,a]=B.useState(""),[l,c]=B.useState(""),[d,h]=B.useState(null),[p,I]=B.useState(""),[y,v]=B.useState({title:"",price:"0",size:"0",type:"",rooms:"0",bedrooms:"0",bathrooms:"0",amenities:[],location:"",image:"",description:"",condition:"disponible"}),[w,_]=yw.useState("");B.useEffect(()=>{(async()=>{try{const Z=td(Vi,"houses"),pe=(await ry(Z)).docs.map(me=>({id:me.id,...me.data()}));e(pe)}catch(Z){console.error("Error fetching houses:",Z)}})()},[]),B.useEffect(()=>{_(n?n.amenities.join(", "):y.amenities.join(", "))},[n,y]);const E=async A=>{try{const Z=td(Vi,"houses"),oe=await yD(Z,A);e([...t,{...A,id:oe.id}])}catch(Z){console.error("Error adding house:",Z)}},T=async A=>{var Z;if((Z=A.target.files)!=null&&Z[0]){const oe=A.target.files[0];if(console.log("File selected for upload:",oe),!oe.type.startsWith("image/")){alert("Please upload a valid image file.");return}try{const pe=await new Promise((Q,te)=>{const Y=new FileReader;Y.onloadstart=()=>console.log("FileReader started reading the file."),Y.onloadend=()=>console.log("FileReader finished reading the file."),Y.onload=()=>{console.log("FileReader result (Base64):",Y.result),Y.result?Q(Y.result):te("Reader result is null")},Y.onerror=ae=>{console.error("Error during FileReader operation:",ae),te(ae)},Y.onabort=()=>{console.error("FileReader operation was aborted."),te("FileReader operation aborted")};try{console.log("Starting to read file as data URL..."),Y.readAsDataURL(oe)}catch(ae){console.error("Failed to start FileReader:",ae),te(ae)}});console.log("Generated Base64 string:",pe);const me=Q=>({...Q,image:pe});console.log("Updating state with Base64 string..."),n?r(Q=>Q?me(Q):null):v(me),console.log("Resetting file input field..."),A.target.value=""}catch(pe){console.error("Error uploading image:",pe)}}else console.warn("No file was selected.")},N=A=>{const{name:Z,value:oe}=A.target;n?r({...n,[Z]:oe}):v({...y,[Z]:oe})},j=A=>{_(A.target.value)},F=()=>{const A=w.split(",").map(Z=>Z.trim()).filter(Z=>Z);n?r({...n,amenities:A}):v({...y,amenities:A})},x=async A=>{A.preventDefault(),console.log("Submitting form with:",y,n);try{if(!y.image&&!(n!=null&&n.image)){alert("Please upload an image before submitting the form.");return}if(n){const Z=nd(Vi,"houses",n.id);await mD(Z,{...n}),e(t.map(oe=>oe.id===n.id?n:oe)),r(null)}else await E(y);s(!1),v({title:"",price:"0",size:"0",type:"",rooms:"0",bedrooms:"0",bathrooms:"0",amenities:[],location:"",image:"",description:"",condition:"disponible"})}catch(Z){console.error("Error submitting house:",Z)}},S=A=>{r(A),s(!0)},C=async A=>{try{const Z=nd(Vi,"houses",A);await gD(Z),e(t.filter(oe=>oe.id!==A))}catch(Z){console.error("Error deleting house:",Z)}},R=()=>{r(null),v({title:"",price:"0",size:"0",type:"",rooms:"0",bedrooms:"0",bathrooms:"0",amenities:[],location:"",image:"",description:"",condition:"disponible"}),s(!1)},P=async A=>{A.preventDefault();try{await yj(lh,o,l),alert("Bienvenue !")}catch{I("Problème d'email ou de mot de passe. Veuillez réessayer.")}},k=async()=>{try{await wj(lh),console.log("Déconnexion réussie")}catch(A){console.error("Erreur lors de la déconnexion :",A.message)}};return B.useEffect(()=>{const A=Ej(lh,Z=>{h(Z||null)});return()=>A()},[]),d?m.jsx("div",{className:"min-h-screen bg-gray-100 py-8 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Interface d'administration - Management des biens"}),m.jsxs("button",{onClick:k,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 flex items-center",children:[m.jsx(yk,{className:"w-5 h-5 mr-2"}),"Se déconnecter"]})]}),m.jsx("div",{className:"mb-6 flex justify-end",children:m.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center",children:[m.jsx(wk,{className:"w-5 h-5 mr-2"}),"Ajouter un nouveau bien"]})}),i&&m.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-8",children:[m.jsx("h2",{className:"text-2xl font-semibold mb-6",children:n?"Edit House":"Add New House"}),m.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre"}),m.jsx("input",{type:"text",id:"title",name:"title",value:n?n.title:y.title,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix"}),m.jsx("input",{type:"number",id:"price",name:"price",value:n?n.price:y.price,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-700 mb-1",children:"Taille"}),m.jsx("input",{type:"number",id:"size",name:"size",value:n?n.size:y.size,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),m.jsx("input",{type:"text",id:"type",name:"type",value:n?n.type:y.type,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"rooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pièces"}),m.jsx("input",{type:"number",id:"rooms",name:"rooms",value:n?n.rooms:y.rooms,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Chambres"}),m.jsx("input",{type:"number",id:"bedrooms",name:"bedrooms",value:n?n.bedrooms:y.bedrooms,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Salle de bains"}),m.jsx("input",{type:"number",id:"bathrooms",name:"bathrooms",value:n?n.bathrooms:y.bathrooms,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"amenities",className:"block text-sm font-medium text-gray-700 mb-1",children:"Commodités (séparées par une virgule)"}),m.jsx("input",{type:"text",id:"amenities",name:"amenities",value:w,onChange:j,onBlur:F,placeholder:"Entrez les commodités séparées par des virgules",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Localisation"}),m.jsx("input",{type:"text",id:"location",name:"location",value:n?n.location:y.location,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),m.jsx("input",{type:"file",id:"image",name:"image",onChange:T,accept:"image/*",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),y.image&&m.jsx("img",{src:y.image,alt:"Uploaded preview",className:"mt-4 h-32 w-32 object-cover rounded-md"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700 mb-1",children:"État"}),m.jsxs("select",{id:"condition",name:"condition",value:n?n.condition:y.condition,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[m.jsx("option",{value:"",children:"Selectionnez une condition"}),m.jsx("option",{value:"vendu",children:"Vendu"}),m.jsx("option",{value:"disponible",children:"Disponible"}),m.jsx("option",{value:"sous compromis",children:"sous compromis"})]})]}),m.jsxs("div",{className:"md:col-span-2",children:[m.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),m.jsx("textarea",{id:"description",name:"description",value:n?n.description:y.description,onChange:N,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),m.jsxs("div",{className:"md:col-span-2 flex justify-end space-x-4",children:[m.jsx("button",{type:"button",onClick:R,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),m.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:n?"Update House":"Add House"})]})]})]}),m.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titre"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Localisation"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"État"}),m.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(A=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.id}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.title}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(()=>{const Z=A.price.replace(/[^0-9.-]+/g,""),oe=Number(Z);return isNaN(oe)?"Invalid price":oe.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0})})()}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:A.location}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${A.condition==="vendu"?"bg-red-100 text-red-800":A.condition==="disponible"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:A.condition==="vendu"?"Vendu":A.condition==="disponible"?"Disponible":"Sous compromis"})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[m.jsxs("button",{onClick:()=>S(A),className:"text-blue-600 hover:text-blue-900 mr-3",children:[m.jsx(Ek,{className:"h-5 w-5"}),m.jsx("span",{className:"sr-only",children:"Modifier"})]}),m.jsxs("button",{onClick:()=>C(A.id),className:"text-red-600 hover:text-red-900",children:[m.jsx(bk,{className:"h-5 w-5"}),m.jsx("span",{className:"sr-only",children:"Supprimer"})]})]})]},A.id))})]})})]})}):m.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsx("div",{children:m.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Interface d'administration"})}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:P,children:[m.jsx("input",{type:"hidden",name:"remember",value:"true"}),m.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"username",className:"sr-only",children:"Identifiant"}),m.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Identifiant",value:o,onChange:A=>a(A.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),m.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Mot de passe",value:l,onChange:A=>c(A.target.value)})]})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Valider"})})]}),p&&m.jsx("p",{style:{color:"red"},children:p})]})})},W6=()=>{const t=Rl(),e=["/Gestion","/"];return m.jsxs(m.Fragment,{children:[m.jsx(zM,{}),m.jsxs(EP,{children:[m.jsx(Mn,{path:"/",element:m.jsx(jM,{})}),m.jsx(Mn,{path:"/Vendre",element:m.jsx($M,{})}),m.jsx(Mn,{path:"/Acheter",element:m.jsx(qM,{})}),m.jsx(Mn,{path:"/house/:id",element:m.jsx(KM,{})}),m.jsx(Mn,{path:"/NomPrenom",element:m.jsx(z6,{})}),m.jsx(Mn,{path:"/Blog",element:m.jsx($6,{})}),m.jsx(Mn,{path:"/Estimation",element:m.jsx(K6,{})}),m.jsx(Mn,{path:"/Gestion",element:m.jsx(q6,{})}),m.jsx(Mn,{path:"*",element:m.jsx(MM,{})})]}),!e.includes(t.pathname)&&m.jsx(HM,{})]})};function G6(){return m.jsx(xP,{children:m.jsx(W6,{})})}ET(document.getElementById("root")).render(m.jsx(B.StrictMode,{children:m.jsx(G6,{})}));
