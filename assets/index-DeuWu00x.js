function vx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ns=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ao(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _x(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ww={exports:{}},wd={},Tw={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bl=Symbol.for("react.element"),Ex=Symbol.for("react.portal"),wx=Symbol.for("react.fragment"),Tx=Symbol.for("react.strict_mode"),Sx=Symbol.for("react.profiler"),Ix=Symbol.for("react.provider"),Ax=Symbol.for("react.context"),bx=Symbol.for("react.forward_ref"),xx=Symbol.for("react.suspense"),Rx=Symbol.for("react.memo"),Cx=Symbol.for("react.lazy"),Rv=Symbol.iterator;function Px(t){return t===null||typeof t!="object"?null:(t=Rv&&t[Rv]||t["@@iterator"],typeof t=="function"?t:null)}var Sw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iw=Object.assign,Aw={};function bo(t,e,n){this.props=t,this.context=e,this.refs=Aw,this.updater=n||Sw}bo.prototype.isReactComponent={};bo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bw(){}bw.prototype=bo.prototype;function Cm(t,e,n){this.props=t,this.context=e,this.refs=Aw,this.updater=n||Sw}var Pm=Cm.prototype=new bw;Pm.constructor=Cm;Iw(Pm,bo.prototype);Pm.isPureReactComponent=!0;var Cv=Array.isArray,xw=Object.prototype.hasOwnProperty,km={current:null},Rw={key:!0,ref:!0,__self:!0,__source:!0};function Cw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xw.call(e,r)&&!Rw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:bl,type:t,key:s,ref:o,props:i,_owner:km.current}}function kx(t,e){return{$$typeof:bl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nm(t){return typeof t=="object"&&t!==null&&t.$$typeof===bl}function Nx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pv=/\/+/g;function Ph(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Nx(""+t.key):e.toString(36)}function Uu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bl:case Ex:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ph(o,0):r,Cv(i)?(n="",t!=null&&(n=t.replace(Pv,"$&/")+"/"),Uu(i,e,n,"",function(c){return c})):i!=null&&(Nm(i)&&(i=kx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Pv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Cv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Ph(s,a);o+=Uu(s,e,n,l,i)}else if(l=Px(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Ph(s,a++),o+=Uu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function du(t,e,n){if(t==null)return t;var r=[],i=0;return Uu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Ox(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bt={current:null},Bu={transition:null},Lx={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Bu,ReactCurrentOwner:km};function Pw(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:du,forEach:function(t,e,n){du(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return du(t,function(){e++}),e},toArray:function(t){return du(t,function(e){return e})||[]},only:function(t){if(!Nm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=bo;ye.Fragment=wx;ye.Profiler=Sx;ye.PureComponent=Cm;ye.StrictMode=Tx;ye.Suspense=xx;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lx;ye.act=Pw;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Iw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=km.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xw.call(e,l)&&!Rw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:bl,type:t.type,key:i,ref:s,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:Ax,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ix,_context:t},t.Consumer=t};ye.createElement=Cw;ye.createFactory=function(t){var e=Cw.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:bx,render:t}};ye.isValidElement=Nm;ye.lazy=function(t){return{$$typeof:Cx,_payload:{_status:-1,_result:t},_init:Ox}};ye.memo=function(t,e){return{$$typeof:Rx,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Bu.transition;Bu.transition={};try{t()}finally{Bu.transition=e}};ye.unstable_act=Pw;ye.useCallback=function(t,e){return Bt.current.useCallback(t,e)};ye.useContext=function(t){return Bt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Bt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Bt.current.useEffect(t,e)};ye.useId=function(){return Bt.current.useId()};ye.useImperativeHandle=function(t,e,n){return Bt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Bt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Bt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Bt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Bt.current.useReducer(t,e,n)};ye.useRef=function(t){return Bt.current.useRef(t)};ye.useState=function(t){return Bt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Bt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Bt.current.useTransition()};ye.version="18.3.1";Tw.exports=ye;var B=Tw.exports;const kw=Ao(B),Dx=vx({__proto__:null,default:kw},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx=B,jx=Symbol.for("react.element"),Vx=Symbol.for("react.fragment"),Fx=Object.prototype.hasOwnProperty,Ux=Mx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bx={key:!0,ref:!0,__self:!0,__source:!0};function Nw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Fx.call(e,r)&&!Bx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jx,type:t,key:s,ref:o,props:i,_owner:Ux.current}}wd.Fragment=Vx;wd.jsx=Nw;wd.jsxs=Nw;ww.exports=wd;var y=ww.exports,Ow={exports:{}},ln={},Lw={exports:{}},Dw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Q,te){var Y=Q.length;Q.push(te);e:for(;0<Y;){var ae=Y-1>>>1,fe=Q[ae];if(0<i(fe,te))Q[ae]=te,Q[Y]=fe,Y=ae;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var te=Q[0],Y=Q.pop();if(Y!==te){Q[0]=Y;e:for(var ae=0,fe=Q.length,Ae=fe>>>1;ae<Ae;){var Ve=2*(ae+1)-1,rt=Q[Ve],z=Ve+1,G=Q[z];if(0>i(rt,Y))z<fe&&0>i(G,rt)?(Q[ae]=G,Q[z]=Y,ae=z):(Q[ae]=rt,Q[Ve]=Y,ae=Ve);else if(z<fe&&0>i(G,Y))Q[ae]=G,Q[z]=Y,ae=z;else break e}}return te}function i(Q,te){var Y=Q.sortIndex-te.sortIndex;return Y!==0?Y:Q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,I=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Q){for(var te=n(c);te!==null;){if(te.callback===null)r(c);else if(te.startTime<=Q)r(c),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(c)}}function k(Q){if(v=!1,T(Q),!g)if(n(l)!==null)g=!0,pe(M);else{var te=n(c);te!==null&&me(k,te.startTime-Q)}}function M(Q,te){g=!1,v&&(v=!1,_(S),S=-1),I=!0;var Y=p;try{for(T(te),h=n(l);h!==null&&(!(h.expirationTime>te)||Q&&!P());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,p=h.priorityLevel;var fe=ae(h.expirationTime<=te);te=t.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(l)&&r(l),T(te)}else r(l);h=n(l)}if(h!==null)var Ae=!0;else{var Ve=n(c);Ve!==null&&me(k,Ve.startTime-te),Ae=!1}return Ae}finally{h=null,p=Y,I=!1}}var V=!1,x=null,S=-1,R=5,C=-1;function P(){return!(t.unstable_now()-C<R)}function N(){if(x!==null){var Q=t.unstable_now();C=Q;var te=!0;try{te=x(!0,Q)}finally{te?b():(V=!1,x=null)}}else V=!1}var b;if(typeof E=="function")b=function(){E(N)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,se=Z.port2;Z.port1.onmessage=N,b=function(){se.postMessage(null)}}else b=function(){w(N,0)};function pe(Q){x=Q,V||(V=!0,b())}function me(Q,te){S=w(function(){Q(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){g||I||(g=!0,pe(M))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(Q){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var Y=p;p=te;try{return Q()}finally{p=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,te){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Y=p;p=Q;try{return te()}finally{p=Y}},t.unstable_scheduleCallback=function(Q,te,Y){var ae=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ae+Y:ae):Y=ae,Q){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=Y+fe,Q={id:d++,callback:te,priorityLevel:Q,startTime:Y,expirationTime:fe,sortIndex:-1},Y>ae?(Q.sortIndex=Y,e(c,Q),n(l)===null&&Q===n(c)&&(v?(_(S),S=-1):v=!0,me(k,Y-ae))):(Q.sortIndex=fe,e(l,Q),g||I||(g=!0,pe(M))),Q},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(Q){var te=p;return function(){var Y=p;p=te;try{return Q.apply(this,arguments)}finally{p=Y}}}})(Dw);Lw.exports=Dw;var $x=Lw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx=B,an=$x;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mw=new Set,Ha={};function os(t,e){oo(t,e),oo(t+"Capture",e)}function oo(t,e){for(Ha[t]=e,t=0;t<e.length;t++)Mw.add(e[t])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qf=Object.prototype.hasOwnProperty,Hx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kv={},Nv={};function Kx(t){return qf.call(Nv,t)?!0:qf.call(kv,t)?!1:Hx.test(t)?Nv[t]=!0:(kv[t]=!0,!1)}function qx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Wx(t,e,n,r){if(e===null||typeof e>"u"||qx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var Om=/[\-:]([a-z])/g;function Lm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Om,Lm);Tt[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Om,Lm);Tt[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Om,Lm);Tt[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dm(t,e,n,r){var i=Tt.hasOwnProperty(e)?Tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Wx(e,n,i,r)&&(n=null),r||i===null?Kx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Pr=zx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hu=Symbol.for("react.element"),Os=Symbol.for("react.portal"),Ls=Symbol.for("react.fragment"),Mm=Symbol.for("react.strict_mode"),Wf=Symbol.for("react.profiler"),jw=Symbol.for("react.provider"),Vw=Symbol.for("react.context"),jm=Symbol.for("react.forward_ref"),Gf=Symbol.for("react.suspense"),Qf=Symbol.for("react.suspense_list"),Vm=Symbol.for("react.memo"),Vr=Symbol.for("react.lazy"),Fw=Symbol.for("react.offscreen"),Ov=Symbol.iterator;function ra(t){return t===null||typeof t!="object"?null:(t=Ov&&t[Ov]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,kh;function ma(t){if(kh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kh=e&&e[1]||""}return`
`+kh+t}var Nh=!1;function Oh(t,e){if(!t||Nh)return"";Nh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Nh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ma(t):""}function Gx(t){switch(t.tag){case 5:return ma(t.type);case 16:return ma("Lazy");case 13:return ma("Suspense");case 19:return ma("SuspenseList");case 0:case 2:case 15:return t=Oh(t.type,!1),t;case 11:return t=Oh(t.type.render,!1),t;case 1:return t=Oh(t.type,!0),t;default:return""}}function Jf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ls:return"Fragment";case Os:return"Portal";case Wf:return"Profiler";case Mm:return"StrictMode";case Gf:return"Suspense";case Qf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vw:return(t.displayName||"Context")+".Consumer";case jw:return(t._context.displayName||"Context")+".Provider";case jm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vm:return e=t.displayName||null,e!==null?e:Jf(t.type)||"Memo";case Vr:e=t._payload,t=t._init;try{return Jf(t(e))}catch{}}return null}function Qx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jf(e);case 8:return e===Mm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jx(t){var e=Uw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fu(t){t._valueTracker||(t._valueTracker=Jx(t))}function Bw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Uw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _c(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yf(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Lv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $w(t,e){e=e.checked,e!=null&&Dm(t,"checked",e,!1)}function Xf(t,e){$w(t,e);var n=hi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zf(t,e.type,hi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Dv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zf(t,e,n){(e!=="number"||_c(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ga=Array.isArray;function Gs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ep(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(ga(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hi(n)}}function zw(t,e){var n=hi(e.value),r=hi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Hw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pu,Kw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pu=pu||document.createElement("div"),pu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ka(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yx=["Webkit","ms","Moz","O"];Object.keys(ba).forEach(function(t){Yx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ba[e]=ba[t]})});function qw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ba.hasOwnProperty(t)&&ba[t]?(""+e).trim():e+"px"}function Ww(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Xx=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function np(t,e){if(e){if(Xx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function rp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=null;function Fm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sp=null,Qs=null,Js=null;function Vv(t){if(t=Cl(t)){if(typeof sp!="function")throw Error(J(280));var e=t.stateNode;e&&(e=bd(e),sp(t.stateNode,t.type,e))}}function Gw(t){Qs?Js?Js.push(t):Js=[t]:Qs=t}function Qw(){if(Qs){var t=Qs,e=Js;if(Js=Qs=null,Vv(t),e)for(t=0;t<e.length;t++)Vv(e[t])}}function Jw(t,e){return t(e)}function Yw(){}var Lh=!1;function Xw(t,e,n){if(Lh)return t(e,n);Lh=!0;try{return Jw(t,e,n)}finally{Lh=!1,(Qs!==null||Js!==null)&&(Yw(),Qw())}}function qa(t,e){var n=t.stateNode;if(n===null)return null;var r=bd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var op=!1;if(wr)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){op=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{op=!1}function Zx(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var xa=!1,Ec=null,wc=!1,ap=null,eR={onError:function(t){xa=!0,Ec=t}};function tR(t,e,n,r,i,s,o,a,l){xa=!1,Ec=null,Zx.apply(eR,arguments)}function nR(t,e,n,r,i,s,o,a,l){if(tR.apply(this,arguments),xa){if(xa){var c=Ec;xa=!1,Ec=null}else throw Error(J(198));wc||(wc=!0,ap=c)}}function as(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Zw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fv(t){if(as(t)!==t)throw Error(J(188))}function rR(t){var e=t.alternate;if(!e){if(e=as(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Fv(i),t;if(s===r)return Fv(i),e;s=s.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function eT(t){return t=rR(t),t!==null?tT(t):null}function tT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tT(t);if(e!==null)return e;t=t.sibling}return null}var nT=an.unstable_scheduleCallback,Uv=an.unstable_cancelCallback,iR=an.unstable_shouldYield,sR=an.unstable_requestPaint,Je=an.unstable_now,oR=an.unstable_getCurrentPriorityLevel,Um=an.unstable_ImmediatePriority,rT=an.unstable_UserBlockingPriority,Tc=an.unstable_NormalPriority,aR=an.unstable_LowPriority,iT=an.unstable_IdlePriority,Td=null,Kn=null;function lR(t){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Td,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:dR,uR=Math.log,cR=Math.LN2;function dR(t){return t>>>=0,t===0?32:31-(uR(t)/cR|0)|0}var mu=64,gu=4194304;function ya(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ya(a):(s&=o,s!==0&&(r=ya(s)))}else o=n&~i,o!==0?r=ya(o):s!==0&&(r=ya(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xn(e),i=1<<n,r|=t[n],e&=~i;return r}function hR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=hR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function lp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sT(){var t=mu;return mu<<=1,!(mu&4194240)&&(mu=64),t}function Dh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=n}function pR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Bm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pe=0;function oT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aT,$m,lT,uT,cT,up=!1,yu=[],Xr=null,Zr=null,ei=null,Wa=new Map,Ga=new Map,Ur=[],mR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bv(t,e){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":Wa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(e.pointerId)}}function sa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Cl(e),e!==null&&$m(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gR(t,e,n,r,i){switch(e){case"focusin":return Xr=sa(Xr,t,e,n,r,i),!0;case"dragenter":return Zr=sa(Zr,t,e,n,r,i),!0;case"mouseover":return ei=sa(ei,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Wa.set(s,sa(Wa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ga.set(s,sa(Ga.get(s)||null,t,e,n,r,i)),!0}return!1}function dT(t){var e=Vi(t.target);if(e!==null){var n=as(e);if(n!==null){if(e=n.tag,e===13){if(e=Zw(n),e!==null){t.blockedOn=e,cT(t.priority,function(){lT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $u(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ip=r,n.target.dispatchEvent(r),ip=null}else return e=Cl(n),e!==null&&$m(e),t.blockedOn=n,!1;e.shift()}return!0}function $v(t,e,n){$u(t)&&n.delete(e)}function yR(){up=!1,Xr!==null&&$u(Xr)&&(Xr=null),Zr!==null&&$u(Zr)&&(Zr=null),ei!==null&&$u(ei)&&(ei=null),Wa.forEach($v),Ga.forEach($v)}function oa(t,e){t.blockedOn===e&&(t.blockedOn=null,up||(up=!0,an.unstable_scheduleCallback(an.unstable_NormalPriority,yR)))}function Qa(t){function e(i){return oa(i,t)}if(0<yu.length){oa(yu[0],t);for(var n=1;n<yu.length;n++){var r=yu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xr!==null&&oa(Xr,t),Zr!==null&&oa(Zr,t),ei!==null&&oa(ei,t),Wa.forEach(e),Ga.forEach(e),n=0;n<Ur.length;n++)r=Ur[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ur.length&&(n=Ur[0],n.blockedOn===null);)dT(n),n.blockedOn===null&&Ur.shift()}var Ys=Pr.ReactCurrentBatchConfig,Ic=!0;function vR(t,e,n,r){var i=Pe,s=Ys.transition;Ys.transition=null;try{Pe=1,zm(t,e,n,r)}finally{Pe=i,Ys.transition=s}}function _R(t,e,n,r){var i=Pe,s=Ys.transition;Ys.transition=null;try{Pe=4,zm(t,e,n,r)}finally{Pe=i,Ys.transition=s}}function zm(t,e,n,r){if(Ic){var i=cp(t,e,n,r);if(i===null)Kh(t,e,r,Ac,n),Bv(t,r);else if(gR(i,t,e,n,r))r.stopPropagation();else if(Bv(t,r),e&4&&-1<mR.indexOf(t)){for(;i!==null;){var s=Cl(i);if(s!==null&&aT(s),s=cp(t,e,n,r),s===null&&Kh(t,e,r,Ac,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Kh(t,e,r,null,n)}}var Ac=null;function cp(t,e,n,r){if(Ac=null,t=Fm(r),t=Vi(t),t!==null)if(e=as(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Zw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ac=t,null}function hT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oR()){case Um:return 1;case rT:return 4;case Tc:case aR:return 16;case iT:return 536870912;default:return 16}default:return 16}}var qr=null,Hm=null,zu=null;function fT(){if(zu)return zu;var t,e=Hm,n=e.length,r,i="value"in qr?qr.value:qr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return zu=i.slice(t,1<r?1-r:void 0)}function Hu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vu(){return!0}function zv(){return!1}function un(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vu:zv,this.isPropagationStopped=zv,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vu)},persist:function(){},isPersistent:vu}),e}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Km=un(xo),Rl=He({},xo,{view:0,detail:0}),ER=un(Rl),Mh,jh,aa,Sd=He({},Rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==aa&&(aa&&t.type==="mousemove"?(Mh=t.screenX-aa.screenX,jh=t.screenY-aa.screenY):jh=Mh=0,aa=t),Mh)},movementY:function(t){return"movementY"in t?t.movementY:jh}}),Hv=un(Sd),wR=He({},Sd,{dataTransfer:0}),TR=un(wR),SR=He({},Rl,{relatedTarget:0}),Vh=un(SR),IR=He({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),AR=un(IR),bR=He({},xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xR=un(bR),RR=He({},xo,{data:0}),Kv=un(RR),CR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kR[t])?!!e[t]:!1}function qm(){return NR}var OR=He({},Rl,{key:function(t){if(t.key){var e=CR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qm,charCode:function(t){return t.type==="keypress"?Hu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LR=un(OR),DR=He({},Sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qv=un(DR),MR=He({},Rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qm}),jR=un(MR),VR=He({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),FR=un(VR),UR=He({},Sd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BR=un(UR),$R=[9,13,27,32],Wm=wr&&"CompositionEvent"in window,Ra=null;wr&&"documentMode"in document&&(Ra=document.documentMode);var zR=wr&&"TextEvent"in window&&!Ra,pT=wr&&(!Wm||Ra&&8<Ra&&11>=Ra),Wv=" ",Gv=!1;function mT(t,e){switch(t){case"keyup":return $R.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ds=!1;function HR(t,e){switch(t){case"compositionend":return gT(e);case"keypress":return e.which!==32?null:(Gv=!0,Wv);case"textInput":return t=e.data,t===Wv&&Gv?null:t;default:return null}}function KR(t,e){if(Ds)return t==="compositionend"||!Wm&&mT(t,e)?(t=fT(),zu=Hm=qr=null,Ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pT&&e.locale!=="ko"?null:e.data;default:return null}}var qR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qR[t.type]:e==="textarea"}function yT(t,e,n,r){Gw(r),e=bc(e,"onChange"),0<e.length&&(n=new Km("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ca=null,Ja=null;function WR(t){RT(t,0)}function Id(t){var e=Vs(t);if(Bw(e))return t}function GR(t,e){if(t==="change")return e}var vT=!1;if(wr){var Fh;if(wr){var Uh="oninput"in document;if(!Uh){var Jv=document.createElement("div");Jv.setAttribute("oninput","return;"),Uh=typeof Jv.oninput=="function"}Fh=Uh}else Fh=!1;vT=Fh&&(!document.documentMode||9<document.documentMode)}function Yv(){Ca&&(Ca.detachEvent("onpropertychange",_T),Ja=Ca=null)}function _T(t){if(t.propertyName==="value"&&Id(Ja)){var e=[];yT(e,Ja,t,Fm(t)),Xw(WR,e)}}function QR(t,e,n){t==="focusin"?(Yv(),Ca=e,Ja=n,Ca.attachEvent("onpropertychange",_T)):t==="focusout"&&Yv()}function JR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Id(Ja)}function YR(t,e){if(t==="click")return Id(e)}function XR(t,e){if(t==="input"||t==="change")return Id(e)}function ZR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:ZR;function Ya(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qf.call(e,i)||!kn(t[i],e[i]))return!1}return!0}function Xv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zv(t,e){var n=Xv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xv(n)}}function ET(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ET(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wT(){for(var t=window,e=_c();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_c(t.document)}return e}function Gm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eC(t){var e=wT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ET(n.ownerDocument.documentElement,n)){if(r!==null&&Gm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Zv(n,s);var o=Zv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tC=wr&&"documentMode"in document&&11>=document.documentMode,Ms=null,dp=null,Pa=null,hp=!1;function e0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hp||Ms==null||Ms!==_c(r)||(r=Ms,"selectionStart"in r&&Gm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pa&&Ya(Pa,r)||(Pa=r,r=bc(dp,"onSelect"),0<r.length&&(e=new Km("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ms)))}function _u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var js={animationend:_u("Animation","AnimationEnd"),animationiteration:_u("Animation","AnimationIteration"),animationstart:_u("Animation","AnimationStart"),transitionend:_u("Transition","TransitionEnd")},Bh={},TT={};wr&&(TT=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Ad(t){if(Bh[t])return Bh[t];if(!js[t])return t;var e=js[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in TT)return Bh[t]=e[n];return t}var ST=Ad("animationend"),IT=Ad("animationiteration"),AT=Ad("animationstart"),bT=Ad("transitionend"),xT=new Map,t0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(t,e){xT.set(t,e),os(e,[t])}for(var $h=0;$h<t0.length;$h++){var zh=t0[$h],nC=zh.toLowerCase(),rC=zh[0].toUpperCase()+zh.slice(1);Ei(nC,"on"+rC)}Ei(ST,"onAnimationEnd");Ei(IT,"onAnimationIteration");Ei(AT,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(bT,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));os("onBeforeInput",["compositionend","keypress","textInput","paste"]);os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iC=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function n0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nR(r,e,void 0,t),t.currentTarget=null}function RT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;n0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;n0(i,a,c),s=l}}}if(wc)throw t=ap,wc=!1,ap=null,t}function Me(t,e){var n=e[yp];n===void 0&&(n=e[yp]=new Set);var r=t+"__bubble";n.has(r)||(CT(e,t,2,!1),n.add(r))}function Hh(t,e,n){var r=0;e&&(r|=4),CT(n,t,r,e)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function Xa(t){if(!t[Eu]){t[Eu]=!0,Mw.forEach(function(n){n!=="selectionchange"&&(iC.has(n)||Hh(n,!1,t),Hh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eu]||(e[Eu]=!0,Hh("selectionchange",!1,e))}}function CT(t,e,n,r){switch(hT(e)){case 1:var i=vR;break;case 4:i=_R;break;default:i=zm}n=i.bind(null,e,n,t),i=void 0,!op||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Kh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Vi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Xw(function(){var c=s,d=Fm(n),h=[];e:{var p=xT.get(t);if(p!==void 0){var I=Km,g=t;switch(t){case"keypress":if(Hu(n)===0)break e;case"keydown":case"keyup":I=LR;break;case"focusin":g="focus",I=Vh;break;case"focusout":g="blur",I=Vh;break;case"beforeblur":case"afterblur":I=Vh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Hv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=TR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=jR;break;case ST:case IT:case AT:I=AR;break;case bT:I=FR;break;case"scroll":I=ER;break;case"wheel":I=BR;break;case"copy":case"cut":case"paste":I=xR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=qv}var v=(e&4)!==0,w=!v&&t==="scroll",_=v?p!==null?p+"Capture":null:p;v=[];for(var E=c,T;E!==null;){T=E;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,_!==null&&(k=qa(E,_),k!=null&&v.push(Za(E,k,T)))),w)break;E=E.return}0<v.length&&(p=new I(p,g,null,n,d),h.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",p&&n!==ip&&(g=n.relatedTarget||n.fromElement)&&(Vi(g)||g[Tr]))break e;if((I||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,I?(g=n.relatedTarget||n.toElement,I=c,g=g?Vi(g):null,g!==null&&(w=as(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(I=null,g=c),I!==g)){if(v=Hv,k="onMouseLeave",_="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(v=qv,k="onPointerLeave",_="onPointerEnter",E="pointer"),w=I==null?p:Vs(I),T=g==null?p:Vs(g),p=new v(k,E+"leave",I,n,d),p.target=w,p.relatedTarget=T,k=null,Vi(d)===c&&(v=new v(_,E+"enter",g,n,d),v.target=T,v.relatedTarget=w,k=v),w=k,I&&g)t:{for(v=I,_=g,E=0,T=v;T;T=Ss(T))E++;for(T=0,k=_;k;k=Ss(k))T++;for(;0<E-T;)v=Ss(v),E--;for(;0<T-E;)_=Ss(_),T--;for(;E--;){if(v===_||_!==null&&v===_.alternate)break t;v=Ss(v),_=Ss(_)}v=null}else v=null;I!==null&&r0(h,p,I,v,!1),g!==null&&w!==null&&r0(h,w,g,v,!0)}}e:{if(p=c?Vs(c):window,I=p.nodeName&&p.nodeName.toLowerCase(),I==="select"||I==="input"&&p.type==="file")var M=GR;else if(Qv(p))if(vT)M=XR;else{M=JR;var V=QR}else(I=p.nodeName)&&I.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=YR);if(M&&(M=M(t,c))){yT(h,M,n,d);break e}V&&V(t,p,c),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&Zf(p,"number",p.value)}switch(V=c?Vs(c):window,t){case"focusin":(Qv(V)||V.contentEditable==="true")&&(Ms=V,dp=c,Pa=null);break;case"focusout":Pa=dp=Ms=null;break;case"mousedown":hp=!0;break;case"contextmenu":case"mouseup":case"dragend":hp=!1,e0(h,n,d);break;case"selectionchange":if(tC)break;case"keydown":case"keyup":e0(h,n,d)}var x;if(Wm)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ds?mT(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(pT&&n.locale!=="ko"&&(Ds||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ds&&(x=fT()):(qr=d,Hm="value"in qr?qr.value:qr.textContent,Ds=!0)),V=bc(c,S),0<V.length&&(S=new Kv(S,t,null,n,d),h.push({event:S,listeners:V}),x?S.data=x:(x=gT(n),x!==null&&(S.data=x)))),(x=zR?HR(t,n):KR(t,n))&&(c=bc(c,"onBeforeInput"),0<c.length&&(d=new Kv("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=x))}RT(h,e)})}function Za(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=qa(t,n),s!=null&&r.unshift(Za(t,s,i)),s=qa(t,e),s!=null&&r.push(Za(t,s,i))),t=t.return}return r}function Ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function r0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=qa(n,s),l!=null&&o.unshift(Za(n,l,a))):i||(l=qa(n,s),l!=null&&o.push(Za(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sC=/\r\n?/g,oC=/\u0000|\uFFFD/g;function i0(t){return(typeof t=="string"?t:""+t).replace(sC,`
`).replace(oC,"")}function wu(t,e,n){if(e=i0(e),i0(t)!==e&&n)throw Error(J(425))}function xc(){}var fp=null,pp=null;function mp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gp=typeof setTimeout=="function"?setTimeout:void 0,aC=typeof clearTimeout=="function"?clearTimeout:void 0,s0=typeof Promise=="function"?Promise:void 0,lC=typeof queueMicrotask=="function"?queueMicrotask:typeof s0<"u"?function(t){return s0.resolve(null).then(t).catch(uC)}:gp;function uC(t){setTimeout(function(){throw t})}function qh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qa(e)}function ti(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function o0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ro=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Ro,el="__reactProps$"+Ro,Tr="__reactContainer$"+Ro,yp="__reactEvents$"+Ro,cC="__reactListeners$"+Ro,dC="__reactHandles$"+Ro;function Vi(t){var e=t[Hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tr]||n[Hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=o0(t);t!==null;){if(n=t[Hn])return n;t=o0(t)}return e}t=n,n=t.parentNode}return null}function Cl(t){return t=t[Hn]||t[Tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function bd(t){return t[el]||null}var vp=[],Fs=-1;function wi(t){return{current:t}}function je(t){0>Fs||(t.current=vp[Fs],vp[Fs]=null,Fs--)}function Le(t,e){Fs++,vp[Fs]=t.current,t.current=e}var fi={},Lt=wi(fi),qt=wi(!1),Ji=fi;function ao(t,e){var n=t.type.contextTypes;if(!n)return fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Wt(t){return t=t.childContextTypes,t!=null}function Rc(){je(qt),je(Lt)}function a0(t,e,n){if(Lt.current!==fi)throw Error(J(168));Le(Lt,e),Le(qt,n)}function PT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,Qx(t)||"Unknown",i));return He({},n,r)}function Cc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,Ji=Lt.current,Le(Lt,t),Le(qt,qt.current),!0}function l0(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=PT(t,e,Ji),r.__reactInternalMemoizedMergedChildContext=t,je(qt),je(Lt),Le(Lt,t)):je(qt),Le(qt,n)}var cr=null,xd=!1,Wh=!1;function kT(t){cr===null?cr=[t]:cr.push(t)}function hC(t){xd=!0,kT(t)}function Ti(){if(!Wh&&cr!==null){Wh=!0;var t=0,e=Pe;try{var n=cr;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cr=null,xd=!1}catch(i){throw cr!==null&&(cr=cr.slice(t+1)),nT(Um,Ti),i}finally{Pe=e,Wh=!1}}return null}var Us=[],Bs=0,Pc=null,kc=0,cn=[],dn=0,Yi=null,dr=1,hr="";function Li(t,e){Us[Bs++]=kc,Us[Bs++]=Pc,Pc=t,kc=e}function NT(t,e,n){cn[dn++]=dr,cn[dn++]=hr,cn[dn++]=Yi,Yi=t;var r=dr;t=hr;var i=32-xn(r)-1;r&=~(1<<i),n+=1;var s=32-xn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,dr=1<<32-xn(e)+i|n<<i|r,hr=s+t}else dr=1<<s|n<<i|r,hr=t}function Qm(t){t.return!==null&&(Li(t,1),NT(t,1,0))}function Jm(t){for(;t===Pc;)Pc=Us[--Bs],Us[Bs]=null,kc=Us[--Bs],Us[Bs]=null;for(;t===Yi;)Yi=cn[--dn],cn[dn]=null,hr=cn[--dn],cn[dn]=null,dr=cn[--dn],cn[dn]=null}var rn=null,nn=null,Fe=!1,In=null;function OT(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function u0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rn=t,nn=ti(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rn=t,nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yi!==null?{id:dr,overflow:hr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rn=t,nn=null,!0):!1;default:return!1}}function _p(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ep(t){if(Fe){var e=nn;if(e){var n=e;if(!u0(t,e)){if(_p(t))throw Error(J(418));e=ti(n.nextSibling);var r=rn;e&&u0(t,e)?OT(r,n):(t.flags=t.flags&-4097|2,Fe=!1,rn=t)}}else{if(_p(t))throw Error(J(418));t.flags=t.flags&-4097|2,Fe=!1,rn=t}}}function c0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function Tu(t){if(t!==rn)return!1;if(!Fe)return c0(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mp(t.type,t.memoizedProps)),e&&(e=nn)){if(_p(t))throw LT(),Error(J(418));for(;e;)OT(t,e),e=ti(e.nextSibling)}if(c0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){nn=ti(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}nn=null}}else nn=rn?ti(t.stateNode.nextSibling):null;return!0}function LT(){for(var t=nn;t;)t=ti(t.nextSibling)}function lo(){nn=rn=null,Fe=!1}function Ym(t){In===null?In=[t]:In.push(t)}var fC=Pr.ReactCurrentBatchConfig;function la(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Su(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function d0(t){var e=t._init;return e(t._payload)}function DT(t){function e(_,E){if(t){var T=_.deletions;T===null?(_.deletions=[E],_.flags|=16):T.push(E)}}function n(_,E){if(!t)return null;for(;E!==null;)e(_,E),E=E.sibling;return null}function r(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function i(_,E){return _=si(_,E),_.index=0,_.sibling=null,_}function s(_,E,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<E?(_.flags|=2,E):T):(_.flags|=2,E)):(_.flags|=1048576,E)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,E,T,k){return E===null||E.tag!==6?(E=ef(T,_.mode,k),E.return=_,E):(E=i(E,T),E.return=_,E)}function l(_,E,T,k){var M=T.type;return M===Ls?d(_,E,T.props.children,k,T.key):E!==null&&(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Vr&&d0(M)===E.type)?(k=i(E,T.props),k.ref=la(_,E,T),k.return=_,k):(k=Yu(T.type,T.key,T.props,null,_.mode,k),k.ref=la(_,E,T),k.return=_,k)}function c(_,E,T,k){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=tf(T,_.mode,k),E.return=_,E):(E=i(E,T.children||[]),E.return=_,E)}function d(_,E,T,k,M){return E===null||E.tag!==7?(E=qi(T,_.mode,k,M),E.return=_,E):(E=i(E,T),E.return=_,E)}function h(_,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ef(""+E,_.mode,T),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hu:return T=Yu(E.type,E.key,E.props,null,_.mode,T),T.ref=la(_,null,E),T.return=_,T;case Os:return E=tf(E,_.mode,T),E.return=_,E;case Vr:var k=E._init;return h(_,k(E._payload),T)}if(ga(E)||ra(E))return E=qi(E,_.mode,T,null),E.return=_,E;Su(_,E)}return null}function p(_,E,T,k){var M=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:a(_,E,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case hu:return T.key===M?l(_,E,T,k):null;case Os:return T.key===M?c(_,E,T,k):null;case Vr:return M=T._init,p(_,E,M(T._payload),k)}if(ga(T)||ra(T))return M!==null?null:d(_,E,T,k,null);Su(_,T)}return null}function I(_,E,T,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(T)||null,a(E,_,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case hu:return _=_.get(k.key===null?T:k.key)||null,l(E,_,k,M);case Os:return _=_.get(k.key===null?T:k.key)||null,c(E,_,k,M);case Vr:var V=k._init;return I(_,E,T,V(k._payload),M)}if(ga(k)||ra(k))return _=_.get(T)||null,d(E,_,k,M,null);Su(E,k)}return null}function g(_,E,T,k){for(var M=null,V=null,x=E,S=E=0,R=null;x!==null&&S<T.length;S++){x.index>S?(R=x,x=null):R=x.sibling;var C=p(_,x,T[S],k);if(C===null){x===null&&(x=R);break}t&&x&&C.alternate===null&&e(_,x),E=s(C,E,S),V===null?M=C:V.sibling=C,V=C,x=R}if(S===T.length)return n(_,x),Fe&&Li(_,S),M;if(x===null){for(;S<T.length;S++)x=h(_,T[S],k),x!==null&&(E=s(x,E,S),V===null?M=x:V.sibling=x,V=x);return Fe&&Li(_,S),M}for(x=r(_,x);S<T.length;S++)R=I(x,_,S,T[S],k),R!==null&&(t&&R.alternate!==null&&x.delete(R.key===null?S:R.key),E=s(R,E,S),V===null?M=R:V.sibling=R,V=R);return t&&x.forEach(function(P){return e(_,P)}),Fe&&Li(_,S),M}function v(_,E,T,k){var M=ra(T);if(typeof M!="function")throw Error(J(150));if(T=M.call(T),T==null)throw Error(J(151));for(var V=M=null,x=E,S=E=0,R=null,C=T.next();x!==null&&!C.done;S++,C=T.next()){x.index>S?(R=x,x=null):R=x.sibling;var P=p(_,x,C.value,k);if(P===null){x===null&&(x=R);break}t&&x&&P.alternate===null&&e(_,x),E=s(P,E,S),V===null?M=P:V.sibling=P,V=P,x=R}if(C.done)return n(_,x),Fe&&Li(_,S),M;if(x===null){for(;!C.done;S++,C=T.next())C=h(_,C.value,k),C!==null&&(E=s(C,E,S),V===null?M=C:V.sibling=C,V=C);return Fe&&Li(_,S),M}for(x=r(_,x);!C.done;S++,C=T.next())C=I(x,_,S,C.value,k),C!==null&&(t&&C.alternate!==null&&x.delete(C.key===null?S:C.key),E=s(C,E,S),V===null?M=C:V.sibling=C,V=C);return t&&x.forEach(function(N){return e(_,N)}),Fe&&Li(_,S),M}function w(_,E,T,k){if(typeof T=="object"&&T!==null&&T.type===Ls&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case hu:e:{for(var M=T.key,V=E;V!==null;){if(V.key===M){if(M=T.type,M===Ls){if(V.tag===7){n(_,V.sibling),E=i(V,T.props.children),E.return=_,_=E;break e}}else if(V.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Vr&&d0(M)===V.type){n(_,V.sibling),E=i(V,T.props),E.ref=la(_,V,T),E.return=_,_=E;break e}n(_,V);break}else e(_,V);V=V.sibling}T.type===Ls?(E=qi(T.props.children,_.mode,k,T.key),E.return=_,_=E):(k=Yu(T.type,T.key,T.props,null,_.mode,k),k.ref=la(_,E,T),k.return=_,_=k)}return o(_);case Os:e:{for(V=T.key;E!==null;){if(E.key===V)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(_,E.sibling),E=i(E,T.children||[]),E.return=_,_=E;break e}else{n(_,E);break}else e(_,E);E=E.sibling}E=tf(T,_.mode,k),E.return=_,_=E}return o(_);case Vr:return V=T._init,w(_,E,V(T._payload),k)}if(ga(T))return g(_,E,T,k);if(ra(T))return v(_,E,T,k);Su(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,E!==null&&E.tag===6?(n(_,E.sibling),E=i(E,T),E.return=_,_=E):(n(_,E),E=ef(T,_.mode,k),E.return=_,_=E),o(_)):n(_,E)}return w}var uo=DT(!0),MT=DT(!1),Nc=wi(null),Oc=null,$s=null,Xm=null;function Zm(){Xm=$s=Oc=null}function eg(t){var e=Nc.current;je(Nc),t._currentValue=e}function wp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xs(t,e){Oc=t,Xm=$s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function mn(t){var e=t._currentValue;if(Xm!==t)if(t={context:t,memoizedValue:e,next:null},$s===null){if(Oc===null)throw Error(J(308));$s=t,Oc.dependencies={lanes:0,firstContext:t}}else $s=$s.next=t;return e}var Fi=null;function tg(t){Fi===null?Fi=[t]:Fi.push(t)}function jT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,tg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Sr(t,r)}function Sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function ng(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ni(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Sr(t,n)}return i=r.interleaved,i===null?(e.next=e,tg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Sr(t,n)}function Ku(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bm(t,n)}}function h0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lc(t,e,n,r){var i=t.updateQueue;Fr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,I=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:I,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(p=e,I=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(I,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(I,h,p):g,p==null)break e;h=He({},h,p);break e;case 2:Fr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else I={eventTime:I,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=I,l=h):d=d.next=I,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zi|=o,t.lanes=o,t.memoizedState=h}}function f0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var Pl={},qn=wi(Pl),tl=wi(Pl),nl=wi(Pl);function Ui(t){if(t===Pl)throw Error(J(174));return t}function rg(t,e){switch(Le(nl,e),Le(tl,t),Le(qn,Pl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tp(e,t)}je(qn),Le(qn,e)}function co(){je(qn),je(tl),je(nl)}function FT(t){Ui(nl.current);var e=Ui(qn.current),n=tp(e,t.type);e!==n&&(Le(tl,t),Le(qn,n))}function ig(t){tl.current===t&&(je(qn),je(tl))}var Be=wi(0);function Dc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gh=[];function sg(){for(var t=0;t<Gh.length;t++)Gh[t]._workInProgressVersionPrimary=null;Gh.length=0}var qu=Pr.ReactCurrentDispatcher,Qh=Pr.ReactCurrentBatchConfig,Xi=0,ze=null,st=null,pt=null,Mc=!1,ka=!1,rl=0,pC=0;function xt(){throw Error(J(321))}function og(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kn(t[n],e[n]))return!1;return!0}function ag(t,e,n,r,i,s){if(Xi=s,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qu.current=t===null||t.memoizedState===null?vC:_C,t=n(r,i),ka){s=0;do{if(ka=!1,rl=0,25<=s)throw Error(J(301));s+=1,pt=st=null,e.updateQueue=null,qu.current=EC,t=n(r,i)}while(ka)}if(qu.current=jc,e=st!==null&&st.next!==null,Xi=0,pt=st=ze=null,Mc=!1,e)throw Error(J(300));return t}function lg(){var t=rl!==0;return rl=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?ze.memoizedState=pt=t:pt=pt.next=t,pt}function gn(){if(st===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=pt===null?ze.memoizedState:pt.next;if(e!==null)pt=e,st=t;else{if(t===null)throw Error(J(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},pt===null?ze.memoizedState=pt=t:pt=pt.next=t}return pt}function il(t,e){return typeof e=="function"?e(t):e}function Jh(t){var e=gn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Xi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ze.lanes|=d,Zi|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,kn(r,e.memoizedState)||(Kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ze.lanes|=s,Zi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yh(t){var e=gn(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);kn(s,e.memoizedState)||(Kt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function UT(){}function BT(t,e){var n=ze,r=gn(),i=e(),s=!kn(r.memoizedState,i);if(s&&(r.memoizedState=i,Kt=!0),r=r.queue,ug(HT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,sl(9,zT.bind(null,n,r,i,e),void 0,null),mt===null)throw Error(J(349));Xi&30||$T(n,e,i)}return i}function $T(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zT(t,e,n,r){e.value=n,e.getSnapshot=r,KT(e)&&qT(t)}function HT(t,e,n){return n(function(){KT(e)&&qT(t)})}function KT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kn(t,n)}catch{return!0}}function qT(t){var e=Sr(t,1);e!==null&&Rn(e,t,1,-1)}function p0(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:t},e.queue=t,t=t.dispatch=yC.bind(null,ze,t),[e.memoizedState,t]}function sl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WT(){return gn().memoizedState}function Wu(t,e,n,r){var i=Fn();ze.flags|=t,i.memoizedState=sl(1|e,n,void 0,r===void 0?null:r)}function Rd(t,e,n,r){var i=gn();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&og(r,o.deps)){i.memoizedState=sl(e,n,s,r);return}}ze.flags|=t,i.memoizedState=sl(1|e,n,s,r)}function m0(t,e){return Wu(8390656,8,t,e)}function ug(t,e){return Rd(2048,8,t,e)}function GT(t,e){return Rd(4,2,t,e)}function QT(t,e){return Rd(4,4,t,e)}function JT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YT(t,e,n){return n=n!=null?n.concat([t]):null,Rd(4,4,JT.bind(null,e,t),n)}function cg(){}function XT(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&og(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZT(t,e){var n=gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&og(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eS(t,e,n){return Xi&21?(kn(n,e)||(n=sT(),ze.lanes|=n,Zi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=n)}function mC(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=Qh.transition;Qh.transition={};try{t(!1),e()}finally{Pe=n,Qh.transition=r}}function tS(){return gn().memoizedState}function gC(t,e,n){var r=ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nS(t))rS(e,n);else if(n=jT(t,e,n,r),n!==null){var i=Ut();Rn(n,t,r,i),iS(n,e,r)}}function yC(t,e,n){var r=ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nS(t))rS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,kn(a,o)){var l=e.interleaved;l===null?(i.next=i,tg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=jT(t,e,i,r),n!==null&&(i=Ut(),Rn(n,t,r,i),iS(n,e,r))}}function nS(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function rS(t,e){ka=Mc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Bm(t,n)}}var jc={readContext:mn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},vC={readContext:mn,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:mn,useEffect:m0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wu(4194308,4,JT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wu(4,2,t,e)},useMemo:function(t,e){var n=Fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=gC.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:p0,useDebugValue:cg,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=p0(!1),e=t[0];return t=mC.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,i=Fn();if(Fe){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),mt===null)throw Error(J(349));Xi&30||$T(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,m0(HT.bind(null,r,s,t),[t]),r.flags|=2048,sl(9,zT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Fn(),e=mt.identifierPrefix;if(Fe){var n=hr,r=dr;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_C={readContext:mn,useCallback:XT,useContext:mn,useEffect:ug,useImperativeHandle:YT,useInsertionEffect:GT,useLayoutEffect:QT,useMemo:ZT,useReducer:Jh,useRef:WT,useState:function(){return Jh(il)},useDebugValue:cg,useDeferredValue:function(t){var e=gn();return eS(e,st.memoizedState,t)},useTransition:function(){var t=Jh(il)[0],e=gn().memoizedState;return[t,e]},useMutableSource:UT,useSyncExternalStore:BT,useId:tS,unstable_isNewReconciler:!1},EC={readContext:mn,useCallback:XT,useContext:mn,useEffect:ug,useImperativeHandle:YT,useInsertionEffect:GT,useLayoutEffect:QT,useMemo:ZT,useReducer:Yh,useRef:WT,useState:function(){return Yh(il)},useDebugValue:cg,useDeferredValue:function(t){var e=gn();return st===null?e.memoizedState=t:eS(e,st.memoizedState,t)},useTransition:function(){var t=Yh(il)[0],e=gn().memoizedState;return[t,e]},useMutableSource:UT,useSyncExternalStore:BT,useId:tS,unstable_isNewReconciler:!1};function Tn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Tp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cd={isMounted:function(t){return(t=t._reactInternals)?as(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=ii(t),s=vr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ni(t,s,i),e!==null&&(Rn(e,t,i,r),Ku(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=ii(t),s=vr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ni(t,s,i),e!==null&&(Rn(e,t,i,r),Ku(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=ii(t),i=vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ni(t,i,r),e!==null&&(Rn(e,t,r,n),Ku(e,t,r))}};function g0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ya(n,r)||!Ya(i,s):!0}function sS(t,e,n){var r=!1,i=fi,s=e.contextType;return typeof s=="object"&&s!==null?s=mn(s):(i=Wt(e)?Ji:Lt.current,r=e.contextTypes,s=(r=r!=null)?ao(t,i):fi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function y0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cd.enqueueReplaceState(e,e.state,null)}function Sp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ng(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=mn(s):(s=Wt(e)?Ji:Lt.current,i.context=ao(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Tp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cd.enqueueReplaceState(i,i.state,null),Lc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ho(t,e){try{var n="",r=e;do n+=Gx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Xh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ip(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wC=typeof WeakMap=="function"?WeakMap:Map;function oS(t,e,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fc||(Fc=!0,Lp=r),Ip(t,e)},n}function aS(t,e,n){n=vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ip(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ip(t,e),typeof r!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function v0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new wC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=DC.bind(null,t,e,n),e.then(t,t))}function _0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function E0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vr(-1,1),e.tag=2,ni(n,e,1))),n.lanes|=1),t)}var TC=Pr.ReactCurrentOwner,Kt=!1;function Ft(t,e,n,r){e.child=t===null?MT(e,null,n,r):uo(e,t.child,n,r)}function w0(t,e,n,r,i){n=n.render;var s=e.ref;return Xs(e,i),r=ag(t,e,n,r,s,i),n=lg(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(Fe&&n&&Qm(e),e.flags|=1,Ft(t,e,r,i),e.child)}function T0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!vg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,lS(t,e,s,r,i)):(t=Yu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ya,n(o,r)&&t.ref===e.ref)return Ir(t,e,i)}return e.flags|=1,t=si(s,r),t.ref=e.ref,t.return=e,e.child=t}function lS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ya(s,r)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,Ir(t,e,i)}return Ap(t,e,n,r,i)}function uS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Hs,en),en|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(Hs,en),en|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Le(Hs,en),en|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Le(Hs,en),en|=r;return Ft(t,e,i,n),e.child}function cS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ap(t,e,n,r,i){var s=Wt(n)?Ji:Lt.current;return s=ao(e,s),Xs(e,i),n=ag(t,e,n,r,s,i),r=lg(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(Fe&&r&&Qm(e),e.flags|=1,Ft(t,e,n,i),e.child)}function S0(t,e,n,r,i){if(Wt(n)){var s=!0;Cc(e)}else s=!1;if(Xs(e,i),e.stateNode===null)Gu(t,e),sS(e,n,r),Sp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=mn(c):(c=Wt(n)?Ji:Lt.current,c=ao(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&y0(e,o,r,c),Fr=!1;var p=e.memoizedState;o.state=p,Lc(e,r,o,i),l=e.memoizedState,a!==r||p!==l||qt.current||Fr?(typeof d=="function"&&(Tp(e,n,d,r),l=e.memoizedState),(a=Fr||g0(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,VT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Tn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=mn(l):(l=Wt(n)?Ji:Lt.current,l=ao(e,l));var I=n.getDerivedStateFromProps;(d=typeof I=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&y0(e,o,r,l),Fr=!1,p=e.memoizedState,o.state=p,Lc(e,r,o,i);var g=e.memoizedState;a!==h||p!==g||qt.current||Fr?(typeof I=="function"&&(Tp(e,n,I,r),g=e.memoizedState),(c=Fr||g0(e,n,c,r,p,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return bp(t,e,n,r,s,i)}function bp(t,e,n,r,i,s){cS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&l0(e,n,!1),Ir(t,e,s);r=e.stateNode,TC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=uo(e,t.child,null,s),e.child=uo(e,null,a,s)):Ft(t,e,a,s),e.memoizedState=r.state,i&&l0(e,n,!0),e.child}function dS(t){var e=t.stateNode;e.pendingContext?a0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&a0(t,e.context,!1),rg(t,e.containerInfo)}function I0(t,e,n,r,i){return lo(),Ym(i),e.flags|=256,Ft(t,e,n,r),e.child}var xp={dehydrated:null,treeContext:null,retryLane:0};function Rp(t){return{baseLanes:t,cachePool:null,transitions:null}}function hS(t,e,n){var r=e.pendingProps,i=Be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le(Be,i&1),t===null)return Ep(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nd(o,r,0,null),t=qi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Rp(n),e.memoizedState=xp,t):dg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return SC(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=si(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=si(a,s):(s=qi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Rp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=xp,r}return s=t.child,t=s.sibling,r=si(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dg(t,e){return e=Nd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Iu(t,e,n,r){return r!==null&&Ym(r),uo(e,t.child,null,n),t=dg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Xh(Error(J(422))),Iu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Nd({mode:"visible",children:r.children},i,0,null),s=qi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&uo(e,t.child,null,o),e.child.memoizedState=Rp(o),e.memoizedState=xp,s);if(!(e.mode&1))return Iu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(J(419)),r=Xh(s,r,void 0),Iu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Kt||a){if(r=mt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Sr(t,i),Rn(r,t,i,-1))}return yg(),r=Xh(Error(J(421))),Iu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,nn=ti(i.nextSibling),rn=e,Fe=!0,In=null,t!==null&&(cn[dn++]=dr,cn[dn++]=hr,cn[dn++]=Yi,dr=t.id,hr=t.overflow,Yi=e),e=dg(e,r.children),e.flags|=4096,e)}function A0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wp(t.return,e,n)}function Zh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function fS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ft(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A0(t,n,e);else if(t.tag===19)A0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Dc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Dc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zh(e,!0,n,null,s);break;case"together":Zh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function IC(t,e,n){switch(e.tag){case 3:dS(e),lo();break;case 5:FT(e);break;case 1:Wt(e.type)&&Cc(e);break;case 4:rg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(Nc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?hS(t,e,n):(Le(Be,Be.current&1),t=Ir(t,e,n),t!==null?t.sibling:null);Le(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,uS(t,e,n)}return Ir(t,e,n)}var pS,Cp,mS,gS;pS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cp=function(){};mS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ui(qn.current);var s=null;switch(n){case"input":i=Yf(t,i),r=Yf(t,r),s=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),s=[];break;case"textarea":i=ep(t,i),r=ep(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xc)}np(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ha.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ha.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Me("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};gS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ua(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AC(t,e,n){var r=e.pendingProps;switch(Jm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(e),null;case 1:return Wt(e.type)&&Rc(),Rt(e),null;case 3:return r=e.stateNode,co(),je(qt),je(Lt),sg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,In!==null&&(jp(In),In=null))),Cp(t,e),Rt(e),null;case 5:ig(e);var i=Ui(nl.current);if(n=e.type,t!==null&&e.stateNode!=null)mS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return Rt(e),null}if(t=Ui(qn.current),Tu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Hn]=e,r[el]=s,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(i=0;i<va.length;i++)Me(va[i],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Lv(r,s),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Me("invalid",r);break;case"textarea":Mv(r,s),Me("invalid",r)}np(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&wu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&wu(r.textContent,a,t),i=["children",""+a]):Ha.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":fu(r),Dv(r,s,!0);break;case"textarea":fu(r),jv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Hn]=e,t[el]=r,pS(t,e,!1,!1),e.stateNode=t;e:{switch(o=rp(n,r),n){case"dialog":Me("cancel",t),Me("close",t),i=r;break;case"iframe":case"object":case"embed":Me("load",t),i=r;break;case"video":case"audio":for(i=0;i<va.length;i++)Me(va[i],t);i=r;break;case"source":Me("error",t),i=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),i=r;break;case"details":Me("toggle",t),i=r;break;case"input":Lv(t,r),i=Yf(t,r),Me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),Me("invalid",t);break;case"textarea":Mv(t,r),i=ep(t,r),Me("invalid",t);break;default:i=r}np(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ww(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ka(t,l):typeof l=="number"&&Ka(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ha.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Me("scroll",t):l!=null&&Dm(t,s,l,o))}switch(n){case"input":fu(t),Dv(t,r,!1);break;case"textarea":fu(t),jv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Gs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Gs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rt(e),null;case 6:if(t&&e.stateNode!=null)gS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Ui(nl.current),Ui(qn.current),Tu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hn]=e,(s=r.nodeValue!==n)&&(t=rn,t!==null))switch(t.tag){case 3:wu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hn]=e,e.stateNode=r}return Rt(e),null;case 13:if(je(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&nn!==null&&e.mode&1&&!(e.flags&128))LT(),lo(),e.flags|=98560,s=!1;else if(s=Tu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[Hn]=e}else lo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rt(e),s=!1}else In!==null&&(jp(In),In=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?at===0&&(at=3):yg())),e.updateQueue!==null&&(e.flags|=4),Rt(e),null);case 4:return co(),Cp(t,e),t===null&&Xa(e.stateNode.containerInfo),Rt(e),null;case 10:return eg(e.type._context),Rt(e),null;case 17:return Wt(e.type)&&Rc(),Rt(e),null;case 19:if(je(Be),s=e.memoizedState,s===null)return Rt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ua(s,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Dc(t),o!==null){for(e.flags|=128,ua(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Be,Be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>fo&&(e.flags|=128,r=!0,ua(s,!1),e.lanes=4194304)}else{if(!r)if(t=Dc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ua(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return Rt(e),null}else 2*Je()-s.renderingStartTime>fo&&n!==1073741824&&(e.flags|=128,r=!0,ua(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=Be.current,Le(Be,r?n&1|2:n&1),e):(Rt(e),null);case 22:case 23:return gg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?en&1073741824&&(Rt(e),e.subtreeFlags&6&&(e.flags|=8192)):Rt(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function bC(t,e){switch(Jm(e),e.tag){case 1:return Wt(e.type)&&Rc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return co(),je(qt),je(Lt),sg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ig(e),null;case 13:if(je(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));lo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(Be),null;case 4:return co(),null;case 10:return eg(e.type._context),null;case 22:case 23:return gg(),null;case 24:return null;default:return null}}var Au=!1,kt=!1,xC=typeof WeakSet=="function"?WeakSet:Set,ne=null;function zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function Pp(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var b0=!1;function RC(t,e){if(fp=Ic,t=wT(),Gm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var I;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(I=h.firstChild)!==null;)p=h,h=I;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(I=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=I}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pp={focusedElem:t,selectionRange:n},Ic=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,_=e.stateNode,E=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Tn(e.type,v),w);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(k){Ge(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return g=b0,b0=!1,g}function Na(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Pp(e,n,s)}i=i.next}while(i!==r)}}function Pd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function yS(t){var e=t.alternate;e!==null&&(t.alternate=null,yS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hn],delete e[el],delete e[yp],delete e[cC],delete e[dC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vS(t){return t.tag===5||t.tag===3||t.tag===4}function x0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Np(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xc));else if(r!==4&&(t=t.child,t!==null))for(Np(t,e,n),t=t.sibling;t!==null;)Np(t,e,n),t=t.sibling}function Op(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Op(t,e,n),t=t.sibling;t!==null;)Op(t,e,n),t=t.sibling}var vt=null,Sn=!1;function Mr(t,e,n){for(n=n.child;n!==null;)_S(t,e,n),n=n.sibling}function _S(t,e,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Td,n)}catch{}switch(n.tag){case 5:kt||zs(n,e);case 6:var r=vt,i=Sn;vt=null,Mr(t,e,n),vt=r,Sn=i,vt!==null&&(Sn?(t=vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(Sn?(t=vt,n=n.stateNode,t.nodeType===8?qh(t.parentNode,n):t.nodeType===1&&qh(t,n),Qa(t)):qh(vt,n.stateNode));break;case 4:r=vt,i=Sn,vt=n.stateNode.containerInfo,Sn=!0,Mr(t,e,n),vt=r,Sn=i;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Pp(n,e,o),i=i.next}while(i!==r)}Mr(t,e,n);break;case 1:if(!kt&&(zs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}Mr(t,e,n);break;case 21:Mr(t,e,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,Mr(t,e,n),kt=r):Mr(t,e,n);break;default:Mr(t,e,n)}}function R0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xC),e.forEach(function(r){var i=jC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,Sn=!1;break e;case 3:vt=a.stateNode.containerInfo,Sn=!0;break e;case 4:vt=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(vt===null)throw Error(J(160));_S(s,o,i),vt=null,Sn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ge(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ES(e,t),e=e.sibling}function ES(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_n(e,t),Dn(t),r&4){try{Na(3,t,t.return),Pd(3,t)}catch(v){Ge(t,t.return,v)}try{Na(5,t,t.return)}catch(v){Ge(t,t.return,v)}}break;case 1:_n(e,t),Dn(t),r&512&&n!==null&&zs(n,n.return);break;case 5:if(_n(e,t),Dn(t),r&512&&n!==null&&zs(n,n.return),t.flags&32){var i=t.stateNode;try{Ka(i,"")}catch(v){Ge(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$w(i,s),rp(a,o);var c=rp(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Ww(i,h):d==="dangerouslySetInnerHTML"?Kw(i,h):d==="children"?Ka(i,h):Dm(i,d,h,c)}switch(a){case"input":Xf(i,s);break;case"textarea":zw(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var I=s.value;I!=null?Gs(i,!!s.multiple,I,!1):p!==!!s.multiple&&(s.defaultValue!=null?Gs(i,!!s.multiple,s.defaultValue,!0):Gs(i,!!s.multiple,s.multiple?[]:"",!1))}i[el]=s}catch(v){Ge(t,t.return,v)}}break;case 6:if(_n(e,t),Dn(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Ge(t,t.return,v)}}break;case 3:if(_n(e,t),Dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qa(e.containerInfo)}catch(v){Ge(t,t.return,v)}break;case 4:_n(e,t),Dn(t);break;case 13:_n(e,t),Dn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(pg=Je())),r&4&&R0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(kt=(c=kt)||d,_n(e,t),kt=c):_n(e,t),Dn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ne=t,d=t.child;d!==null;){for(h=ne=d;ne!==null;){switch(p=ne,I=p.child,p.tag){case 0:case 11:case 14:case 15:Na(4,p,p.return);break;case 1:zs(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Ge(r,n,v)}}break;case 5:zs(p,p.return);break;case 22:if(p.memoizedState!==null){P0(h);continue}}I!==null?(I.return=p,ne=I):P0(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=qw("display",o))}catch(v){Ge(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){Ge(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_n(e,t),Dn(t),r&4&&R0(t);break;case 21:break;default:_n(e,t),Dn(t)}}function Dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vS(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ka(i,""),r.flags&=-33);var s=x0(t);Op(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=x0(t);Np(t,a,o);break;default:throw Error(J(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CC(t,e,n){ne=t,wS(t)}function wS(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Au;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||kt;a=Au;var c=kt;if(Au=o,(kt=l)&&!c)for(ne=i;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?k0(i):l!==null?(l.return=o,ne=l):k0(i);for(;s!==null;)ne=s,wS(s),s=s.sibling;ne=i,Au=a,kt=c}C0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):C0(t)}}function C0(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kt||Pd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!kt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&f0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}f0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Qa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}kt||e.flags&512&&kp(e)}catch(p){Ge(e,e.return,p)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function P0(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function k0(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pd(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ge(e,i,l)}}var s=e.return;try{kp(e)}catch(l){Ge(e,s,l)}break;case 5:var o=e.return;try{kp(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var PC=Math.ceil,Vc=Pr.ReactCurrentDispatcher,hg=Pr.ReactCurrentOwner,pn=Pr.ReactCurrentBatchConfig,be=0,mt=null,et=null,wt=0,en=0,Hs=wi(0),at=0,ol=null,Zi=0,kd=0,fg=0,Oa=null,Ht=null,pg=0,fo=1/0,lr=null,Fc=!1,Lp=null,ri=null,bu=!1,Wr=null,Uc=0,La=0,Dp=null,Qu=-1,Ju=0;function Ut(){return be&6?Je():Qu!==-1?Qu:Qu=Je()}function ii(t){return t.mode&1?be&2&&wt!==0?wt&-wt:fC.transition!==null?(Ju===0&&(Ju=sT()),Ju):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:hT(t.type)),t):1}function Rn(t,e,n,r){if(50<La)throw La=0,Dp=null,Error(J(185));xl(t,n,r),(!(be&2)||t!==mt)&&(t===mt&&(!(be&2)&&(kd|=n),at===4&&Br(t,wt)),Gt(t,r),n===1&&be===0&&!(e.mode&1)&&(fo=Je()+500,xd&&Ti()))}function Gt(t,e){var n=t.callbackNode;fR(t,e);var r=Sc(t,t===mt?wt:0);if(r===0)n!==null&&Uv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Uv(n),e===1)t.tag===0?hC(N0.bind(null,t)):kT(N0.bind(null,t)),lC(function(){!(be&6)&&Ti()}),n=null;else{switch(oT(r)){case 1:n=Um;break;case 4:n=rT;break;case 16:n=Tc;break;case 536870912:n=iT;break;default:n=Tc}n=CS(n,TS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TS(t,e){if(Qu=-1,Ju=0,be&6)throw Error(J(327));var n=t.callbackNode;if(Zs()&&t.callbackNode!==n)return null;var r=Sc(t,t===mt?wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bc(t,r);else{e=r;var i=be;be|=2;var s=IS();(mt!==t||wt!==e)&&(lr=null,fo=Je()+500,Ki(t,e));do try{OC();break}catch(a){SS(t,a)}while(!0);Zm(),Vc.current=s,be=i,et!==null?e=0:(mt=null,wt=0,e=at)}if(e!==0){if(e===2&&(i=lp(t),i!==0&&(r=i,e=Mp(t,i))),e===1)throw n=ol,Ki(t,0),Br(t,r),Gt(t,Je()),n;if(e===6)Br(t,r);else{if(i=t.current.alternate,!(r&30)&&!kC(i)&&(e=Bc(t,r),e===2&&(s=lp(t),s!==0&&(r=s,e=Mp(t,s))),e===1))throw n=ol,Ki(t,0),Br(t,r),Gt(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:Di(t,Ht,lr);break;case 3:if(Br(t,r),(r&130023424)===r&&(e=pg+500-Je(),10<e)){if(Sc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=gp(Di.bind(null,t,Ht,lr),e);break}Di(t,Ht,lr);break;case 4:if(Br(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-xn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PC(r/1960))-r,10<r){t.timeoutHandle=gp(Di.bind(null,t,Ht,lr),r);break}Di(t,Ht,lr);break;case 5:Di(t,Ht,lr);break;default:throw Error(J(329))}}}return Gt(t,Je()),t.callbackNode===n?TS.bind(null,t):null}function Mp(t,e){var n=Oa;return t.current.memoizedState.isDehydrated&&(Ki(t,e).flags|=256),t=Bc(t,e),t!==2&&(e=Ht,Ht=n,e!==null&&jp(e)),t}function jp(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function kC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!kn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Br(t,e){for(e&=~fg,e&=~kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xn(e),r=1<<n;t[n]=-1,e&=~r}}function N0(t){if(be&6)throw Error(J(327));Zs();var e=Sc(t,0);if(!(e&1))return Gt(t,Je()),null;var n=Bc(t,e);if(t.tag!==0&&n===2){var r=lp(t);r!==0&&(e=r,n=Mp(t,r))}if(n===1)throw n=ol,Ki(t,0),Br(t,e),Gt(t,Je()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Di(t,Ht,lr),Gt(t,Je()),null}function mg(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(fo=Je()+500,xd&&Ti())}}function es(t){Wr!==null&&Wr.tag===0&&!(be&6)&&Zs();var e=be;be|=1;var n=pn.transition,r=Pe;try{if(pn.transition=null,Pe=1,t)return t()}finally{Pe=r,pn.transition=n,be=e,!(be&6)&&Ti()}}function gg(){en=Hs.current,je(Hs)}function Ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aC(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(Jm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Rc();break;case 3:co(),je(qt),je(Lt),sg();break;case 5:ig(r);break;case 4:co();break;case 13:je(Be);break;case 19:je(Be);break;case 10:eg(r.type._context);break;case 22:case 23:gg()}n=n.return}if(mt=t,et=t=si(t.current,null),wt=en=e,at=0,ol=null,fg=kd=Zi=0,Ht=Oa=null,Fi!==null){for(e=0;e<Fi.length;e++)if(n=Fi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Fi=null}return t}function SS(t,e){do{var n=et;try{if(Zm(),qu.current=jc,Mc){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mc=!1}if(Xi=0,pt=st=ze=null,ka=!1,rl=0,hg.current=null,n===null||n.return===null){at=1,ol=e,et=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var I=_0(o);if(I!==null){I.flags&=-257,E0(I,o,a,s,e),I.mode&1&&v0(s,c,e),e=I,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){v0(s,c,e),yg();break e}l=Error(J(426))}}else if(Fe&&a.mode&1){var w=_0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),E0(w,o,a,s,e),Ym(ho(l,a));break e}}s=l=ho(l,a),at!==4&&(at=2),Oa===null?Oa=[s]:Oa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=oS(s,l,e);h0(s,_);break e;case 1:a=l;var E=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ri===null||!ri.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=aS(s,a,e);h0(s,k);break e}}s=s.return}while(s!==null)}bS(n)}catch(M){e=M,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function IS(){var t=Vc.current;return Vc.current=jc,t===null?jc:t}function yg(){(at===0||at===3||at===2)&&(at=4),mt===null||!(Zi&268435455)&&!(kd&268435455)||Br(mt,wt)}function Bc(t,e){var n=be;be|=2;var r=IS();(mt!==t||wt!==e)&&(lr=null,Ki(t,e));do try{NC();break}catch(i){SS(t,i)}while(!0);if(Zm(),be=n,Vc.current=r,et!==null)throw Error(J(261));return mt=null,wt=0,at}function NC(){for(;et!==null;)AS(et)}function OC(){for(;et!==null&&!iR();)AS(et)}function AS(t){var e=RS(t.alternate,t,en);t.memoizedProps=t.pendingProps,e===null?bS(t):et=e,hg.current=null}function bS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bC(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,et=null;return}}else if(n=AC(n,e,en),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);at===0&&(at=5)}function Di(t,e,n){var r=Pe,i=pn.transition;try{pn.transition=null,Pe=1,LC(t,e,n,r)}finally{pn.transition=i,Pe=r}return null}function LC(t,e,n,r){do Zs();while(Wr!==null);if(be&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pR(t,s),t===mt&&(et=mt=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bu||(bu=!0,CS(Tc,function(){return Zs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=pn.transition,pn.transition=null;var o=Pe;Pe=1;var a=be;be|=4,hg.current=null,RC(t,n),ES(n,t),eC(pp),Ic=!!fp,pp=fp=null,t.current=n,CC(n),sR(),be=a,Pe=o,pn.transition=s}else t.current=n;if(bu&&(bu=!1,Wr=t,Uc=i),s=t.pendingLanes,s===0&&(ri=null),lR(n.stateNode),Gt(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fc)throw Fc=!1,t=Lp,Lp=null,t;return Uc&1&&t.tag!==0&&Zs(),s=t.pendingLanes,s&1?t===Dp?La++:(La=0,Dp=t):La=0,Ti(),null}function Zs(){if(Wr!==null){var t=oT(Uc),e=pn.transition,n=Pe;try{if(pn.transition=null,Pe=16>t?16:t,Wr===null)var r=!1;else{if(t=Wr,Wr=null,Uc=0,be&6)throw Error(J(331));var i=be;for(be|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ne=c;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:Na(8,d,s)}var h=d.child;if(h!==null)h.return=d,ne=h;else for(;ne!==null;){d=ne;var p=d.sibling,I=d.return;if(yS(d),d===c){ne=null;break}if(p!==null){p.return=I,ne=p;break}ne=I}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Na(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,ne=_;break e}ne=s.return}}var E=t.current;for(ne=E;ne!==null;){o=ne;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,ne=T;else e:for(o=E;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pd(9,a)}}catch(M){Ge(a,a.return,M)}if(a===o){ne=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,ne=k;break e}ne=a.return}}if(be=i,Ti(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Td,t)}catch{}r=!0}return r}finally{Pe=n,pn.transition=e}}return!1}function O0(t,e,n){e=ho(n,e),e=oS(t,e,1),t=ni(t,e,1),e=Ut(),t!==null&&(xl(t,1,e),Gt(t,e))}function Ge(t,e,n){if(t.tag===3)O0(t,t,n);else for(;e!==null;){if(e.tag===3){O0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ri===null||!ri.has(r))){t=ho(n,t),t=aS(e,t,1),e=ni(e,t,1),t=Ut(),e!==null&&(xl(e,1,t),Gt(e,t));break}}e=e.return}}function DC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(wt&n)===n&&(at===4||at===3&&(wt&130023424)===wt&&500>Je()-pg?Ki(t,0):fg|=n),Gt(t,e)}function xS(t,e){e===0&&(t.mode&1?(e=gu,gu<<=1,!(gu&130023424)&&(gu=4194304)):e=1);var n=Ut();t=Sr(t,e),t!==null&&(xl(t,e,n),Gt(t,n))}function MC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xS(t,n)}function jC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),xS(t,n)}var RS;RS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kt=!1,IC(t,e,n);Kt=!!(t.flags&131072)}else Kt=!1,Fe&&e.flags&1048576&&NT(e,kc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gu(t,e),t=e.pendingProps;var i=ao(e,Lt.current);Xs(e,n),i=ag(null,e,r,t,i,n);var s=lg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(s=!0,Cc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ng(e),i.updater=Cd,e.stateNode=i,i._reactInternals=e,Sp(e,r,t,n),e=bp(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&Qm(e),Ft(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=FC(r),t=Tn(r,t),i){case 0:e=Ap(null,e,r,t,n);break e;case 1:e=S0(null,e,r,t,n);break e;case 11:e=w0(null,e,r,t,n);break e;case 14:e=T0(null,e,r,Tn(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Ap(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),S0(t,e,r,i,n);case 3:e:{if(dS(e),t===null)throw Error(J(387));r=e.pendingProps,s=e.memoizedState,i=s.element,VT(t,e),Lc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ho(Error(J(423)),e),e=I0(t,e,r,n,i);break e}else if(r!==i){i=ho(Error(J(424)),e),e=I0(t,e,r,n,i);break e}else for(nn=ti(e.stateNode.containerInfo.firstChild),rn=e,Fe=!0,In=null,n=MT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lo(),r===i){e=Ir(t,e,n);break e}Ft(t,e,r,n)}e=e.child}return e;case 5:return FT(e),t===null&&Ep(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,mp(r,i)?o=null:s!==null&&mp(r,s)&&(e.flags|=32),cS(t,e),Ft(t,e,o,n),e.child;case 6:return t===null&&Ep(e),null;case 13:return hS(t,e,n);case 4:return rg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=uo(e,null,r,n):Ft(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),w0(t,e,r,i,n);case 7:return Ft(t,e,e.pendingProps,n),e.child;case 8:return Ft(t,e,e.pendingProps.children,n),e.child;case 12:return Ft(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Le(Nc,r._currentValue),r._currentValue=o,s!==null)if(kn(s.value,o)){if(s.children===i.children&&!qt.current){e=Ir(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=vr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),wp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ft(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xs(e,n),i=mn(i),r=r(i),e.flags|=1,Ft(t,e,r,n),e.child;case 14:return r=e.type,i=Tn(r,e.pendingProps),i=Tn(r.type,i),T0(t,e,r,i,n);case 15:return lS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Gu(t,e),e.tag=1,Wt(r)?(t=!0,Cc(e)):t=!1,Xs(e,n),sS(e,r,i),Sp(e,r,i,n),bp(null,e,r,!0,t,n);case 19:return fS(t,e,n);case 22:return uS(t,e,n)}throw Error(J(156,e.tag))};function CS(t,e){return nT(t,e)}function VC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new VC(t,e,n,r)}function vg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FC(t){if(typeof t=="function")return vg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jm)return 11;if(t===Vm)return 14}return 2}function si(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")vg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ls:return qi(n.children,i,s,e);case Mm:o=8,i|=8;break;case Wf:return t=hn(12,n,e,i|2),t.elementType=Wf,t.lanes=s,t;case Gf:return t=hn(13,n,e,i),t.elementType=Gf,t.lanes=s,t;case Qf:return t=hn(19,n,e,i),t.elementType=Qf,t.lanes=s,t;case Fw:return Nd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jw:o=10;break e;case Vw:o=9;break e;case jm:o=11;break e;case Vm:o=14;break e;case Vr:o=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=hn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function qi(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function Nd(t,e,n,r){return t=hn(22,t,r,e),t.elementType=Fw,t.lanes=n,t.stateNode={isHidden:!1},t}function ef(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function tf(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function UC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dh(0),this.expirationTimes=Dh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _g(t,e,n,r,i,s,o,a,l){return t=new UC(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ng(s),t}function BC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PS(t){if(!t)return fi;t=t._reactInternals;e:{if(as(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Wt(n))return PT(t,n,e)}return e}function kS(t,e,n,r,i,s,o,a,l){return t=_g(n,r,!0,t,i,s,o,a,l),t.context=PS(null),n=t.current,r=Ut(),i=ii(n),s=vr(r,i),s.callback=e??null,ni(n,s,i),t.current.lanes=i,xl(t,i,r),Gt(t,r),t}function Od(t,e,n,r){var i=e.current,s=Ut(),o=ii(i);return n=PS(n),e.context===null?e.context=n:e.pendingContext=n,e=vr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ni(i,e,o),t!==null&&(Rn(t,i,o,s),Ku(t,i,o)),o}function $c(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function L0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Eg(t,e){L0(t,e),(t=t.alternate)&&L0(t,e)}function $C(){return null}var NS=typeof reportError=="function"?reportError:function(t){console.error(t)};function wg(t){this._internalRoot=t}Ld.prototype.render=wg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));Od(t,e,null,null)};Ld.prototype.unmount=wg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;es(function(){Od(null,t,null,null)}),e[Tr]=null}};function Ld(t){this._internalRoot=t}Ld.prototype.unstable_scheduleHydration=function(t){if(t){var e=uT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ur.length&&e!==0&&e<Ur[n].priority;n++);Ur.splice(n,0,t),n===0&&dT(t)}};function Tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function D0(){}function zC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=$c(o);s.call(c)}}var o=kS(e,r,t,0,null,!1,!1,"",D0);return t._reactRootContainer=o,t[Tr]=o.current,Xa(t.nodeType===8?t.parentNode:t),es(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=$c(l);a.call(c)}}var l=_g(t,0,!1,null,null,!1,!1,"",D0);return t._reactRootContainer=l,t[Tr]=l.current,Xa(t.nodeType===8?t.parentNode:t),es(function(){Od(e,l,n,r)}),l}function Md(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=$c(o);a.call(l)}}Od(e,o,t,i)}else o=zC(n,e,t,i,r);return $c(o)}aT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ya(e.pendingLanes);n!==0&&(Bm(e,n|1),Gt(e,Je()),!(be&6)&&(fo=Je()+500,Ti()))}break;case 13:es(function(){var r=Sr(t,1);if(r!==null){var i=Ut();Rn(r,t,1,i)}}),Eg(t,1)}};$m=function(t){if(t.tag===13){var e=Sr(t,134217728);if(e!==null){var n=Ut();Rn(e,t,134217728,n)}Eg(t,134217728)}};lT=function(t){if(t.tag===13){var e=ii(t),n=Sr(t,e);if(n!==null){var r=Ut();Rn(n,t,e,r)}Eg(t,e)}};uT=function(){return Pe};cT=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};sp=function(t,e,n){switch(e){case"input":if(Xf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=bd(r);if(!i)throw Error(J(90));Bw(r),Xf(r,i)}}}break;case"textarea":zw(t,n);break;case"select":e=n.value,e!=null&&Gs(t,!!n.multiple,e,!1)}};Jw=mg;Yw=es;var HC={usingClientEntryPoint:!1,Events:[Cl,Vs,bd,Gw,Qw,mg]},ca={findFiberByHostInstance:Vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KC={bundleType:ca.bundleType,version:ca.version,rendererPackageName:ca.rendererPackageName,rendererConfig:ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eT(t),t===null?null:t.stateNode},findFiberByHostInstance:ca.findFiberByHostInstance||$C,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{Td=xu.inject(KC),Kn=xu}catch{}}ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HC;ln.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tg(e))throw Error(J(200));return BC(t,e,null,n)};ln.createRoot=function(t,e){if(!Tg(t))throw Error(J(299));var n=!1,r="",i=NS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_g(t,1,!1,null,null,n,!1,r,i),t[Tr]=e.current,Xa(t.nodeType===8?t.parentNode:t),new wg(e)};ln.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=eT(e),t=t===null?null:t.stateNode,t};ln.flushSync=function(t){return es(t)};ln.hydrate=function(t,e,n){if(!Dd(e))throw Error(J(200));return Md(null,t,e,!0,n)};ln.hydrateRoot=function(t,e,n){if(!Tg(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=NS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=kS(e,null,t,1,n??null,i,!1,s,o),t[Tr]=e.current,Xa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ld(e)};ln.render=function(t,e,n){if(!Dd(e))throw Error(J(200));return Md(null,t,e,!1,n)};ln.unmountComponentAtNode=function(t){if(!Dd(t))throw Error(J(40));return t._reactRootContainer?(es(function(){Md(null,null,t,!1,function(){t._reactRootContainer=null,t[Tr]=null})}),!0):!1};ln.unstable_batchedUpdates=mg;ln.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dd(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return Md(t,e,n,!1,r)};ln.version="18.3.1-next-f1338f8080-20240426";function OS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OS)}catch(t){console.error(t)}}OS(),Ow.exports=ln;var qC=Ow.exports,LS,M0=qC;LS=M0.createRoot,M0.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},al.apply(this,arguments)}var Gr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Gr||(Gr={}));const j0="popstate";function WC(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Vp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zc(i)}return QC(e,n,null,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function DS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GC(){return Math.random().toString(36).substr(2,8)}function V0(t,e){return{usr:t.state,key:t.key,idx:e}}function Vp(t,e,n,r){return n===void 0&&(n=null),al({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Co(e):e,{state:n,key:e&&e.key||r||GC()})}function zc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Co(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function QC(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Gr.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(al({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Gr.Pop;let w=d(),_=w==null?null:w-c;c=w,l&&l({action:a,location:v.location,delta:_})}function p(w,_){a=Gr.Push;let E=Vp(v.location,w,_);c=d()+1;let T=V0(E,c),k=v.createHref(E);try{o.pushState(T,"",k)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(k)}s&&l&&l({action:a,location:v.location,delta:1})}function I(w,_){a=Gr.Replace;let E=Vp(v.location,w,_);c=d();let T=V0(E,c),k=v.createHref(E);o.replaceState(T,"",k),s&&l&&l({action:a,location:v.location,delta:0})}function g(w){let _=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof w=="string"?w:zc(w);return E=E.replace(/ $/,"%20"),tt(_,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,_)}let v={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(j0,h),l=w,()=>{i.removeEventListener(j0,h),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let _=g(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:I,go(w){return o.go(w)}};return v}var F0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(F0||(F0={}));function JC(t,e,n){return n===void 0&&(n="/"),YC(t,e,n,!1)}function YC(t,e,n,r){let i=typeof e=="string"?Co(e):e,s=Sg(i.pathname||"/",n);if(s==null)return null;let o=MS(t);XC(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=uP(s);a=aP(o[l],c,r)}return a}function MS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(tt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=oi([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(tt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),MS(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:sP(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of jS(s.path))i(s,o,l)}),e}function jS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=jS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function XC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ZC=/^:[\w-]+$/,eP=3,tP=2,nP=1,rP=10,iP=-2,U0=t=>t==="*";function sP(t,e){let n=t.split("/"),r=n.length;return n.some(U0)&&(r+=iP),e&&(r+=tP),n.filter(i=>!U0(i)).reduce((i,s)=>i+(ZC.test(s)?eP:s===""?nP:rP),r)}function oP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function aP(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=B0({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=B0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:oi([s,h.pathname]),pathnameBase:fP(oi([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=oi([s,h.pathnameBase]))}return o}function B0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:I}=d;if(p==="*"){let v=a[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[h];return I&&!g?c[p]=void 0:c[p]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function lP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),DS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return DS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function cP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Co(t):t;return{pathname:n?n.startsWith("/")?n:dP(n,e):e,search:pP(r),hash:mP(i)}}function dP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function nf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VS(t,e){let n=hP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function FS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Co(t):(i=al({},t),tt(!i.pathname||!i.pathname.includes("?"),nf("?","pathname","search",i)),tt(!i.pathname||!i.pathname.includes("#"),nf("#","pathname","hash",i)),tt(!i.search||!i.search.includes("#"),nf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=cP(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const oi=t=>t.join("/").replace(/\/\/+/g,"/"),fP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const US=["post","put","patch","delete"];new Set(US);const yP=["get",...US];new Set(yP);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}const Ig=B.createContext(null),vP=B.createContext(null),ls=B.createContext(null),jd=B.createContext(null),Si=B.createContext({outlet:null,matches:[],isDataRoute:!1}),BS=B.createContext(null);function _P(t,e){let{relative:n}=e===void 0?{}:e;kl()||tt(!1);let{basename:r,navigator:i}=B.useContext(ls),{hash:s,pathname:o,search:a}=zS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:oi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function kl(){return B.useContext(jd)!=null}function Vd(){return kl()||tt(!1),B.useContext(jd).location}function $S(t){B.useContext(ls).static||B.useLayoutEffect(t)}function EP(){let{isDataRoute:t}=B.useContext(Si);return t?LP():wP()}function wP(){kl()||tt(!1);let t=B.useContext(Ig),{basename:e,future:n,navigator:r}=B.useContext(ls),{matches:i}=B.useContext(Si),{pathname:s}=Vd(),o=JSON.stringify(VS(i,n.v7_relativeSplatPath)),a=B.useRef(!1);return $S(()=>{a.current=!0}),B.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=FS(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:oi([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function TP(){let{matches:t}=B.useContext(Si),e=t[t.length-1];return e?e.params:{}}function zS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=B.useContext(ls),{matches:i}=B.useContext(Si),{pathname:s}=Vd(),o=JSON.stringify(VS(i,r.v7_relativeSplatPath));return B.useMemo(()=>FS(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function SP(t,e){return IP(t,e)}function IP(t,e,n,r){kl()||tt(!1);let{navigator:i}=B.useContext(ls),{matches:s}=B.useContext(Si),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Vd(),d;if(e){var h;let w=typeof e=="string"?Co(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||tt(!1),d=w}else d=c;let p=d.pathname||"/",I=p;if(l!=="/"){let w=l.replace(/^\//,"").split("/");I="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=JC(t,{pathname:I}),v=CP(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:oi([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:oi([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&v?B.createElement(jd.Provider,{value:{location:ll({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Gr.Pop}},v):v}function AP(){let t=OP(),e=gP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,null)}const bP=B.createElement(AP,null);class xP extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(Si.Provider,{value:this.props.routeContext},B.createElement(BS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RP(t){let{routeContext:e,match:n,children:r}=t,i=B.useContext(Ig);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(Si.Provider,{value:e},r)}function CP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||tt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:I}=n,g=h.route.loader&&p[h.route.id]===void 0&&(!I||I[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let I,g=!1,v=null,w=null;n&&(I=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||bP,l&&(c<0&&p===0?(g=!0,w=null):c===p&&(g=!0,w=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),E=()=>{let T;return I?T=v:g?T=w:h.route.Component?T=B.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,B.createElement(RP,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?B.createElement(xP,{location:n.location,revalidation:n.revalidation,component:v,error:I,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}var HS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(HS||{}),Hc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hc||{});function PP(t){let e=B.useContext(Ig);return e||tt(!1),e}function kP(t){let e=B.useContext(vP);return e||tt(!1),e}function NP(t){let e=B.useContext(Si);return e||tt(!1),e}function KS(t){let e=NP(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function OP(){var t;let e=B.useContext(BS),n=kP(Hc.UseRouteError),r=KS(Hc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function LP(){let{router:t}=PP(HS.UseNavigateStable),e=KS(Hc.UseNavigateStable),n=B.useRef(!1);return $S(()=>{n.current=!0}),B.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ll({fromRouteId:e},s)))},[t,e])}const $0={};function DP(t,e){$0[e]||($0[e]=!0,console.warn(e))}const z0=(t,e,n)=>DP(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function MP(t,e){t!=null&&t.v7_startTransition||z0("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&z0("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Vn(t){tt(!1)}function jP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Gr.Pop,navigator:s,static:o=!1,future:a}=t;kl()&&tt(!1);let l=e.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:s,static:o,future:ll({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Co(r));let{pathname:d="/",search:h="",hash:p="",state:I=null,key:g="default"}=r,v=B.useMemo(()=>{let w=Sg(d,l);return w==null?null:{location:{pathname:w,search:h,hash:p,state:I,key:g},navigationType:i}},[l,d,h,p,I,g,i]);return v==null?null:B.createElement(ls.Provider,{value:c},B.createElement(jd.Provider,{children:n,value:v}))}function VP(t){let{children:e,location:n}=t;return SP(Fp(e),n)}new Promise(()=>{});function Fp(t,e){e===void 0&&(e=[]);let n=[];return B.Children.forEach(t,(r,i)=>{if(!B.isValidElement(r))return;let s=[...e,i];if(r.type===B.Fragment){n.push.apply(n,Fp(r.props.children,s));return}r.type!==Vn&&tt(!1),!r.props.index||!r.props.children||tt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Fp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Up.apply(this,arguments)}function FP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function UP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BP(t,e){return t.button===0&&(!e||e==="_self")&&!UP(t)}const $P=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zP="6";try{window.__reactRouterVersion=zP}catch{}const HP="startTransition",H0=Dx[HP];function KP(t){let{basename:e,children:n,future:r,window:i}=t,s=B.useRef();s.current==null&&(s.current=WC({window:i,v5Compat:!0}));let o=s.current,[a,l]=B.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=B.useCallback(h=>{c&&H0?H0(()=>l(h)):l(h)},[l,c]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.useEffect(()=>MP(r),[r]),B.createElement(jP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const qP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,An=B.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,p=FP(e,$P),{basename:I}=B.useContext(ls),g,v=!1;if(typeof c=="string"&&WP.test(c)&&(g=c,qP))try{let T=new URL(window.location.href),k=c.startsWith("//")?new URL(T.protocol+c):new URL(c),M=Sg(k.pathname,I);k.origin===T.origin&&M!=null?c=M+k.search+k.hash:v=!0}catch{}let w=_P(c,{relative:i}),_=GP(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function E(T){r&&r(T),T.defaultPrevented||_(T)}return B.createElement("a",Up({},p,{href:g||w,onClick:v||s?r:E,ref:n,target:l}))});var K0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(K0||(K0={}));var q0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(q0||(q0={}));function GP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=EP(),c=Vd(),d=zS(t,{relative:o});return B.useCallback(h=>{if(BP(h,n)){h.preventDefault();let p=r!==void 0?r:zc(c)===zc(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}function QP(t){return Object.prototype.toString.call(t)==="[object Object]"}function W0(t){return QP(t)||Array.isArray(t)}function JP(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Ag(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==s?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!W0(a)||!W0(l)?a===l:Ag(a,l)})}function G0(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function YP(t,e){if(t.length!==e.length)return!1;const n=G0(t),r=G0(e);return n.every((i,s)=>{const o=r[s];return Ag(i,o)})}function bg(t){return typeof t=="number"}function Bp(t){return typeof t=="string"}function Fd(t){return typeof t=="boolean"}function Q0(t){return Object.prototype.toString.call(t)==="[object Object]"}function $e(t){return Math.abs(t)}function xg(t){return Math.sign(t)}function Da(t,e){return $e(t-e)}function XP(t,e){if(t===0||e===0||$e(t)<=$e(e))return 0;const n=Da($e(t),$e(e));return $e(n/t)}function ul(t){return cl(t).map(Number)}function Cn(t){return t[Nl(t)]}function Nl(t){return Math.max(0,t.length-1)}function Rg(t,e){return e===Nl(t)}function J0(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function cl(t){return Object.keys(t)}function qS(t,e){return[t,e].reduce((n,r)=>(cl(r).forEach(i=>{const s=n[i],o=r[i],a=Q0(s)&&Q0(o);n[i]=a?qS(s,o):o}),n),{})}function $p(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function ZP(t,e){const n={start:r,center:i,end:s};function r(){return 0}function i(l){return s(l)/2}function s(l){return e-l}function o(l,c){return Bp(t)?n[t](l):t(e,l,c)}return{measure:o}}function dl(){let t=[];function e(i,s,o,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(s,o,a),l=()=>i.removeEventListener(s,o,a);else{const c=i;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function ek(t,e,n,r){const i=dl(),s=1e3/60;let o=null,a=0,l=0;function c(){i.add(t,"visibilitychange",()=>{t.hidden&&g()})}function d(){I(),i.clear()}function h(w){if(!l)return;o||(o=w);const _=w-o;for(o=w,a+=_;a>=s;)n(s),a-=s;const E=a/s;r(E),l&&e.requestAnimationFrame(h)}function p(){l||(l=e.requestAnimationFrame(h))}function I(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function g(){o=null,a=0}return{init:c,destroy:d,start:p,stop:I,update:()=>n(s),render:r}}function tk(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",s=r?"x":"y",o=!r&&n?-1:1,a=d(),l=h();function c(g){const{height:v,width:w}=g;return r?v:w}function d(){return r?"top":n?"right":"left"}function h(){return r?"bottom":n?"left":"right"}function p(g){return g*o}return{scroll:i,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:p}}function ts(t=0,e=0){const n=$e(t-e);function r(c){return c<t}function i(c){return c>e}function s(c){return r(c)||i(c)}function o(c){return s(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:a}}function WS(t,e,n){const{constrain:r}=ts(0,t),i=t+1;let s=o(e);function o(p){return n?$e((i+p)%i):r(p)}function a(){return s}function l(p){return s=o(p),h}function c(p){return d().set(a()+p)}function d(){return WS(t,a(),n)}const h={get:a,set:l,add:c,clone:d};return h}function nk(t,e,n,r,i,s,o,a,l,c,d,h,p,I,g,v,w,_,E){const{cross:T,direction:k}=t,M=["INPUT","SELECT","TEXTAREA"],V={passive:!1},x=dl(),S=dl(),R=ts(50,225).constrain(I.measure(20)),C={mouse:300,touch:400},P={mouse:500,touch:600},N=g?43:25;let b=!1,Z=0,se=0,pe=!1,me=!1,Q=!1,te=!1;function Y(D){if(!E)return;function W(Te){(Fd(E)||E(D,Te))&&z(Te)}const re=e;x.add(re,"dragstart",Te=>Te.preventDefault(),V).add(re,"touchmove",()=>{},V).add(re,"touchend",()=>{}).add(re,"touchstart",W).add(re,"mousedown",W).add(re,"touchcancel",O).add(re,"contextmenu",O).add(re,"click",$,!0)}function ae(){x.clear(),S.clear()}function fe(){const D=te?n:e;S.add(D,"touchmove",G,V).add(D,"touchend",O).add(D,"mousemove",G,V).add(D,"mouseup",O)}function Ae(D){const W=D.nodeName||"";return M.includes(W)}function Ve(){return(g?P:C)[te?"mouse":"touch"]}function rt(D,W){const re=h.add(xg(D)*-1),Te=d.byDistance(D,!g).distance;return g||$e(D)<R?Te:w&&W?Te*.5:d.byIndex(re.get(),0).distance}function z(D){const W=$p(D,r);te=W,Q=g&&W&&!D.buttons&&b,b=Da(i.get(),o.get())>=2,!(W&&D.button!==0)&&(Ae(D.target)||(pe=!0,s.pointerDown(D),c.useFriction(0).useDuration(0),i.set(o),fe(),Z=s.readPoint(D),se=s.readPoint(D,T),p.emit("pointerDown")))}function G(D){if(!$p(D,r)&&D.touches.length>=2)return O(D);const re=s.readPoint(D),Te=s.readPoint(D,T),Ce=Da(re,Z),gt=Da(Te,se);if(!me&&!te&&(!D.cancelable||(me=Ce>gt,!me)))return O(D);const jt=s.pointerMove(D);Ce>v&&(Q=!0),c.useFriction(.3).useDuration(.75),a.start(),i.add(k(jt)),D.preventDefault()}function O(D){const re=d.byDistance(0,!1).index!==h.get(),Te=s.pointerUp(D)*Ve(),Ce=rt(k(Te),re),gt=XP(Te,Ce),jt=N-10*gt,Jt=_+gt/50;me=!1,pe=!1,S.clear(),c.useDuration(jt).useFriction(Jt),l.distance(Ce,!g),te=!1,p.emit("pointerUp")}function $(D){Q&&(D.stopPropagation(),D.preventDefault(),Q=!1)}function K(){return pe}return{init:Y,destroy:ae,pointerDown:K}}function rk(t,e){let r,i;function s(h){return h.timeStamp}function o(h,p){const g=`client${(p||t.scroll)==="x"?"X":"Y"}`;return($p(h,e)?h:h.touches[0])[g]}function a(h){return r=h,i=h,o(h)}function l(h){const p=o(h)-o(i),I=s(h)-s(r)>170;return i=h,I&&(r=h),p}function c(h){if(!r||!i)return 0;const p=o(i)-o(r),I=s(h)-s(r),g=s(h)-s(i)>170,v=p/I;return I&&!g&&$e(v)>.1?v:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function ik(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:o}=n;return{top:r,right:i+s,bottom:r+o,left:i,width:s,height:o}}return{measure:t}}function sk(t){function e(r){return t*(r/100)}return{measure:e}}function ok(t,e,n,r,i,s,o){const a=[t].concat(r);let l,c,d=[],h=!1;function p(w){return i.measureSize(o.measure(w))}function I(w){if(!s)return;c=p(t),d=r.map(p);function _(E){for(const T of E){if(h)return;const k=T.target===t,M=r.indexOf(T.target),V=k?c:d[M],x=p(k?t:r[M]);if($e(x-V)>=.5){w.reInit(),e.emit("resize");break}}}l=new ResizeObserver(E=>{(Fd(s)||s(w,E))&&_(E)}),n.requestAnimationFrame(()=>{a.forEach(E=>l.observe(E))})}function g(){h=!0,l&&l.disconnect()}return{init:I,destroy:g}}function ak(t,e,n,r,i,s){let o=0,a=0,l=i,c=s,d=t.get(),h=0;function p(V){const x=V/1e3,S=l*x,R=r.get()-t.get(),C=!l;let P=0;return C?(o=0,n.set(r),t.set(r),P=R):(n.set(t),o+=R/S,o*=c,d+=o,t.add(o*x),P=d-h),a=xg(P),h=d,M}function I(){const V=r.get()-e.get();return $e(V)<.001}function g(){return l}function v(){return a}function w(){return o}function _(){return T(i)}function E(){return k(s)}function T(V){return l=V,M}function k(V){return c=V,M}const M={direction:v,duration:g,velocity:w,seek:p,settled:I,useBaseFriction:E,useBaseDuration:_,useFriction:k,useDuration:T};return M}function lk(t,e,n,r,i){const s=i.measure(10),o=i.measure(50),a=ts(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(I){if(!c())return;const g=t.reachedMin(e.get())?"min":"max",v=$e(t[g]-e.get()),w=n.get()-e.get(),_=a.constrain(v/o);n.subtract(w*_),!I&&$e(w)<s&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function h(I){l=!I}return{shouldConstrain:c,constrain:d,toggleActive:h}}function uk(t,e,n,r,i){const s=ts(-e+t,0),o=h(),a=d(),l=p();function c(g,v){return Da(g,v)<1}function d(){const g=o[0],v=Cn(o),w=o.lastIndexOf(g),_=o.indexOf(v)+1;return ts(w,_)}function h(){return n.map((g,v)=>{const{min:w,max:_}=s,E=s.constrain(g),T=!v,k=Rg(n,v);return T?_:k||c(w,E)?w:c(_,E)?_:E}).map(g=>parseFloat(g.toFixed(3)))}function p(){if(e<=t+i)return[s.max];if(r==="keepSnaps")return o;const{min:g,max:v}=a;return o.slice(g,v)}return{snapsContained:l,scrollContainLimit:a}}function ck(t,e,n){const r=e[0],i=n?r-t:Cn(e);return{limit:ts(i,r)}}function dk(t,e,n,r){const s=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=ts(s,o);function c(p){return p===1?l(n.get()):p===-1?a(n.get()):!1}function d(p){if(!c(p))return;const I=t*(p*-1);r.forEach(g=>g.add(I))}return{loop:d}}function hk(t){const{max:e,length:n}=t;function r(s){const o=s-e;return n?o/-n:0}return{get:r}}function fk(t,e,n,r,i){const{startEdge:s,endEdge:o}=t,{groupSlides:a}=i,l=h().map(e.measure),c=p(),d=I();function h(){return a(r).map(v=>Cn(v)[o]-v[0][s]).map($e)}function p(){return r.map(v=>n[s]-v[s]).map(v=>-$e(v))}function I(){return a(c).map(v=>v[0]).map((v,w)=>v+l[w])}return{snaps:c,snapsAligned:d}}function pk(t,e,n,r,i,s){const{groupSlides:o}=i,{min:a,max:l}=r,c=d();function d(){const p=o(s),I=!t||e==="keepSnaps";return n.length===1?[s]:I?p:p.slice(a,l).map((g,v,w)=>{const _=!v,E=Rg(w,v);if(_){const T=Cn(w[0])+1;return J0(T)}if(E){const T=Nl(s)-Cn(w)[0]+1;return J0(T,Cn(w)[0])}return g})}return{slideRegistry:c}}function mk(t,e,n,r,i){const{reachedAny:s,removeOffset:o,constrain:a}=r;function l(g){return g.concat().sort((v,w)=>$e(v)-$e(w))[0]}function c(g){const v=t?o(g):a(g),w=e.map((E,T)=>({diff:d(E-v,0),index:T})).sort((E,T)=>$e(E.diff)-$e(T.diff)),{index:_}=w[0];return{index:_,distance:v}}function d(g,v){const w=[g,g+n,g-n];if(!t)return g;if(!v)return l(w);const _=w.filter(E=>xg(E)===v);return _.length?l(_):Cn(w)-n}function h(g,v){const w=e[g]-i.get(),_=d(w,v);return{index:g,distance:_}}function p(g,v){const w=i.get()+g,{index:_,distance:E}=c(w),T=!t&&s(w);if(!v||T)return{index:_,distance:g};const k=e[_]-E,M=g+d(k,0);return{index:_,distance:M}}return{byDistance:p,byIndex:h,shortcut:d}}function gk(t,e,n,r,i,s,o){function a(h){const p=h.distance,I=h.index!==e.get();s.add(p),p&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),I&&(n.set(e.get()),e.set(h.index),o.emit("select"))}function l(h,p){const I=i.byDistance(h,p);a(I)}function c(h,p){const I=e.clone().set(h),g=i.byIndex(I.get(),p);a(g)}return{distance:l,index:c}}function yk(t,e,n,r,i,s,o,a){const l={passive:!0,capture:!0};let c=0;function d(I){if(!a)return;function g(v){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const E=n.findIndex(T=>T.includes(v));bg(E)&&(i.useDuration(0),r.index(E,0),o.emit("slideFocus"))}s.add(document,"keydown",h,!1),e.forEach((v,w)=>{s.add(v,"focus",_=>{(Fd(a)||a(I,_))&&g(w)},l)})}function h(I){I.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function _a(t){let e=t;function n(){return e}function r(l){e=o(l)}function i(l){e+=o(l)}function s(l){e-=o(l)}function o(l){return bg(l)?l:l.get()}return{get:n,set:r,add:i,subtract:s}}function GS(t,e){const n=t.scroll==="x"?s:o,r=e.style;let i=!1;function s(h){return`translate3d(${h}px,0px,0px)`}function o(h){return`translate3d(0px,${h}px,0px)`}function a(h){i||(r.transform=n(t.direction(h)))}function l(h){i=!h}function c(){i||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:c,to:a,toggleActive:l}}function vk(t,e,n,r,i,s,o,a,l){const d=ul(i),h=ul(i).reverse(),p=_().concat(E());function I(x,S){return x.reduce((R,C)=>R-i[C],S)}function g(x,S){return x.reduce((R,C)=>I(R,S)>0?R.concat([C]):R,[])}function v(x){return s.map((S,R)=>({start:S-r[R]+.5+x,end:S+e-.5+x}))}function w(x,S,R){const C=v(S);return x.map(P=>{const N=R?0:-n,b=R?n:0,Z=R?"end":"start",se=C[P][Z];return{index:P,loopPoint:se,slideLocation:_a(-1),translate:GS(t,l[P]),target:()=>a.get()>se?N:b}})}function _(){const x=o[0],S=g(h,x);return w(S,n,!1)}function E(){const x=e-o[0]-1,S=g(d,x);return w(S,-n,!0)}function T(){return p.every(({index:x})=>{const S=d.filter(R=>R!==x);return I(S,e)<=.1})}function k(){p.forEach(x=>{const{target:S,translate:R,slideLocation:C}=x,P=S();P!==C.get()&&(R.to(P),C.set(P))})}function M(){p.forEach(x=>x.translate.clear())}return{canLoop:T,clear:M,loop:k,loopPoints:p}}function _k(t,e,n){let r,i=!1;function s(l){if(!n)return;function c(d){for(const h of d)if(h.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{i||(Fd(n)||n(l,d))&&c(d)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:s,destroy:o}}function Ek(t,e,n,r){const i={};let s=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(g=>{l||(g.forEach(v=>{const w=e.indexOf(v.target);i[w]=v}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(g=>a.observe(g))}function d(){a&&a.disconnect(),l=!0}function h(g){return cl(i).reduce((v,w)=>{const _=parseInt(w),{isIntersecting:E}=i[_];return(g&&E||!g&&!E)&&v.push(_),v},[])}function p(g=!0){if(g&&s)return s;if(!g&&o)return o;const v=h(g);return g&&(s=v),g||(o=v),v}return{init:c,destroy:d,get:p}}function wk(t,e,n,r,i,s){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&i,d=g(),h=v(),p=n.map(o),I=w();function g(){if(!c)return 0;const E=n[0];return $e(e[a]-E[a])}function v(){if(!c)return 0;const E=s.getComputedStyle(Cn(r));return parseFloat(E.getPropertyValue(`margin-${l}`))}function w(){return n.map((E,T,k)=>{const M=!T,V=Rg(k,T);return M?p[T]+d:V?p[T]+h:k[T+1][a]-E[a]}).map($e)}return{slideSizes:p,slideSizesWithGaps:I,startGap:d,endGap:h}}function Tk(t,e,n,r,i,s,o,a,l){const{startEdge:c,endEdge:d,direction:h}=t,p=bg(n);function I(_,E){return ul(_).filter(T=>T%E===0).map(T=>_.slice(T,T+E))}function g(_){return _.length?ul(_).reduce((E,T,k)=>{const M=Cn(E)||0,V=M===0,x=T===Nl(_),S=i[c]-s[M][c],R=i[c]-s[T][d],C=!r&&V?h(o):0,P=!r&&x?h(a):0,N=$e(R-P-(S+C));return k&&N>e+l&&E.push(T),x&&E.push(_.length),E},[]).map((E,T,k)=>{const M=Math.max(k[T-1]||0);return _.slice(M,E)}):[]}function v(_){return p?I(_,n):g(_)}return{groupSlides:v}}function Sk(t,e,n,r,i,s,o){const{align:a,axis:l,direction:c,startIndex:d,loop:h,duration:p,dragFree:I,dragThreshold:g,inViewThreshold:v,slidesToScroll:w,skipSnaps:_,containScroll:E,watchResize:T,watchSlides:k,watchDrag:M,watchFocus:V}=s,x=2,S=ik(),R=S.measure(e),C=n.map(S.measure),P=tk(l,c),N=P.measureSize(R),b=sk(N),Z=ZP(a,N),se=!h&&!!E,pe=h||!!E,{slideSizes:me,slideSizesWithGaps:Q,startGap:te,endGap:Y}=wk(P,R,C,n,pe,i),ae=Tk(P,N,w,h,R,C,te,Y,x),{snaps:fe,snapsAligned:Ae}=fk(P,Z,R,C,ae),Ve=-Cn(fe)+Cn(Q),{snapsContained:rt,scrollContainLimit:z}=uk(N,Ve,Ae,E,x),G=se?rt:Ae,{limit:O}=ck(Ve,G,h),$=WS(Nl(G),d,h),K=$.clone(),U=ul(n),D=({dragHandler:yn,scrollBody:$o,scrollBounds:rr,options:{loop:Ci}},gs)=>{Ci||rr.constrain(yn.pointerDown()),$o.seek(gs)},W=({scrollBody:yn,translate:$o,location:rr,offsetLocation:Ci,scrollLooper:gs,slideLooper:zo,dragHandler:gh,animation:yh,eventHandler:ys,scrollBounds:Gl,options:{loop:Ho}},Nr)=>{const vs=yn.settled(),Ko=!Gl.shouldConstrain(),Ln=Ho?vs:vs&&Ko;Ln&&!gh.pointerDown()&&(yh.stop(),ys.emit("settle")),Ln||ys.emit("scroll");const Ql=rr.get()*Nr+jt.get()*(1-Nr);Ci.set(Ql),Ho&&(gs.loop(yn.direction()),zo.loop()),$o.to(Ci.get())},re=ek(r,i,yn=>D(ms,yn),yn=>W(ms,yn)),Te=.68,Ce=G[$.get()],gt=_a(Ce),jt=_a(Ce),Jt=_a(Ce),Yt=_a(Ce),Xt=ak(gt,Jt,jt,Yt,p,Te),Uo=mk(h,G,Ve,O,Yt),Ri=gk(re,$,K,Xt,Uo,Yt,o),fs=hk(O),Bo=dl(),ct=Ek(e,n,o,v),{slideRegistry:dt}=pk(se,E,G,z,ae,U),ps=yk(t,n,dt,Ri,Xt,Bo,o,V),ms={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:R,slideRects:C,animation:re,axis:P,dragHandler:nk(P,t,r,i,Yt,rk(P,i),gt,re,Ri,Xt,Uo,$,o,b,I,g,_,Te,M),eventStore:Bo,percentOfView:b,index:$,indexPrevious:K,limit:O,location:gt,offsetLocation:Jt,previousLocation:jt,options:s,resizeHandler:ok(e,o,i,n,P,T,S),scrollBody:Xt,scrollBounds:lk(O,Jt,Yt,Xt,b),scrollLooper:dk(Ve,O,Jt,[gt,Jt,jt,Yt]),scrollProgress:fs,scrollSnapList:G.map(fs.get),scrollSnaps:G,scrollTarget:Uo,scrollTo:Ri,slideLooper:vk(P,N,Ve,me,Q,fe,G,Jt,n),slideFocus:ps,slidesHandler:_k(e,o,k),slidesInView:ct,slideIndexes:U,slideRegistry:dt,slidesToScroll:ae,target:Yt,translate:GS(P,e)};return ms}function Ik(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function i(c){return r(c).forEach(d=>d(e,c)),l}function s(c,d){return t[c]=r(c).concat([d]),l}function o(c,d){return t[c]=r(c).filter(h=>h!==d),l}function a(){t={}}const l={init:n,emit:i,off:o,on:s,clear:a};return l}const Ak={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function bk(t){function e(s,o){return qS(s,o||{})}function n(s){const o=s.breakpoints||{},a=cl(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(s,a)}function r(s){return s.map(o=>cl(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function xk(t){let e=[];function n(s,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(s,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(s=>s.destroy())}return{init:n,destroy:r}}function Kc(t,e,n){const r=t.ownerDocument,i=r.defaultView,s=bk(i),o=xk(s),a=dl(),l=Ik(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:h}=s,{on:p,off:I,emit:g}=l,v=P;let w=!1,_,E=c(Ak,Kc.globalOptions),T=c(E),k=[],M,V,x;function S(){const{container:U,slides:D}=T;V=(Bp(U)?t.querySelector(U):U)||t.children[0];const re=Bp(D)?V.querySelectorAll(D):D;x=[].slice.call(re||V.children)}function R(U){const D=Sk(t,V,x,r,i,U,l);if(U.loop&&!D.slideLooper.canLoop()){const W=Object.assign({},U,{loop:!1});return R(W)}return D}function C(U,D){w||(E=c(E,U),T=d(E),k=D||k,S(),_=R(T),h([E,...k.map(({options:W})=>W)]).forEach(W=>a.add(W,"change",P)),T.active&&(_.translate.to(_.location.get()),_.animation.init(),_.slidesInView.init(),_.slideFocus.init(K),_.eventHandler.init(K),_.resizeHandler.init(K),_.slidesHandler.init(K),_.options.loop&&_.slideLooper.loop(),V.offsetParent&&x.length&&_.dragHandler.init(K),M=o.init(K,k)))}function P(U,D){const W=ae();N(),C(c({startIndex:W},U),D),l.emit("reInit")}function N(){_.dragHandler.destroy(),_.eventStore.clear(),_.translate.clear(),_.slideLooper.clear(),_.resizeHandler.destroy(),_.slidesHandler.destroy(),_.slidesInView.destroy(),_.animation.destroy(),o.destroy(),a.clear()}function b(){w||(w=!0,a.clear(),N(),l.emit("destroy"),l.clear())}function Z(U,D,W){!T.active||w||(_.scrollBody.useBaseFriction().useDuration(D===!0?0:T.duration),_.scrollTo.index(U,W||0))}function se(U){const D=_.index.add(1).get();Z(D,U,-1)}function pe(U){const D=_.index.add(-1).get();Z(D,U,1)}function me(){return _.index.add(1).get()!==ae()}function Q(){return _.index.add(-1).get()!==ae()}function te(){return _.scrollSnapList}function Y(){return _.scrollProgress.get(_.location.get())}function ae(){return _.index.get()}function fe(){return _.indexPrevious.get()}function Ae(){return _.slidesInView.get()}function Ve(){return _.slidesInView.get(!1)}function rt(){return M}function z(){return _}function G(){return t}function O(){return V}function $(){return x}const K={canScrollNext:me,canScrollPrev:Q,containerNode:O,internalEngine:z,destroy:b,off:I,on:p,emit:g,plugins:rt,previousScrollSnap:fe,reInit:v,rootNode:G,scrollNext:se,scrollPrev:pe,scrollProgress:Y,scrollSnapList:te,scrollTo:Z,selectedScrollSnap:ae,slideNodes:$,slidesInView:Ae,slidesNotInView:Ve};return C(e,n),setTimeout(()=>l.emit("init"),0),K}Kc.globalOptions=void 0;function Cg(t={},e=[]){const n=B.useRef(t),r=B.useRef(e),[i,s]=B.useState(),[o,a]=B.useState(),l=B.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return B.useEffect(()=>{Ag(n.current,t)||(n.current=t,l())},[t,l]),B.useEffect(()=>{YP(r.current,e)||(r.current=e,l())},[e,l]),B.useEffect(()=>{if(JP()&&o){Kc.globalOptions=Cg.globalOptions;const c=Kc(o,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[o,s]),[a,i]}Cg.globalOptions=void 0;/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ck={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=B.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>B.createElement("svg",{ref:l,...Ck,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:QS("lucide",i),...a},[...o.map(([c,d])=>B.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(t,e)=>{const n=B.forwardRef(({className:r,...i},s)=>B.createElement(Pk,{ref:s,iconNode:e,className:QS(`lucide-${Rk(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=nt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=nt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=nt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=nt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=nt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=nt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=nt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=nt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=nt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=nt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=nt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=nt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=nt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=nt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},n1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,I=c&63;l||(I=64,o||(p=64)),r.push(n[d],n[h],n[p],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new Wk;const p=s<<2|a>>4;if(r.push(p),c!==64){const I=a<<4&240|c>>2;if(r.push(I),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Wk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gk=function(t){const e=t1(t);return n1.encodeByteArray(e,!0)},qc=function(t){return Gk(t).replace(/\./g,"")},r1=function(t){try{return n1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=()=>Qk().__FIREBASE_DEFAULTS__,Yk=()=>{if(typeof process>"u"||typeof Y0>"u")return;const t=Y0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Xk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&r1(t[1]);return e&&JSON.parse(e)},Ud=()=>{try{return Jk()||Yk()||Xk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i1=t=>{var e,n;return(n=(e=Ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},s1=t=>{const e=i1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o1=()=>{var t;return(t=Ud())===null||t===void 0?void 0:t.config},a1=t=>{var e;return(e=Ud())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qc(JSON.stringify(n)),qc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function tN(){var t;const e=(t=Ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sN(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oN(){return!tN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aN(){try{return typeof indexedDB=="object"}catch{return!1}}function lN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="FirebaseError";class tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uN,Object.setPrototypeOf(this,tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?cN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new tr(i,a,r)}}function cN(t,e){return t.replace(dN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dN=/\{\$([^}]+)}/g;function hN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(X0(s)&&X0(o)){if(!Wc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function X0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ea(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function wa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fN(t,e){const n=new pN(t,e);return n.subscribe.bind(n)}class pN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rf),i.error===void 0&&(i.error=rf),i.complete===void 0&&(i.complete=rf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){return t&&t._delegate?t._delegate:t}class pi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vN(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yN(t){return t===Mi?void 0:t}function vN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const EN={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},wN=_e.INFO,TN={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},SN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=TN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pg{constructor(e){this.name=e,this._logLevel=wN,this._logHandler=SN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const IN=(t,e)=>e.some(n=>t instanceof n);let Z0,e_;function AN(){return Z0||(Z0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bN(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const u1=new WeakMap,zp=new WeakMap,c1=new WeakMap,sf=new WeakMap,kg=new WeakMap;function xN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ai(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&u1.set(n,t)}).catch(()=>{}),kg.set(e,t),e}function RN(t){if(zp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});zp.set(t,e)}let Hp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||c1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CN(t){Hp=t(Hp)}function PN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(of(this),e,...n);return c1.set(r,e.sort?e.sort():[e]),ai(r)}:bN().includes(t)?function(...e){return t.apply(of(this),e),ai(u1.get(this))}:function(...e){return ai(t.apply(of(this),e))}}function kN(t){return typeof t=="function"?PN(t):(t instanceof IDBTransaction&&RN(t),IN(t,AN())?new Proxy(t,Hp):t)}function ai(t){if(t instanceof IDBRequest)return xN(t);if(sf.has(t))return sf.get(t);const e=kN(t);return e!==t&&(sf.set(t,e),kg.set(e,t)),e}const of=t=>kg.get(t);function NN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ai(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ai(o.result),l.oldVersion,l.newVersion,ai(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const ON=["get","getKey","getAll","getAllKeys","count"],LN=["put","add","delete","clear"],af=new Map;function t_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(af.get(e))return af.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=LN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ON.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return af.set(e,s),s}CN(t=>({...t,get:(e,n,r)=>t_(e,n)||t.get(e,n,r),has:(e,n)=>!!t_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kp="@firebase/app",n_="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new Pg("@firebase/app"),jN="@firebase/app-compat",VN="@firebase/analytics-compat",FN="@firebase/analytics",UN="@firebase/app-check-compat",BN="@firebase/app-check",$N="@firebase/auth",zN="@firebase/auth-compat",HN="@firebase/database",KN="@firebase/data-connect",qN="@firebase/database-compat",WN="@firebase/functions",GN="@firebase/functions-compat",QN="@firebase/installations",JN="@firebase/installations-compat",YN="@firebase/messaging",XN="@firebase/messaging-compat",ZN="@firebase/performance",eO="@firebase/performance-compat",tO="@firebase/remote-config",nO="@firebase/remote-config-compat",rO="@firebase/storage",iO="@firebase/storage-compat",sO="@firebase/firestore",oO="@firebase/vertexai",aO="@firebase/firestore-compat",lO="firebase",uO="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="[DEFAULT]",cO={[Kp]:"fire-core",[jN]:"fire-core-compat",[FN]:"fire-analytics",[VN]:"fire-analytics-compat",[BN]:"fire-app-check",[UN]:"fire-app-check-compat",[$N]:"fire-auth",[zN]:"fire-auth-compat",[HN]:"fire-rtdb",[KN]:"fire-data-connect",[qN]:"fire-rtdb-compat",[WN]:"fire-fn",[GN]:"fire-fn-compat",[QN]:"fire-iid",[JN]:"fire-iid-compat",[YN]:"fire-fcm",[XN]:"fire-fcm-compat",[ZN]:"fire-perf",[eO]:"fire-perf-compat",[tO]:"fire-rc",[nO]:"fire-rc-compat",[rO]:"fire-gcs",[iO]:"fire-gcs-compat",[sO]:"fire-fst",[aO]:"fire-fst-compat",[oO]:"fire-vertex","fire-js":"fire-js",[lO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,dO=new Map,Wp=new Map;function r_(t,e){try{t.container.addComponent(e)}catch(n){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ns(t){const e=t.name;if(Wp.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;Wp.set(e,t);for(const n of Gc.values())r_(n,t);for(const n of dO.values())r_(n,t);return!0}function Bd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new Ol("app","Firebase",hO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=uO;function d1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw li.create("bad-app-name",{appName:String(i)});if(n||(n=o1()),!n)throw li.create("no-options");const s=Gc.get(i);if(s){if(Wc(n,s.options)&&Wc(r,s.config))return s;throw li.create("duplicate-app",{appName:i})}const o=new _N(i);for(const l of Wp.values())o.addComponent(l);const a=new fO(n,r,o);return Gc.set(i,a),a}function Ng(t=qp){const e=Gc.get(t);if(!e&&t===qp&&o1())return d1();if(!e)throw li.create("no-app",{appName:t});return e}function Wn(t,e,n){var r;let i=(r=cO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(a.join(" "));return}ns(new pi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="firebase-heartbeat-database",mO=1,hl="firebase-heartbeat-store";let lf=null;function h1(){return lf||(lf=NN(pO,mO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hl)}catch(n){console.warn(n)}}}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),lf}async function gO(t){try{const n=(await h1()).transaction(hl),r=await n.objectStore(hl).get(f1(t));return await n.done,r}catch(e){if(e instanceof tr)Ar.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ar.warn(n.message)}}}async function i_(t,e){try{const r=(await h1()).transaction(hl,"readwrite");await r.objectStore(hl).put(e,f1(t)),await r.done}catch(n){if(n instanceof tr)Ar.warn(n.message);else{const r=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ar.warn(r.message)}}}function f1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=1024,vO=30*24*60*60*1e3;class _O{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=s_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=vO}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ar.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=s_(),{heartbeatsToSend:r,unsentEntries:i}=EO(this._heartbeatsCache.heartbeats),s=qc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ar.warn(n),""}}}function s_(){return new Date().toISOString().substring(0,10)}function EO(t,e=yO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),o_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),o_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class wO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aN()?lN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return i_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return i_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function o_(t){return qc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t){ns(new pi("platform-logger",e=>new DN(e),"PRIVATE")),ns(new pi("heartbeat",e=>new _O(e),"PRIVATE")),Wn(Kp,n_,t),Wn(Kp,n_,"esm2017"),Wn("fire-js","")}TO("");var a_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wi,p1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function R(){}R.prototype=S.prototype,x.D=S.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(C,P,N){for(var b=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)b[Z-2]=arguments[Z];return S.prototype[P].apply(C,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,S,R){R||(R=0);var C=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)C[P]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(P=0;16>P;++P)C[P]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=x.g[0],R=x.g[1],P=x.g[2];var N=x.g[3],b=S+(N^R&(P^N))+C[0]+3614090360&4294967295;S=R+(b<<7&4294967295|b>>>25),b=N+(P^S&(R^P))+C[1]+3905402710&4294967295,N=S+(b<<12&4294967295|b>>>20),b=P+(R^N&(S^R))+C[2]+606105819&4294967295,P=N+(b<<17&4294967295|b>>>15),b=R+(S^P&(N^S))+C[3]+3250441966&4294967295,R=P+(b<<22&4294967295|b>>>10),b=S+(N^R&(P^N))+C[4]+4118548399&4294967295,S=R+(b<<7&4294967295|b>>>25),b=N+(P^S&(R^P))+C[5]+1200080426&4294967295,N=S+(b<<12&4294967295|b>>>20),b=P+(R^N&(S^R))+C[6]+2821735955&4294967295,P=N+(b<<17&4294967295|b>>>15),b=R+(S^P&(N^S))+C[7]+4249261313&4294967295,R=P+(b<<22&4294967295|b>>>10),b=S+(N^R&(P^N))+C[8]+1770035416&4294967295,S=R+(b<<7&4294967295|b>>>25),b=N+(P^S&(R^P))+C[9]+2336552879&4294967295,N=S+(b<<12&4294967295|b>>>20),b=P+(R^N&(S^R))+C[10]+4294925233&4294967295,P=N+(b<<17&4294967295|b>>>15),b=R+(S^P&(N^S))+C[11]+2304563134&4294967295,R=P+(b<<22&4294967295|b>>>10),b=S+(N^R&(P^N))+C[12]+1804603682&4294967295,S=R+(b<<7&4294967295|b>>>25),b=N+(P^S&(R^P))+C[13]+4254626195&4294967295,N=S+(b<<12&4294967295|b>>>20),b=P+(R^N&(S^R))+C[14]+2792965006&4294967295,P=N+(b<<17&4294967295|b>>>15),b=R+(S^P&(N^S))+C[15]+1236535329&4294967295,R=P+(b<<22&4294967295|b>>>10),b=S+(P^N&(R^P))+C[1]+4129170786&4294967295,S=R+(b<<5&4294967295|b>>>27),b=N+(R^P&(S^R))+C[6]+3225465664&4294967295,N=S+(b<<9&4294967295|b>>>23),b=P+(S^R&(N^S))+C[11]+643717713&4294967295,P=N+(b<<14&4294967295|b>>>18),b=R+(N^S&(P^N))+C[0]+3921069994&4294967295,R=P+(b<<20&4294967295|b>>>12),b=S+(P^N&(R^P))+C[5]+3593408605&4294967295,S=R+(b<<5&4294967295|b>>>27),b=N+(R^P&(S^R))+C[10]+38016083&4294967295,N=S+(b<<9&4294967295|b>>>23),b=P+(S^R&(N^S))+C[15]+3634488961&4294967295,P=N+(b<<14&4294967295|b>>>18),b=R+(N^S&(P^N))+C[4]+3889429448&4294967295,R=P+(b<<20&4294967295|b>>>12),b=S+(P^N&(R^P))+C[9]+568446438&4294967295,S=R+(b<<5&4294967295|b>>>27),b=N+(R^P&(S^R))+C[14]+3275163606&4294967295,N=S+(b<<9&4294967295|b>>>23),b=P+(S^R&(N^S))+C[3]+4107603335&4294967295,P=N+(b<<14&4294967295|b>>>18),b=R+(N^S&(P^N))+C[8]+1163531501&4294967295,R=P+(b<<20&4294967295|b>>>12),b=S+(P^N&(R^P))+C[13]+2850285829&4294967295,S=R+(b<<5&4294967295|b>>>27),b=N+(R^P&(S^R))+C[2]+4243563512&4294967295,N=S+(b<<9&4294967295|b>>>23),b=P+(S^R&(N^S))+C[7]+1735328473&4294967295,P=N+(b<<14&4294967295|b>>>18),b=R+(N^S&(P^N))+C[12]+2368359562&4294967295,R=P+(b<<20&4294967295|b>>>12),b=S+(R^P^N)+C[5]+4294588738&4294967295,S=R+(b<<4&4294967295|b>>>28),b=N+(S^R^P)+C[8]+2272392833&4294967295,N=S+(b<<11&4294967295|b>>>21),b=P+(N^S^R)+C[11]+1839030562&4294967295,P=N+(b<<16&4294967295|b>>>16),b=R+(P^N^S)+C[14]+4259657740&4294967295,R=P+(b<<23&4294967295|b>>>9),b=S+(R^P^N)+C[1]+2763975236&4294967295,S=R+(b<<4&4294967295|b>>>28),b=N+(S^R^P)+C[4]+1272893353&4294967295,N=S+(b<<11&4294967295|b>>>21),b=P+(N^S^R)+C[7]+4139469664&4294967295,P=N+(b<<16&4294967295|b>>>16),b=R+(P^N^S)+C[10]+3200236656&4294967295,R=P+(b<<23&4294967295|b>>>9),b=S+(R^P^N)+C[13]+681279174&4294967295,S=R+(b<<4&4294967295|b>>>28),b=N+(S^R^P)+C[0]+3936430074&4294967295,N=S+(b<<11&4294967295|b>>>21),b=P+(N^S^R)+C[3]+3572445317&4294967295,P=N+(b<<16&4294967295|b>>>16),b=R+(P^N^S)+C[6]+76029189&4294967295,R=P+(b<<23&4294967295|b>>>9),b=S+(R^P^N)+C[9]+3654602809&4294967295,S=R+(b<<4&4294967295|b>>>28),b=N+(S^R^P)+C[12]+3873151461&4294967295,N=S+(b<<11&4294967295|b>>>21),b=P+(N^S^R)+C[15]+530742520&4294967295,P=N+(b<<16&4294967295|b>>>16),b=R+(P^N^S)+C[2]+3299628645&4294967295,R=P+(b<<23&4294967295|b>>>9),b=S+(P^(R|~N))+C[0]+4096336452&4294967295,S=R+(b<<6&4294967295|b>>>26),b=N+(R^(S|~P))+C[7]+1126891415&4294967295,N=S+(b<<10&4294967295|b>>>22),b=P+(S^(N|~R))+C[14]+2878612391&4294967295,P=N+(b<<15&4294967295|b>>>17),b=R+(N^(P|~S))+C[5]+4237533241&4294967295,R=P+(b<<21&4294967295|b>>>11),b=S+(P^(R|~N))+C[12]+1700485571&4294967295,S=R+(b<<6&4294967295|b>>>26),b=N+(R^(S|~P))+C[3]+2399980690&4294967295,N=S+(b<<10&4294967295|b>>>22),b=P+(S^(N|~R))+C[10]+4293915773&4294967295,P=N+(b<<15&4294967295|b>>>17),b=R+(N^(P|~S))+C[1]+2240044497&4294967295,R=P+(b<<21&4294967295|b>>>11),b=S+(P^(R|~N))+C[8]+1873313359&4294967295,S=R+(b<<6&4294967295|b>>>26),b=N+(R^(S|~P))+C[15]+4264355552&4294967295,N=S+(b<<10&4294967295|b>>>22),b=P+(S^(N|~R))+C[6]+2734768916&4294967295,P=N+(b<<15&4294967295|b>>>17),b=R+(N^(P|~S))+C[13]+1309151649&4294967295,R=P+(b<<21&4294967295|b>>>11),b=S+(P^(R|~N))+C[4]+4149444226&4294967295,S=R+(b<<6&4294967295|b>>>26),b=N+(R^(S|~P))+C[11]+3174756917&4294967295,N=S+(b<<10&4294967295|b>>>22),b=P+(S^(N|~R))+C[2]+718787259&4294967295,P=N+(b<<15&4294967295|b>>>17),b=R+(N^(P|~S))+C[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(P+(b<<21&4294967295|b>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+N&4294967295}r.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var R=S-this.blockSize,C=this.B,P=this.h,N=0;N<S;){if(P==0)for(;N<=R;)i(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<S;)if(C[P++]=x.charCodeAt(N++),P==this.blockSize){i(this,C),P=0;break}}else for(;N<S;)if(C[P++]=x[N++],P==this.blockSize){i(this,C),P=0;break}}this.h=P,this.o+=S},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var R=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=R&255,R/=256;for(this.u(x),x=Array(16),S=R=0;4>S;++S)for(var C=0;32>C;C+=8)x[R++]=this.g[S]>>>C&255;return x};function s(x,S){var R=a;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=S(x)}function o(x,S){this.h=S;for(var R=[],C=!0,P=x.length-1;0<=P;P--){var N=x[P]|0;C&&N==S||(R[P]=N,C=!1)}this.g=R}var a={};function l(x){return-128<=x&&128>x?s(x,function(S){return new o([S|0],0>S?-1:0)}):new o([x|0],0>x?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return h;if(0>x)return w(c(-x));for(var S=[],R=1,C=0;x>=R;C++)S[C]=x/R|0,R*=4294967296;return new o(S,0)}function d(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return w(d(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=c(Math.pow(S,8)),C=h,P=0;P<x.length;P+=8){var N=Math.min(8,x.length-P),b=parseInt(x.substring(P,P+N),S);8>N?(N=c(Math.pow(S,N)),C=C.j(N).add(c(b))):(C=C.j(R),C=C.add(c(b)))}return C}var h=l(0),p=l(1),I=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-w(this).m();for(var x=0,S=1,R=0;R<this.g.length;R++){var C=this.i(R);x+=(0<=C?C:4294967296+C)*S,S*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(g(this))return"0";if(v(this))return"-"+w(this).toString(x);for(var S=c(Math.pow(x,6)),R=this,C="";;){var P=k(R,S).g;R=_(R,P.j(S));var N=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=P,g(R))return N+C;for(;6>N.length;)N="0"+N;C=N+C}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function g(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function v(x){return x.h==-1}t.l=function(x){return x=_(this,x),v(x)?-1:g(x)?0:1};function w(x){for(var S=x.g.length,R=[],C=0;C<S;C++)R[C]=~x.g[C];return new o(R,~x.h).add(p)}t.abs=function(){return v(this)?w(this):this},t.add=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],C=0,P=0;P<=S;P++){var N=C+(this.i(P)&65535)+(x.i(P)&65535),b=(N>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);C=b>>>16,N&=65535,b&=65535,R[P]=b<<16|N}return new o(R,R[R.length-1]&-2147483648?-1:0)};function _(x,S){return x.add(w(S))}t.j=function(x){if(g(this)||g(x))return h;if(v(this))return v(x)?w(this).j(w(x)):w(w(this).j(x));if(v(x))return w(this.j(w(x)));if(0>this.l(I)&&0>x.l(I))return c(this.m()*x.m());for(var S=this.g.length+x.g.length,R=[],C=0;C<2*S;C++)R[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<x.g.length;P++){var N=this.i(C)>>>16,b=this.i(C)&65535,Z=x.i(P)>>>16,se=x.i(P)&65535;R[2*C+2*P]+=b*se,E(R,2*C+2*P),R[2*C+2*P+1]+=N*se,E(R,2*C+2*P+1),R[2*C+2*P+1]+=b*Z,E(R,2*C+2*P+1),R[2*C+2*P+2]+=N*Z,E(R,2*C+2*P+2)}for(C=0;C<S;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=S;C<2*S;C++)R[C]=0;return new o(R,0)};function E(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function T(x,S){this.g=x,this.h=S}function k(x,S){if(g(S))throw Error("division by zero");if(g(x))return new T(h,h);if(v(x))return S=k(w(x),S),new T(w(S.g),w(S.h));if(v(S))return S=k(x,w(S)),new T(w(S.g),S.h);if(30<x.g.length){if(v(x)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var R=p,C=S;0>=C.l(x);)R=M(R),C=M(C);var P=V(R,1),N=V(C,1);for(C=V(C,2),R=V(R,2);!g(C);){var b=N.add(C);0>=b.l(x)&&(P=P.add(R),N=b),C=V(C,1),R=V(R,1)}return S=_(x,P.j(S)),new T(P,S)}for(P=h;0<=x.l(S);){for(R=Math.max(1,Math.floor(x.m()/S.m())),C=Math.ceil(Math.log(R)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),N=c(R),b=N.j(S);v(b)||0<b.l(x);)R-=C,N=c(R),b=N.j(S);g(N)&&(N=p),P=P.add(N),x=_(x,b)}return new T(P,x)}t.A=function(x){return k(this,x).h},t.and=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],C=0;C<S;C++)R[C]=this.i(C)&x.i(C);return new o(R,this.h&x.h)},t.or=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],C=0;C<S;C++)R[C]=this.i(C)|x.i(C);return new o(R,this.h|x.h)},t.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),R=[],C=0;C<S;C++)R[C]=this.i(C)^x.i(C);return new o(R,this.h^x.h)};function M(x){for(var S=x.g.length+1,R=[],C=0;C<S;C++)R[C]=x.i(C)<<1|x.i(C-1)>>>31;return new o(R,x.h)}function V(x,S){var R=S>>5;S%=32;for(var C=x.g.length-R,P=[],N=0;N<C;N++)P[N]=0<S?x.i(N+R)>>>S|x.i(N+R+1)<<32-S:x.i(N+R);return new o(P,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,p1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Wi=o}).apply(typeof a_<"u"?a_:typeof self<"u"?self:typeof window<"u"?window:{});var Ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var m1,Ta,g1,Xu,Gp,y1,v1,_1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,f,m){return u==Array.prototype||u==Object.prototype||(u[f]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ru=="object"&&Ru];for(var f=0;f<u.length;++f){var m=u[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,f){if(f)e:{var m=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in m))break e;m=m[L]}u=u[u.length-1],A=m[u],f=f(A),f!=A&&f!=null&&e(m,u,{configurable:!0,writable:!0,value:f})}}function s(u,f){u instanceof String&&(u+="");var m=0,A=!1,L={next:function(){if(!A&&m<u.length){var j=m++;return{value:f(j,u[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(u){return u||function(){return s(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var f=typeof u;return f=f!="object"?f:u?Array.isArray(u)?"array":f:"null",f=="array"||f=="object"&&typeof u.length=="number"}function c(u){var f=typeof u;return f=="object"&&u!=null||f=="function"}function d(u,f,m){return u.call.apply(u.bind,arguments)}function h(u,f,m){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(f,L)}}return function(){return u.apply(f,arguments)}}function p(u,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function I(u,f){var m=Array.prototype.slice.call(arguments,1);return function(){var A=m.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function g(u,f){function m(){}m.prototype=f.prototype,u.aa=f.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(A,L,j){for(var X=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)X[ke-2]=arguments[ke];return f.prototype[L].apply(A,X)}}function v(u){const f=u.length;if(0<f){const m=Array(f);for(let A=0;A<f;A++)m[A]=u[A];return m}return[]}function w(u,f){for(let m=1;m<arguments.length;m++){const A=arguments[m];if(l(A)){const L=u.length||0,j=A.length||0;u.length=L+j;for(let X=0;X<j;X++)u[L+X]=A[X]}else u.push(A)}}class _{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function E(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function k(u){return k[" "](u),u}k[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function V(u,f,m){for(const A in u)f.call(m,u[A],A,u)}function x(u,f){for(const m in u)f.call(void 0,u[m],m,u)}function S(u){const f={};for(const m in u)f[m]=u[m];return f}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,f){let m,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(m in A)u[m]=A[m];for(let j=0;j<R.length;j++)m=R[j],Object.prototype.hasOwnProperty.call(A,m)&&(u[m]=A[m])}}function P(u){var f=1;u=u.split(":");const m=[];for(;0<f&&u.length;)m.push(u.shift()),f--;return u.length&&m.push(u.join(":")),m}function N(u){a.setTimeout(()=>{throw u},0)}function b(){var u=te;let f=null;return u.g&&(f=u.g,u.g=u.g.next,u.g||(u.h=null),f.next=null),f}class Z{constructor(){this.h=this.g=null}add(f,m){const A=se.get();A.set(f,m),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new _(()=>new pe,u=>u.reset());class pe{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let me,Q=!1,te=new Z,Y=()=>{const u=a.Promise.resolve(void 0);me=()=>{u.then(ae)}};var ae=()=>{for(var u;u=b();){try{u.h.call(u.g)}catch(m){N(m)}var f=se;f.j(u),100>f.h&&(f.h++,u.next=f.g,f.g=u)}Q=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(u,f){this.type=u,this.g=this.target=f,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return u}();function rt(u,f){if(Ae.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=f,f=u.relatedTarget){if(M){e:{try{k(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else m=="mouseover"?f=u.fromElement:m=="mouseout"&&(f=u.toElement);this.relatedTarget=f,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:z[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&rt.aa.h.call(this)}}g(rt,Ae);var z={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),O=0;function $(u,f,m,A,L){this.listener=u,this.proxy=null,this.src=f,this.type=m,this.capture=!!A,this.ha=L,this.key=++O,this.da=this.fa=!1}function K(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function U(u){this.src=u,this.g={},this.h=0}U.prototype.add=function(u,f,m,A,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var X=W(u,f,A,L);return-1<X?(f=u[X],m||(f.fa=!1)):(f=new $(f,this.src,j,!!A,L),f.fa=m,u.push(f)),f};function D(u,f){var m=f.type;if(m in u.g){var A=u.g[m],L=Array.prototype.indexOf.call(A,f,void 0),j;(j=0<=L)&&Array.prototype.splice.call(A,L,1),j&&(K(f),u.g[m].length==0&&(delete u.g[m],u.h--))}}function W(u,f,m,A){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==f&&j.capture==!!m&&j.ha==A)return L}return-1}var re="closure_lm_"+(1e6*Math.random()|0),Te={};function Ce(u,f,m,A,L){if(Array.isArray(f)){for(var j=0;j<f.length;j++)Ce(u,f[j],m,A,L);return null}return m=Bo(m),u&&u[G]?u.K(f,m,c(A)?!!A.capture:!!A,L):gt(u,f,m,!1,A,L)}function gt(u,f,m,A,L,j){if(!f)throw Error("Invalid event type");var X=c(L)?!!L.capture:!!L,ke=Ri(u);if(ke||(u[re]=ke=new U(u)),m=ke.add(f,m,A,X,j),m.proxy)return m;if(A=jt(),m.proxy=A,A.src=u,A.listener=m,u.addEventListener)Ve||(L=X),L===void 0&&(L=!1),u.addEventListener(f.toString(),A,L);else if(u.attachEvent)u.attachEvent(Xt(f.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return m}function jt(){function u(m){return f.call(u.src,u.listener,m)}const f=Uo;return u}function Jt(u,f,m,A,L){if(Array.isArray(f))for(var j=0;j<f.length;j++)Jt(u,f[j],m,A,L);else A=c(A)?!!A.capture:!!A,m=Bo(m),u&&u[G]?(u=u.i,f=String(f).toString(),f in u.g&&(j=u.g[f],m=W(j,m,A,L),-1<m&&(K(j[m]),Array.prototype.splice.call(j,m,1),j.length==0&&(delete u.g[f],u.h--)))):u&&(u=Ri(u))&&(f=u.g[f.toString()],u=-1,f&&(u=W(f,m,A,L)),(m=-1<u?f[u]:null)&&Yt(m))}function Yt(u){if(typeof u!="number"&&u&&!u.da){var f=u.src;if(f&&f[G])D(f.i,u);else{var m=u.type,A=u.proxy;f.removeEventListener?f.removeEventListener(m,A,u.capture):f.detachEvent?f.detachEvent(Xt(m),A):f.addListener&&f.removeListener&&f.removeListener(A),(m=Ri(f))?(D(m,u),m.h==0&&(m.src=null,f[re]=null)):K(u)}}}function Xt(u){return u in Te?Te[u]:Te[u]="on"+u}function Uo(u,f){if(u.da)u=!0;else{f=new rt(f,this);var m=u.listener,A=u.ha||u.src;u.fa&&Yt(u),u=m.call(A,f)}return u}function Ri(u){return u=u[re],u instanceof U?u:null}var fs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bo(u){return typeof u=="function"?u:(u[fs]||(u[fs]=function(f){return u.handleEvent(f)}),u[fs])}function ct(){fe.call(this),this.i=new U(this),this.M=this,this.F=null}g(ct,fe),ct.prototype[G]=!0,ct.prototype.removeEventListener=function(u,f,m,A){Jt(this,u,f,m,A)};function dt(u,f){var m,A=u.F;if(A)for(m=[];A;A=A.F)m.push(A);if(u=u.M,A=f.type||f,typeof f=="string")f=new Ae(f,u);else if(f instanceof Ae)f.target=f.target||u;else{var L=f;f=new Ae(A,u),C(f,L)}if(L=!0,m)for(var j=m.length-1;0<=j;j--){var X=f.g=m[j];L=ps(X,A,!0,f)&&L}if(X=f.g=u,L=ps(X,A,!0,f)&&L,L=ps(X,A,!1,f)&&L,m)for(j=0;j<m.length;j++)X=f.g=m[j],L=ps(X,A,!1,f)&&L}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var u=this.i,f;for(f in u.g){for(var m=u.g[f],A=0;A<m.length;A++)K(m[A]);delete u.g[f],u.h--}}this.F=null},ct.prototype.K=function(u,f,m,A){return this.i.add(String(u),f,!1,m,A)},ct.prototype.L=function(u,f,m,A){return this.i.add(String(u),f,!0,m,A)};function ps(u,f,m,A){if(f=u.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,j=0;j<f.length;++j){var X=f[j];if(X&&!X.da&&X.capture==m){var ke=X.listener,yt=X.ha||X.src;X.fa&&D(u.i,X),L=ke.call(yt,A)!==!1&&L}}return L&&!A.defaultPrevented}function ms(u,f,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(u,f||0)}function yn(u){u.g=ms(()=>{u.g=null,u.i&&(u.i=!1,yn(u))},u.l);const f=u.h;u.h=null,u.m.apply(null,f)}class $o extends fe{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:yn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(u){fe.call(this),this.h=u,this.g={}}g(rr,fe);var Ci=[];function gs(u){V(u.g,function(f,m){this.g.hasOwnProperty(m)&&Yt(f)},u),u.g={}}rr.prototype.N=function(){rr.aa.N.call(this),gs(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zo=a.JSON.stringify,gh=a.JSON.parse,yh=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ys(){}ys.prototype.h=null;function Gl(u){return u.h||(u.h=u.i())}function Ho(){}var Nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vs(){Ae.call(this,"d")}g(vs,Ae);function Ko(){Ae.call(this,"c")}g(Ko,Ae);var Ln={},Ql=null;function Jl(){return Ql=Ql||new ct}Ln.La="serverreachability";function Uy(u){Ae.call(this,Ln.La,u)}g(Uy,Ae);function qo(u){const f=Jl();dt(f,new Uy(f))}Ln.STAT_EVENT="statevent";function By(u,f){Ae.call(this,Ln.STAT_EVENT,u),this.stat=f}g(By,Ae);function Vt(u){const f=Jl();dt(f,new By(f,u))}Ln.Ma="timingevent";function $y(u,f){Ae.call(this,Ln.Ma,u),this.size=f}g($y,Ae);function Wo(u,f){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},f)}function Go(){this.g=!0}Go.prototype.xa=function(){this.g=!1};function Qb(u,f,m,A,L,j){u.info(function(){if(u.g)if(j)for(var X="",ke=j.split("&"),yt=0;yt<ke.length;yt++){var xe=ke[yt].split("=");if(1<xe.length){var At=xe[0];xe=xe[1];var bt=At.split("_");X=2<=bt.length&&bt[1]=="type"?X+(At+"="+xe+"&"):X+(At+"=redacted&")}}else X=null;else X=j;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+f+`
`+m+`
`+X})}function Jb(u,f,m,A,L,j,X){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+f+`
`+m+`
`+j+" "+X})}function _s(u,f,m,A){u.info(function(){return"XMLHTTP TEXT ("+f+"): "+Xb(u,m)+(A?" "+A:"")})}function Yb(u,f){u.info(function(){return"TIMEOUT: "+f})}Go.prototype.info=function(){};function Xb(u,f){if(!u.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var A=m[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var X=1;X<L.length;X++)L[X]=""}}}}return zo(m)}catch{return f}}var Yl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vh;function Xl(){}g(Xl,ys),Xl.prototype.g=function(){return new XMLHttpRequest},Xl.prototype.i=function(){return{}},vh=new Xl;function Or(u,f,m,A){this.j=u,this.i=f,this.l=m,this.R=A||1,this.U=new rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hy}function Hy(){this.i=null,this.g="",this.h=!1}var Ky={},_h={};function Eh(u,f,m){u.L=1,u.v=nu(ir(f)),u.m=m,u.P=!0,qy(u,null)}function qy(u,f){u.F=Date.now(),Zl(u),u.A=ir(u.v);var m=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),ov(m.i,"t",A),u.C=0,m=u.j.J,u.h=new Hy,u.g=Iv(u.j,m?f:null,!u.m),0<u.O&&(u.M=new $o(p(u.Y,u,u.g),u.O)),f=u.U,m=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ci[0]=L.toString()),L=Ci);for(var j=0;j<L.length;j++){var X=Ce(m,L[j],A||f.handleEvent,!1,f.h||f);if(!X)break;f.g[X.key]=X}f=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,f)):(u.u="GET",u.g.ea(u.A,u.u,null,f)),qo(),Qb(u.i,u.u,u.A,u.l,u.R,u.m)}Or.prototype.ca=function(u){u=u.target;const f=this.M;f&&sr(u)==3?f.j():this.Y(u)},Or.prototype.Y=function(u){try{if(u==this.g)e:{const bt=sr(this.g);var f=this.g.Ba();const Ts=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||fv(this.g)))){this.J||bt!=4||f==7||(f==8||0>=Ts?qo(3):qo(2)),wh(this);var m=this.g.Z();this.X=m;t:if(Wy(this)){var A=fv(this.g);u="";var L=A.length,j=sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),Qo(this);var X="";break t}this.h.i=new a.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,u+=this.h.i.decode(A[f],{stream:!(j&&f==L-1)});A.length=0,this.h.g+=u,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=m==200,Jb(this.i,this.u,this.A,this.l,this.R,bt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,yt=this.g;if((ke=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(ke)){var xe=ke;break t}}xe=null}if(m=xe)_s(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Th(this,m);else{this.o=!1,this.s=3,Vt(12),Pi(this),Qo(this);break e}}if(this.P){m=!0;let vn;for(;!this.J&&this.C<X.length;)if(vn=Zb(this,X),vn==_h){bt==4&&(this.s=4,Vt(14),m=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==Ky){this.s=4,Vt(15),_s(this.i,this.l,X,"[Invalid Chunk]"),m=!1;break}else _s(this.i,this.l,vn,null),Th(this,vn);if(Wy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||X.length!=0||this.h.h||(this.s=1,Vt(16),m=!1),this.o=this.o&&m,!m)_s(this.i,this.l,X,"[Invalid Chunked Response]"),Pi(this),Qo(this);else if(0<X.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Rh(At),At.M=!0,Vt(11))}}else _s(this.i,this.l,X,null),Th(this,X);bt==4&&Pi(this),this.o&&!this.J&&(bt==4?Ev(this.j,this):(this.o=!1,Zl(this)))}else gx(this.g),m==400&&0<X.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Pi(this),Qo(this)}}}catch{}finally{}};function Wy(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Zb(u,f){var m=u.C,A=f.indexOf(`
`,m);return A==-1?_h:(m=Number(f.substring(m,A)),isNaN(m)?Ky:(A+=1,A+m>f.length?_h:(f=f.slice(A,A+m),u.C=A+m,f)))}Or.prototype.cancel=function(){this.J=!0,Pi(this)};function Zl(u){u.S=Date.now()+u.I,Gy(u,u.I)}function Gy(u,f){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Wo(p(u.ba,u),f)}function wh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Or.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Yb(this.i,this.A),this.L!=2&&(qo(),Vt(17)),Pi(this),this.s=2,Qo(this)):Gy(this,this.S-u)};function Qo(u){u.j.G==0||u.J||Ev(u.j,u)}function Pi(u){wh(u);var f=u.M;f&&typeof f.ma=="function"&&f.ma(),u.M=null,gs(u.U),u.g&&(f=u.g,u.g=null,f.abort(),f.ma())}function Th(u,f){try{var m=u.j;if(m.G!=0&&(m.g==u||Sh(m.h,u))){if(!u.K&&Sh(m.h,u)&&m.G==3){try{var A=m.Da.g.parse(f)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)lu(m),ou(m);else break e;xh(m),Vt(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=Wo(p(m.Za,m),6e3));if(1>=Yy(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ni(m,11)}else if((u.K||m.g==u)&&lu(m),!E(f))for(L=m.Da.g.parse(f),f=0;f<L.length;f++){let xe=L[f];if(m.T=xe[0],xe=xe[1],m.G==2)if(xe[0]=="c"){m.K=xe[1],m.ia=xe[2];const At=xe[3];At!=null&&(m.la=At,m.j.info("VER="+m.la));const bt=xe[4];bt!=null&&(m.Aa=bt,m.j.info("SVER="+m.Aa));const Ts=xe[5];Ts!=null&&typeof Ts=="number"&&0<Ts&&(A=1.5*Ts,m.L=A,m.j.info("backChannelRequestTimeoutMs_="+A)),A=m;const vn=u.g;if(vn){const cu=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cu){var j=A.h;j.g||cu.indexOf("spdy")==-1&&cu.indexOf("quic")==-1&&cu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ih(j,j.h),j.h=null))}if(A.D){const Ch=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ch&&(A.ya=Ch,De(A.I,A.D,Ch))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),A=m;var X=u;if(A.qa=Sv(A,A.J?A.ia:null,A.W),X.K){Xy(A.h,X);var ke=X,yt=A.L;yt&&(ke.I=yt),ke.B&&(wh(ke),Zl(ke)),A.g=X}else vv(A);0<m.i.length&&au(m)}else xe[0]!="stop"&&xe[0]!="close"||Ni(m,7);else m.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Ni(m,7):bh(m):xe[0]!="noop"&&m.l&&m.l.ta(xe),m.v=0)}}qo(4)}catch{}}var ex=class{constructor(u,f){this.g=u,this.map=f}};function Qy(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jy(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Yy(u){return u.h?1:u.g?u.g.size:0}function Sh(u,f){return u.h?u.h==f:u.g?u.g.has(f):!1}function Ih(u,f){u.g?u.g.add(f):u.h=f}function Xy(u,f){u.h&&u.h==f?u.h=null:u.g&&u.g.has(f)&&u.g.delete(f)}Qy.prototype.cancel=function(){if(this.i=Zy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Zy(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let f=u.i;for(const m of u.g.values())f=f.concat(m.D);return f}return v(u.i)}function tx(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var f=[],m=u.length,A=0;A<m;A++)f.push(u[A]);return f}f=[],m=0;for(A in u)f[m++]=u[A];return f}function nx(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var f=[];u=u.length;for(var m=0;m<u;m++)f.push(m);return f}f=[],m=0;for(const A in u)f[m++]=A;return f}}}function ev(u,f){if(u.forEach&&typeof u.forEach=="function")u.forEach(f,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,f,void 0);else for(var m=nx(u),A=tx(u),L=A.length,j=0;j<L;j++)f.call(void 0,A[j],m&&m[j],u)}var tv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rx(u,f){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var A=u[m].indexOf("="),L=null;if(0<=A){var j=u[m].substring(0,A);L=u[m].substring(A+1)}else j=u[m];f(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ki(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ki){this.h=u.h,eu(this,u.j),this.o=u.o,this.g=u.g,tu(this,u.s),this.l=u.l;var f=u.i,m=new Xo;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),nv(this,m),this.m=u.m}else u&&(f=String(u).match(tv))?(this.h=!1,eu(this,f[1]||"",!0),this.o=Jo(f[2]||""),this.g=Jo(f[3]||"",!0),tu(this,f[4]),this.l=Jo(f[5]||"",!0),nv(this,f[6]||"",!0),this.m=Jo(f[7]||"")):(this.h=!1,this.i=new Xo(null,this.h))}ki.prototype.toString=function(){var u=[],f=this.j;f&&u.push(Yo(f,rv,!0),":");var m=this.g;return(m||f=="file")&&(u.push("//"),(f=this.o)&&u.push(Yo(f,rv,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Yo(m,m.charAt(0)=="/"?ox:sx,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Yo(m,lx)),u.join("")};function ir(u){return new ki(u)}function eu(u,f,m){u.j=m?Jo(f,!0):f,u.j&&(u.j=u.j.replace(/:$/,""))}function tu(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.s=f}else u.s=null}function nv(u,f,m){f instanceof Xo?(u.i=f,ux(u.i,u.h)):(m||(f=Yo(f,ax)),u.i=new Xo(f,u.h))}function De(u,f,m){u.i.set(f,m)}function nu(u){return De(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Jo(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yo(u,f,m){return typeof u=="string"?(u=encodeURI(u).replace(f,ix),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ix(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var rv=/[#\/\?@]/g,sx=/[#\?:]/g,ox=/[#\?]/g,ax=/[#\?@]/g,lx=/#/g;function Xo(u,f){this.h=this.g=null,this.i=u||null,this.j=!!f}function Lr(u){u.g||(u.g=new Map,u.h=0,u.i&&rx(u.i,function(f,m){u.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Xo.prototype,t.add=function(u,f){Lr(this),this.i=null,u=Es(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(f),this.h+=1,this};function iv(u,f){Lr(u),f=Es(u,f),u.g.has(f)&&(u.i=null,u.h-=u.g.get(f).length,u.g.delete(f))}function sv(u,f){return Lr(u),f=Es(u,f),u.g.has(f)}t.forEach=function(u,f){Lr(this),this.g.forEach(function(m,A){m.forEach(function(L){u.call(f,L,A,this)},this)},this)},t.na=function(){Lr(this);const u=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let A=0;A<f.length;A++){const L=u[A];for(let j=0;j<L.length;j++)m.push(f[A])}return m},t.V=function(u){Lr(this);let f=[];if(typeof u=="string")sv(this,u)&&(f=f.concat(this.g.get(Es(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)f=f.concat(u[m])}return f},t.set=function(u,f){return Lr(this),this.i=null,u=Es(this,u),sv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[f]),this.h+=1,this},t.get=function(u,f){return u?(u=this.V(u),0<u.length?String(u[0]):f):f};function ov(u,f,m){iv(u,f),0<m.length&&(u.i=null,u.g.set(Es(u,f),v(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var A=f[m];const j=encodeURIComponent(String(A)),X=this.V(A);for(A=0;A<X.length;A++){var L=j;X[A]!==""&&(L+="="+encodeURIComponent(String(X[A]))),u.push(L)}}return this.i=u.join("&")};function Es(u,f){return f=String(f),u.j&&(f=f.toLowerCase()),f}function ux(u,f){f&&!u.j&&(Lr(u),u.i=null,u.g.forEach(function(m,A){var L=A.toLowerCase();A!=L&&(iv(this,A),ov(this,L,m))},u)),u.j=f}function cx(u,f){const m=new Go;if(a.Image){const A=new Image;A.onload=I(Dr,m,"TestLoadImage: loaded",!0,f,A),A.onerror=I(Dr,m,"TestLoadImage: error",!1,f,A),A.onabort=I(Dr,m,"TestLoadImage: abort",!1,f,A),A.ontimeout=I(Dr,m,"TestLoadImage: timeout",!1,f,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else f(!1)}function dx(u,f){const m=new Go,A=new AbortController,L=setTimeout(()=>{A.abort(),Dr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(u,{signal:A.signal}).then(j=>{clearTimeout(L),j.ok?Dr(m,"TestPingServer: ok",!0,f):Dr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),Dr(m,"TestPingServer: error",!1,f)})}function Dr(u,f,m,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(m)}catch{}}function hx(){this.g=new yh}function fx(u,f,m){const A=m||"";try{ev(u,function(L,j){let X=L;c(L)&&(X=zo(L)),f.push(A+j+"="+encodeURIComponent(X))})}catch(L){throw f.push(A+"type="+encodeURIComponent("_badmap")),L}}function ru(u){this.l=u.Ub||null,this.j=u.eb||!1}g(ru,ys),ru.prototype.g=function(){return new iu(this.l,this.j)},ru.prototype.i=function(u){return function(){return u}}({});function iu(u,f){ct.call(this),this.D=u,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(iu,ct),t=iu.prototype,t.open=function(u,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=f,this.readyState=1,ea(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(f.body=u),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zo(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ea(this)),this.g&&(this.readyState=3,ea(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;av(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function av(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var f=u.value?u.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!u.done}))&&(this.response=this.responseText+=f)}u.done?Zo(this):ea(this),this.readyState==3&&av(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Zo(this))},t.Qa=function(u){this.g&&(this.response=u,Zo(this))},t.ga=function(){this.g&&Zo(this)};function Zo(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ea(u)}t.setRequestHeader=function(u,f){this.u.append(u,f)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=f.next();return u.join(`\r
`)};function ea(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function lv(u){let f="";return V(u,function(m,A){f+=A,f+=":",f+=m,f+=`\r
`}),f}function Ah(u,f,m){e:{for(A in m){var A=!1;break e}A=!0}A||(m=lv(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):De(u,f,m))}function qe(u){ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(qe,ct);var px=/^https?$/i,mx=["POST","PUT"];t=qe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,f,m,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);f=f?f.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vh.g(),this.v=this.o?Gl(this.o):Gl(vh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(u),!0),this.B=!1}catch(j){uv(this,j);return}if(u=m||"",m=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)m.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())m.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(m.keys()).find(j=>j.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(mx,f,void 0))||A||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,X]of m)this.g.setRequestHeader(j,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hv(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){uv(this,j)}};function uv(u,f){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=f,u.m=5,cv(u),su(u)}function cv(u){u.A||(u.A=!0,dt(u,"complete"),dt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,dt(this,"complete"),dt(this,"abort"),su(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),su(this,!0)),qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dv(this):this.bb())},t.bb=function(){dv(this)};function dv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||sr(u)!=4||u.Z()!=2)){if(u.u&&sr(u)==4)ms(u.Ea,0,u);else if(dt(u,"readystatechange"),sr(u)==4){u.h=!1;try{const X=u.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var A;if(A=X===0){var L=String(u.D).match(tv)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),A=!px.test(L?L.toLowerCase():"")}m=A}if(m)dt(u,"complete"),dt(u,"success");else{u.m=6;try{var j=2<sr(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",cv(u)}}finally{su(u)}}}}function su(u,f){if(u.g){hv(u);const m=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,f||dt(u,"ready");try{m.onreadystatechange=A}catch{}}}function hv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function sr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var f=this.g.responseText;return u&&f.indexOf(u)==0&&(f=f.substring(u.length)),gh(f)}};function fv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gx(u){const f={};u=(u.g&&2<=sr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(E(u[A]))continue;var m=P(u[A]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const j=f[L]||[];f[L]=j,j.push(m)}x(f,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(u,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||f}function pv(u){this.Aa=0,this.i=[],this.j=new Go,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,u),this.cb=ta("retryDelaySeedMs",1e4,u),this.Wa=ta("forwardChannelMaxRetries",2,u),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Qy(u&&u.concurrentRequestLimit),this.Da=new hx,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=pv.prototype,t.la=8,t.G=1,t.connect=function(u,f,m,A){Vt(0),this.W=u,this.H=f||{},m&&A!==void 0&&(this.H.OSID=m,this.H.OAID=A),this.F=this.X,this.I=Sv(this,null,this.W),au(this)};function bh(u){if(mv(u),u.G==3){var f=u.U++,m=ir(u.I);if(De(m,"SID",u.K),De(m,"RID",f),De(m,"TYPE","terminate"),na(u,m),f=new Or(u,u.j,f),f.L=2,f.v=nu(ir(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=Iv(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Zl(f)}Tv(u)}function ou(u){u.g&&(Rh(u),u.g.cancel(),u.g=null)}function mv(u){ou(u),u.u&&(a.clearTimeout(u.u),u.u=null),lu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function au(u){if(!Jy(u.h)&&!u.s){u.s=!0;var f=u.Ga;me||Y(),Q||(me(),Q=!0),te.add(f,u),u.B=0}}function yx(u,f){return Yy(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=f.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Wo(p(u.Ga,u,f),wv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Or(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),C(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var A=this.i[m];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(f+=A,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=yv(this,L,f),m=ir(this.I),De(m,"RID",u),De(m,"CVER",22),this.D&&De(m,"X-HTTP-Session-Id",this.D),na(this,m),j&&(this.O?f="headers="+encodeURIComponent(String(lv(j)))+"&"+f:this.m&&Ah(m,this.m,j)),Ih(this.h,L),this.Ua&&De(m,"TYPE","init"),this.P?(De(m,"$req",f),De(m,"SID","null"),L.T=!0,Eh(L,m,null)):Eh(L,m,f),this.G=2}}else this.G==3&&(u?gv(this,u):this.i.length==0||Jy(this.h)||gv(this))};function gv(u,f){var m;f?m=f.l:m=u.U++;const A=ir(u.I);De(A,"SID",u.K),De(A,"RID",m),De(A,"AID",u.T),na(u,A),u.m&&u.o&&Ah(A,u.m,u.o),m=new Or(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),f&&(u.i=f.D.concat(u.i)),f=yv(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ih(u.h,m),Eh(m,A,f)}function na(u,f){u.H&&V(u.H,function(m,A){De(f,A,m)}),u.l&&ev({},function(m,A){De(f,A,m)})}function yv(u,f,m){m=Math.min(u.i.length,m);var A=u.l?p(u.l.Na,u.l,u):null;e:{var L=u.i;let j=-1;for(;;){const X=["count="+m];j==-1?0<m?(j=L[0].g,X.push("ofs="+j)):j=0:X.push("ofs="+j);let ke=!0;for(let yt=0;yt<m;yt++){let xe=L[yt].g;const At=L[yt].map;if(xe-=j,0>xe)j=Math.max(0,L[yt].g-100),ke=!1;else try{fx(At,X,"req"+xe+"_")}catch{A&&A(At)}}if(ke){A=X.join("&");break e}}}return u=u.i.splice(0,m),f.D=u,A}function vv(u){if(!u.g&&!u.u){u.Y=1;var f=u.Fa;me||Y(),Q||(me(),Q=!0),te.add(f,u),u.v=0}}function xh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Wo(p(u.Fa,u),wv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,_v(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Wo(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),ou(this),_v(this))};function Rh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function _v(u){u.g=new Or(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var f=ir(u.qa);De(f,"RID","rpc"),De(f,"SID",u.K),De(f,"AID",u.T),De(f,"CI",u.F?"0":"1"),!u.F&&u.ja&&De(f,"TO",u.ja),De(f,"TYPE","xmlhttp"),na(u,f),u.m&&u.o&&Ah(f,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=nu(ir(f)),m.m=null,m.P=!0,qy(m,u)}t.Za=function(){this.C!=null&&(this.C=null,ou(this),xh(this),Vt(19))};function lu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Ev(u,f){var m=null;if(u.g==f){lu(u),Rh(u),u.g=null;var A=2}else if(Sh(u.h,f))m=f.D,Xy(u.h,f),A=1;else return;if(u.G!=0){if(f.o)if(A==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var L=u.B;A=Jl(),dt(A,new $y(A,m)),au(u)}else vv(u);else if(L=f.s,L==3||L==0&&0<f.X||!(A==1&&yx(u,f)||A==2&&xh(u)))switch(m&&0<m.length&&(f=u.h,f.i=f.i.concat(m)),L){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function wv(u,f){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*f}function Ni(u,f){if(u.j.info("Error code "+f),f==2){var m=p(u.fb,u),A=u.Xa;const L=!A;A=new ki(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||eu(A,"https"),nu(A),L?cx(A.toString(),m):dx(A.toString(),m)}else Vt(2);u.G=0,u.l&&u.l.sa(f),Tv(u),mv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Tv(u){if(u.G=0,u.ka=[],u.l){const f=Zy(u.h);(f.length!=0||u.i.length!=0)&&(w(u.ka,f),w(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function Sv(u,f,m){var A=m instanceof ki?ir(m):new ki(m);if(A.g!="")f&&(A.g=f+"."+A.g),tu(A,A.s);else{var L=a.location;A=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var j=new ki(null);A&&eu(j,A),f&&(j.g=f),L&&tu(j,L),m&&(j.l=m),A=j}return m=u.D,f=u.ya,m&&f&&De(A,m,f),De(A,"VER",u.la),na(u,A),A}function Iv(u,f,m){if(f&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=u.Ca&&!u.pa?new qe(new ru({eb:m})):new qe(u.pa),f.Ha(u.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Av(){}t=Av.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uu(){}uu.prototype.g=function(u,f){return new Zt(u,f)};function Zt(u,f){ct.call(this),this.g=new pv(f),this.l=u,this.h=f&&f.messageUrlParams||null,u=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(u?u["X-WebChannel-Content-Type"]=f.messageContentType:u={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(u?u["X-WebChannel-Client-Profile"]=f.va:u={"X-WebChannel-Client-Profile":f.va}),this.g.S=u,(u=f&&f.Sb)&&!E(u)&&(this.g.m=u),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!E(f)&&(this.g.D=f,u=this.h,u!==null&&f in u&&(u=this.h,f in u&&delete u[f])),this.j=new ws(this)}g(Zt,ct),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){bh(this.g)},Zt.prototype.o=function(u){var f=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=zo(u),u=m);f.i.push(new ex(f.Ya++,u)),f.G==3&&au(f)},Zt.prototype.N=function(){this.g.l=null,delete this.j,bh(this.g),delete this.g,Zt.aa.N.call(this)};function bv(u){vs.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var f=u.__sm__;if(f){e:{for(const m in f){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,f=f!==null&&u in f?f[u]:void 0),this.data=f}else this.data=u}g(bv,vs);function xv(){Ko.call(this),this.status=1}g(xv,Ko);function ws(u){this.g=u}g(ws,Av),ws.prototype.ua=function(){dt(this.g,"a")},ws.prototype.ta=function(u){dt(this.g,new bv(u))},ws.prototype.sa=function(u){dt(this.g,new xv)},ws.prototype.ra=function(){dt(this.g,"b")},uu.prototype.createWebChannel=uu.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,_1=function(){return new uu},v1=function(){return Jl()},y1=Ln,Gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yl.NO_ERROR=0,Yl.TIMEOUT=8,Yl.HTTP_ERROR=6,Xu=Yl,zy.COMPLETE="complete",g1=zy,Ho.EventType=Nr,Nr.OPEN="a",Nr.CLOSE="b",Nr.ERROR="c",Nr.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Ta=Ho,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,m1=qe}).apply(typeof Ru<"u"?Ru:typeof self<"u"?self:typeof window<"u"?window:{});const l_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Pg("@firebase/firestore");function xs(){return rs.logLevel}function ee(t,...e){if(rs.logLevel<=_e.DEBUG){const n=e.map(Og);rs.debug(`Firestore (${Po}): ${t}`,...n)}}function br(t,...e){if(rs.logLevel<=_e.ERROR){const n=e.map(Og);rs.error(`Firestore (${Po}): ${t}`,...n)}}function po(t,...e){if(rs.logLevel<=_e.WARN){const n=e.map(Og);rs.warn(`Firestore (${Po}): ${t}`,...n)}}function Og(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: `+t;throw br(e),new Error(e)}function Re(t,e){t||ue()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class IO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AO{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _r,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _r)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new E1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new Pt(e)}}class bO{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class xO{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new bO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Re(this.o===void 0);const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new RO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function we(t,e){return t<e?-1:t>e?1:0}function mo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new lt(0,0))}static max(){return new ce(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends fl{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const kO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends fl{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return kO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ue.fromString(e))}static fromName(e){return new oe(Ue.fromString(e).popFirst(5))}static empty(){return new oe(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ue(e.slice()))}}function NO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new mi(i,oe.empty(),e)}function OO(t){return new mi(t.readTime,t.key,-1)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(ce.min(),oe.empty(),-1)}static max(){return new mi(ce.max(),oe.empty(),-1)}}function LO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==DO)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function jO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$d.oe=-1;function zd(t){return t==null}function Qc(t){return t===0&&1/t==-1/0}function VO(t){return typeof t=="number"&&Number.isInteger(t)&&!Qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=u_(e)),e=UO(t.get(n),e);return u_(e)}function UO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function u_(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ii(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function T1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cu(this.root,e,this.comparator,!0)}}class Cu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_t.RED,this.left=i??_t.EMPTY,this.right=s??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,s){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d_(this.data.getIterator())}getIteratorFrom(e){return new d_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ut(this.comparator);return n.data=e,n}}class d_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new fn([])}unionWith(e){let n=new ut(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new S1("Invalid base64 string: "+s):s}}(e);return new It(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const BO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(t){if(Re(!!t),typeof t=="string"){let e=0;const n=BO.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yi(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hd(t){const e=t.mapValue.fields.__previous_value__;return Lg(e)?Hd(e):e}function pl(t){const e=gi(t.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ml{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ml("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ml&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lg(t)?4:HO(t)?9007199254740991:zO(t)?10:11:ue()}function Xn(t,e){if(t===e)return!0;const n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pl(t).isEqual(pl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=gi(i.timestampValue),a=gi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return yi(i.bytesValue).isEqual(yi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qe(i.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qe(i.integerValue)===Qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qe(i.doubleValue),a=Qe(s.doubleValue);return o===a?Qc(o)===Qc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return mo(t.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(c_(o)!==c_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xn(o[l],a[l])))return!1;return!0}(t,e);default:return ue()}}function gl(t,e){return(t.values||[]).find(n=>Xn(n,e))!==void 0}function go(t,e){if(t===e)return 0;const n=vi(t),r=vi(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qe(s.integerValue||s.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return h_(t.timestampValue,e.timestampValue);case 4:return h_(pl(t),pl(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(s,o){const a=yi(s),l=yi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=we(a[c],l[c]);if(d!==0)return d}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=we(Qe(s.latitude),Qe(o.latitude));return a!==0?a:we(Qe(s.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return f_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},p=o.fields||{},I=(a=h.value)===null||a===void 0?void 0:a.arrayValue,g=(l=p.value)===null||l===void 0?void 0:l.arrayValue,v=we(((c=I==null?void 0:I.values)===null||c===void 0?void 0:c.length)||0,((d=g==null?void 0:g.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:f_(I,g)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Pu.mapValue&&o===Pu.mapValue)return 0;if(s===Pu.mapValue)return 1;if(o===Pu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=we(l[h],d[h]);if(p!==0)return p;const I=go(a[l[h]],c[d[h]]);if(I!==0)return I}return we(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ue()}}function h_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);const n=gi(t),r=gi(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function f_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=go(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function yo(t){return Qp(t)}function Qp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Qp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Qp(n.fields[o])}`;return i+"}"}(t.mapValue):ue()}function Zu(t){switch(vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hd(t);return e?16+Zu(e):16;case 5:return 2*t.stringValue.length;case 6:return yi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Zu(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ii(r.fields,(s,o)=>{i+=s.length+Zu(o)}),i}(t.mapValue);default:throw ue()}}function Jp(t){return!!t&&"integerValue"in t}function Dg(t){return!!t&&"arrayValue"in t}function p_(t){return!!t&&"nullValue"in t}function m_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ec(t){return!!t&&"mapValue"in t}function zO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ma(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ii(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ma(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ma(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ec(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ma(n)}setAll(e){let n=Et.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ma(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ec(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ec(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ii(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new tn(Ma(this.value))}}function I1(t){const e=[];return Ii(t.fields,(n,r)=>{const i=new Et([n]);if(ec(r)){const s=I1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Nt(e,0,ce.min(),ce.min(),ce.min(),tn.empty(),0)}static newFoundDocument(e,n,r,i){return new Nt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Nt(e,2,n,ce.min(),ce.min(),tn.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,ce.min(),ce.min(),tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.position=e,this.inclusive=n}}function g_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=go(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function y_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n="asc"){this.field=e,this.dir=n}}function KO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{}class ot extends A1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new WO(e,n,r):n==="array-contains"?new JO(e,r):n==="in"?new YO(e,r):n==="not-in"?new XO(e,r):n==="array-contains-any"?new ZO(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GO(e,r):new QO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(go(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends A1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Zn(e,n)}matches(e){return b1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function b1(t){return t.op==="and"}function x1(t){return qO(t)&&b1(t)}function qO(t){for(const e of t.filters)if(e instanceof Zn)return!1;return!0}function Yp(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+yo(t.value);if(x1(t))return t.filters.map(e=>Yp(e)).join(",");{const e=t.filters.map(n=>Yp(n)).join(",");return`${t.op}(${e})`}}function R1(t,e){return t instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.field.isEqual(i.field)&&Xn(r.value,i.value)}(t,e):t instanceof Zn?function(r,i){return i instanceof Zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&R1(o,i.filters[a]),!0):!1}(t,e):void ue()}function C1(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${yo(n.value)}`}(t):t instanceof Zn?function(n){return n.op.toString()+" {"+n.getFilters().map(C1).join(" ,")+"}"}(t):"Filter"}class WO extends ot{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class GO extends ot{constructor(e,n){super(e,"in",n),this.keys=P1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QO extends ot{constructor(e,n){super(e,"not-in",n),this.keys=P1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function P1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class JO extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dg(n)&&gl(n.arrayValue,this.value)}}class YO extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gl(this.value.arrayValue,n)}}class XO extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!gl(this.value.arrayValue,n)}}class ZO extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function v_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new eL(t,e,n,r,i,s,o)}function Mg(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),zd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>yo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>yo(r)).join(",")),e.ue=n}return e.ue}function jg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!R1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!y_(t.startAt,e.startAt)&&y_(t.endAt,e.endAt)}function Xp(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tL(t,e,n,r,i,s,o,a){return new Kd(t,e,n,r,i,s,o,a)}function Vg(t){return new Kd(t)}function __(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nL(t){return t.collectionGroup!==null}function ja(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ut(Et.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Yc(s,r))}),n.has(Et.keyField().canonicalString())||e.ce.push(new Yc(Et.keyField(),r))}return e.ce}function Gn(t){const e=de(t);return e.le||(e.le=rL(e,ja(t))),e.le}function rL(t,e){if(t.limitType==="F")return v_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Yc(i.field,s)});const n=t.endAt?new Jc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jc(t.startAt.position,t.startAt.inclusive):null;return v_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zp(t,e,n){return new Kd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qd(t,e){return jg(Gn(t),Gn(e))&&t.limitType===e.limitType}function k1(t){return`${Mg(Gn(t))}|lt:${t.limitType}`}function Rs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>C1(i)).join(", ")}]`),zd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>yo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>yo(i)).join(",")),`Target(${r})`}(Gn(t))}; limitType=${t.limitType})`}function Wd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ja(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=g_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ja(r),i)||r.endAt&&!function(o,a,l){const c=g_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ja(r),i))}(t,e)}function iL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function N1(t){return(e,n)=>{let r=!1;for(const i of ja(t)){const s=sL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function sL(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?go(l,c):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ii(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return T1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=new Ke(oe.comparator);function xr(){return oL}const O1=new Ke(oe.comparator);function Sa(...t){let e=O1;for(const n of t)e=e.insert(n.key,n);return e}function L1(t){let e=O1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bi(){return Va()}function D1(){return Va()}function Va(){return new cs(t=>t.toString(),(t,e)=>t.isEqual(e))}const aL=new Ke(oe.comparator),lL=new ut(oe.comparator);function Ee(...t){let e=lL;for(const n of t)e=e.add(n);return e}const uL=new ut(we);function cL(){return uL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function M1(t){return{integerValue:""+t}}function dL(t,e){return VO(e)?M1(e):Fg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(){this._=void 0}}function hL(t,e,n){return t instanceof Xc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Lg(s)&&(s=Hd(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof yl?V1(t,e):t instanceof vl?F1(t,e):function(i,s){const o=j1(i,s),a=E_(o)+E_(i.Pe);return Jp(o)&&Jp(i.Pe)?M1(a):Fg(i.serializer,a)}(t,e)}function fL(t,e,n){return t instanceof yl?V1(t,e):t instanceof vl?F1(t,e):n}function j1(t,e){return t instanceof Zc?function(r){return Jp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Xc extends Gd{}class yl extends Gd{constructor(e){super(),this.elements=e}}function V1(t,e){const n=U1(e);for(const r of t.elements)n.some(i=>Xn(i,r))||n.push(r);return{arrayValue:{values:n}}}class vl extends Gd{constructor(e){super(),this.elements=e}}function F1(t,e){let n=U1(e);for(const r of t.elements)n=n.filter(i=>!Xn(i,r));return{arrayValue:{values:n}}}class Zc extends Gd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function E_(t){return Qe(t.integerValue||t.doubleValue)}function U1(t){return Dg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof yl&&i instanceof yl||r instanceof vl&&i instanceof vl?mo(r.elements,i.elements,Xn):r instanceof Zc&&i instanceof Zc?Xn(r.Pe,i.Pe):r instanceof Xc&&i instanceof Xc}(t.transform,e.transform)}class mL{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qd{}function B1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ug(t.key,Pn.none()):new Dl(t.key,t.data,Pn.none());{const n=t.data,r=tn.empty();let i=new ut(Et.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ai(t.key,r,new fn(i.toArray()),Pn.none())}}function gL(t,e,n){t instanceof Dl?function(i,s,o){const a=i.value.clone(),l=T_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ai?function(i,s,o){if(!tc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=T_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll($1(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fa(t,e,n,r){return t instanceof Dl?function(s,o,a,l){if(!tc(s.precondition,o))return a;const c=s.value.clone(),d=S_(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ai?function(s,o,a,l){if(!tc(s.precondition,o))return a;const c=S_(s.fieldTransforms,l,o),d=o.data;return d.setAll($1(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return tc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function yL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=j1(r.transform,i||null);s!=null&&(n===null&&(n=tn.empty()),n.set(r.field,s))}return n||null}function w_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&mo(r,i,(s,o)=>pL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dl extends Qd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ai extends Qd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function T_(t,e,n){const r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,fL(o,a,n[i]))}return r}function S_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,hL(s,o,e))}return r}class Ug extends Qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vL extends Qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=D1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=B1(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(n,r)=>w_(n,r))&&mo(this.baseMutations,e.baseMutations,(n,r)=>w_(n,r))}}class Bg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return aL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Bg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,Se;function TL(t){switch(t){default:return ue();case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0}}function z1(t){if(t===void 0)return br("GRPC error has no .code"),q.UNKNOWN;switch(t){case Ze.OK:return q.OK;case Ze.CANCELLED:return q.CANCELLED;case Ze.UNKNOWN:return q.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return q.INTERNAL;case Ze.UNAVAILABLE:return q.UNAVAILABLE;case Ze.UNAUTHENTICATED:return q.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case Ze.NOT_FOUND:return q.NOT_FOUND;case Ze.ALREADY_EXISTS:return q.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return q.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case Ze.ABORTED:return q.ABORTED;case Ze.OUT_OF_RANGE:return q.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return q.UNIMPLEMENTED;case Ze.DATA_LOSS:return q.DATA_LOSS;default:return ue()}}(Se=Ze||(Ze={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=new Wi([4294967295,4294967295],0);function I_(t){const e=SL().encode(t),n=new p1;return n.update(e),new Uint8Array(n.digest())}function A_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wi([n,r],0),new Wi([i,s],0)]}class $g{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ia(`Invalid padding: ${n}`);if(r<0)throw new Ia(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ia(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ia(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Wi.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(Wi.fromNumber(r)));return i.compare(IL)===1&&(i=new Wi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=I_(e),[r,i]=A_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new $g(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=I_(e),[r,i]=A_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ia extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ml.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jd(ce.min(),i,new Ke(we),xr(),Ee())}}class Ml{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ml(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class H1{constructor(e,n){this.targetId=e,this.me=n}}class K1{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class b_{constructor(){this.fe=0,this.ge=x_(),this.pe=It.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ue()}}),new Ml(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=x_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class AL{constructor(e){this.Le=e,this.Be=new Map,this.ke=xr(),this.qe=ku(),this.Qe=ku(),this.Ke=new Ke(we)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(Xp(s))if(r===0){const o=new oe(s.path);this.We(n,o,Nt.newNoDocument(o,ce.min()))}else Re(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=yi(r).toUint8Array()}catch(l){if(l instanceof S1)return po("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new $g(o,i,s)}catch(l){return po(l instanceof Ia?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Xp(a.target)){const l=new oe(a.target.path);this.st(l).has(o)||this.ot(o,l)||this.We(o,l,Nt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ee();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Jd(e,n,this.Ke,this.ke,r);return this.ke=xr(),this.qe=ku(),this.Qe=ku(),this.Ke=new Ke(we),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new b_,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new ut(we),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ut(we),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new b_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ku(){return new Ke(oe.comparator)}function x_(){return new Ke(oe.comparator)}const bL={asc:"ASCENDING",desc:"DESCENDING"},xL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RL={and:"AND",or:"OR"};class CL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function em(t,e){return t.useProto3Json||zd(e)?e:{value:e}}function ed(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PL(t,e){return ed(t,e.toTimestamp())}function Qn(t){return Re(!!t),ce.fromTimestamp(function(n){const r=gi(n);return new lt(r.seconds,r.nanos)}(t))}function zg(t,e){return tm(t,e).canonicalString()}function tm(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function W1(t){const e=Ue.fromString(t);return Re(X1(e)),e}function nm(t,e){return zg(t.databaseId,e.path)}function uf(t,e){const n=W1(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(Q1(n))}function G1(t,e){return zg(t.databaseId,e)}function kL(t){const e=W1(t);return e.length===4?Ue.emptyPath():Q1(e)}function rm(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Q1(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function R_(t,e,n){return{name:nm(t,e),fields:n.value.mapValue.fields}}function NL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Re(d===void 0||typeof d=="string"),It.fromBase64String(d||"")):(Re(d===void 0||d instanceof Buffer||d instanceof Uint8Array),It.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?q.UNKNOWN:z1(c.code);return new ie(d,c.message||"")}(o);n=new K1(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=uf(t,r.document.name),s=Qn(r.document.updateTime),o=r.document.createTime?Qn(r.document.createTime):ce.min(),a=new tn({mapValue:{fields:r.document.fields}}),l=Nt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new nc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=uf(t,r.document),s=r.readTime?Qn(r.readTime):ce.min(),o=Nt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new nc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=uf(t,r.document),s=r.removedTargetIds||[];n=new nc([],s,i,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new wL(i,s),a=r.targetId;n=new H1(a,o)}}return n}function OL(t,e){let n;if(e instanceof Dl)n={update:R_(t,e.key,e.value)};else if(e instanceof Ug)n={delete:nm(t,e.key)};else if(e instanceof Ai)n={update:R_(t,e.key,e.data),updateMask:$L(e.fieldMask)};else{if(!(e instanceof vL))return ue();n={verify:nm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Xc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Zc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:PL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ue()}(t,e.precondition)),n}function LL(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Qn(i.updateTime):Qn(s);return o.isEqual(ce.min())&&(o=Qn(s)),new mL(o,i.transformResults||[])}(n,e))):[]}function DL(t,e){return{documents:[G1(t,e.path)]}}function ML(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=G1(t,i);const s=function(c){if(c.length!==0)return Y1(Zn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Cs(p.field),direction:FL(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=em(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function jL(t){let e=kL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=J1(h);return p instanceof Zn&&x1(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(g){return new Yc(Ps(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,zd(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,I=h.values||[];return new Jc(I,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,I=h.values||[];return new Jc(I,p)}(n.endAt)),tL(e,i,o,s,a,"F",l,c)}function VL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function J1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ps(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ps(n.unaryFilter.field);return ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ps(n.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ps(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return ot.create(Ps(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zn.create(n.compositeFilter.filters.map(r=>J1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function FL(t){return bL[t]}function UL(t){return xL[t]}function BL(t){return RL[t]}function Cs(t){return{fieldPath:t.canonicalString()}}function Ps(t){return Et.fromServerFormat(t.fieldPath)}function Y1(t){return t instanceof ot?function(n){if(n.op==="=="){if(m_(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NAN"}};if(p_(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m_(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NAN"}};if(p_(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(n.field),op:UL(n.op),value:n.value}}}(t):t instanceof Zn?function(n){const r=n.getFilters().map(i=>Y1(i));return r.length===1?r[0]:{compositeFilter:{op:BL(n.op),filters:r}}}(t):ue()}function $L(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function X1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n,r,i,s=ce.min(),o=ce.min(),a=It.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Qr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.ht=e}}function HL(t){const e=jL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.ln=new qL}addToCollectionParentIndex(e,n){return this.ln.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(mi.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class qL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ut(Ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zt{static withCacheSize(e){return new zt(e,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zt.DEFAULT_COLLECTION_PERCENTILE=10,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zt.DEFAULT=new zt(41943040,zt.DEFAULT_COLLECTION_PERCENTILE,zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zt.DISABLED=new zt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new vo(0)}static Qn(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_([t,e],[n,r]){const i=we(t,n);return i===0?we(e,r):i}class WL{constructor(e){this.Gn=e,this.buffer=new ut(P_),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();P_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class GL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ko(n)}await this.Yn(3e5)})}}class QL{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve($d.oe);const r=new WL(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(C_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),xs()<=_e.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function JL(t,e){return new QL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(){this.changes=new cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fa(r.mutation,i,fn.empty(),lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=Bi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Sa();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Bi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xr();const o=Va(),a=function(){return Va()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ai)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Fa(d.mutation,c,d.mutation.getFieldMask(),lt.now())):o.set(c.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new XL(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Va();let i=new Ke((o,a)=>o-a),s=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||fn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||Ee()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=D1();d.forEach(p=>{if(!s.has(p)){const I=B1(n.get(p),r.get(p));I!==null&&h.set(p,I),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(Bi());let a=-1,l=s;return o.next(c=>H.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ee())).next(d=>({batchId:a,changes:L1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=Sa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Sa();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,l=>{const c=function(h,p){return new Kd(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{o=o.insert(h,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Nt.newInvalidDocument(d)))});let a=Sa();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Fa(d.mutation,c,fn.empty(),lt.now()),Wd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return H.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qn(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:HL(i.bundledQuery),readTime:Qn(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.overlays=new Ke(oe.comparator),this.Er=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bi();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=Bi(),s=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ke((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Bi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Bi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return H.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new EL(n,r));let s=this.Er.get(n);s===void 0&&(s=Ee(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this.dr=new ut(ft.Ar),this.Rr=new ut(ft.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new ft(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new ft(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new oe(new Ue([])),r=new ft(n,e),i=new ft(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new oe(new Ue([])),r=new ft(n,e),i=new ft(n,e+1);let s=Ee();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ft(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ft{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return oe.comparator(e.key,n.key)||we(e.br,n.br)}static Vr(e,n){return we(e.br,n.br)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new ut(ft.Ar)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _L(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.vr=this.vr.add(new ft(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ft(n,0),i=new ft(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const a=this.Cr(o.br);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(we);return n.forEach(i=>{const s=new ft(i,0),o=new ft(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],a=>{r=r.add(a.br)})}),H.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new ft(new oe(s),0);let a=new ut(we);return this.vr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.br)),!0)},o),H.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return H.forEach(n.mutations,i=>{const s=new ft(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new ft(n,0),i=this.vr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.Nr=e,this.docs=function(){return new Ke(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let r=xr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Nt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xr();const o=n.path,a=new oe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||LO(OO(d),r)<=0||(i.has(d.key)||Wd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ue()}Lr(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new s2(this)}getSize(e){return H.resolve(this.size)}}class s2 extends YL{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.persistence=e,this.Br=new cs(n=>Mg(n),jg),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.kr=0,this.qr=new Hg,this.targetCount=0,this.Qr=vo.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),H.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Un(n),H.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n){this.Kr={},this.overlays={},this.$r=new $d(0),this.Ur=!1,this.Ur=!0,this.Wr=new n2,this.referenceDelegate=e(this),this.Gr=new o2(this),this.indexManager=new KL,this.remoteDocumentCache=function(i){return new i2(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new zL(n),this.jr=new e2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new r2(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new a2(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return H.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class a2 extends MO{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Zr=new Hg,this.Xr=null}static ei(e){return new Kg(e)}get ti(){if(this.Xr)return this.Xr;throw ue()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),H.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.ti,r=>{const i=oe.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return H.or([()=>H.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class td{constructor(e,n){this.persistence=e,this.ri=new cs(r=>FO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=JL(this,n)}static ei(e,n){return new td(e,n)}Hr(){}Jr(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return H.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?H.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ce.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),H.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zu(e.data.value)),n}ir(e,n,r){return H.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=Ee(),i=Ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return oN()?8:jO(Dt())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new l2;return this.ts(e,n,o).next(a=>{if(s.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(xs()<=_e.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),H.resolve()):(xs()<=_e.DEBUG&&ee("QueryEngine","Query:",Rs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(xs()<=_e.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):H.resolve())}Xi(e,n){if(__(n))return H.resolve(null);let r=Gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Zp(n,null,"F"),r=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ee(...s);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.rs(n,a);return this.ss(n,c,o,l.readTime)?this.Xi(e,Zp(n,null,"F")):this.os(e,c,n,l)}))})))}es(e,n,r,i){return __(n)||i.isEqual(ce.min())?H.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?H.resolve(null):(xs()<=_e.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rs(n)),this.os(e,o,n,NO(i,-1)).next(a=>a))})}rs(e,n){let r=new ut(N1(e));return n.forEach((i,s)=>{Wd(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return xs()<=_e.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Rs(n)),this.Zi.getDocumentsMatchingQuery(e,n,mi.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Ke(we),this.cs=new cs(s=>Mg(s),jg),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZL(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function d2(t,e,n,r){return new c2(t,e,n,r)}async function eI(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ee();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function h2(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let I=H.resolve();return p.forEach(g=>{I=I.next(()=>d.getEntry(l,g)).next(v=>{const w=c.docVersions.get(g);Re(w!==null),v.version.compareTo(w)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),d.addEntry(v)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tI(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function f2(t,e){const n=de(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Gr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Gr.addMatchingKeys(s,d.addedDocuments,h)));let I=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?I=I.withResumeToken(It.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(d.resumeToken,r)),i=i.insert(h,I),function(v,w,_){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,I,d)&&a.push(n.Gr.updateTargetData(s,I))});let l=xr(),c=Ee();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(p2(s,o,e.documentUpdates).next(d=>{l=d.Is,c=d.Es})),!r.isEqual(ce.min())){const d=n.Gr.getLastRemoteSnapshotVersion(s).next(h=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.us=i,s))}function p2(t,e,n){let r=Ee(),i=Ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Is:o,Es:i}})}function m2(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function g2(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new Qr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function im(t,e,n){const r=de(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!No(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function k_(t,e,n){const r=de(t);let i=ce.min(),s=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=de(l),p=h.cs.get(d);return p!==void 0?H.resolve(h.us.get(p)):h.Gr.getTargetData(c,d)}(r,o,Gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:Ee())).next(a=>(y2(r,iL(e),a),{documents:a,ds:s})))}function y2(t,e,n){let r=t.ls.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class N_{constructor(){this.activeTargetIds=cL()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class v2{constructor(){this._o=new N_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new N_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu=null;function cf(){return Nu===null?Nu=function(){return 268435456+Math.round(2147483648*Math.random())}():Nu++,"0x"+Nu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="WebChannelConnection";class T2 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const a=cf(),l=this.No(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,s,o),this.Bo(n,l,c,i).then(d=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw po("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}ko(n,r,i,s,o,a){return this.Oo(n,r,i,s,o)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Po}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=E2[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=cf();return new Promise((o,a)=>{const l=new m1;l.setWithCredentials(!0),l.listenOnce(g1.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Xu.NO_ERROR:const d=l.getResponseJson();ee(Ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Xu.TIMEOUT:ee(Ct,`RPC '${e}' ${s} timed out`),a(new ie(q.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:const h=l.getStatus();if(ee(Ct,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const I=p==null?void 0:p.error;if(I&&I.status&&I.message){const g=function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(_)>=0?_:q.UNKNOWN}(I.status);a(new ie(g,I.message))}else a(new ie(q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ie(q.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{ee(Ct,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ee(Ct,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}qo(e,n,r){const i=cf(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=_1(),a=v1(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Lo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");ee(Ct,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,I=!1;const g=new w2({Eo:w=>{I?ee(Ct,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(ee(Ct,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),ee(Ct,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},Ao:()=>h.close()}),v=(w,_,E)=>{w.listen(_,T=>{try{E(T)}catch(k){setTimeout(()=>{throw k},0)}})};return v(h,Ta.EventType.OPEN,()=>{I||(ee(Ct,`RPC '${e}' stream ${i} transport opened.`),g.So())}),v(h,Ta.EventType.CLOSE,()=>{I||(I=!0,ee(Ct,`RPC '${e}' stream ${i} transport closed`),g.Do())}),v(h,Ta.EventType.ERROR,w=>{I||(I=!0,po(Ct,`RPC '${e}' stream ${i} transport errored:`,w),g.Do(new ie(q.UNAVAILABLE,"The operation could not be completed")))}),v(h,Ta.EventType.MESSAGE,w=>{var _;if(!I){const E=w.data[0];Re(!!E);const T=E,k=(T==null?void 0:T.error)||((_=T[0])===null||_===void 0?void 0:_.error);if(k){ee(Ct,`RPC '${e}' stream ${i} received error:`,k);const M=k.status;let V=function(R){const C=Ze[R];if(C!==void 0)return z1(C)}(M),x=k.message;V===void 0&&(V=q.INTERNAL,x="Unknown error status: "+M+" with message "+k.message),I=!0,g.Do(new ie(V,x)),h.close()}else ee(Ct,`RPC '${e}' stream ${i} received:`,E),g.vo(E)}}),v(a,y1.STAT_EVENT,w=>{w.stat===Gp.PROXY?ee(Ct,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Gp.NOPROXY&&ee(Ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.bo()},0),g}}function df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t){return new CL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,r,i,s,o,a,l){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new nI(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new ie(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S2 extends rI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=NL(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?Qn(o.readTime):ce.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=rm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Xp(l)?{documents:DL(s,l)}:{query:ML(s,l).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=q1(s,o.resumeToken);const c=em(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=ed(s,o.snapshotVersion.toTimestamp());const c=em(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=VL(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=rm(this.serializer),n.removeTarget=e,this.c_(n)}}class I2 extends rI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=LL(e.writeResults,e.commitTime),r=Qn(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=rm(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>OL(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new ie(q.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,tm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(q.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,tm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(q.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class b2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(br(n),this.C_=!1):ee("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{ds(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=de(l);c.k_.add(4),await jl(c),c.K_.set("Unknown"),c.k_.delete(4),await Xd(c)}(this))})}),this.K_=new b2(r,i)}}async function Xd(t){if(ds(t))for(const e of t.q_)await e(!0)}async function jl(t){for(const e of t.q_)await e(!1)}function iI(t,e){const n=de(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Jg(n)?Qg(n):Oo(n).s_()&&Gg(n,e))}function Wg(t,e){const n=de(t),r=Oo(n);n.B_.delete(e),r.s_()&&sI(n,e),n.B_.size===0&&(r.s_()?r.a_():ds(n)&&n.K_.set("Unknown"))}function Gg(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(t).V_(e)}function sI(t,e){t.U_.xe(e),Oo(t).m_(e)}function Qg(t){t.U_=new AL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Oo(t).start(),t.K_.F_()}function Jg(t){return ds(t)&&!Oo(t).i_()&&t.B_.size>0}function ds(t){return de(t).k_.size===0}function oI(t){t.U_=void 0}async function R2(t){t.K_.set("Online")}async function C2(t){t.B_.forEach((e,n)=>{Gg(t,e)})}async function P2(t,e){oI(t),Jg(t)?(t.K_.O_(e),Qg(t)):t.K_.set("Unknown")}async function k2(t,e,n){if(t.K_.set("Online"),e instanceof K1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nd(t,r)}else if(e instanceof nc?t.U_.$e(e):e instanceof H1?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(ce.min()))try{const r=await tI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.U_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.B_.get(c);d&&s.B_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.B_.get(l);if(!d)return;s.B_.set(l,d.withResumeToken(It.EMPTY_BYTE_STRING,d.snapshotVersion)),sI(s,l);const h=new Qr(d.target,l,c,d.sequenceNumber);Gg(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await nd(t,r)}}async function nd(t,e,n){if(!No(e))throw e;t.k_.add(1),await jl(t),t.K_.set("Offline"),n||(n=()=>tI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Xd(t)})}function aI(t,e){return e().catch(n=>nd(t,n,e))}async function Zd(t){const e=de(t),n=_i(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;N2(e);)try{const i=await m2(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,O2(e,i)}catch(i){await nd(e,i)}lI(e)&&uI(e)}function N2(t){return ds(t)&&t.L_.length<10}function O2(t,e){t.L_.push(e);const n=_i(t);n.s_()&&n.f_&&n.g_(e.mutations)}function lI(t){return ds(t)&&!_i(t).i_()&&t.L_.length>0}function uI(t){_i(t).start()}async function L2(t){_i(t).w_()}async function D2(t){const e=_i(t);for(const n of t.L_)e.g_(n.mutations)}async function M2(t,e,n){const r=t.L_.shift(),i=Bg.from(r,e,n);await aI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Zd(t)}async function j2(t,e){e&&_i(t).f_&&await async function(r,i){if(function(o){return TL(o)&&o!==q.ABORTED}(i.code)){const s=r.L_.shift();_i(r).__(),await aI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Zd(r)}}(t,e),lI(t)&&uI(t)}async function L_(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=ds(n);n.k_.add(3),await jl(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Xd(n)}async function V2(t,e){const n=de(t);e?(n.k_.delete(2),await Xd(n)):e||(n.k_.add(2),await jl(n),n.K_.set("Unknown"))}function Oo(t){return t.W_||(t.W_=function(n,r,i){const s=de(n);return s.b_(),new S2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:R2.bind(null,t),mo:C2.bind(null,t),po:P2.bind(null,t),R_:k2.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Jg(t)?Qg(t):t.K_.set("Unknown")):(await t.W_.stop(),oI(t))})),t.W_}function _i(t){return t.G_||(t.G_=function(n,r,i){const s=de(n);return s.b_(),new I2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:L2.bind(null,t),po:j2.bind(null,t),p_:D2.bind(null,t),y_:M2.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Zd(t)):(await t.G_.stop(),t.L_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Yg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(t,e){if(br("AsyncQueue",`${e}: ${t}`),No(t))return new ie(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Sa(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.z_=new Ke(oe.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ue():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class _o{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new _o(e,n,eo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class U2{constructor(){this.queries=M_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=de(n),s=i.queries;i.queries=M_(),s.forEach((o,a)=>{for(const l of a.J_)l.onError(r)})})(this,new ie(q.ABORTED,"Firestore shutting down"))}}function M_(){return new cs(t=>k1(t),qd)}async function cI(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new F2,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Xg(o,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&Zg(n)}async function dI(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function B2(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.J_)a.ta(i)&&(r=!0);o.H_=i}}r&&Zg(n)}function $2(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function Zg(t){t.X_.forEach(e=>{e.next()})}var sm,j_;(j_=sm||(sm={})).na="default",j_.Cache="cache";class hI{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.key=e}}class pI{constructor(e){this.key=e}}class z2{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ee(),this.mutatedKeys=Ee(),this.Va=N1(e),this.ma=new eo(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new D_,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),I=Wd(this.query,h)?h:null,g=!!p&&this.mutatedKeys.has(p.key),v=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let w=!1;p&&I?p.data.isEqual(I.data)?g!==v&&(r.track({type:3,doc:I}),w=!0):this.ya(p,I)||(r.track({type:2,doc:I}),w=!0,(l&&this.Va(I,l)>0||c&&this.Va(I,c)<0)&&(a=!0)):!p&&I?(r.track({type:0,doc:I}),w=!0):p&&!I&&(r.track({type:1,doc:p}),w=!0,(l||c)&&(a=!0)),w&&(I?(o=o.add(I),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ma:o,pa:r,ss:a,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((d,h)=>function(I,g){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return v(I)-v(g)}(d.type,h.type)||this.Va(d.doc,h.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],l=this.Ra.size===0&&this.current&&!i?1:0,c=l!==this.Aa;return this.Aa=l,o.length!==0||c?{snapshot:new _o(this.query,e.ma,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new D_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ee(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new pI(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new fI(r))}),n}va(e){this.da=e.ds,this.Ra=Ee();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return _o.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class H2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class K2{constructor(e){this.key=e,this.Fa=!1}}class q2{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new cs(a=>k1(a),qd),this.Oa=new Map,this.Na=new Set,this.La=new Ke(oe.comparator),this.Ba=new Map,this.ka=new Hg,this.qa={},this.Qa=new Map,this.Ka=vo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function W2(t,e,n=!0){const r=EI(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await mI(r,e,n,!0),i}async function G2(t,e){const n=EI(t);await mI(n,e,!0,!1)}async function mI(t,e,n,r){const i=await g2(t.localStore,Gn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Q2(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&iI(t.remoteStore,i),a}async function Q2(t,e,n,r,i){t.Ua=(h,p,I)=>async function(v,w,_,E){let T=w.view.ga(_);T.ss&&(T=await k_(v.localStore,w.query,!1).then(({documents:x})=>w.view.ga(x,T)));const k=E&&E.targetChanges.get(w.targetId),M=E&&E.targetMismatches.get(w.targetId)!=null,V=w.view.applyChanges(T,v.isPrimaryClient,k,M);return F_(v,w.targetId,V.ba),V.snapshot}(t,h,p,I);const s=await k_(t.localStore,e,!0),o=new z2(e,s.ds),a=o.ga(s.documents),l=Ml.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);F_(t,n,c.ba);const d=new H2(e,n,o);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function J2(t,e,n){const r=de(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!qd(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await im(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Wg(r.remoteStore,i.targetId),om(r,i.targetId)}).catch(ko)):(om(r,i.targetId),await im(r.localStore,i.targetId,!0))}async function Y2(t,e){const n=de(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wg(n.remoteStore,r.targetId))}async function X2(t,e,n){const r=sD(t);try{const i=await function(o,a){const l=de(o),c=lt.now(),d=a.reduce((I,g)=>I.add(g.key),Ee());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",I=>{let g=xr(),v=Ee();return l.hs.getEntries(I,d).next(w=>{g=w,g.forEach((_,E)=>{E.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(I,g)).next(w=>{h=w;const _=[];for(const E of a){const T=yL(E,h.get(E.key).overlayedDocument);T!=null&&_.push(new Ai(E.key,T,I1(T.value.mapValue),Pn.exists(!0)))}return l.mutationQueue.addMutationBatch(I,c,_,a)}).next(w=>{p=w;const _=w.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(I,w.batchId,_)})}).then(()=>({batchId:p.batchId,changes:L1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.qa[o.currentUser.toKey()];c||(c=new Ke(we)),c=c.insert(a,l),o.qa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Vl(r,i.changes),await Zd(r.remoteStore)}catch(i){const s=Xg(i,"Failed to persist write");n.reject(s)}}async function gI(t,e){const n=de(t);try{const r=await f2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ba.get(s);o&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?Re(o.Fa):i.removedDocuments.size>0&&(Re(o.Fa),o.Fa=!1))}),await Vl(n,r,e)}catch(r){await ko(r)}}function V_(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const a=o.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.J_)p.ea(a)&&(c=!0)}),c&&Zg(l)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Z2(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new Ke(oe.comparator);o=o.insert(s,Nt.newNoDocument(s,ce.min()));const a=Ee().add(s),l=new Jd(ce.min(),new Map,new Ke(we),o,a);await gI(r,l),r.La=r.La.remove(s),r.Ba.delete(e),ey(r)}else await im(r.localStore,e,!1).then(()=>om(r,e,n)).catch(ko)}async function eD(t,e){const n=de(t),r=e.batch.batchId;try{const i=await h2(n.localStore,e);vI(n,r,null),yI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vl(n,i)}catch(i){await ko(i)}}async function tD(t,e,n){const r=de(t);try{const i=await function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Re(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);vI(r,e,n),yI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vl(r,i)}catch(i){await ko(i)}}function yI(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function vI(t,e,n){const r=de(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function om(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||_I(t,r)})}function _I(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(Wg(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),ey(t))}function F_(t,e,n){for(const r of n)r instanceof fI?(t.ka.addReference(r.key,e),nD(t,r)):r instanceof pI?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||_I(t,r.key)):ue()}function nD(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.Na.add(r),ey(t))}function ey(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new oe(Ue.fromString(e)),r=t.Ka.next();t.Ba.set(r,new K2(n)),t.La=t.La.insert(n,r),iI(t.remoteStore,new Qr(Gn(Vg(n.path)),r,"TargetPurposeLimboResolution",$d.oe))}}async function Vl(t,e,n){const r=de(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,l)=>{o.push(r.Ua(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=qg.zi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(l,c){const d=de(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(c,p=>H.forEach(p.Wi,I=>d.persistence.referenceDelegate.addReference(h,p.targetId,I)).next(()=>H.forEach(p.Gi,I=>d.persistence.referenceDelegate.removeReference(h,p.targetId,I)))))}catch(h){if(!No(h))throw h;ee("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const I=d.us.get(p),g=I.snapshotVersion,v=I.withLastLimboFreeSnapshotVersion(g);d.us=d.us.insert(p,v)}}}(r.localStore,s))}async function rD(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await eI(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(a=>{a.forEach(l=>{l.reject(new ie(q.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vl(n,r.Ts)}}function iD(t,e){const n=de(t),r=n.Ba.get(e);if(r&&r.Fa)return Ee().add(r.key);{let i=Ee();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const a=n.xa.get(o);i=i.unionWith(a.view.fa)}return i}}function EI(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z2.bind(null,e),e.Ma.R_=B2.bind(null,e.eventManager),e.Ma.Wa=$2.bind(null,e.eventManager),e}function sD(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tD.bind(null,e),e}class rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return d2(this.persistence,new u2,e.initialUser,this.serializer)}ja(e){return new Z1(Kg.ei,this.serializer)}za(e){return new v2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rd.provider={build:()=>new rd};class oD extends rd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Re(this.persistence.referenceDelegate instanceof td);const r=this.persistence.referenceDelegate.garbageCollector;return new GL(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?zt.withCacheSize(this.cacheSizeBytes):zt.DEFAULT;return new Z1(r=>td.ei(r,n),this.serializer)}}class am{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>V_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rD.bind(null,this.syncEngine),await V2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U2}()}createDatastore(e){const n=Yd(e.databaseInfo.databaseId),r=function(s){return new T2(s)}(e.databaseInfo);return function(s,o,a,l){return new A2(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new x2(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>V_(this.syncEngine,n,0),function(){return O_.p()?new O_:new _2}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new q2(i,s,o,a,l,c);return d&&(h.$a=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=de(i);ee("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await jl(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=w1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ee("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Xg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hf(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await eI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function U_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lD(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>L_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>L_(e.remoteStore,i)),t._onlineComponents=e}async function lD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await hf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await hf(t,new rd)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await hf(t,new oD(void 0));return t._offlineComponents}async function TI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await U_(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await U_(t,new am))),t._onlineComponents}function uD(t){return TI(t).then(e=>e.syncEngine)}async function SI(t){const e=await TI(t),n=e.eventManager;return n.onListen=W2.bind(null,e.syncEngine),n.onUnlisten=J2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=G2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Y2.bind(null,e.syncEngine),n}function cD(t,e,n={}){const r=new _r;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new wI({next:p=>{d.eu(),o.enqueueAndForget(()=>dI(s,h));const I=p.docs.has(a);!I&&p.fromCache?c.reject(new ie(q.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&p.fromCache&&l&&l.source==="server"?c.reject(new ie(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new hI(Vg(a.path),d,{includeMetadataChanges:!0,ua:!0});return cI(s,h)}(await SI(t),t.asyncQueue,e,n,r)),r.promise}function dD(t,e,n={}){const r=new _r;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new wI({next:p=>{d.eu(),o.enqueueAndForget(()=>dI(s,h)),p.fromCache&&l.source==="server"?c.reject(new ie(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new hI(a,d,{includeMetadataChanges:!0,ua:!0});return cI(s,h)}(await SI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e,n){if(!n)throw new ie(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hD(t,e,n,r){if(e===!0&&r===!0)throw new ie(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $_(t){if(!oe.isDocumentKey(t))throw new ie(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function z_(t){if(oe.isDocumentKey(t))throw new ie(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ty(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function Rr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ty(t);throw new ie(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=II((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new SO;switch(r.type){case"firstParty":return new xO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=B_.get(n);r&&(ee("ComponentProvider","Removing Datastore"),B_.delete(n),r.terminate())}(this),Promise.resolve()}}function fD(t,e,n,r={}){var i;const s=(t=Rr(t,eh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Pt.MOCK_USER;else{a=l1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ie(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Pt(c)}t._authCredentials=new IO(new E1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new th(this.firestore,e,this._query)}}class sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class ui extends th{constructor(e,n,r){super(e,n,Vg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new oe(e))}withConverter(e){return new ui(this.firestore,e,this._path)}}function id(t,e,...n){if(t=St(t),AI("collection","path",e),t instanceof eh){const r=Ue.fromString(e,...n);return z_(r),new ui(t,null,r)}{if(!(t instanceof sn||t instanceof ui))throw new ie(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return z_(r),new ui(t.firestore,null,r)}}function sd(t,e,...n){if(t=St(t),arguments.length===1&&(e=w1.newId()),AI("doc","path",e),t instanceof eh){const r=Ue.fromString(e,...n);return $_(r),new sn(t,null,new oe(r))}{if(!(t instanceof sn||t instanceof ui))throw new ie(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return $_(r),new sn(t.firestore,t instanceof ui?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new nI(this,"async_queue_retry"),this.fu=()=>{const r=df();r&&ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=df();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=df();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new _r;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!No(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw br("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=Yg.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&ue()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Lo extends eh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new K_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K_(e),this._firestoreClient=void 0,await e}}}function pD(t,e){const n=typeof t=="object"?t:Ng(),r=typeof t=="string"?t:"(default)",i=Bd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=s1("firestore");s&&fD(i,...s)}return i}function ny(t){if(t._terminated)throw new ie(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mD(t),t._firestoreClient}function mD(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new $O(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,II(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new aD(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eo(It.fromBase64String(e))}catch(n){throw new ie(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Eo(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=/^__.*__$/;class yD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dl(e,this.data,n,this.fieldTransforms)}}class vD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class oy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new oy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return od(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(bI(this.Mu)&&gD.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class _D{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yd(e)}$u(e,n,r,i=!1){return new oy({Mu:e,methodName:n,Ku:r,path:Et.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xI(t){const e=t._freezeSettings(),n=Yd(t._databaseId);return new _D(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ED(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);uy("Data must be an object, but it was:",o,r);const a=RI(r,o);let l,c;if(s.merge)l=new fn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=PI(e,h,n);if(!o.contains(p))throw new ie(q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);ID(d,p)||d.push(p)}l=new fn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new yD(new tn(a),l,c)}class ay extends ry{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ay}}function wD(t,e,n,r){const i=t.$u(1,e,n);uy("Data must be an object, but it was:",i,r);const s=[],o=tn.empty();Ii(r,(l,c)=>{const d=cy(e,l,n);c=St(c);const h=i.Bu(d);if(c instanceof ay)s.push(d);else{const p=ly(c,h);p!=null&&(s.push(d),o.set(d,p))}});const a=new fn(s);return new vD(o,a,i.fieldTransforms)}function TD(t,e,n,r,i,s){if(t.$u(1,e,n),PI(e,r,n),s.length%2!=0)throw new ie(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`)}function ly(t,e){if(CI(t=St(t)))return uy("Unsupported field value:",e,t),RI(t,e);if(t instanceof ry)return function(r,i){if(!bI(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ly(a,i.ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=lt.fromDate(r);return{timestampValue:ed(i.serializer,s)}}if(r instanceof lt){const s=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ed(i.serializer,s)}}if(r instanceof iy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Eo)return{bytesValue:q1(i.serializer,r._byteString)};if(r instanceof sn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof sy)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.qu("VectorValues must only contain numeric values.");return Fg(a.serializer,l)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${ty(r)}`)}(t,e)}function RI(t,e){const n={};return T1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ii(t,(r,i)=>{const s=ly(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof iy||t instanceof Eo||t instanceof sn||t instanceof ry||t instanceof sy)}function uy(t,e,n){if(!CI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ty(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function PI(t,e,n){if((e=St(e))instanceof nh)return e._internalPath;if(typeof e=="string")return cy(t,e);throw od("Field path arguments must be of type string or ",t,!1,void 0,n)}const SD=new RegExp("[~\\*/\\[\\]]");function cy(t,e,n){if(e.search(SD)>=0)throw od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nh(...e.split("."))._internalPath}catch{throw od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function od(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ie(q.INVALID_ARGUMENT,a+t+l)}function ID(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(NI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AD extends kI{data(){return super.data()}}function NI(t,e){return typeof e=="string"?cy(t,e):e instanceof nh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xD{convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ii(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Qe(o.doubleValue));return new sy(s)}convertGeoPoint(e){return new iy(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(pl(e));default:return null}}convertTimestamp(e){const n=gi(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Re(X1(r));const i=new ml(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||br(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OI extends kI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(NI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class rc extends OI{data(e={}){return super.data(e)}}class CD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Aa(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new rc(this._firestore,this._userDataWriter,r.key,r,new Aa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new rc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Aa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new rc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Aa(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:PD(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function PD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){t=Rr(t,sn);const e=Rr(t.firestore,Lo);return cD(ny(e),t._key).then(n=>DD(e,t,n))}class LI extends xD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function dy(t){t=Rr(t,th);const e=Rr(t.firestore,Lo),n=ny(e),r=new LI(e);return bD(t._query),dD(n,t._query).then(i=>new CD(e,r,t,i))}function ND(t,e,n,...r){t=Rr(t,sn);const i=Rr(t.firestore,Lo),s=xI(i);let o;return o=typeof(e=St(e))=="string"||e instanceof nh?TD(s,"updateDoc",t._key,e,n,r):wD(s,"updateDoc",t._key,e),hy(i,[o.toMutation(t._key,Pn.exists(!0))])}function OD(t){return hy(Rr(t.firestore,Lo),[new Ug(t._key,Pn.none())])}function LD(t,e){const n=Rr(t.firestore,Lo),r=sd(t),i=RD(t.converter,e);return hy(n,[ED(xI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}function hy(t,e){return function(r,i){const s=new _r;return r.asyncQueue.enqueueAndForget(async()=>X2(await uD(r),i,s)),s.promise}(ny(t),e)}function DD(t,e,n){const r=n.docs.get(e._key),i=new LI(t);return new OI(t,i,e._key,r,new Aa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Po=i})(us),ns(new pi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Lo(new AO(r.getProvider("auth-internal")),new CO(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ml(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Wn(l_,"4.7.5",e),Wn(l_,"4.7.5","esm2017")})();var MD="firebase",jD="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(MD,jD,"app");function fy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function DI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VD=DI,MI=new Ol("auth","Firebase",DI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad=new Pg("@firebase/auth");function FD(t,...e){ad.logLevel<=_e.WARN&&ad.warn(`Auth (${us}): ${t}`,...e)}function ic(t,...e){ad.logLevel<=_e.ERROR&&ad.error(`Auth (${us}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw py(t,...e)}function Jn(t,...e){return py(t,...e)}function jI(t,e,n){const r=Object.assign(Object.assign({},VD()),{[e]:n});return new Ol("auth","Firebase",r).create(e,{appName:t.name})}function ci(t){return jI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function py(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MI.create(t,...e)}function le(t,e,...n){if(!t)throw py(e,...n)}function pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ic(e),new Error(e)}function Cr(t,e){t||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function UD(){return q_()==="http:"||q_()==="https:"}function q_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UD()||rN()||"connection"in navigator)?navigator.onLine:!0}function $D(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=eN()||iN()}get(){return BD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t,e){Cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=new Fl(3e4,6e4);function hs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bi(t,e,n,r,i={}){return FI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ll(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return nN()||(c.referrerPolicy="no-referrer"),VI.fetch()(UI(t,t.config.apiHost,n,a),c)})}async function FI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zD),e);try{const i=new qD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ou(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ou(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ou(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ou(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw jI(t,d,c);Nn(t,d)}}catch(i){if(i instanceof tr)throw i;Nn(t,"network-request-failed",{message:String(i)})}}async function rh(t,e,n,r,i={}){const s=await bi(t,e,n,r,i);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function UI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?my(t.config,i):`${t.config.apiScheme}://${i}`}function KD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jn(this.auth,"network-request-failed")),HD.get())})}}function Ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jn(t,e,r);return i.customData._tokenResponse=n,i}function W_(t){return t!==void 0&&t.enterprise!==void 0}class WD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GD(t,e){return bi(t,"GET","/v2/recaptchaConfig",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t,e){return bi(t,"POST","/v1/accounts:delete",e)}async function BI(t,e){return bi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JD(t,e=!1){const n=St(t),r=await n.getIdToken(e),i=gy(r);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ua(ff(i.auth_time)),issuedAtTime:Ua(ff(i.iat)),expirationTime:Ua(ff(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ff(t){return Number(t)*1e3}function gy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ic("JWT malformed, contained fewer than 3 sections"),null;try{const i=r1(n);return i?JSON.parse(i):(ic("Failed to decode base64 JWT payload"),null)}catch(i){return ic("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function G_(t){const e=gy(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof tr&&YD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ua(this.lastLoginAt),this.creationTime=Ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(t){var e;const n=t.auth,r=await t.getIdToken(),i=await _l(t,BI(n,{idToken:r}));le(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$I(s.providerUserInfo):[],a=eM(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new um(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function ZD(t){const e=St(t);await ld(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $I(t){return t.map(e=>{var{providerId:n}=e,r=fy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(t,e){const n=await FI(t,{},async()=>{const r=Ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=UI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",VI.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nM(t,e){return bi(t,"POST","/v2/accounts:revokeToken",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){le(e.length!==0,"internal-error");const n=G_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await tM(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new to;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=fy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new um(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _l(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JD(this,e)}reload(){return ZD(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ld(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(ci(this.auth));const e=await this.getIdToken();return await _l(this,QD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,I=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:k,isAnonymous:M,providerData:V,stsTokenManager:x}=n;le(T&&x,e,"internal-error");const S=to.fromJSON(this.name,x);le(typeof T=="string",e,"internal-error"),jr(h,e.name),jr(p,e.name),le(typeof k=="boolean",e,"internal-error"),le(typeof M=="boolean",e,"internal-error"),jr(I,e.name),jr(g,e.name),jr(v,e.name),jr(w,e.name),jr(_,e.name),jr(E,e.name);const R=new mr({uid:T,auth:e,email:p,emailVerified:k,displayName:h,isAnonymous:M,photoURL:g,phoneNumber:I,tenantId:v,stsTokenManager:S,createdAt:_,lastLoginAt:E});return V&&Array.isArray(V)&&(R.providerData=V.map(C=>Object.assign({},C))),w&&(R._redirectEventId=w),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new to;i.updateFromServerResponse(n);const s=new mr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ld(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];le(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?$I(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new to;a.updateFromIdToken(r);const l=new mr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new um(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=new Map;function gr(t){Cr(t instanceof Function,"Expected a class definition");let e=Q_.get(t);return e?(Cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Q_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zI.type="NONE";const J_=zI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t,e,n){return`firebase:${t}:${e}:${n}`}class no{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sc(this.userKey,i.apiKey,s),this.fullPersistenceKey=sc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?mr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new no(gr(J_),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||gr(J_);const o=sc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=mr._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new no(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new no(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QI(e))return"Blackberry";if(JI(e))return"Webos";if(KI(e))return"Safari";if((e.includes("chrome/")||qI(e))&&!e.includes("edge/"))return"Chrome";if(GI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HI(t=Dt()){return/firefox\//i.test(t)}function KI(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qI(t=Dt()){return/crios\//i.test(t)}function WI(t=Dt()){return/iemobile/i.test(t)}function GI(t=Dt()){return/android/i.test(t)}function QI(t=Dt()){return/blackberry/i.test(t)}function JI(t=Dt()){return/webos/i.test(t)}function yy(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rM(t=Dt()){var e;return yy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iM(){return sN()&&document.documentMode===10}function YI(t=Dt()){return yy(t)||GI(t)||JI(t)||QI(t)||/windows phone/i.test(t)||WI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t,e=[]){let n;switch(t){case"Browser":n=Y_(Dt());break;case"Worker":n=`${Y_(Dt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${us}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oM(t,e={}){return bi(t,"GET","/v2/passwordPolicy",hs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=6;class lM{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:aM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X_(this),this.idTokenSubscription=new X_(this),this.beforeStateQueue=new sM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await no.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await BI(this,{idToken:e}),r=await mr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ld(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$D()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(ci(this));const n=e?St(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oM(this),n=new lM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ol("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&FD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Do(t){return St(t)}class X_{constructor(e){this.auth=e,this.observer=null,this.addObserver=fN(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cM(t){ih=t}function ZI(t){return ih.loadJS(t)}function dM(){return ih.recaptchaEnterpriseScript}function hM(){return ih.gapiScript}function fM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class pM{constructor(){this.enterprise=new mM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gM="recaptcha-enterprise",eA="NO_RECAPTCHA";class yM{constructor(e){this.type=gM,this.auth=Do(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{GD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new WD(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;W_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(eA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pM().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&W_(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=dM();l.length!==0&&(l+=a),ZI(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Z_(t,e,n,r=!1,i=!1){const s=new yM(t);let o;if(i)o=eA;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function eE(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Z_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Z_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t,e){const n=Bd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Wc(s,e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}function _M(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function EM(t,e,n){const r=Do(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=tA(e),{host:o,port:a}=wM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),TM()}function tA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wM(t){const e=tA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:tE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:tE(o)}}}function tE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function SM(t,e){return bi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(t,e){return rh(t,"POST","/v1/accounts:signInWithPassword",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(t,e){return rh(t,"POST","/v1/accounts:signInWithEmailLink",hs(t,e))}async function bM(t,e){return rh(t,"POST","/v1/accounts:signInWithEmailLink",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends vy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new El(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new El(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eE(e,n,"signInWithPassword",IM);case"emailLink":return AM(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eE(e,r,"signUpPassword",SM);case"emailLink":return bM(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(t,e){return rh(t,"POST","/v1/accounts:signInWithIdp",hs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="http://localhost";class is extends vy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=fy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new is(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ro(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:xM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ll(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CM(t){const e=Ea(wa(t)).link,n=e?Ea(wa(e)).deep_link_id:null,r=Ea(wa(t)).deep_link_id;return(r?Ea(wa(r)).link:null)||r||n||e||t}class _y{constructor(e){var n,r,i,s,o,a;const l=Ea(wa(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=RM((i=l.mode)!==null&&i!==void 0?i:null);le(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=CM(e);try{return new _y(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,n){return El._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=_y.parseLink(n);return le(r,"argument-error"),El._fromEmailAndCode(e,r.code,r.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends nA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Ul{constructor(){super("facebook.com")}static credential(e){return is._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return is._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zr.credential(n,r)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Ul{constructor(){super("github.com")}static credential(e){return is._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Ul{constructor(){super("twitter.com")}static credential(e,n){return is._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Kr.credential(n,r)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await mr._fromIdTokenResponse(e,r,i),o=nE(r);return new wo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=nE(r);return new wo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function nE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends tr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ud.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ud(e,n,r,i)}}function rA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ud._fromErrorAndOperation(t,s,e,r):s})}async function PM(t,e,n=!1){const r=await _l(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kM(t,e,n=!1){const{auth:r}=t;if(fr(r.app))return Promise.reject(ci(r));const i="reauthenticate";try{const s=await _l(t,rA(r,i,e,t),n);le(s.idToken,r,"internal-error");const o=gy(s.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),wo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iA(t,e,n=!1){if(fr(t.app))return Promise.reject(ci(t));const r="signIn",i=await rA(t,r,e),s=await wo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function NM(t,e){return iA(Do(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(t){const e=Do(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function LM(t,e,n){return fr(t.app)?Promise.reject(ci(t)):NM(St(t),Mo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OM(t),r})}function DM(t,e,n,r){return St(t).onIdTokenChanged(e,n,r)}function MM(t,e,n){return St(t).beforeAuthStateChanged(e,n)}function jM(t,e,n,r){return St(t).onAuthStateChanged(e,n,r)}function VM(t){return St(t).signOut()}const cd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cd,"1"),this.storage.removeItem(cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=1e3,UM=10;class oA extends sA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);iM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,UM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},FM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oA.type="LOCAL";const BM=oA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA extends sA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aA.type="SESSION";const lA=aA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new sh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await $M(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Ey("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return window}function HM(t){Yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(){return typeof Yn().WorkerGlobalScope<"u"&&typeof Yn().importScripts=="function"}async function KM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function WM(){return uA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="firebaseLocalStorageDb",GM=1,dd="firebaseLocalStorage",dA="fbase_key";class Bl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function oh(t,e){return t.transaction([dd],e?"readwrite":"readonly").objectStore(dd)}function QM(){const t=indexedDB.deleteDatabase(cA);return new Bl(t).toPromise()}function cm(){const t=indexedDB.open(cA,GM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dd,{keyPath:dA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dd)?e(r):(r.close(),await QM(),e(await cm()))})})}async function rE(t,e,n){const r=oh(t,!0).put({[dA]:e,value:n});return new Bl(r).toPromise()}async function JM(t,e){const n=oh(t,!1).get(e),r=await new Bl(n).toPromise();return r===void 0?null:r.value}function iE(t,e){const n=oh(t,!0).delete(e);return new Bl(n).toPromise()}const YM=800,XM=3;class hA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>XM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sh._getInstance(WM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await KM(),!this.activeServiceWorker)return;this.sender=new zM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cm();return await rE(e,cd,"1"),await iE(e,cd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>JM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>iE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=oh(i,!1).getAll();return new Bl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hA.type="LOCAL";const ZM=hA;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t,e){return e?gr(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy extends vy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tj(t){return iA(t.auth,new wy(t),t.bypassAuthState)}function nj(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),kM(n,new wy(t),t.bypassAuthState)}async function rj(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),PM(n,new wy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tj;case"linkViaPopup":case"linkViaRedirect":return rj;case"reauthViaPopup":case"reauthViaRedirect":return nj;default:Nn(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=new Fl(2e3,1e4);class Ks extends fA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=Ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ij.get())};e()}}Ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="pendingRedirect",oc=new Map;class oj extends fA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oc.get(this.auth._key());if(!e){try{const r=await aj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oc.set(this.auth._key(),e)}return this.bypassAuthState||oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aj(t,e){const n=cj(e),r=uj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lj(t,e){oc.set(t._key(),e)}function uj(t){return gr(t._redirectPersistence)}function cj(t){return sc(sj,t.config.apiKey,t.name)}async function dj(t,e,n=!1){if(fr(t.app))return Promise.reject(ci(t));const r=Do(t),i=ej(r,e),o=await new oj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=10*60*1e3;class fj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hj&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(e))}saveEventToCache(e){this.cachedEventUids.add(sE(e)),this.lastProcessedEventTime=Date.now()}}function sE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e={}){return bi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yj=/^https?/;async function vj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mj(t);for(const n of e)try{if(_j(n))return}catch{}Nn(t,"unauthorized-domain")}function _j(t){const e=lm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yj.test(n))return!1;if(gj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=new Fl(3e4,6e4);function oE(){const t=Yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wj(t){return new Promise((e,n)=>{var r,i,s;function o(){oE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oE(),n(Jn(t,"network-request-failed"))},timeout:Ej.get()})}if(!((i=(r=Yn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Yn().gapi)===null||s===void 0)&&s.load)o();else{const a=fM("iframefcb");return Yn()[a]=()=>{gapi.load?o():n(Jn(t,"network-request-failed"))},ZI(`${hM()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ac=null,e})}let ac=null;function Tj(t){return ac=ac||wj(t),ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=new Fl(5e3,15e3),Ij="__/auth/iframe",Aj="emulator/auth/iframe",bj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rj(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?my(e,Aj):`https://${t.config.authDomain}/${Ij}`,r={apiKey:e.apiKey,appName:t.name,v:us},i=xj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ll(r).slice(1)}`}async function Cj(t){const e=await Tj(t),n=Yn().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:Rj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Jn(t,"network-request-failed"),a=Yn().setTimeout(()=>{s(o)},Sj.get());function l(){Yn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kj=500,Nj=600,Oj="_blank",Lj="http://localhost";class aE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dj(t,e,n,r=kj,i=Nj){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Pj),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Dt().toLowerCase();n&&(a=qI(c)?Oj:n),HI(c)&&(e=e||Lj,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[I,g])=>`${p}${I}=${g},`,"");if(rM(c)&&a!=="_self")return Mj(e||"",a),new aE(null);const h=window.open(e||"",a,d);le(h,t,"popup-blocked");try{h.focus()}catch{}return new aE(h)}function Mj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj="__/auth/handler",Vj="emulator/auth/handler",Fj=encodeURIComponent("fac");async function lE(t,e,n,r,i,s){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:us,eventId:i};if(e instanceof nA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Ul){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${Fj}=${encodeURIComponent(l)}`:"";return`${Uj(t)}?${Ll(a).slice(1)}${c}`}function Uj({config:t}){return t.emulator?my(t,Vj):`https://${t.authDomain}/${jj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="webStorageSupport";class Bj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lA,this._completeRedirectFn=dj,this._overrideRedirectResult=lj}async _openPopup(e,n,r,i){var s;Cr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await lE(e,n,r,lm(),i);return Dj(e,o,Ey())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await lE(e,n,r,lm(),i);return HM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Cr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Cj(e),r=new fj(e);return n.register("authEvent",i=>(le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pf,{type:pf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[pf];o!==void 0&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YI()||KI()||yy()}}const $j=Bj;var uE="@firebase/auth",cE="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kj(t){ns(new pi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XI(t)},c=new uM(r,i,s,l);return _M(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ns(new pi("auth-internal",e=>{const n=Do(e.getProvider("auth").getImmediate());return(r=>new zj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(uE,cE,Hj(t)),Wn(uE,cE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=5*60,Wj=a1("authIdTokenMaxAge")||qj;let dE=null;const Gj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Wj)return;const i=n==null?void 0:n.token;dE!==i&&(dE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function mA(t=Ng()){const e=Bd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vM(t,{popupRedirectResolver:$j,persistence:[ZM,BM,lA]}),r=a1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Gj(s.toString());MM(n,o,()=>o(n.currentUser)),DM(n,a=>o(a))}}const i=i1("auth");return i&&EM(n,`http://${i}`),n}function Qj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Jn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Qj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kj("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="firebasestorage.googleapis.com",Jj="storageBucket",Yj=2*60*1e3,Xj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends tr{constructor(e,n,r=0){super(mf(e),`Firebase Storage: ${n} (${mf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var er;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(er||(er={}));function mf(t){return"storage/"+t}function Zj(){const t="An unknown error occurred, please check the error payload for server response.";return new nr(er.UNKNOWN,t)}function eV(){return new nr(er.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tV(){return new nr(er.CANCELED,"User canceled the upload/download.")}function nV(t){return new nr(er.INVALID_URL,"Invalid URL '"+t+"'.")}function rV(t){return new nr(er.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hE(t){return new nr(er.INVALID_ARGUMENT,t)}function yA(){return new nr(er.APP_DELETED,"The Firebase app was deleted.")}function iV(t){return new nr(er.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bn.makeFromUrl(e,n)}catch{return new bn(e,"")}if(r.path==="")return r;throw rV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",I=new RegExp(`^https?://${h}/${d}/b/${i}/o${p}`,"i"),g={bucket:1,path:3},v=n===gA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",_=new RegExp(`^https?://${v}/${i}/${w}`,"i"),T=[{regex:a,indices:l,postModify:s},{regex:I,indices:g,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let k=0;k<T.length;k++){const M=T[k],V=M.regex.exec(e);if(V){const x=V[M.indices.bucket];let S=V[M.indices.path];S||(S=""),r=new bn(x,S),M.postModify(r);break}}if(r==null)throw nV(e);return r}}class sV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...w){c||(c=!0,e.apply(null,w))}function h(w){i=setTimeout(()=>{i=null,t(I,l())},w)}function p(){s&&clearTimeout(s)}function I(w,..._){if(c){p();return}if(w){p(),d.call(null,w,..._);return}if(l()||o){p(),d.call(null,w,..._);return}r<64&&(r*=2);let T;a===1?(a=2,T=0):T=(r+Math.random())*1e3,h(T)}let g=!1;function v(w){g||(g=!0,p(),!c&&(i!==null?(w||(a=2),clearTimeout(i),h(0)):w||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function aV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){return t!==void 0}function fE(t,e,n,r){if(r<e)throw hE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hE(`Invalid value for '${t}'. Expected ${n} or less.`)}function uV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var hd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(hd||(hd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r,i,s,o,a,l,c,d,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,g)=>{this.resolve_=I,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Lu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===hd.NO_ERROR,l=s.getStatus();if(!a||cV(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===hd.ABORT;r(!1,new Lu(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Lu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());lV(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Zj();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?yA():tV();o(l)}else{const l=eV();o(l)}};this.canceled_?n(!1,new Lu(!1,null,!0)):this.backoffId_=oV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function hV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function fV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function mV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function gV(t,e,n,r,i,s,o=!0){const a=uV(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return pV(c,e),hV(c,n),fV(c,s),mV(c,r),new dV(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function vV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this._service=e,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new fd(e,n)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vV(this._location.path)}get storage(){return this._service}get parent(){const e=yV(this._location.path);if(e===null)return null;const n=new bn(this._location.bucket,e);return new fd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw iV(e)}}function pE(t,e){const n=e==null?void 0:e[Jj];return n==null?null:bn.makeFromBucketSpec(n,t)}function _V(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:l1(i,t.app.options.projectId))}class EV{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=gA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Yj,this._maxUploadRetryTime=Xj,this._requests=new Set,i!=null?this._bucket=bn.makeFromBucketSpec(i,this._host):this._bucket=pE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=pE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fd(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new sV(yA());{const o=gV(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const mE="@firebase/storage",gE="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="storage";function wV(t=Ng(),e){t=St(t);const r=Bd(t,vA).getImmediate({identifier:e}),i=s1("storage");return i&&TV(r,...i),r}function TV(t,e,n,r={}){_V(t,e,n,r)}function SV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new EV(n,r,i,e,us)}function IV(){ns(new pi(vA,SV,"PUBLIC").setMultipleInstances(!0)),Wn(mE,gE,""),Wn(mE,gE,"esm2017")}IV();const AV={apiKey:"AIzaSyC69Z9yIw8aGdRt9k4CQp8SuRpH6oJGSGI",authDomain:"webimmo-6189a.firebaseapp.com",projectId:"webimmo-6189a",storageBucket:"webimmo-6189a.firebasestorage.app",messagingSenderId:"487406344453",appId:"1:487406344453:web:38762583c738366c2bbf6c",measurementId:"G-16CV9SZ186"},Ty=d1(AV),$i=pD(Ty),gf=mA(Ty);wV(Ty);const _A="/assets/profile_picture-Dl6-h9h0.jpg";function yE({children:t,className:e="",variant:n="default",size:r="default",...i}){const s="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",o={default:"bg-blue-600 text-white hover:bg-blue-700",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground"},a={default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"};return y.jsx("button",{className:`${s} ${o[n]} ${a[r]} ${e}`,...i,children:t})}function bV(){const[t,e]=Cg({loop:!0}),[n,r]=B.useState(!1),[i,s]=B.useState(!1),[o,a]=B.useState([]),l=B.useCallback(()=>e&&e.scrollPrev(),[e]),c=B.useCallback(()=>e&&e.scrollNext(),[e]),d=B.useCallback(()=>{e&&(r(e.canScrollPrev()),s(e.canScrollNext()))},[e]);return B.useEffect(()=>{(async()=>{try{const I=(await dy(id($i,"houses"))).docs.map(g=>{const v=g.data();return{id:v.id,imageUrl:v.image}});a(I)}catch(p){console.error("Erreur lors de la récupération des données :",p)}})()},[]),B.useEffect(()=>{e&&(d(),e.on("select",d))},[e,d]),B.useEffect(()=>{if(!e)return;const h=setInterval(()=>{e.scrollNext()},5e3);return()=>clearInterval(h)},[e]),y.jsx("div",{className:"flex flex-col min-h-screen",children:y.jsxs("main",{className:"flex-grow",children:[y.jsxs("section",{className:"py-16 px-4 md:px-8 max-w-5xl mx-auto",children:[y.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"À propos de moi"}),y.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[y.jsx("img",{src:_A,alt:"Elise BUIL",className:"w-64 h-64 rounded-full object-cover"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-lg mb-4",children:"Bien plus qu'un métier, une véritable passion!"}),y.jsx("p",{className:"text-lg mb-4",children:"Riche d’une forte expérience dans le secteur de l’immobilier, je mets mon expertise à votre service pour vous accompagner dans toutes vos démarches liées à la vente de votre bien. Je mets un point d’honneur à développer une véritable relation basée sur l’écoute et le respect de vos besoins."}),y.jsx("p",{className:"text-lg mb-4",children:"Issue d'une formation juridique en droit immobilier, je vous propose un accompagnement spécialisé dans la concrétisation de vos projets immobiliers, notamment en proposant la rédaction du compromis de vente en collaboration avec votre notaire , vous faisant ainsi bénéficier d'un temps précieux."}),y.jsx("p",{className:"text-lg mb-4",children:"Mon service de vente immobilière se distingue par une approche unique alliant expertise juridique et authentique relation d’échanges."}),y.jsxs("p",{className:"text-lg mb-4",children:["N'hésitez pas à prendre contact avec moi pour échanger sur vos projets, je me ferai un plaisir de pouvoir répondre à vos questions.",y.jsx("br",{})," Ensemble, construisons une relation solide et fiable pour mener à bien votre vente immobilière en toute sécurité!              "]}),y.jsx("p",{className:"text-lg",children:"Au plaisir de vous rencontrer,"}),y.jsx("div",{className:"mt-12",children:y.jsx(An,{to:"/EliseBUIL",className:"mx-auto inline-block bg-blue-600 text-white text-lg font-medium py-3 px-8 rounded-lg shadow hover:bg-blue-700 transition duration-300",children:"Contactez-moi dès aujourd'hui"})})]})]})]}),y.jsx("section",{className:"bg-white",children:y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"embla overflow-hidden",ref:t,children:y.jsx("div",{className:"embla__container flex",children:o.map(h=>y.jsx("div",{className:"embla__slide flex-[0_0_100%] min-w-0",children:y.jsx("img",{src:h.imageUrl,alt:`Maison ${h.id}`,className:"w-full h-[calc(100vh-64px)] object-cover"})},h.id))})}),y.jsx(yE,{variant:"outline",size:"icon",onClick:l,disabled:!n,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-50 hover:bg-opacity-75",children:y.jsx(YS,{className:"h-6 w-6"})}),y.jsx(yE,{variant:"outline",size:"icon",onClick:c,disabled:!i,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-50 hover:bg-opacity-75",children:y.jsx(Ok,{className:"h-6 w-6"})})]})}),y.jsx("section",{className:"my-12 flex justify-center",children:y.jsx("div",{className:"",children:y.jsx(An,{to:"/Acheter",className:"mx-auto inline-block bg-blue-600 text-white text-lg font-medium py-3 px-8 rounded-lg shadow hover:bg-blue-700 transition duration-300",children:"Contactez-moi dès aujourd'hui"})})})]})})}function xV(){return y.jsx("h1",{children:"404 - Page Not Found"})}const wl={_origin:"https://api.emailjs.com"},RV=(t,e="https://api.emailjs.com")=>{wl._userID=t,wl._origin=e},EA=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class vE{constructor(e){this.status=e.status,this.text=e.responseText}}const wA=(t,e,n={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new vE(o);a.status===200||a.text==="OK"?r(a):i(a)}),s.addEventListener("error",({target:o})=>{i(new vE(o))}),s.open("POST",wl._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),CV=(t,e,n,r)=>{const i=r||wl._userID;return EA(i,t,e),wA("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},PV=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},kV=(t,e,n,r)=>{const i=r||wl._userID,s=PV(n);EA(i,t,e);const o=new FormData(s);return o.append("lib_version","3.2.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",i),wA("/api/v1.0/email/send-form",o)},pd={init:RV,send:CV,sendForm:kV};function NV(){const[t,e]=B.useState({name:"",surname:"",phone:"",email:"",project:"",availability:""}),[n,r]=B.useState(!1),i=a=>{const{name:l,value:c}=a.target;e(d=>({...d,[l]:c}))},s=a=>{a.preventDefault(),pd.send("service_ygysf6c","template_tvk3cpa",t,"3Q6blDIxCWaiJ9nvg").then(h=>{console.log("Email sent successfully:",h.text),r(!0)},h=>{console.error("Failed to send email:",h.text)})},o=()=>{r(!1),e({name:"",surname:"",phone:"",email:"",project:"",availability:""})};return y.jsx("div",{className:"min-h-screen bg-gray-100 p-4 flex items-center justify-center",children:y.jsxs("div",{className:"w-full max-w-5xl bg-white rounded-xl shadow-xl overflow-hidden flex flex-col lg:flex-row",style:{maxHeight:"95vh"},children:[y.jsxs("div",{className:"lg:w-2/5 p-6 bg-indigo-600 text-white flex flex-col justify-center",children:[y.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Vendez Votre Bien"}),y.jsx("p",{className:"text-lg mb-6",children:"Obtenez une estimation gratuite dès aujourd'hui"}),y.jsxs("ul",{className:"space-y-3 text-base",children:[y.jsxs("li",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Analyse de marché experte"]}),y.jsxs("li",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Stratégie de vente personnalisée"]}),y.jsxs("li",{className:"flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Accompagnement commercial, administratif et juridique"]})]})]}),n?y.jsx("div",{className:"w-2/4 mx-auto",children:y.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[y.jsx("p",{className:"text-xl text-center mb-6",children:"Merci de votre confiance, nos experts reviennent vers vous d'ici 48 heures maximum"}),y.jsx("button",{onClick:o,className:"w-full max-w-md flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out",children:"Je veux obtenir une autre estimation"})]})}):y.jsxs("form",{onSubmit:s,className:"lg:w-3/5 p-6 space-y-4 overflow-y-auto",children:[y.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:"block text-base font-medium text-gray-700 mb-1",children:"Prénom"}),y.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:t.name,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",placeholder:"Jean"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"surname",className:"block text-base font-medium text-gray-700 mb-1",children:"Nom de famille"}),y.jsx("input",{type:"text",id:"surname",name:"surname",required:!0,value:t.surname,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",placeholder:"Dupont"})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"phone",className:"block text-base font-medium text-gray-700 mb-1",children:"Numéro de téléphone"}),y.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,value:t.phone,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",placeholder:"06 12 34 56 78"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-base font-medium text-gray-700 mb-1",children:"Email"}),y.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:t.email,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",placeholder:"jean.dupont@exemple.com"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"project",className:"block text-base font-medium text-gray-700 mb-1",children:"Votre Projet Immobilier"}),y.jsx("textarea",{id:"project",name:"project",required:!0,rows:3,value:t.project,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",placeholder:"Décrivez votre projet immobilier (par exemple, vendre une maison de 3 chambres, rechercher un bien d'investissement)"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"availability",className:"block text-base font-medium text-gray-700 mb-1",children:"Vos Disponibilités"}),y.jsx("textarea",{id:"availability",name:"availability",required:!0,rows:3,value:t.availability,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150 ease-in-out",placeholder:"Par exemple, en semaine après 17h, week-ends de 9h à 17h"})]}),y.jsx("div",{children:y.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out",children:"Obtenez Votre Estimation Gratuite"})})]})]})})}const OV=()=>{const[t,e]=B.useState(!1),n=()=>e(!t);return y.jsx("header",{className:"sticky top-0 bg-white p-4 border-b border-gray-200 z-50",children:y.jsxs("nav",{className:"container mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("div",{className:"font-bold text-lg",children:y.jsx(An,{to:"/",children:"Votre solution clé en main !"})}),y.jsx("button",{onClick:n,className:"md:hidden",children:t?y.jsx(e1,{className:"h-6 w-6"}):y.jsx(jk,{className:"h-6 w-6"})}),y.jsx("div",{className:"hidden md:flex items-center space-x-6",children:y.jsx(_E,{})})]}),t&&y.jsx("div",{className:"md:hidden mt-4 space-y-4",children:y.jsx(_E,{})})]})})},_E=()=>y.jsxs(y.Fragment,{children:[y.jsx(An,{to:"/Vendre",className:"block text-black hover:text-gray-700",children:"Vendre"}),y.jsx(An,{to:"/Acheter",className:"block text-black hover:text-gray-700",children:"Acheter"}),y.jsx(An,{to:"/Blog",className:"block text-black hover:text-gray-700",children:"Actualités"}),y.jsx(An,{to:"/EliseBUIL",className:"block text-black hover:text-gray-700",children:"Elise BUIL"}),y.jsxs("a",{href:"tel:+590690590565",className:"block text-black hover:text-gray-700",children:[y.jsx("span",{className:"md:hidden",children:"Appeler"}),y.jsx("span",{className:"hidden md:inline",children:"+590 690 590 565"}),y.jsx(Fk,{className:"inline-block ml-2 h-4 w-4 md:hidden"})]}),y.jsx(An,{to:"/Gestion",className:"block text-black hover:text-gray-700",children:"mon compte"}),y.jsx(An,{to:"/Estimation",className:"block bg-black text-white px-4 py-2 rounded-lg font-bold hover:bg-gray-800 transition-colors text-center",children:"Estimer votre bien"})]}),LV=()=>{const{id:t}=TP(),[e,n]=B.useState(null);return B.useEffect(()=>{(async()=>{if(!t)return;const i=sd($i,"houses",t),s=await kD(i);s.exists()?n({id:s.id,...s.data()}):n(null)})()},[t]),e?y.jsx("div",{className:"min-h-screen bg-gray-100 p-4 md:p-8",children:y.jsx("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:y.jsxs("div",{className:"p-6",children:[y.jsxs(An,{to:"/Acheter",className:"inline-flex items-center text-violet-600 hover:text-violet-800 mb-4",children:[y.jsx(kk,{className:"w-4 h-4 mr-2"}),"Retour à la liste"]}),y.jsx("h1",{className:"text-3xl font-bold mb-4",children:e.title}),y.jsx("img",{src:e.image,alt:e.title,className:"w-full h-64 object-cover rounded-lg mb-6"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Détails de la propriété"}),y.jsxs("ul",{className:"space-y-2",children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Prix:"})," ",(()=>{const r=e.price.replace(/[^0-9.-]+/g,""),i=Number(r);return isNaN(i)?"Invalid price":i.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0})})()]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Surface:"})," ",e.size," m²"]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Type:"})," ",e.type]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Pièces:"})," ",e.rooms]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Chambres:"})," ",e.bedrooms]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Salles de bain:"})," ",e.bathrooms]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Localisation:"})," ",e.location]})]})]}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Annexes"}),y.jsx("ul",{className:"space-y-2",children:e.amenities.map((r,i)=>y.jsx("li",{className:"inline-block bg-gray-100 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2",children:r},i))})]})]}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Description"}),y.jsx("p",{className:"text-gray-700",children:e.description})]})]})})}):y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Chargement..."})},DV=mA();console.log("Current user:",DV.currentUser);function MV(){const[t,e]=B.useState([]),[n,r]=B.useState([]),[i,s]=B.useState({location:"",maxPrice:1e8,minSize:0,propertyTypes:[],rooms:"0",bedrooms:"0",bathrooms:"0",amenities:[],condition:"disponible"}),[o,a]=B.useState(!1);B.useEffect(()=>{(async()=>{const w=id($i,"houses"),E=(await dy(w)).docs.map(T=>({...T.data(),id:T.id}));e(E)})()},[]),B.useEffect(()=>{const v=t.filter(w=>(i.condition==="all"||w.condition===i.condition)&&parseInt(w.price)<=i.maxPrice&&parseInt(w.size)>=i.minSize&&(i.propertyTypes.length===0||i.propertyTypes.includes(w.type))&&parseInt(w.rooms)>=parseInt(i.rooms)&&parseInt(w.bedrooms)>=parseInt(i.bedrooms)&&parseInt(w.bathrooms)>=parseInt(i.bathrooms)&&(i.amenities.length===0||i.amenities.every(_=>w.amenities.includes(_)))&&(i.location===""||w.location.toLowerCase().includes(i.location.toLowerCase())));r(v)},[t,i]);const l=v=>{const{name:w,value:_}=v.target;s(E=>({...E,[w]:w==="maxPrice"||w==="minSize"?parseInt(_):_}))},c=(v,w)=>{s(_=>({..._,[v]:Array.isArray(_[v])?_[v].includes(w)?_[v].filter(E=>E!==w):[..._[v],w]:_[v]}))},d=v=>{switch(v){case"vendu":return"bg-red-500 text-white";case"sous compromis":return"bg-yellow-500 text-black";default:return"bg-green-500 text-white"}},h=v=>{switch(v){case"vendu":return"VENDU";case"sous compromis":return"SOUS COMPROMIS";default:return"DISPONIBLE"}},p=[{value:"appartement",label:"Appartement"},{value:"maison",label:"Maison"},{value:"local commercial",label:"Local commercial"},{value:"terrain",label:"Terrain"}],I=[{value:"piscine",label:"Piscine"},{value:"parking",label:"Parking"},{value:"cave",label:"Cave"},{value:"belle vue",label:"Belle vue"},{value:"ascenseur",label:"Ascenseur"}],g=["all","disponible","sous compromis","vendu"];return y.jsx("div",{className:"min-h-screen bg-gray-100 p-4 md:p-8",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsx("h2",{className:"text-2xl font-bold",children:"Disponible à la vente"}),y.jsxs("button",{onClick:()=>a(!o),className:"bg-violet-600 text-white py-2 px-4 rounded-lg text-sm font-semibold hover:bg-violet-700 transition-colors duration-200 flex items-center",children:[o?y.jsx(e1,{className:"mr-2"}):y.jsx(Bk,{className:"mr-2"}),o?"Fermer les filtres":"Afficher les filtres"]})]}),y.jsx("div",{className:"flex justify-center space-x-4 mb-6",children:g.map(v=>y.jsx("button",{onClick:()=>s(w=>({...w,condition:v})),className:`py-2 px-4 rounded-lg text-sm font-semibold transition-colors duration-200 ${i.condition===v?"bg-violet-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:v==="all"?"Tous":v.charAt(0).toUpperCase()+v.slice(1)},v))}),o&&y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Localisation"}),y.jsx("input",{id:"location",name:"location",type:"text",value:i.location,onChange:l,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"maxPrice",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix Maximum"}),y.jsx("input",{id:"maxPrice",name:"maxPrice",type:"number",value:i.maxPrice,onChange:l,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"minSize",className:"block text-sm font-medium text-gray-700 mb-1",children:"Surface Minimum (m²)"}),y.jsx("input",{id:"minSize",name:"minSize",type:"number",value:i.minSize,onChange:l,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de Propriété"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(v=>y.jsx("button",{type:"button",onClick:()=>c("propertyTypes",v.value),className:`py-1 px-3 rounded-full text-xs font-medium transition-colors duration-200 ${i.propertyTypes.includes(v.value)?"bg-violet-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v.label},v.value))})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"rooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de Pièces minimum"}),y.jsx("select",{id:"rooms",name:"rooms",value:i.rooms,onChange:l,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none",children:[1,2,3,4,5,"6+"].map(v=>y.jsxs("option",{value:v.toString(),children:[v," ",v===1?"pièce":"pièces"]},v))})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de chambres minimum"}),y.jsx("select",{id:"bedrooms",name:"bedrooms",value:i.bedrooms,onChange:l,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none",children:[1,2,3,4,5,"6+"].map(v=>y.jsxs("option",{value:v.toString(),children:[v," ",v===1?"chambre":"chambres"]},v))})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de salles de bain minimum"}),y.jsx("select",{id:"bathrooms",name:"bathrooms",value:i.bathrooms,onChange:l,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-violet-500 focus:border-transparent outline-none",children:[1,2,3,4,"5+"].map(v=>y.jsxs("option",{value:v.toString(),children:[v," ",v===1?"salle de bain":"salles de bain"]},v))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Annexes"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(v=>y.jsx("button",{type:"button",onClick:()=>c("amenities",v.value),className:`py-1 px-3 rounded-full text-xs font-medium transition-colors duration-200 ${i.amenities.includes(v.value)?"bg-violet-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v.label},v.value))})]})]}),n.length===0?y.jsx("p",{children:"Aucune propriété ne correspond à vos critères."}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(v=>y.jsxs(An,{to:`/house/${v.id}`,className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[y.jsx("div",{className:"relative",children:y.jsx("img",{src:v.image,alt:v.title,className:"w-full h-48 object-cover"})}),y.jsxs("div",{className:"p-4",children:[y.jsx("h3",{className:"text-lg font-semibold mb-2",children:v.title}),y.jsxs("div",{className:"flex justify-between",children:[y.jsx("p",{className:"text-gray-600",children:v.location}),y.jsx("div",{className:`m-1 px-2 py-1 rounded-full text-xs font-bold ${d(v.condition)}`,children:h(v.condition)})]}),y.jsx("p",{className:"text-violet-600 font-bold mb-2",children:(()=>{const w=v.price.replace(/[^0-9.-]+/g,""),_=Number(w);return isNaN(_)?"Invalid price":_.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0})})()}),y.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[y.jsxs("span",{children:[v.size," m²"]}),y.jsxs("span",{children:[v.rooms," pièces"]}),y.jsxs("span",{children:[v.bedrooms," ch."]}),y.jsxs("span",{children:[v.bathrooms," sdb."]})]}),y.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:v.amenities.map(w=>y.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded",children:w},w))})]})]},v.id))})]})})}function TA(t,e){return function(){return t.apply(e,arguments)}}const{toString:jV}=Object.prototype,{getPrototypeOf:Sy}=Object,ah=(t=>e=>{const n=jV.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),On=t=>(t=t.toLowerCase(),e=>ah(e)===t),lh=t=>e=>typeof e===t,{isArray:jo}=Array,Tl=lh("undefined");function VV(t){return t!==null&&!Tl(t)&&t.constructor!==null&&!Tl(t.constructor)&&on(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const SA=On("ArrayBuffer");function FV(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&SA(t.buffer),e}const UV=lh("string"),on=lh("function"),IA=lh("number"),uh=t=>t!==null&&typeof t=="object",BV=t=>t===!0||t===!1,lc=t=>{if(ah(t)!=="object")return!1;const e=Sy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$V=On("Date"),zV=On("File"),HV=On("Blob"),KV=On("FileList"),qV=t=>uh(t)&&on(t.pipe),WV=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||on(t.append)&&((e=ah(t))==="formdata"||e==="object"&&on(t.toString)&&t.toString()==="[object FormData]"))},GV=On("URLSearchParams"),[QV,JV,YV,XV]=["ReadableStream","Request","Response","Headers"].map(On),ZV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $l(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),jo(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function AA(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const zi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bA=t=>!Tl(t)&&t!==zi;function dm(){const{caseless:t}=bA(this)&&this||{},e={},n=(r,i)=>{const s=t&&AA(e,i)||i;lc(e[s])&&lc(r)?e[s]=dm(e[s],r):lc(r)?e[s]=dm({},r):jo(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&$l(arguments[r],n);return e}const eF=(t,e,n,{allOwnKeys:r}={})=>($l(e,(i,s)=>{n&&on(i)?t[s]=TA(i,n):t[s]=i},{allOwnKeys:r}),t),tF=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),nF=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},rF=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Sy(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},iF=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},sF=t=>{if(!t)return null;if(jo(t))return t;let e=t.length;if(!IA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},oF=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Sy(Uint8Array)),aF=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},lF=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},uF=On("HTMLFormElement"),cF=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),EE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),dF=On("RegExp"),xA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};$l(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},hF=t=>{xA(t,(e,n)=>{if(on(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(on(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},fF=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return jo(t)?r(t):r(String(t).split(e)),n},pF=()=>{},mF=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,yf="abcdefghijklmnopqrstuvwxyz",wE="0123456789",RA={DIGIT:wE,ALPHA:yf,ALPHA_DIGIT:yf+yf.toUpperCase()+wE},gF=(t=16,e=RA.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function yF(t){return!!(t&&on(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const vF=t=>{const e=new Array(10),n=(r,i)=>{if(uh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=jo(r)?[]:{};return $l(r,(o,a)=>{const l=n(o,i+1);!Tl(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},_F=On("AsyncFunction"),EF=t=>t&&(uh(t)||on(t))&&on(t.then)&&on(t.catch),CA=((t,e)=>t?setImmediate:e?((n,r)=>(zi.addEventListener("message",({source:i,data:s})=>{i===zi&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),zi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",on(zi.postMessage)),wF=typeof queueMicrotask<"u"?queueMicrotask.bind(zi):typeof process<"u"&&process.nextTick||CA,F={isArray:jo,isArrayBuffer:SA,isBuffer:VV,isFormData:WV,isArrayBufferView:FV,isString:UV,isNumber:IA,isBoolean:BV,isObject:uh,isPlainObject:lc,isReadableStream:QV,isRequest:JV,isResponse:YV,isHeaders:XV,isUndefined:Tl,isDate:$V,isFile:zV,isBlob:HV,isRegExp:dF,isFunction:on,isStream:qV,isURLSearchParams:GV,isTypedArray:oF,isFileList:KV,forEach:$l,merge:dm,extend:eF,trim:ZV,stripBOM:tF,inherits:nF,toFlatObject:rF,kindOf:ah,kindOfTest:On,endsWith:iF,toArray:sF,forEachEntry:aF,matchAll:lF,isHTMLForm:uF,hasOwnProperty:EE,hasOwnProp:EE,reduceDescriptors:xA,freezeMethods:hF,toObjectSet:fF,toCamelCase:cF,noop:pF,toFiniteNumber:mF,findKey:AA,global:zi,isContextDefined:bA,ALPHABET:RA,generateString:gF,isSpecCompliantForm:yF,toJSONObject:vF,isAsyncFn:_F,isThenable:EF,setImmediate:CA,asap:wF};function he(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}F.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const PA=he.prototype,kA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{kA[t]={value:t}});Object.defineProperties(he,kA);Object.defineProperty(PA,"isAxiosError",{value:!0});he.from=(t,e,n,r,i,s)=>{const o=Object.create(PA);return F.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),he.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const TF=null;function hm(t){return F.isPlainObject(t)||F.isArray(t)}function NA(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function TE(t,e,n){return t?t.concat(e).map(function(i,s){return i=NA(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function SF(t){return F.isArray(t)&&!t.some(hm)}const IF=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function ch(t,e,n){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!F.isUndefined(w[v])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(F.isDate(g))return g.toISOString();if(!l&&F.isBlob(g))throw new he("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(g)||F.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,v,w){let _=g;if(g&&!w&&typeof g=="object"){if(F.endsWith(v,"{}"))v=r?v:v.slice(0,-2),g=JSON.stringify(g);else if(F.isArray(g)&&SF(g)||(F.isFileList(g)||F.endsWith(v,"[]"))&&(_=F.toArray(g)))return v=NA(v),_.forEach(function(T,k){!(F.isUndefined(T)||T===null)&&e.append(o===!0?TE([v],k,s):o===null?v:v+"[]",c(T))}),!1}return hm(g)?!0:(e.append(TE(w,v,s),c(g)),!1)}const h=[],p=Object.assign(IF,{defaultVisitor:d,convertValue:c,isVisitable:hm});function I(g,v){if(!F.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(g),F.forEach(g,function(_,E){(!(F.isUndefined(_)||_===null)&&i.call(e,_,F.isString(E)?E.trim():E,v,p))===!0&&I(_,v?v.concat(E):[E])}),h.pop()}}if(!F.isObject(t))throw new TypeError("data must be an object");return I(t),e}function SE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Iy(t,e){this._pairs=[],t&&ch(t,this,e)}const OA=Iy.prototype;OA.append=function(e,n){this._pairs.push([e,n])};OA.toString=function(e){const n=e?function(r){return e.call(this,r,SE)}:SE;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function AF(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function LA(t,e,n){if(!e)return t;const r=n&&n.encode||AF;F.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=F.isURLSearchParams(e)?e.toString():new Iy(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class IE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(r){r!==null&&e(r)})}}const DA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bF=typeof URLSearchParams<"u"?URLSearchParams:Iy,xF=typeof FormData<"u"?FormData:null,RF=typeof Blob<"u"?Blob:null,CF={isBrowser:!0,classes:{URLSearchParams:bF,FormData:xF,Blob:RF},protocols:["http","https","file","blob","url","data"]},Ay=typeof window<"u"&&typeof document<"u",fm=typeof navigator=="object"&&navigator||void 0,PF=Ay&&(!fm||["ReactNative","NativeScript","NS"].indexOf(fm.product)<0),kF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",NF=Ay&&window.location.href||"http://localhost",OF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ay,hasStandardBrowserEnv:PF,hasStandardBrowserWebWorkerEnv:kF,navigator:fm,origin:NF},Symbol.toStringTag,{value:"Module"})),Ot={...OF,...CF};function LF(t,e){return ch(t,new Ot.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Ot.isNode&&F.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function DF(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function MF(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function MA(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&F.isArray(i)?i.length:o,l?(F.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!F.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&F.isArray(i[o])&&(i[o]=MF(i[o])),!a)}if(F.isFormData(t)&&F.isFunction(t.entries)){const n={};return F.forEachEntry(t,(r,i)=>{e(DF(r),i,n,0)}),n}return null}function jF(t,e,n){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const zl={transitional:DA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=F.isObject(e);if(s&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return i?JSON.stringify(MA(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e)||F.isReadableStream(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return LF(e,this.formSerializer).toString();if((a=F.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ch(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),jF(e)):e}],transformResponse:[function(e){const n=this.transitional||zl.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(F.isResponse(e)||F.isReadableStream(e))return e;if(e&&F.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?he.from(a,he.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],t=>{zl.headers[t]={}});const VF=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FF=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&VF[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},AE=Symbol("internals");function da(t){return t&&String(t).trim().toLowerCase()}function uc(t){return t===!1||t==null?t:F.isArray(t)?t.map(uc):String(t)}function UF(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const BF=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function vf(t,e,n,r,i){if(F.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!F.isString(e)){if(F.isString(r))return e.indexOf(r)!==-1;if(F.isRegExp(r))return r.test(e)}}function $F(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function zF(t,e){const n=F.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Qt=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const d=da(l);if(!d)throw new Error("header name must be a non-empty string");const h=F.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=uc(a))}const o=(a,l)=>F.forEach(a,(c,d)=>s(c,d,l));if(F.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(F.isString(e)&&(e=e.trim())&&!BF(e))o(FF(e),n);else if(F.isHeaders(e))for(const[a,l]of e.entries())s(l,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=da(e),e){const r=F.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return UF(i);if(F.isFunction(n))return n.call(this,i,r);if(F.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=da(e),e){const r=F.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||vf(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=da(o),o){const a=F.findKey(r,o);a&&(!n||vf(r,r[a],a,n))&&(delete r[a],i=!0)}}return F.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||vf(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return F.forEach(this,(i,s)=>{const o=F.findKey(r,s);if(o){n[o]=uc(i),delete n[s];return}const a=e?$F(s):String(s).trim();a!==s&&delete n[s],n[a]=uc(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return F.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&F.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[AE]=this[AE]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=da(o);r[a]||(zF(i,o),r[a]=!0)}return F.isArray(e)?e.forEach(s):s(e),this}};Qt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(Qt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});F.freezeMethods(Qt);function _f(t,e){const n=this||zl,r=e||n,i=Qt.from(r.headers);let s=r.data;return F.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function jA(t){return!!(t&&t.__CANCEL__)}function Vo(t,e,n){he.call(this,t??"canceled",he.ERR_CANCELED,e,n),this.name="CanceledError"}F.inherits(Vo,he,{__CANCEL__:!0});function VA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new he("Request failed with status code "+n.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function HF(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function KF(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[s];o||(o=c),n[i]=l,r[i]=c;let h=s,p=0;for(;h!==i;)p+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const I=d&&c-d;return I?Math.round(p*1e3/I):void 0}}function qF(t,e){let n=0,r=1e3/e,i,s;const o=(c,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const d=Date.now(),h=d-n;h>=r?o(c,d):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const md=(t,e,n=3)=>{let r=0;const i=KF(50,250);return qF(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},bE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},xE=t=>(...e)=>F.asap(()=>t(...e)),WF=Ot.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ot.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ot.origin),Ot.navigator&&/(msie|trident)/i.test(Ot.navigator.userAgent)):()=>!0,GF=Ot.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];F.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),F.isString(r)&&o.push("path="+r),F.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function QF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function JF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function FA(t,e){return t&&!QF(e)?JF(t,e):e}const RE=t=>t instanceof Qt?{...t}:t;function ss(t,e){e=e||{};const n={};function r(c,d,h,p){return F.isPlainObject(c)&&F.isPlainObject(d)?F.merge.call({caseless:p},c,d):F.isPlainObject(d)?F.merge({},d):F.isArray(d)?d.slice():d}function i(c,d,h,p){if(F.isUndefined(d)){if(!F.isUndefined(c))return r(void 0,c,h,p)}else return r(c,d,h,p)}function s(c,d){if(!F.isUndefined(d))return r(void 0,d)}function o(c,d){if(F.isUndefined(d)){if(!F.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,h){if(h in e)return r(c,d);if(h in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,h)=>i(RE(c),RE(d),h,!0)};return F.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||i,p=h(t[d],e[d],d);F.isUndefined(p)&&h!==a||(n[d]=p)}),n}const UA=t=>{const e=ss({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Qt.from(o),e.url=LA(FA(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(F.isFormData(n)){if(Ot.hasStandardBrowserEnv||Ot.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...d]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...d].join("; "))}}if(Ot.hasStandardBrowserEnv&&(r&&F.isFunction(r)&&(r=r(e)),r||r!==!1&&WF(e.url))){const c=i&&s&&GF.read(s);c&&o.set(i,c)}return e},YF=typeof XMLHttpRequest<"u",XF=YF&&function(t){return new Promise(function(n,r){const i=UA(t);let s=i.data;const o=Qt.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,d,h,p,I,g;function v(){I&&I(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function _(){if(!w)return;const T=Qt.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:T,config:t,request:w};VA(function(x){n(x),v()},function(x){r(x),v()},M),w=null}"onloadend"in w?w.onloadend=_:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(_)},w.onabort=function(){w&&(r(new he("Request aborted",he.ECONNABORTED,t,w)),w=null)},w.onerror=function(){r(new he("Network Error",he.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const M=i.transitional||DA;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),r(new he(k,M.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,t,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&F.forEach(o.toJSON(),function(k,M){w.setRequestHeader(M,k)}),F.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),c&&([p,g]=md(c,!0),w.addEventListener("progress",p)),l&&w.upload&&([h,I]=md(l),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",I)),(i.cancelToken||i.signal)&&(d=T=>{w&&(r(!T||T.type?new Vo(null,t,w):T),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const E=HF(i.url);if(E&&Ot.protocols.indexOf(E)===-1){r(new he("Unsupported protocol "+E+":",he.ERR_BAD_REQUEST,t));return}w.send(s||null)})},ZF=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof he?d:new Vo(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new he(`timeout ${e} of ms exceeded`,he.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>F.asap(a),l}},e4=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},t4=async function*(t,e){for await(const n of n4(t))yield*e4(n,e)},n4=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},CE=(t,e,n,r)=>{const i=t4(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){a(),l.close();return}let h=d.byteLength;if(n){let p=s+=h;n(p)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},dh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",BA=dh&&typeof ReadableStream=="function",r4=dh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),$A=(t,...e)=>{try{return!!t(...e)}catch{return!1}},i4=BA&&$A(()=>{let t=!1;const e=new Request(Ot.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),PE=64*1024,pm=BA&&$A(()=>F.isReadableStream(new Response("").body)),gd={stream:pm&&(t=>t.body)};dh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!gd[e]&&(gd[e]=F.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new he(`Response type '${e}' is not supported`,he.ERR_NOT_SUPPORT,r)})})})(new Response);const s4=async t=>{if(t==null)return 0;if(F.isBlob(t))return t.size;if(F.isSpecCompliantForm(t))return(await new Request(Ot.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(F.isArrayBufferView(t)||F.isArrayBuffer(t))return t.byteLength;if(F.isURLSearchParams(t)&&(t=t+""),F.isString(t))return(await r4(t)).byteLength},o4=async(t,e)=>{const n=F.toFiniteNumber(t.getContentLength());return n??s4(e)},a4=dh&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:h="same-origin",fetchOptions:p}=UA(t);c=c?(c+"").toLowerCase():"text";let I=ZF([i,s&&s.toAbortSignal()],o),g;const v=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let w;try{if(l&&i4&&n!=="get"&&n!=="head"&&(w=await o4(d,r))!==0){let M=new Request(e,{method:"POST",body:r,duplex:"half"}),V;if(F.isFormData(r)&&(V=M.headers.get("content-type"))&&d.setContentType(V),M.body){const[x,S]=bE(w,md(xE(l)));r=CE(M.body,PE,x,S)}}F.isString(h)||(h=h?"include":"omit");const _="credentials"in Request.prototype;g=new Request(e,{...p,signal:I,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:_?h:void 0});let E=await fetch(g);const T=pm&&(c==="stream"||c==="response");if(pm&&(a||T&&v)){const M={};["status","statusText","headers"].forEach(R=>{M[R]=E[R]});const V=F.toFiniteNumber(E.headers.get("content-length")),[x,S]=a&&bE(V,md(xE(a),!0))||[];E=new Response(CE(E.body,PE,x,()=>{S&&S(),v&&v()}),M)}c=c||"text";let k=await gd[F.findKey(gd,c)||"text"](E,t);return!T&&v&&v(),await new Promise((M,V)=>{VA(M,V,{data:k,headers:Qt.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:g})})}catch(_){throw v&&v(),_&&_.name==="TypeError"&&/fetch/i.test(_.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,t,g),{cause:_.cause||_}):he.from(_,_&&_.code,t,g)}}),mm={http:TF,xhr:XF,fetch:a4};F.forEach(mm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const kE=t=>`- ${t}`,l4=t=>F.isFunction(t)||t===null||t===!1,zA={getAdapter:t=>{t=F.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!l4(n)&&(r=mm[(o=String(n)).toLowerCase()],r===void 0))throw new he(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(kE).join(`
`):" "+kE(s[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:mm};function Ef(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Vo(null,t)}function NE(t){return Ef(t),t.headers=Qt.from(t.headers),t.data=_f.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),zA.getAdapter(t.adapter||zl.adapter)(t).then(function(r){return Ef(t),r.data=_f.call(t,t.transformResponse,r),r.headers=Qt.from(r.headers),r},function(r){return jA(r)||(Ef(t),r&&r.response&&(r.response.data=_f.call(t,t.transformResponse,r.response),r.response.headers=Qt.from(r.response.headers))),Promise.reject(r)})}const HA="1.7.9",hh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{hh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const OE={};hh.transitional=function(e,n,r){function i(s,o){return"[Axios v"+HA+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new he(i(o," has been removed"+(n?" in "+n:"")),he.ERR_DEPRECATED);return n&&!OE[o]&&(OE[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};hh.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function u4(t,e,n){if(typeof t!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new he("option "+s+" must be "+l,he.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new he("Unknown option "+s,he.ERR_BAD_OPTION)}}const cc={assertOptions:u4,validators:hh},Mn=cc.validators;let Gi=class{constructor(e){this.defaults=e,this.interceptors={request:new IE,response:new IE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ss(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&cc.assertOptions(r,{silentJSONParsing:Mn.transitional(Mn.boolean),forcedJSONParsing:Mn.transitional(Mn.boolean),clarifyTimeoutError:Mn.transitional(Mn.boolean)},!1),i!=null&&(F.isFunction(i)?n.paramsSerializer={serialize:i}:cc.assertOptions(i,{encode:Mn.function,serialize:Mn.function},!0)),cc.assertOptions(n,{baseUrl:Mn.spelling("baseURL"),withXsrfToken:Mn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&F.merge(s.common,s[n.method]);s&&F.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),n.headers=Qt.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let d,h=0,p;if(!l){const g=[NE.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),p=g.length,d=Promise.resolve(n);h<p;)d=d.then(g[h++],g[h++]);return d}p=a.length;let I=n;for(h=0;h<p;){const g=a[h++],v=a[h++];try{I=g(I)}catch(w){v.call(this,w);break}}try{d=NE.call(this,I)}catch(g){return Promise.reject(g)}for(h=0,p=c.length;h<p;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=ss(this.defaults,e);const n=FA(e.baseURL,e.url);return LA(n,e.params,e.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(e){Gi.prototype[e]=function(n,r){return this.request(ss(r||{},{method:e,url:n,data:(r||{}).data}))}});F.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(ss(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Gi.prototype[e]=n(),Gi.prototype[e+"Form"]=n(!0)});let c4=class KA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Vo(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new KA(function(i){e=i}),cancel:e}}};function d4(t){return function(n){return t.apply(null,n)}}function h4(t){return F.isObject(t)&&t.isAxiosError===!0}const gm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gm).forEach(([t,e])=>{gm[e]=t});function qA(t){const e=new Gi(t),n=TA(Gi.prototype.request,e);return F.extend(n,Gi.prototype,e,{allOwnKeys:!0}),F.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return qA(ss(t,i))},n}const Ye=qA(zl);Ye.Axios=Gi;Ye.CanceledError=Vo;Ye.CancelToken=c4;Ye.isCancel=jA;Ye.VERSION=HA;Ye.toFormData=ch;Ye.AxiosError=he;Ye.Cancel=Ye.CanceledError;Ye.all=function(e){return Promise.all(e)};Ye.spread=d4;Ye.isAxiosError=h4;Ye.mergeConfig=ss;Ye.AxiosHeaders=Qt;Ye.formToJSON=t=>MA(F.isHTMLForm(t)?new FormData(t):t);Ye.getAdapter=zA.getAdapter;Ye.HttpStatusCode=gm;Ye.default=Ye;const{Axios:H$,AxiosError:K$,CanceledError:q$,isCancel:W$,CancelToken:G$,VERSION:Q$,all:J$,Cancel:Y$,isAxiosError:X$,spread:Z$,toFormData:e5,AxiosHeaders:t5,HttpStatusCode:n5,formToJSON:r5,getAdapter:i5,mergeConfig:s5}=Ye;var f4=Function.prototype.toString,wf=Object.create,p4=Object.prototype.toString,m4=function(){function t(){this._keys=[],this._values=[]}return t.prototype.has=function(e){return!!~this._keys.indexOf(e)},t.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},t.prototype.set=function(e,n){this._keys.push(e),this._values.push(n)},t}();function g4(){return new m4}function y4(){return new WeakMap}var v4=typeof WeakMap<"u"?y4:g4;function by(t){if(!t)return wf(null);var e=t.constructor;if(e===Object)return t===Object.prototype?{}:wf(t);if(e&&~f4.call(e).indexOf("[native code]"))try{return new e}catch{}return wf(t)}function _4(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}function E4(t){return t.flags}var w4=/test/g.flags==="g"?E4:_4;function WA(t){var e=p4.call(t);return e.substring(8,e.length-1)}function T4(t){return t[Symbol.toStringTag]||WA(t)}var S4=typeof Symbol<"u"?T4:WA,I4=Object.defineProperty,A4=Object.getOwnPropertyDescriptor,GA=Object.getOwnPropertyNames,xy=Object.getOwnPropertySymbols,QA=Object.prototype,JA=QA.hasOwnProperty,b4=QA.propertyIsEnumerable,YA=typeof xy=="function";function x4(t){return GA(t).concat(xy(t))}var R4=YA?x4:GA;function fh(t,e,n){for(var r=R4(t),i=0,s=r.length,o=void 0,a=void 0;i<s;++i)if(o=r[i],!(o==="callee"||o==="caller")){if(a=A4(t,o),!a){e[o]=n.copier(t[o],n);continue}!a.get&&!a.set&&(a.value=n.copier(a.value,n));try{I4(e,o,a)}catch{e[o]=a.value}}return e}function C4(t,e){var n=new e.Constructor;e.cache.set(t,n);for(var r=0,i=t.length;r<i;++r)n[r]=e.copier(t[r],e);return n}function P4(t,e){var n=new e.Constructor;return e.cache.set(t,n),fh(t,n,e)}function XA(t,e){return t.slice(0)}function k4(t,e){return t.slice(0,t.size,t.type)}function N4(t,e){return new e.Constructor(XA(t.buffer))}function O4(t,e){return new e.Constructor(t.getTime())}function ZA(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r,i){n.set(i,e.copier(r,e))}),n}function L4(t,e){return fh(t,ZA(t,e),e)}function D4(t,e){var n=by(e.prototype);e.cache.set(t,n);for(var r in t)JA.call(t,r)&&(n[r]=e.copier(t[r],e));return n}function M4(t,e){var n=by(e.prototype);e.cache.set(t,n);for(var r in t)JA.call(t,r)&&(n[r]=e.copier(t[r],e));for(var i=xy(t),s=0,o=i.length,a=void 0;s<o;++s)a=i[s],b4.call(t,a)&&(n[a]=e.copier(t[a],e));return n}var j4=YA?M4:D4;function V4(t,e){var n=by(e.prototype);return e.cache.set(t,n),fh(t,n,e)}function Tf(t,e){return new e.Constructor(t.valueOf())}function F4(t,e){var n=new e.Constructor(t.source,w4(t));return n.lastIndex=t.lastIndex,n}function dc(t,e){return t}function eb(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r){n.add(e.copier(r,e))}),n}function U4(t,e){return fh(t,eb(t,e),e)}var B4=Array.isArray,Ry=Object.assign,$4=Object.getPrototypeOf||function(t){return t.__proto__},tb={array:C4,arrayBuffer:XA,blob:k4,dataView:N4,date:O4,error:dc,map:ZA,object:j4,regExp:F4,set:eb},z4=Ry({},tb,{array:P4,map:L4,object:V4,set:U4});function H4(t){return{Arguments:t.object,Array:t.array,ArrayBuffer:t.arrayBuffer,Blob:t.blob,Boolean:Tf,DataView:t.dataView,Date:t.date,Error:t.error,Float32Array:t.arrayBuffer,Float64Array:t.arrayBuffer,Int8Array:t.arrayBuffer,Int16Array:t.arrayBuffer,Int32Array:t.arrayBuffer,Map:t.map,Number:Tf,Object:t.object,Promise:dc,RegExp:t.regExp,Set:t.set,String:Tf,WeakMap:dc,WeakSet:dc,Uint8Array:t.arrayBuffer,Uint8ClampedArray:t.arrayBuffer,Uint16Array:t.arrayBuffer,Uint32Array:t.arrayBuffer,Uint64Array:t.arrayBuffer}}function nb(t){var e=Ry({},tb,t),n=H4(e),r=n.Array,i=n.Object;function s(o,a){if(a.prototype=a.Constructor=void 0,!o||typeof o!="object")return o;if(a.cache.has(o))return a.cache.get(o);if(a.prototype=$4(o),a.Constructor=a.prototype&&a.prototype.constructor,!a.Constructor||a.Constructor===Object)return i(o,a);if(B4(o))return r(o,a);var l=n[S4(o)];return l?l(o,a):typeof o.then=="function"?o:i(o,a)}return function(a){return s(a,{Constructor:void 0,cache:v4(),copier:s,prototype:void 0})}}function K4(t){return nb(Ry({},z4,t))}K4({});var Cy=nb({}),q4=Error,W4=EvalError,G4=RangeError,Q4=ReferenceError,rb=SyntaxError,Hl=TypeError,J4=URIError,Y4=Object.getOwnPropertyDescriptor,hc=Y4;if(hc)try{hc([],"length")}catch{hc=null}var ph=hc,fc=Object.defineProperty||!1;if(fc)try{fc({},"a",{value:1})}catch{fc=!1}var mh=fc,Sf,LE;function X4(){return LE||(LE=1,Sf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),Sf}var If,DE;function Z4(){if(DE)return If;DE=1;var t=typeof Symbol<"u"&&Symbol,e=X4();return If=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},If}var Af,ME;function eU(){if(ME)return Af;ME=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(l,c){for(var d=[],h=0;h<l.length;h+=1)d[h]=l[h];for(var p=0;p<c.length;p+=1)d[p+l.length]=c[p];return d},s=function(l,c){for(var d=[],h=c,p=0;h<l.length;h+=1,p+=1)d[p]=l[h];return d},o=function(a,l){for(var c="",d=0;d<a.length;d+=1)c+=a[d],d+1<a.length&&(c+=l);return c};return Af=function(l){var c=this;if(typeof c!="function"||e.apply(c)!==r)throw new TypeError(t+c);for(var d=s(arguments,1),h,p=function(){if(this instanceof h){var _=c.apply(this,i(d,arguments));return Object(_)===_?_:this}return c.apply(l,i(d,arguments))},I=n(0,c.length-d.length),g=[],v=0;v<I;v++)g[v]="$"+v;if(h=Function("binder","return function ("+o(g,",")+"){ return binder.apply(this,arguments); }")(p),c.prototype){var w=function(){};w.prototype=c.prototype,h.prototype=new w,w.prototype=null}return h},Af}var bf,jE;function Kl(){if(jE)return bf;jE=1;var t=eU();return bf=Function.prototype.bind||t,bf}var xf,VE;function Py(){return VE||(VE=1,xf=Function.prototype.call),xf}var Rf,FE;function ky(){return FE||(FE=1,Rf=Function.prototype.apply),Rf}var tU=typeof Reflect<"u"&&Reflect&&Reflect.apply,nU=Kl(),rU=ky(),iU=Py(),sU=tU,ib=sU||nU.call(iU,rU),oU=Kl(),aU=Hl,lU=Py(),uU=ib,sb=function(e){if(e.length<1||typeof e[0]!="function")throw new aU("a function is required");return uU(oU,lU,e)},Cf,UE;function cU(){if(UE)return Cf;UE=1;var t=sb,e=ph,n=[].__proto__===Array.prototype,r=n&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return Cf=r&&typeof r.get=="function"?t([r.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,Cf}var Pf,BE;function dU(){if(BE)return Pf;BE=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=Kl();return Pf=n.call(t,e),Pf}var ve,hU=q4,fU=W4,pU=G4,mU=Q4,To=rb,io=Hl,gU=J4,ob=Function,kf=function(t){try{return ob('"use strict"; return ('+t+").constructor;")()}catch{}},Sl=ph,yU=mh,Nf=function(){throw new io},vU=Sl?function(){try{return arguments.callee,Nf}catch{try{return Sl(arguments,"callee").get}catch{return Nf}}}():Nf,Is=Z4()(),_U=cU(),ht=typeof Reflect=="function"&&Reflect.getPrototypeOf||Object.getPrototypeOf||_U,ab=ky(),ql=Py(),ks={},EU=typeof Uint8Array>"u"||!ht?ve:ht(Uint8Array),Qi={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ve:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ve:ArrayBuffer,"%ArrayIteratorPrototype%":Is&&ht?ht([][Symbol.iterator]()):ve,"%AsyncFromSyncIteratorPrototype%":ve,"%AsyncFunction%":ks,"%AsyncGenerator%":ks,"%AsyncGeneratorFunction%":ks,"%AsyncIteratorPrototype%":ks,"%Atomics%":typeof Atomics>"u"?ve:Atomics,"%BigInt%":typeof BigInt>"u"?ve:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ve:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ve:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ve:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":hU,"%eval%":eval,"%EvalError%":fU,"%Float32Array%":typeof Float32Array>"u"?ve:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ve:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ve:FinalizationRegistry,"%Function%":ob,"%GeneratorFunction%":ks,"%Int8Array%":typeof Int8Array>"u"?ve:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ve:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ve:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Is&&ht?ht(ht([][Symbol.iterator]())):ve,"%JSON%":typeof JSON=="object"?JSON:ve,"%Map%":typeof Map>"u"?ve:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Is||!ht?ve:ht(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%Object.getOwnPropertyDescriptor%":Sl,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ve:Promise,"%Proxy%":typeof Proxy>"u"?ve:Proxy,"%RangeError%":pU,"%ReferenceError%":mU,"%Reflect%":typeof Reflect>"u"?ve:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ve:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Is||!ht?ve:ht(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ve:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Is&&ht?ht(""[Symbol.iterator]()):ve,"%Symbol%":Is?Symbol:ve,"%SyntaxError%":To,"%ThrowTypeError%":vU,"%TypedArray%":EU,"%TypeError%":io,"%Uint8Array%":typeof Uint8Array>"u"?ve:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ve:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ve:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ve:Uint32Array,"%URIError%":gU,"%WeakMap%":typeof WeakMap>"u"?ve:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ve:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ve:WeakSet,"%Function.prototype.call%":ql,"%Function.prototype.apply%":ab,"%Object.defineProperty%":yU};if(ht)try{null.error}catch(t){var wU=ht(ht(t));Qi["%Error.prototype%"]=wU}var TU=function t(e){var n;if(e==="%AsyncFunction%")n=kf("async function () {}");else if(e==="%GeneratorFunction%")n=kf("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=kf("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ht&&(n=ht(i.prototype))}return Qi[e]=n,n},$E={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Wl=Kl(),yd=dU(),SU=Wl.call(ql,Array.prototype.concat),IU=Wl.call(ab,Array.prototype.splice),zE=Wl.call(ql,String.prototype.replace),vd=Wl.call(ql,String.prototype.slice),AU=Wl.call(ql,RegExp.prototype.exec),bU=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,xU=/\\(\\)?/g,RU=function(e){var n=vd(e,0,1),r=vd(e,-1);if(n==="%"&&r!=="%")throw new To("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new To("invalid intrinsic syntax, expected opening `%`");var i=[];return zE(e,bU,function(s,o,a,l){i[i.length]=a?zE(l,xU,"$1"):o||s}),i},CU=function(e,n){var r=e,i;if(yd($E,r)&&(i=$E[r],r="%"+i[0]+"%"),yd(Qi,r)){var s=Qi[r];if(s===ks&&(s=TU(r)),typeof s>"u"&&!n)throw new io("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new To("intrinsic "+e+" does not exist!")},Ny=function(e,n){if(typeof e!="string"||e.length===0)throw new io("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new io('"allowMissing" argument must be a boolean');if(AU(/^%?[^%]*%?$/,e)===null)throw new To("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=RU(e),i=r.length>0?r[0]:"",s=CU("%"+i+"%",n),o=s.name,a=s.value,l=!1,c=s.alias;c&&(i=c[0],IU(r,SU([0,1],c)));for(var d=1,h=!0;d<r.length;d+=1){var p=r[d],I=vd(p,0,1),g=vd(p,-1);if((I==='"'||I==="'"||I==="`"||g==='"'||g==="'"||g==="`")&&I!==g)throw new To("property names with quotes must have matching quotes");if((p==="constructor"||!h)&&(l=!0),i+="."+p,o="%"+i+"%",yd(Qi,o))a=Qi[o];else if(a!=null){if(!(p in a)){if(!n)throw new io("base intrinsic for "+e+" exists, but the property is not available.");return}if(Sl&&d+1>=r.length){var v=Sl(a,p);h=!!v,h&&"get"in v&&!("originalValue"in v.get)?a=v.get:a=a[p]}else h=yd(a,p),a=a[p];h&&!l&&(Qi[o]=a)}}return a},lb={exports:{}},HE=mh,PU=rb,As=Hl,KE=ph,kU=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new As("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new As("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new As("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new As("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new As("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new As("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!KE&&KE(e,n);if(HE)HE(e,n,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:r,writable:s===null&&l?l.writable:!s});else if(a||!i&&!s&&!o)e[n]=r;else throw new PU("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ym=mh,ub=function(){return!!ym};ub.hasArrayLengthDefineBug=function(){if(!ym)return null;try{return ym([],"length",{value:1}).length!==1}catch{return!0}};var NU=ub,OU=Ny,qE=kU,LU=NU(),WE=ph,GE=Hl,DU=OU("%Math.floor%"),MU=function(e,n){if(typeof e!="function")throw new GE("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||DU(n)!==n)throw new GE("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&WE){var o=WE(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!r)&&(LU?qE(e,"length",n,!0,!0):qE(e,"length",n)),e},jU=Kl(),VU=ky(),FU=ib,UU=function(){return FU(jU,VU,arguments)};(function(t){var e=MU,n=mh,r=sb,i=UU;t.exports=function(o){var a=r(arguments),l=o.length-(arguments.length-1);return e(a,1+(l>0?l:0),!0)},n?n(t.exports,"apply",{value:i}):t.exports.apply=i})(lb);var BU=lb.exports,cb=Ny,db=BU,$U=db(cb("String.prototype.indexOf")),zU=function(e,n){var r=cb(e,!!n);return typeof r=="function"&&$U(e,".prototype.")>-1?db(r):r};const HU={},KU=Object.freeze(Object.defineProperty({__proto__:null,default:HU},Symbol.toStringTag,{value:"Module"})),qU=_x(KU);var Oy=typeof Map=="function"&&Map.prototype,Of=Object.getOwnPropertyDescriptor&&Oy?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,_d=Oy&&Of&&typeof Of.get=="function"?Of.get:null,QE=Oy&&Map.prototype.forEach,Ly=typeof Set=="function"&&Set.prototype,Lf=Object.getOwnPropertyDescriptor&&Ly?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ed=Ly&&Lf&&typeof Lf.get=="function"?Lf.get:null,JE=Ly&&Set.prototype.forEach,WU=typeof WeakMap=="function"&&WeakMap.prototype,Ba=WU?WeakMap.prototype.has:null,GU=typeof WeakSet=="function"&&WeakSet.prototype,$a=GU?WeakSet.prototype.has:null,QU=typeof WeakRef=="function"&&WeakRef.prototype,YE=QU?WeakRef.prototype.deref:null,JU=Boolean.prototype.valueOf,YU=Object.prototype.toString,XU=Function.prototype.toString,ZU=String.prototype.match,Dy=String.prototype.slice,Jr=String.prototype.replace,eB=String.prototype.toUpperCase,XE=String.prototype.toLowerCase,hb=RegExp.prototype.test,ZE=Array.prototype.concat,zn=Array.prototype.join,tB=Array.prototype.slice,ew=Math.floor,vm=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Df=Object.getOwnPropertySymbols,_m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,So=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Mt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===So||!0)?Symbol.toStringTag:null,fb=Object.prototype.propertyIsEnumerable,tw=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function nw(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||hb.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-ew(-t):ew(t);if(r!==t){var i=String(r),s=Dy.call(e,i.length+1);return Jr.call(i,n,"$&_")+"."+Jr.call(Jr.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Jr.call(e,n,"$&_")}var Em=qU,rw=Em.custom,iw=gb(rw)?rw:null,pb={__proto__:null,double:'"',single:"'"},nB={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},rB=function t(e,n,r,i){var s=n||{};if(ur(s,"quoteStyle")&&!ur(pb,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ur(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=ur(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ur(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ur(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return vb(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?nw(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?nw(e,c):c}var d=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof e=="object")return wm(e)?"[Array]":"[Object]";var h=wB(s,r);if(typeof i>"u")i=[];else if(yb(i,e)>=0)return"[Circular]";function p(b,Z,se){if(Z&&(i=tB.call(i),i.push(Z)),se){var pe={depth:s.depth};return ur(s,"quoteStyle")&&(pe.quoteStyle=s.quoteStyle),t(b,pe,r+1,i)}return t(b,s,r+1,i)}if(typeof e=="function"&&!sw(e)){var I=hB(e),g=Du(e,p);return"[Function"+(I?": "+I:" (anonymous)")+"]"+(g.length>0?" { "+zn.call(g,", ")+" }":"")}if(gb(e)){var v=So?Jr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):_m.call(e);return typeof e=="object"&&!So?ha(v):v}if(vB(e)){for(var w="<"+XE.call(String(e.nodeName)),_=e.attributes||[],E=0;E<_.length;E++)w+=" "+_[E].name+"="+mb(iB(_[E].value),"double",s);return w+=">",e.childNodes&&e.childNodes.length&&(w+="..."),w+="</"+XE.call(String(e.nodeName))+">",w}if(wm(e)){if(e.length===0)return"[]";var T=Du(e,p);return h&&!EB(T)?"["+Tm(T,h)+"]":"[ "+zn.call(T,", ")+" ]"}if(oB(e)){var k=Du(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!fb.call(e,"cause")?"{ ["+String(e)+"] "+zn.call(ZE.call("[cause]: "+p(e.cause),k),", ")+" }":k.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+zn.call(k,", ")+" }"}if(typeof e=="object"&&o){if(iw&&typeof e[iw]=="function"&&Em)return Em(e,{depth:d-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(fB(e)){var M=[];return QE&&QE.call(e,function(b,Z){M.push(p(Z,e,!0)+" => "+p(b,e))}),ow("Map",_d.call(e),M,h)}if(gB(e)){var V=[];return JE&&JE.call(e,function(b){V.push(p(b,e))}),ow("Set",Ed.call(e),V,h)}if(pB(e))return Mf("WeakMap");if(yB(e))return Mf("WeakSet");if(mB(e))return Mf("WeakRef");if(lB(e))return ha(p(Number(e)));if(cB(e))return ha(p(vm.call(e)));if(uB(e))return ha(JU.call(e));if(aB(e))return ha(p(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof Ns<"u"&&e===Ns)return"{ [object globalThis] }";if(!sB(e)&&!sw(e)){var x=Du(e,p),S=tw?tw(e)===Object.prototype:e instanceof Object||e.constructor===Object,R=e instanceof Object?"":"null prototype",C=!S&&Mt&&Object(e)===e&&Mt in e?Dy.call(xi(e),8,-1):R?"Object":"",P=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",N=P+(C||R?"["+zn.call(ZE.call([],C||[],R||[]),": ")+"] ":"");return x.length===0?N+"{}":h?N+"{"+Tm(x,h)+"}":N+"{ "+zn.call(x,", ")+" }"}return String(e)};function mb(t,e,n){var r=n.quoteStyle||e,i=pb[r];return i+t+i}function iB(t){return Jr.call(String(t),/"/g,"&quot;")}function wm(t){return xi(t)==="[object Array]"&&(!Mt||!(typeof t=="object"&&Mt in t))}function sB(t){return xi(t)==="[object Date]"&&(!Mt||!(typeof t=="object"&&Mt in t))}function sw(t){return xi(t)==="[object RegExp]"&&(!Mt||!(typeof t=="object"&&Mt in t))}function oB(t){return xi(t)==="[object Error]"&&(!Mt||!(typeof t=="object"&&Mt in t))}function aB(t){return xi(t)==="[object String]"&&(!Mt||!(typeof t=="object"&&Mt in t))}function lB(t){return xi(t)==="[object Number]"&&(!Mt||!(typeof t=="object"&&Mt in t))}function uB(t){return xi(t)==="[object Boolean]"&&(!Mt||!(typeof t=="object"&&Mt in t))}function gb(t){if(So)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!_m)return!1;try{return _m.call(t),!0}catch{}return!1}function cB(t){if(!t||typeof t!="object"||!vm)return!1;try{return vm.call(t),!0}catch{}return!1}var dB=Object.prototype.hasOwnProperty||function(t){return t in this};function ur(t,e){return dB.call(t,e)}function xi(t){return YU.call(t)}function hB(t){if(t.name)return t.name;var e=ZU.call(XU.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function yb(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function fB(t){if(!_d||!t||typeof t!="object")return!1;try{_d.call(t);try{Ed.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function pB(t){if(!Ba||!t||typeof t!="object")return!1;try{Ba.call(t,Ba);try{$a.call(t,$a)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function mB(t){if(!YE||!t||typeof t!="object")return!1;try{return YE.call(t),!0}catch{}return!1}function gB(t){if(!Ed||!t||typeof t!="object")return!1;try{Ed.call(t);try{_d.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function yB(t){if(!$a||!t||typeof t!="object")return!1;try{$a.call(t,$a);try{Ba.call(t,Ba)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function vB(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function vb(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return vb(Dy.call(t,0,e.maxStringLength),e)+r}var i=nB[e.quoteStyle||"single"];i.lastIndex=0;var s=Jr.call(Jr.call(t,i,"\\$1"),/[\x00-\x1f]/g,_B);return mb(s,"single",e)}function _B(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+eB.call(e.toString(16))}function ha(t){return"Object("+t+")"}function Mf(t){return t+" { ? }"}function ow(t,e,n,r){var i=r?Tm(n,r):zn.call(n,", ");return t+" ("+e+") {"+i+"}"}function EB(t){for(var e=0;e<t.length;e++)if(yb(t[e],`
`)>=0)return!1;return!0}function wB(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=zn.call(Array(t.indent+1)," ");else return null;return{base:n,prev:zn.call(Array(e+1),n)}}function Tm(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+zn.call(t,","+n)+`
`+e.prev}function Du(t,e){var n=wm(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=ur(t,i)?e(t[i],t):""}var s=typeof Df=="function"?Df(t):[],o;if(So){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)ur(t,l)&&(n&&String(Number(l))===l&&l<t.length||So&&o["$"+l]instanceof Symbol||(hb.call(/[^\w$]/,l)?r.push(e(l,t)+": "+e(t[l],t)):r.push(l+": "+e(t[l],t))));if(typeof Df=="function")for(var c=0;c<s.length;c++)fb.call(t,s[c])&&r.push("["+e(s[c])+"]: "+e(t[s[c]],t));return r}var _b=Ny,Fo=zU,TB=rB,SB=Hl,Mu=_b("%WeakMap%",!0),ju=_b("%Map%",!0),IB=Fo("WeakMap.prototype.get",!0),AB=Fo("WeakMap.prototype.set",!0),bB=Fo("WeakMap.prototype.has",!0),xB=Fo("Map.prototype.get",!0),RB=Fo("Map.prototype.set",!0),CB=Fo("Map.prototype.has",!0),My=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},PB=function(t,e){var n=My(t,e);return n&&n.value},kB=function(t,e,n){var r=My(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},NB=function(t,e){return!!My(t,e)},OB=function(){var e,n,r,i={assert:function(s){if(!i.has(s))throw new SB("Side channel does not contain "+TB(s))},get:function(s){if(Mu&&s&&(typeof s=="object"||typeof s=="function")){if(e)return IB(e,s)}else if(ju){if(n)return xB(n,s)}else if(r)return PB(r,s)},has:function(s){if(Mu&&s&&(typeof s=="object"||typeof s=="function")){if(e)return bB(e,s)}else if(ju){if(n)return CB(n,s)}else if(r)return NB(r,s);return!1},set:function(s,o){Mu&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Mu),AB(e,s,o)):ju?(n||(n=new ju),RB(n,s,o)):(r||(r={key:{},next:null}),kB(r,s,o))}};return i},LB=String.prototype.replace,DB=/%20/g,jf={RFC1738:"RFC1738",RFC3986:"RFC3986"},jy={default:jf.RFC3986,formatters:{RFC1738:function(t){return LB.call(t,DB,"+")},RFC3986:function(t){return String(t)}},RFC1738:jf.RFC1738,RFC3986:jf.RFC3986},MB=jy,Vf=Object.prototype.hasOwnProperty,ji=Array.isArray,jn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),jB=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(ji(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},Eb=function(e,n){for(var r=n&&n.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},VB=function t(e,n,r){if(!n)return e;if(typeof n!="object"&&typeof n!="function"){if(ji(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Vf.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return ji(e)&&!ji(n)&&(i=Eb(e,r)),ji(e)&&ji(n)?(n.forEach(function(s,o){if(Vf.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,r):e.push(s)}else e[o]=s}),e):Object.keys(n).reduce(function(s,o){var a=n[o];return Vf.call(s,o)?s[o]=t(s[o],a,r):s[o]=a,s},i)},FB=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},UB=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Ff=1024,BB=function(e,n,r,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(I){return"%26%23"+parseInt(I.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;l+=Ff){for(var c=o.length>=Ff?o.slice(l,l+Ff):o,d=[],h=0;h<c.length;++h){var p=c.charCodeAt(h);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||s===MB.RFC1738&&(p===40||p===41)){d[d.length]=c.charAt(h);continue}if(p<128){d[d.length]=jn[p];continue}if(p<2048){d[d.length]=jn[192|p>>6]+jn[128|p&63];continue}if(p<55296||p>=57344){d[d.length]=jn[224|p>>12]+jn[128|p>>6&63]+jn[128|p&63];continue}h+=1,p=65536+((p&1023)<<10|c.charCodeAt(h)&1023),d[d.length]=jn[240|p>>18]+jn[128|p>>12&63]+jn[128|p>>6&63]+jn[128|p&63]}a+=d.join("")}return a},$B=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],d=o[c];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(n.push({obj:o,prop:c}),r.push(d))}return jB(n),e},zB=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},HB=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},KB=function(e,n){return[].concat(e,n)},qB=function(e,n){if(ji(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},wb={arrayToObject:Eb,assign:FB,combine:KB,compact:$B,decode:UB,encode:BB,isBuffer:HB,isRegExp:zB,maybeMap:qB,merge:VB},Tb=OB,pc=wb,za=jy,WB=Object.prototype.hasOwnProperty,Sb={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},Un=Array.isArray,GB=Array.prototype.push,Ib=function(t,e){GB.apply(t,Un(e)?e:[e])},QB=Date.prototype.toISOString,aw=za.default,it={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:pc.encode,encodeValuesOnly:!1,filter:void 0,format:aw,formatter:za.formatters[aw],indices:!1,serializeDate:function(e){return QB.call(e)},skipNulls:!1,strictNullHandling:!1},JB=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Uf={},YB=function t(e,n,r,i,s,o,a,l,c,d,h,p,I,g,v,w,_,E){for(var T=e,k=E,M=0,V=!1;(k=k.get(Uf))!==void 0&&!V;){var x=k.get(e);if(M+=1,typeof x<"u"){if(x===M)throw new RangeError("Cyclic object value");V=!0}typeof k.get(Uf)>"u"&&(M=0)}if(typeof d=="function"?T=d(n,T):T instanceof Date?T=I(T):r==="comma"&&Un(T)&&(T=pc.maybeMap(T,function(Y){return Y instanceof Date?I(Y):Y})),T===null){if(o)return c&&!w?c(n,it.encoder,_,"key",g):n;T=""}if(JB(T)||pc.isBuffer(T)){if(c){var S=w?n:c(n,it.encoder,_,"key",g);return[v(S)+"="+v(c(T,it.encoder,_,"value",g))]}return[v(n)+"="+v(String(T))]}var R=[];if(typeof T>"u")return R;var C;if(r==="comma"&&Un(T))w&&c&&(T=pc.maybeMap(T,c)),C=[{value:T.length>0?T.join(",")||null:void 0}];else if(Un(d))C=d;else{var P=Object.keys(T);C=h?P.sort(h):P}var N=l?String(n).replace(/\./g,"%2E"):String(n),b=i&&Un(T)&&T.length===1?N+"[]":N;if(s&&Un(T)&&T.length===0)return b+"[]";for(var Z=0;Z<C.length;++Z){var se=C[Z],pe=typeof se=="object"&&se&&typeof se.value<"u"?se.value:T[se];if(!(a&&pe===null)){var me=p&&l?String(se).replace(/\./g,"%2E"):String(se),Q=Un(T)?typeof r=="function"?r(b,me):b:b+(p?"."+me:"["+me+"]");E.set(e,M);var te=Tb();te.set(Uf,E),Ib(R,t(pe,Q,r,i,s,o,a,l,r==="comma"&&w&&Un(T)?null:c,d,h,p,I,g,v,w,_,te))}}return R},XB=function(e){if(!e)return it;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||it.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=za.default;if(typeof e.format<"u"){if(!WB.call(za.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=za.formatters[r],s=it.filter;(typeof e.filter=="function"||Un(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in Sb?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=it.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:it.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:it.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:it.allowEmptyArrays,arrayFormat:o,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:it.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?it.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:it.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:it.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:it.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:it.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:it.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:it.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:it.strictNullHandling}},ZB=function(t,e){var n=t,r=XB(e),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):Un(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var a=Sb[r.arrayFormat],l=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var c=Tb(),d=0;d<i.length;++d){var h=i[d],p=n[h];r.skipNulls&&p===null||Ib(o,YB(p,h,a,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var I=o.join(r.delimiter),g=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),I.length>0?g+I:""},Io=wb,Sm=Object.prototype.hasOwnProperty,e3=Array.isArray,We={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Io.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},t3=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},Ab=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},n3="utf8=%26%2310003%3B",r3="utf8=%E2%9C%93",i3=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),a=-1,l,c=n.charset;if(n.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===r3?c="utf-8":o[l]===n3&&(c="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var d=o[l],h=d.indexOf("]="),p=h===-1?d.indexOf("="):h+1,I,g;p===-1?(I=n.decoder(d,We.decoder,c,"key"),g=n.strictNullHandling?null:""):(I=n.decoder(d.slice(0,p),We.decoder,c,"key"),g=Io.maybeMap(Ab(d.slice(p+1),n),function(w){return n.decoder(w,We.decoder,c,"value")})),g&&n.interpretNumericEntities&&c==="iso-8859-1"&&(g=t3(String(g))),d.indexOf("[]=")>-1&&(g=e3(g)?[g]:g);var v=Sm.call(r,I);v&&n.duplicates==="combine"?r[I]=Io.combine(r[I],g):(!v||n.duplicates==="last")&&(r[I]=g)}return r},s3=function(t,e,n,r){for(var i=r?e:Ab(e,n),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&n.parseArrays)o=n.allowEmptyArrays&&(i===""||n.strictNullHandling&&i===null)?[]:[].concat(i);else{o=n.plainObjects?{__proto__:null}:{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=n.decodeDotInKeys?l.replace(/%2E/g,"."):l,d=parseInt(c,10);!n.parseArrays&&c===""?o={0:i}:!isNaN(d)&&a!==c&&String(d)===c&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(o=[],o[d]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},o3=function(e,n,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=r.depth>0&&o.exec(s),c=l?s.slice(0,l.index):s,d=[];if(c){if(!r.plainObjects&&Sm.call(Object.prototype,c)&&!r.allowPrototypes)return;d.push(c)}for(var h=0;r.depth>0&&(l=a.exec(s))!==null&&h<r.depth;){if(h+=1,!r.plainObjects&&Sm.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(l[1])}if(l){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");d.push("["+s.slice(l.index)+"]")}return s3(d,n,r,i)}},a3=function(e){if(!e)return We;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?We.charset:e.charset,r=typeof e.duplicates>"u"?We.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:We.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:We.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:We.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:We.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:We.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:We.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:We.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:We.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:We.decoder,delimiter:typeof e.delimiter=="string"||Io.isRegExp(e.delimiter)?e.delimiter:We.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:We.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:We.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:We.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:We.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:We.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:We.strictNullHandling}},l3=function(t,e){var n=a3(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?{__proto__:null}:{};for(var r=typeof t=="string"?i3(t,n):t,i=n.plainObjects?{__proto__:null}:{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],l=o3(a,r[a],n,typeof t=="string");i=Io.merge(i,l,n)}return n.allowSparse===!0?i:Io.compact(i)},u3=ZB,c3=l3,d3=jy,h3={formats:d3,parse:c3,stringify:u3};const f3=Ao(h3);function p3(t,e){t.interceptors.request.use(function(n){return e().then(r=>(n.headers.set("Authorization",`Bearer ${r}`),n))})}var bb={exports:{}},Xe=bb.exports={},Bn,$n;function Im(){throw new Error("setTimeout has not been defined")}function Am(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Bn=setTimeout:Bn=Im}catch{Bn=Im}try{typeof clearTimeout=="function"?$n=clearTimeout:$n=Am}catch{$n=Am}})();function xb(t){if(Bn===setTimeout)return setTimeout(t,0);if((Bn===Im||!Bn)&&setTimeout)return Bn=setTimeout,setTimeout(t,0);try{return Bn(t,0)}catch{try{return Bn.call(null,t,0)}catch{return Bn.call(this,t,0)}}}function m3(t){if($n===clearTimeout)return clearTimeout(t);if(($n===Am||!$n)&&clearTimeout)return $n=clearTimeout,clearTimeout(t);try{return $n(t)}catch{try{return $n.call(null,t)}catch{return $n.call(this,t)}}}var yr=[],so=!1,Hi,mc=-1;function g3(){!so||!Hi||(so=!1,Hi.length?yr=Hi.concat(yr):mc=-1,yr.length&&Rb())}function Rb(){if(!so){var t=xb(g3);so=!0;for(var e=yr.length;e;){for(Hi=yr,yr=[];++mc<e;)Hi&&Hi[mc].run();mc=-1,e=yr.length}Hi=null,so=!1,m3(t)}}Xe.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];yr.push(new Cb(t,e)),yr.length===1&&!so&&xb(Rb)};function Cb(t,e){this.fun=t,this.array=e}Cb.prototype.run=function(){this.fun.apply(null,this.array)};Xe.title="browser";Xe.browser=!0;Xe.env={};Xe.argv=[];Xe.version="";Xe.versions={};function kr(){}Xe.on=kr;Xe.addListener=kr;Xe.once=kr;Xe.off=kr;Xe.removeListener=kr;Xe.removeAllListeners=kr;Xe.emit=kr;Xe.prependListener=kr;Xe.prependOnceListener=kr;Xe.listeners=function(t){return[]};Xe.binding=function(t){throw new Error("process.binding is not supported")};Xe.cwd=function(){return"/"};Xe.chdir=function(t){throw new Error("process.chdir is not supported")};Xe.umask=function(){return 0};var y3=bb.exports;const Yr=Ao(y3);function v3(){return typeof Yr<"u"&&!Yr.browser}function _3(){return typeof window<"u"&&"navigator"in window&&"product"in window.navigator&&window.navigator.product==="ReactNative"}function E3(){return Yr.versions&&Yr.versions.node?`v${Yr.versions.node}`:Yr.version}function w3(){return window}function bm(){}const T3=t=>new Promise(e=>{setTimeout(e,t)}),S3=t=>Math.pow(Math.SQRT2,t);function I3(t,e=5){const{responseLogger:n=bm,requestLogger:r=bm}=t.defaults;t.interceptors.request.use(function(i){return r(i),i},function(i){return r(i),Promise.reject(i)}),t.interceptors.response.use(function(i){return n(i),i},async function(i){const{response:s}=i,{config:o}=i;if(n(i),!o||!t.defaults.retryOnError)return Promise.reject(i);const a=o.attempts||1;if(a>e)return i.attempts=o.attempts,Promise.reject(i);let l=null,c=S3(a);return s?s.status>=500&&s.status<600?l=`Server ${s.status}`:s.status===429&&(l="Rate limit",s.headers&&i.response.headers["x-contentful-ratelimit-reset"]&&(c=s.headers["x-contentful-ratelimit-reset"])):l="Connection",l?(c=Math.floor(c*1e3+Math.random()*200+500),t.defaults.logHandler("warning",`${l} error occurred. Waiting for ${c} ms before retrying...`),o.attempts=a+1,delete o.httpAgent,delete o.httpsAgent,T3(c).then(()=>t(o))):Promise.reject(i)})}var A3=typeof Ns=="object"&&Ns&&Ns.Object===Object&&Ns,b3=A3,x3=b3,R3=typeof self=="object"&&self&&self.Object===Object&&self,C3=x3||R3||Function("return this")(),P3=C3,k3=P3,N3=k3.Symbol,Pb=N3,lw=Pb,kb=Object.prototype,O3=kb.hasOwnProperty,L3=kb.toString,fa=lw?lw.toStringTag:void 0;function D3(t){var e=O3.call(t,fa),n=t[fa];try{t[fa]=void 0;var r=!0}catch{}var i=L3.call(t);return r&&(e?t[fa]=n:delete t[fa]),i}var M3=D3,j3=Object.prototype,V3=j3.toString;function F3(t){return V3.call(t)}var U3=F3,uw=Pb,B3=M3,$3=U3,z3="[object Null]",H3="[object Undefined]",cw=uw?uw.toStringTag:void 0;function K3(t){return t==null?t===void 0?H3:z3:cw&&cw in Object(t)?B3(t):$3(t)}var Nb=K3,q3=Array.isArray,W3=q3;function G3(t){return t!=null&&typeof t=="object"}var Ob=G3,Q3=Nb,J3=W3,Y3=Ob,X3="[object String]";function Z3(t){return typeof t=="string"||!J3(t)&&Y3(t)&&Q3(t)==X3}var e6=Z3;const dw=Ao(e6);class t6 extends Error{constructor(){super("Throttled function aborted"),this.name="AbortError"}}function n6({limit:t,interval:e,strict:n,onDelay:r}){if(!Number.isFinite(t))throw new TypeError("Expected `limit` to be a finite number");if(!Number.isFinite(e))throw new TypeError("Expected `interval` to be a finite number");const i=new Map;let s=0,o=0;function a(){const c=Date.now();return c-s>e?(o=1,s=c,0):(o<t?o++:(s+=e,o=1),s-c)}const l=a;return c=>{const d=function(...h){if(!d.isEnabled)return(async()=>c.apply(this,h))();let p;return new Promise((I,g)=>{const v=()=>{I(c.apply(this,h)),i.delete(p)},w=l();w>0?(p=setTimeout(v,w),i.set(p,g),r==null||r(...h)):v()})};return d.abort=()=>{for(const h of i.keys())clearTimeout(h),i.get(h)(new t6);i.clear()},d.isEnabled=!0,Object.defineProperty(d,"queueSize",{get(){return i.size}}),d}}const xm=/(?<value>\d+)(%)/;function Bf(t,e=7){var r;let n=e;if(xm.test(t)){const i=(r=t.match(xm))==null?void 0:r.groups;if(i&&i.value){const s=parseInt(i.value)/100;n=Math.round(e*s)}}return Math.min(30,Math.max(1,n))}function hw(t,e){return e("info",`Throttle request to ${t}/s`),n6({limit:t,interval:1e3,strict:!1})}const r6=(t,e="auto")=>{const{logHandler:n=bm}=t.defaults;let r=dw(e)?Bf(e):Bf("auto",e),i=hw(r,n),s=!1,o=t.interceptors.request.use(l=>i(()=>l)(),function(l){return Promise.reject(l)});const a=t.interceptors.response.use(l=>{if(!s&&dw(e)&&(e==="auto"||xm.test(e))&&l.headers&&l.headers["x-contentful-ratelimit-second-limit"]){const c=parseInt(l.headers["x-contentful-ratelimit-second-limit"]),d=Bf(e,c);d!==r&&(o&&t.interceptors.request.eject(o),r=d,i=hw(d,n),o=t.interceptors.request.use(h=>i(()=>h)(),function(h){return Promise.reject(h)})),s=!0}return l},function(l){return Promise.reject(l)});return()=>{t.interceptors.request.eject(o),t.interceptors.response.eject(a)}},i6=/^(?!\w+:\/\/)([^\s:]+\.?[^\s:]+)(?::(\d+))?(?!:)$/;function s6(t){const e=Cy(t);return e.httpAgent=t.httpAgent,e.httpsAgent=t.httpsAgent,e}function Lb(t,e){const r={...{insecure:!1,retryOnError:!0,logHandler:(h,p)=>{if(h==="error"&&p){const I=[p.name,p.message].filter(g=>g).join(" - ");console.error(`[error] ${I}`),console.error(p);return}console.log(`[${h}] ${p}`)},headers:{},httpAgent:!1,httpsAgent:!1,timeout:3e4,throttle:0,basePath:"",adapter:void 0,maxContentLength:1073741824,maxBodyLength:1073741824},...e};if(!r.accessToken){const h=new TypeError("Expected parameter accessToken");throw r.logHandler("error",h),h}const i=r.insecure?"http":"https",s=r.space?`${r.space}/`:"";let o=r.defaultHostname,a=r.insecure?80:443;if(r.host&&i6.test(r.host)){const h=r.host.split(":");h.length===2?[o,a]=h:o=h[0]}r.basePath&&(r.basePath=`/${r.basePath.split("/").filter(Boolean).join("/")}`);const l=e.baseURL||`${i}://${o}:${a}${r.basePath}/spaces/${s}`;!r.headers.Authorization&&typeof r.accessToken!="function"&&(r.headers.Authorization="Bearer "+r.accessToken);const c={baseURL:l,headers:r.headers,httpAgent:r.httpAgent,httpsAgent:r.httpsAgent,proxy:r.proxy,timeout:r.timeout,adapter:r.adapter,maxContentLength:r.maxContentLength,maxBodyLength:r.maxBodyLength,paramsSerializer:{serialize:h=>f3.stringify(h)},logHandler:r.logHandler,responseLogger:r.responseLogger,requestLogger:r.requestLogger,retryOnError:r.retryOnError},d=t.create(c);return d.httpClientParams=e,d.cloneWithNewParams=function(h){return Lb(t,{...s6(e),...h})},r.onBeforeRequest&&d.interceptors.request.use(r.onBeforeRequest),typeof r.accessToken=="function"&&p3(d,r.accessToken),r.throttle&&r6(d,r.throttle),I3(d,r.retryLimit),r.onError&&d.interceptors.response.use(h=>h,r.onError),d}function wn({query:t}){const e={};return delete t.resolveLinks,e.params=Cy(t),e}function Db(t){const e=Object.getOwnPropertyNames(t);for(const n of e){const r=t[n];r&&typeof r=="object"&&Db(r)}return Object.freeze(t)}function o6(t){return Db(t.sys||{}),t}function fw(){const t=w3();if(!t)return null;const e=t.navigator.userAgent,n=t.navigator.platform,r=["Macintosh","MacIntel","MacPPC","Mac68K"],i=["Win32","Win64","Windows","WinCE"],s=["iPhone","iPad","iPod"];return r.indexOf(n)!==-1?"macOS":s.indexOf(n)!==-1?"iOS":i.indexOf(n)!==-1?"Windows":/Android/.test(e)?"Android":/Linux/.test(n)?"Linux":null}function a6(){const t=Yr.platform||"linux",e=Yr.version||"0.0.0",n={android:"Android",aix:"Linux",darwin:"macOS",freebsd:"Linux",linux:"Linux",openbsd:"Linux",sunos:"Linux",win32:"Windows"};return t in n?`${n[t]||"Linux"}/${e}`:null}function l6(t,e,n,r){const i=[];e&&i.push(`app ${e}`),n&&i.push(`integration ${n}`),i.push(`sdk ${t}`);let s=null;try{_3()?(s=fw(),i.push("platform ReactNative")):v3()?(s=a6(),i.push(`platform node.js/${E3()}`)):(s=fw(),i.push("platform browser"))}catch{s=null}return s&&i.push(`os ${s}`),`${i.filter(o=>o!=="").join("; ")};`}function Mb(t){return Object.defineProperty(t,"toPlainObject",{enumerable:!1,configurable:!1,writable:!1,value:function(){return Cy(this)}})}function u6(t,e){return function(n){return t(e(n))}}var c6=u6,d6=c6,h6=d6(Object.getPrototypeOf,Object),f6=h6,p6=Nb,m6=f6,g6=Ob,y6="[object Object]",v6=Function.prototype,_6=Object.prototype,jb=v6.toString,E6=_6.hasOwnProperty,w6=jb.call(Object);function T6(t){if(!g6(t)||p6(t)!=y6)return!1;var e=m6(t);if(e===null)return!0;var n=E6.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&jb.call(n)==w6}var S6=T6;const $f=Ao(S6);function En(t){var a;const{config:e,response:n}=t;let r;if(e&&e.headers&&e.headers.Authorization){const l=`...${e.headers.Authorization.toString().substr(-5)}`;e.headers.Authorization=`Bearer ${l}`}if(!$f(n)||!$f(e))throw t;const i=n==null?void 0:n.data,s={status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText,message:"",details:{}};e&&$f(e)&&(s.request={url:e.url,headers:e.headers,method:e.method,payloadData:e.data}),i&&typeof i=="object"&&("requestId"in i&&(s.requestId=i.requestId||"UNKNOWN"),"message"in i&&(s.message=i.message||""),"details"in i&&(s.details=i.details||{}),r=(a=i.sys)==null?void 0:a.id);const o=new Error;o.name=r&&r!=="Unknown"?r:`${n==null?void 0:n.status} ${n==null?void 0:n.statusText}`;try{o.message=JSON.stringify(s,null,"  ")}catch{o.message=(s==null?void 0:s.message)??""}throw o}function I6(t){return function(n){return Object.assign({},t,n)}}var Vb={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},Vy={0:8203,1:8204,2:8205,3:65279},A6=new Array(4).fill(String.fromCodePoint(Vy[0])).join("");function b6(t){let e=JSON.stringify(t);return`${A6}${Array.from(e).map(n=>{let r=n.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${n} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(Vy[i])).join("")}).join("")}`}function x6(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function R6(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function C6(t,e,n="auto"){return n===!0||n==="auto"&&(x6(t)||R6(t))?t:`${t}${b6(e)}`}Object.fromEntries(Object.entries(Vy).map(t=>t.reverse()));Object.fromEntries(Object.entries(Vb).map(t=>t.reverse()));`${Object.values(Vb).map(t=>`\\u{${t.toString(16)}}`).join("")}`;function gc(t,e){return C6(t,e)}var P6=Object.prototype.hasOwnProperty,k6=Object.prototype.toString,N6=function(t,e,n){if(k6.call(e)!=="[object Function]")throw new TypeError("iterator must be a function");var r=t.length;if(r===+r)for(var i=0;i<r;i++)e.call(n,t[i],i,t);else for(var s in t)P6.call(t,s)&&e.call(n,t[s],s,t)},O6=N6,di=Oe;function Oe(t,e,n){if(arguments.length===3)return Oe.set(t,e,n);if(arguments.length===2)return Oe.get(t,e);var r=Oe.bind(Oe,t);for(var i in Oe)Oe.hasOwnProperty(i)&&(r[i]=Oe[i].bind(r,t));return r}Oe.get=function(t,e){for(var n=Array.isArray(e)?e:Oe.parse(e),r=0;r<n.length;++r){var i=n[r];if(!(typeof t=="object"&&i in t))throw new Error("Invalid reference token: "+i);t=t[i]}return t};Oe.set=function(t,e,n){var r=Array.isArray(e)?e:Oe.parse(e),i=r[0];if(r.length===0)throw Error("Can not set the root object");for(var s=0;s<r.length-1;++s){var o=r[s];typeof o!="string"&&typeof o!="number"&&(o=String(o)),!(o==="__proto__"||o==="constructor"||o==="prototype")&&(o==="-"&&Array.isArray(t)&&(o=t.length),i=r[s+1],o in t||(i.match(/^(\d+|-)$/)?t[o]=[]:t[o]={}),t=t[o])}return i==="-"&&Array.isArray(t)&&(i=t.length),t[i]=n,this};Oe.remove=function(t,e){var n=Array.isArray(e)?e:Oe.parse(e),r=n[n.length-1];if(r===void 0)throw new Error('Invalid JSON pointer for remove: "'+e+'"');var i=Oe.get(t,n.slice(0,-1));if(Array.isArray(i)){var s=+r;if(r===""&&isNaN(s))throw new Error('Invalid array index: "'+r+'"');Array.prototype.splice.call(i,s,1)}else delete i[r]};Oe.dict=function(t,e){var n={};return Oe.walk(t,function(r,i){n[i]=r},e),n};Oe.walk=function(t,e,n){var r=[];n=n||function(i){var s=Object.prototype.toString.call(i);return s==="[object Object]"||s==="[object Array]"},function i(s){O6(s,function(o,a){r.push(String(a)),n(o)?i(o):e(o,Oe.compile(r)),r.pop()})}(t)};Oe.has=function(t,e){try{Oe.get(t,e)}catch{return!1}return!0};Oe.escape=function(t){return t.toString().replace(/~/g,"~0").replace(/\//g,"~1")};Oe.unescape=function(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")};Oe.parse=function(t){if(t==="")return[];if(t.charAt(0)!=="/")throw new Error("Invalid JSON pointer: "+t);return t.substring(1).split(/\//).map(Oe.unescape)};Oe.compile=function(t){return t.length===0?"":"/"+t.map(Oe.escape).join("/")};const L6=({pointer:t,mappings:e,data:n,hiddenStrings:r})=>{const i=e[t];delete e[t];const s=Fb(n,t);for(const o of s){e[o]=i;const a=di.get(n,o),l=gc(a,r);di.set(n,o,l)}},Fb=(t,e="")=>{const n=[],r=di.get(t,e);if(r.content)for(let i=0;i<r.content.length;i++)r.content[i].nodeType==="text"?n.push(`${e}/content/${i}/value`):n.push(...Fb(t,`${e}/content/${i}`));return n},pw=({entityId:t,entityType:e,space:n,environment:r,field:i,locale:s,editorInterface:o,fieldType:a,targetOrigin:l,platform:c})=>({origin:"contentful.com",href:`${`https://app.contentful.com/spaces/${n}/environments/${r}`}/${e==="Entry"?"entries":"assets"}/${t}/?focusedField=${i}&focusedLocale=${s}&source=vercel-content-link`,contentful:{editorInterface:o,fieldType:a}}),D6=t=>["builtin","sidebar-builtin","editor-builtin"].includes(t),M6=t=>V6.includes(t);function j6(t){if(typeof structuredClone=="function")return structuredClone(t);try{return JSON.parse(JSON.stringify(t))}catch(e){return console.warn("Failed to clone data:",t,e),t}}const V6=["singleLine","tagEditor","listInput","checkbox","richTextEditor","multipleLine"];function mw(t,e,n,r,i,s,o){const a=o?e[o]:e;switch(t){case"Symbol":{const l=gc(a,n);di.set(r,i,l);break}case"Text":{const l=gc(a,n);di.set(r,i,l);break}case"RichText":{L6({pointer:"",mappings:s,data:a,hiddenStrings:n});break}case"Array":{const l=a.map(c=>typeof c=="string"?gc(c,n):c);di.set(r,i,l);break}}}const Vu=(t,e,n,r,i)=>{if(!t.fields)return;const{contentSourceMaps:s}=t.sys;if(!s){console.error("Content source maps data is missing");return}const{mappings:o}=s;for(const a in o){const{source:l}=o[a],c=t.sys.space.sys.id,d=t.sys.environment.sys.id,h=t.sys.id,p=t.sys.type,I=e[l.fieldType],g=n[l.editorInterface];if(D6(g.widgetNamespace)&&!M6(g.widgetId))continue;const v=a.startsWith("/")?a:`/${a}`;if(di.has(t,v)){const w=di.get(t,v);if(w===null)return;const _=v.split("/").pop();if(!_){console.error("Field name could not be extracted from the pointer",v);return}const E=t.sys.locale;if(E){const T=pw({entityId:h,entityType:p,space:c,environment:d,field:_,locale:E,editorInterface:g,fieldType:I,targetOrigin:r,platform:i});mw(I,w,T,t,v,o)}else Object.keys(w).forEach(T=>{const k=pw({entityId:h,entityType:p,space:c,environment:d,field:_,locale:T,editorInterface:g,fieldType:I,targetOrigin:r,platform:i});mw(I,w,k,t,`${v}/${T}`,o,T)})}}},F6=(t,e,n)=>{var r;const i=j6(t);if(i.sys&&"items"in i){const s=i;if(!((r=s.sys)!=null&&r.contentSourceMapsLookup))return console.error("Content source maps lookup data is missing"),s;const{contentSourceMapsLookup:{fieldTypes:o,editorInterfaces:a}}=s.sys,{items:l,includes:c}=s;l.forEach(d=>Vu(d,o,a,e,n)),c&&c.Entry&&c.Entry.forEach(d=>Vu(d,o,a,e,n)),c&&c.Asset&&c.Asset.forEach(d=>Vu(d,o,a,e,n))}else{const s=i;if(!s.sys.contentSourceMapsLookup)return console.error("Content source maps lookup data is missing"),s;Vu(s,s.sys.contentSourceMapsLookup.fieldTypes,s.sys.contentSourceMapsLookup.editorInterfaces,e,n)}return i};var U6=Function.prototype.toString,zf=Object.create,B6=Object.defineProperty,$6=Object.getOwnPropertyDescriptor,gw=Object.getOwnPropertyNames,Fy=Object.getOwnPropertySymbols,z6=Object.getPrototypeOf,Ub=Object.prototype,H6=Ub.hasOwnProperty,K6=Ub.propertyIsEnumerable,Bb=typeof Fy=="function",q6=typeof WeakMap=="function",W6=function(){if(q6)return function(){return new WeakMap};var t=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(n){return!!~this._keys.indexOf(n)},e.prototype.get=function(n){return this._values[this._keys.indexOf(n)]},e.prototype.set=function(n,r){this._keys.push(n),this._values.push(r)},e}();return function(){return new t}}(),$b=function(t,e){var n=t.__proto__||z6(t);if(!n)return zf(null);var r=n.constructor;if(r===e.Object)return n===e.Object.prototype?{}:zf(n);if(~U6.call(r).indexOf("[native code]"))try{return new r}catch{}return zf(n)},G6=function(t,e,n,r){var i=$b(t,e);r.set(t,i);for(var s in t)H6.call(t,s)&&(i[s]=n(t[s],r));if(Bb)for(var o=Fy(t),a=0,l=o.length,c=void 0;a<l;++a)c=o[a],K6.call(t,c)&&(i[c]=n(t[c],r));return i},yw=function(t,e,n,r){var i=$b(t,e);r.set(t,i);for(var s=Bb?gw(t).concat(Fy(t)):gw(t),o=0,a=s.length,l=void 0,c=void 0;o<a;++o)if(l=s[o],l!=="callee"&&l!=="caller")if(c=$6(t,l),c){!c.get&&!c.set&&(c.value=n(t[l],r));try{B6(i,l,c)}catch{i[l]=c.value}}else i[l]=n(t[l],r);return i},Q6=function(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},J6=Array.isArray,Y6=Object.getPrototypeOf,X6=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:(console&&console.error&&console.error('Unable to locate global object, returning "this".'),this)}();function Il(t,e){var n=!!(e&&e.isStrict),r=e&&e.realm||X6,i=n?yw:G6,s=function(o,a){if(!o||typeof o!="object")return o;if(a.has(o))return a.get(o);var l=o.__proto__||Y6(o),c=l&&l.constructor;if(!c||c===r.Object)return i(o,r,s,a);var d;if(J6(o)){if(n)return yw(o,r,s,a);d=new c,a.set(o,d);for(var h=0,p=o.length;h<p;++h)d[h]=s(o[h],a);return d}if(o instanceof r.Date)return new c(o.getTime());if(o instanceof r.RegExp)return d=new c(o.source,o.flags||Q6(o)),d.lastIndex=o.lastIndex,d;if(r.Map&&o instanceof r.Map)return d=new c,a.set(o,d),o.forEach(function(I,g){d.set(g,s(I,a))}),d;if(r.Set&&o instanceof r.Set)return d=new c,a.set(o,d),o.forEach(function(I){d.add(s(I,a))}),d;if(r.Blob&&o instanceof r.Blob)return o.slice(0,o.size,o.type);if(r.Buffer&&r.Buffer.isBuffer(o))return d=r.Buffer.allocUnsafe?r.Buffer.allocUnsafe(o.length):new c(o.length),a.set(o,d),o.copy(d),d;if(r.ArrayBuffer){if(r.ArrayBuffer.isView(o))return d=new c(o.buffer.slice(0)),a.set(o,d),d;if(o instanceof r.ArrayBuffer)return d=o.slice(0),a.set(o,d),d}return typeof o.then=="function"||o instanceof Error||r.WeakMap&&o instanceof r.WeakMap||r.WeakSet&&o instanceof r.WeakSet?o:i(o,r,s,a)};return s(t,W6())}Il.default=Il;Il.strict=function(e,n){return Il(e,{isStrict:!0,realm:n?n.realm:void 0})};var Z6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e$=function(){function t(e,n){var r=[],i=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),l;!(i=(l=a.next()).done)&&(r.push(l.value),!(n&&r.length===n));i=!0);}catch(c){s=!0,o=c}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function pa(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var Al={},t$=function(e){return e&&e.sys&&e.sys.type==="Link"},n$=function(e){return e&&e.sys&&e.sys.type==="ResourceLink"},r$=function(e){return e.space&&e.environment?[e.type+"!"+e.id,e.space.sys.id+"!"+e.environment.sys.id+"!"+e.type+"!"+e.id]:[e.type+"!"+e.id]},vw=function(e,n){var r=n.entryId,i=n.linkType,s=n.spaceId,o=n.environmentId;return s&&o?e.get(s+"!"+o+"!"+i+"!"+r):e.get(i+"!"+r)},i$=function(e){var n=/.*:spaces\/([^/]+)(?:\/environments\/([^/]+))?\/entries\/([^/]+)$/;if(n.test(e)){var r=e.match(n),i=e$(r,4);i[0];var s=i[1],o=i[2],a=o===void 0?"master":o,l=i[3];return{spaceId:s,environmentId:a,entryId:l}}},s$=function(e,n){var r=n.sys,i=r.type,s=r.linkType;if(i==="ResourceLink"){if(!s.startsWith("Contentful:"))return n;var o=n.sys.urn,a=i$(o),l=a.spaceId,c=a.environmentId,d=a.entryId,h=s.split(":")[1];return vw(e,{linkType:h,entryId:d,spaceId:l,environmentId:c})||Al}var p=n.sys.id;return vw(e,{linkType:s,entryId:p})||Al},o$=function(e){if(Array.isArray(e))return e.filter(function(r){return r!==Al});for(var n in e)e[n]===Al&&delete e[n];return e},a$=function t(e,n,r,i){if(n(e))return r(e);if(e&&(typeof e>"u"?"undefined":Z6(e))==="object"){for(var s in e)e.hasOwnProperty(s)&&(e[s]=t(e[s],n,r,i));i&&(e=o$(e))}return e},l$=function(e,n,r){var i=s$(e,n);return i===Al?r?i:n:i},u$=function(e,n){if(!Array.isArray(n))return e;var r=Object.keys(e).filter(function(i){return n.indexOf(i)!==-1});return r.reduce(function(i,s){return i[s]=e[s],i},{})},zb=function(e,n){if(n=n||{},!e.items)return[];var r=Il(e),i=Object.keys(r.includes||{}).reduce(function(a,l){return[].concat(pa(a),pa(e.includes[l]))},[]),s=[].concat(pa(r.items),pa(i)).filter(function(a){return!!a.sys}),o=new Map(s.reduce(function(a,l){var c=r$(l.sys).map(function(d){return[d,l]});return a.push.apply(a,pa(c)),a},[]));return s.forEach(function(a){var l=u$(a,n.itemEntryPoints);Object.assign(a,a$(l,function(c){return t$(c)||n$(c)},function(c){return l$(o,c,n.removeUnresolved)},n.removeUnresolved))}),r.items},Rm={exports:{}};(function(t,e){e=t.exports=n,e.getSerialize=r;function n(i,s,o,a){return JSON.stringify(i,r(s,a),o)}function r(i,s){var o=[],a=[];return s==null&&(s=function(l,c){return o[0]===c?"[Circular ~]":"[Circular ~."+a.slice(0,o.indexOf(c)).join(".")+"]"}),function(l,c){if(o.length>0){var d=o.indexOf(this);~d?o.splice(d+1):o.push(this),~d?a.splice(d,1/0,l):a.push(l),~o.indexOf(c)&&(c=s.call(this,l,c))}else o.push(c);return i==null?c:i.call(this,l,c)}}})(Rm,Rm.exports);var c$=Rm.exports;const d$=Ao(c$);function Hb(t){return Object.defineProperty(t,"stringifySafe",{enumerable:!1,configurable:!1,writable:!1,value:function(e=null,n=""){return d$(this,e,n,(r,i)=>({sys:{type:"Link",linkType:"Entry",id:i.sys.id,circular:!0}}))}})}async function h$(t,e,n){if(!e||!e.initial&&!e.nextSyncToken&&!e.nextPageToken)throw new Error("Please provide one of `initial`, `nextSyncToken` or `nextPageToken` parameters for syncing");if(e.content_type&&!e.type)e.type="Entry";else if(e.content_type&&e.type&&e.type!=="Entry")throw new Error("When using the `content_type` filter your `type` parameter cannot be different from `Entry`.");const r={withoutLinkResolution:!1,withoutUnresolvableLinks:!1,paginate:!0},{withoutLinkResolution:i,withoutUnresolvableLinks:s,paginate:o}=Object.assign(Object.assign({},r),n),a=await Kb(t,[],e,{paginate:o});i||(a.items=zb(a,{removeUnresolved:s,itemEntryPoints:["fields"]}));const l=f$(a.items);return a.nextSyncToken&&(l.nextSyncToken=a.nextSyncToken),a.nextPageToken&&(l.nextPageToken=a.nextPageToken),o6(Hb(Mb(l)))}function f$(t){const e=n=>(r,i)=>(i.sys.type===n&&r.push(Mb(i)),r);return{entries:t.reduce(e("Entry"),[]),assets:t.reduce(e("Asset"),[]),deletedEntries:t.reduce(e("DeletedEntry"),[]),deletedAssets:t.reduce(e("DeletedAsset"),[])}}function p$(t){return t.nextPageToken?{sync_token:t.nextPageToken}:t.nextSyncToken?{sync_token:t.nextSyncToken}:t.sync_token?{sync_token:t.sync_token}:t}async function Kb(t,e,n,{paginate:r}){const i=p$(n),o=(await t.get("sync",wn({query:i}))).data||{};return e=e.concat(o.items||[]),o.nextPageUrl?r?(delete i.initial,i.sync_token=Hf(o.nextPageUrl),Kb(t,e,i,{paginate:r})):{items:e,nextPageToken:Hf(o.nextPageUrl)}:o.nextSyncUrl?{items:e,nextSyncToken:Hf(o.nextSyncUrl)}:{items:[]}}function Hf(t){const e=t.split("?");return e.length>0?e[1].replace("sync_token=",""):""}function Oi(t){const e={};let n=!1;for(const r in t)Array.isArray(t[r])&&(e[r]=t[r].join(","),n=!0);return n?Object.assign(Object.assign({},t),e):t}function qb(t){if(!t.select)return new Set;const e=Array.isArray(t.select)?t.select:t.select.split(",").map(n=>n.trim());return new Set(e)}function or(t){if(!t.select)return t;const e=qb(t);return e.has("sys")?t:(e.add("sys.id"),e.add("sys.type"),Object.assign(Object.assign({},t),{select:[...e].join(",")}))}function _w(t,{resolveLinks:e,removeUnresolved:n}){const r=Hb(t);return e&&(r.items=zb(r,{removeUnresolved:n,itemEntryPoints:["fields"]})),r}class Er extends Error{constructor(e,n){super(`Invalid "${e}" provided, `+n),this.name="ValidationError"}}function m$(t,e,n){if(n=n||{},typeof e!="number")throw new Er(t,`only numeric values are allowed for timestamps, provided type was "${typeof e}"`);if(n.maximum&&e>n.maximum)throw new Er(t,`value (${e}) cannot be further in the future than expected maximum (${n.maximum})`);if(n.now&&e<n.now)throw new Er(t,`value (${e}) cannot be in the past, current time was ${n.now}`)}function g$(t){if(t.locale==="*")throw new Er("locale",`The use of locale='*' is no longer supported.To fetch an entry in all existing locales,
      use client.withAllLocales instead of the locale='*' parameter.`)}function y$(t){if(t.locale)throw new Er("locale","The `locale` parameter is not allowed")}function Fu(t,e){e?y$(t):g$(t)}function yc(t){if("resolveLinks"in t)throw new Er("resolveLinks",`The use of the 'resolveLinks' parameter is no longer supported. By default, links are resolved.
      If you do not want to resolve links, use client.withoutLinkResolution.`)}function vc(t){if("removeUnresolved"in t)throw new Er("removeUnresolved",`The use of the 'removeUnresolved' parameter is no longer supported. By default, unresolved links are kept as link objects.
      If you do not want to include unresolved links, use client.withoutUnresolvableLinks.`)}function v$(t,e){if(e===void 0)return!1;if(typeof e!="boolean")throw new Er("includeContentSourceMaps","The 'includeContentSourceMaps' parameter must be a boolean.");if(e&&!(t==="preview.contentful.com"))throw new Er("includeContentSourceMaps",`The 'includeContentSourceMaps' parameter can only be used with the CPA. Please set host to 'preview.contentful.com' to include Content Source Maps.
      `);return e}function bs(t){for(const e in t){const n=t[e];if(typeof n=="object"&&n!==null&&!Array.isArray(n))throw new Error(`Objects are not supported as value for the "${e}" query parameter.`)}}const _$=48*60*60;class E$ extends Error{constructor(e,n,r){super("The resource could not be found."),this.sys={type:"Error",id:"NotFound"},this.details={type:"Entry",id:e,environment:n,space:r}}}function Wb({http:t,getGlobalOptions:e},n){const r=(z="unknown")=>new E$(z,e().environment,e().space),i=z=>{let G=z==="space"?e().spaceBaseUrl:e().environmentBaseUrl;if(!G)throw new Error("Please define baseUrl for "+z);return G.endsWith("/")||(G+="/"),G};function s(z={}){var G,O;const $=t.httpClientParams,K=(G=$==null?void 0:$.includeContentSourceMaps)!==null&&G!==void 0?G:(O=$==null?void 0:$.alphaFeatures)===null||O===void 0?void 0:O.includeContentSourceMaps,U=$==null?void 0:$.host;if(v$(U,K)&&(z.includeContentSourceMaps=!0,z.select)){const W=qb(z);W.add("sys"),z.select=Array.from(W).join(",")}return z}function o(z,G){var O;return((O=G==null?void 0:G.params)===null||O===void 0?void 0:O.includeContentSourceMaps)?F6(z):z}async function a({context:z,path:G,config:O}){const $=i(z);try{const K=await t.get($+G,O);return o(K.data,O)}catch(K){En(K)}}async function l({context:z,path:G,data:O,config:$}){const K=i(z);try{return(await t.post(K+G,O,$)).data}catch(U){En(U)}}async function c(){return a({context:"space",path:""})}async function d(z){return a({context:"environment",path:`content_types/${z}`})}async function h(z={}){return a({context:"environment",path:"content_types",config:wn({query:z})})}async function p(z,G={}){return g(z,G,n)}async function I(z={}){return w(z,n)}async function g(z,G,O={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:$}=O;return Fu(G,$),yc(G),vc(G),bs(G),v(z,$?Object.assign(Object.assign({},G),{locale:"*"}):G,O)}async function v(z,G,O){if(!z)throw r(z);try{const $=await _(Object.assign({"sys.id":z},s(G)),O);if($.items.length>0)return $.items[0];throw r(z)}catch($){En($)}}async function w(z,G={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:O}=G;return Fu(z,O),yc(z),vc(z),bs(z),_(O?Object.assign(Object.assign({},z),{locale:"*"}):z,G)}async function _(z,G){const{withoutLinkResolution:O,withoutUnresolvableLinks:$}=G;try{const K=await a({context:"environment",path:"entries",config:wn({query:s(Oi(or(z)))})});return _w(K,{resolveLinks:!O,removeUnresolved:$??!1})}catch(K){En(K)}}async function E(z,G={}){return V(z,G,n)}async function T(z={}){return k(z,n)}async function k(z,G={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:O}=G;Fu(z,O),bs(z);const $=O?Object.assign(Object.assign({},z),{locale:"*"}):z;return x($)}async function M(z,G){try{return a({context:"environment",path:`assets/${z}`,config:wn({query:s(or(G))})})}catch(O){En(O)}}async function V(z,G,O={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:$}=O;Fu(G,$),bs(G);const K=$?Object.assign(Object.assign({},G),{locale:"*"}):G;return M(z,K)}async function x(z){try{return a({context:"environment",path:"assets",config:wn({query:s(Oi(or(z)))})})}catch(G){En(G)}}async function S(z){return a({context:"environment",path:`tags/${z}`})}async function R(z={}){return bs(z),a({context:"environment",path:"tags",config:wn({query:Oi(or(z))})})}async function C(z){try{const G=Math.floor(Date.now()/1e3),O=G+_$;m$("expiresAt",z,{maximum:O,now:G})}catch(G){En(G)}return l({context:"environment",path:"asset_keys",data:{expiresAt:z}})}async function P(z={}){return bs(z),a({context:"environment",path:"locales",config:wn({query:or(z)})})}async function N(z,G={paginate:!0}){return b(z,G,n)}async function b(z,G,O={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){yc(z),vc(z);const $=Object.assign(Object.assign({},G),O);return rt(t),h$(t,z,$)}function Z(z){return se(z,n)}function se(z,G={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){return pe(z,G)}function pe(z,G){const{withoutLinkResolution:O,withoutUnresolvableLinks:$}=G;return _w(z,{resolveLinks:!O,removeUnresolved:$??!1})}function me(z,G={}){return Q(z,G)}async function Q(z,G={}){try{return a({context:"environment",path:`taxonomy/concept-schemes/${z}`,config:wn({query:Oi(or(G))})})}catch(O){En(O)}}function te(z={}){return Y(z)}async function Y(z={}){try{return a({context:"environment",path:"taxonomy/concept-schemes",config:wn({query:Oi(or(z))})})}catch(G){En(G)}}function ae(z,G={}){return fe(z,G)}async function fe(z,G={}){try{return a({context:"environment",path:`taxonomy/concepts/${z}`,config:wn({query:Oi(or(G))})})}catch(O){En(O)}}function Ae(z={}){return Ve(z)}async function Ve(z={}){try{return a({context:"environment",path:"taxonomy/concepts",config:wn({query:Oi(or(z))})})}catch(G){En(G)}}function rt(z){z.defaults.baseURL=e().environmentBaseUrl}return{version:"11.3.1",getSpace:c,getContentType:d,getContentTypes:h,getAsset:E,getAssets:T,getTag:S,getTags:R,getLocales:P,parseEntries:Z,sync:N,getEntry:p,getEntries:I,getConceptScheme:me,getConceptSchemes:te,getConcept:ae,getConcepts:Ae,createAssetKey:C}}function w$({http:t,getGlobalOptions:e},n,r){const i=Wb({http:t,getGlobalOptions:e},n),s=i||{};return Object.defineProperty(s,"withAllLocales",{get:()=>r(Object.assign(Object.assign({},n),{withAllLocales:!0}))}),Object.defineProperty(s,"withoutLinkResolution",{get:()=>r(Object.assign(Object.assign({},n),{withoutLinkResolution:!0}))}),Object.defineProperty(s,"withoutUnresolvableLinks",{get:()=>r(Object.assign(Object.assign({},n),{withoutUnresolvableLinks:!0}))}),Object.create(s)}const T$=({http:t,getGlobalOptions:e})=>{function n(i){return w$({http:t,getGlobalOptions:e},i,n)}const r=Wb({http:t,getGlobalOptions:e},{withoutLinkResolution:!1,withAllLocales:!1,withoutUnresolvableLinks:!1});return Object.assign(Object.assign({},r),{get withAllLocales(){return n({withAllLocales:!0,withoutLinkResolution:!1,withoutUnresolvableLinks:!1})},get withoutLinkResolution(){return n({withAllLocales:!1,withoutLinkResolution:!0,withoutUnresolvableLinks:!1})},get withoutUnresolvableLinks(){return n({withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!0})}})};function S$(t){if(!t.accessToken)throw new TypeError("Expected parameter accessToken");if(!t.space)throw new TypeError("Expected parameter space");yc(t),vc(t);const n=Object.assign(Object.assign({},{resolveLinks:!0,removeUnresolved:!1,defaultHostname:"cdn.contentful.com",environment:"master"}),t),r=l6("contentful.js/11.3.1",n.application,n.integration);n.headers=Object.assign(Object.assign({},n.headers),{"Content-Type":"application/vnd.contentful.delivery.v1+json","X-Contentful-User-Agent":r});const i=Lb(Ye,n);if(!i.defaults.baseURL)throw new Error("Please define a baseURL");const s=I6({space:n.space,environment:n.environment,spaceBaseUrl:i.defaults.baseURL,environmentBaseUrl:`${i.defaults.baseURL}environments/${n.environment}`});return i.defaults.baseURL=s({}).environmentBaseUrl,T$({http:i,getGlobalOptions:s})}var qs={},I$=t=>{if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype};(function(t){var e=I$;t.BLOCKS=void 0,function(O){O.DOCUMENT="document",O.PARAGRAPH="paragraph",O.HEADING_1="heading-1",O.HEADING_2="heading-2",O.HEADING_3="heading-3",O.HEADING_4="heading-4",O.HEADING_5="heading-5",O.HEADING_6="heading-6",O.OL_LIST="ordered-list",O.UL_LIST="unordered-list",O.LIST_ITEM="list-item",O.HR="hr",O.QUOTE="blockquote",O.EMBEDDED_ENTRY="embedded-entry-block",O.EMBEDDED_ASSET="embedded-asset-block",O.EMBEDDED_RESOURCE="embedded-resource-block",O.TABLE="table",O.TABLE_ROW="table-row",O.TABLE_CELL="table-cell",O.TABLE_HEADER_CELL="table-header-cell"}(t.BLOCKS||(t.BLOCKS={})),t.INLINES=void 0,function(O){O.ASSET_HYPERLINK="asset-hyperlink",O.EMBEDDED_ENTRY="embedded-entry-inline",O.EMBEDDED_RESOURCE="embedded-resource-inline",O.ENTRY_HYPERLINK="entry-hyperlink",O.HYPERLINK="hyperlink",O.RESOURCE_HYPERLINK="resource-hyperlink"}(t.INLINES||(t.INLINES={})),t.MARKS=void 0,function(O){O.BOLD="bold",O.ITALIC="italic",O.UNDERLINE="underline",O.CODE="code",O.SUPERSCRIPT="superscript",O.SUBSCRIPT="subscript",O.STRIKETHROUGH="strikethrough"}(t.MARKS||(t.MARKS={}));var n=function(O,$){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,U){K.__proto__=U}||function(K,U){for(var D in U)Object.prototype.hasOwnProperty.call(U,D)&&(K[D]=U[D])},n(O,$)};function r(O,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");n(O,$);function K(){this.constructor=O}O.prototype=$===null?Object.create($):(K.prototype=$.prototype,new K)}function i(O,$,K){if(K||arguments.length===2)for(var U=0,D=$.length,W;U<D;U++)(W||!(U in $))&&(W||(W=Array.prototype.slice.call($,0,U)),W[U]=$[U]);return O.concat(W||Array.prototype.slice.call($))}typeof SuppressedError=="function"&&SuppressedError;var s,o=[t.BLOCKS.PARAGRAPH,t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6,t.BLOCKS.OL_LIST,t.BLOCKS.UL_LIST,t.BLOCKS.HR,t.BLOCKS.QUOTE,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.BLOCKS.EMBEDDED_RESOURCE,t.BLOCKS.TABLE],a=[t.BLOCKS.PARAGRAPH,t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6,t.BLOCKS.OL_LIST,t.BLOCKS.UL_LIST,t.BLOCKS.HR,t.BLOCKS.QUOTE,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.BLOCKS.EMBEDDED_RESOURCE],l=[t.BLOCKS.TABLE,t.BLOCKS.TABLE_ROW,t.BLOCKS.TABLE_CELL,t.BLOCKS.TABLE_HEADER_CELL],c=[t.BLOCKS.HR,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.BLOCKS.EMBEDDED_RESOURCE],d=(s={},s[t.BLOCKS.OL_LIST]=[t.BLOCKS.LIST_ITEM],s[t.BLOCKS.UL_LIST]=[t.BLOCKS.LIST_ITEM],s[t.BLOCKS.LIST_ITEM]=a,s[t.BLOCKS.QUOTE]=[t.BLOCKS.PARAGRAPH],s[t.BLOCKS.TABLE]=[t.BLOCKS.TABLE_ROW],s[t.BLOCKS.TABLE_ROW]=[t.BLOCKS.TABLE_CELL,t.BLOCKS.TABLE_HEADER_CELL],s[t.BLOCKS.TABLE_CELL]=[t.BLOCKS.PARAGRAPH,t.BLOCKS.UL_LIST,t.BLOCKS.OL_LIST],s[t.BLOCKS.TABLE_HEADER_CELL]=[t.BLOCKS.PARAGRAPH],s),h=[t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6],p=i([t.BLOCKS.PARAGRAPH],h,!0),I=[t.BLOCKS.DOCUMENT,t.BLOCKS.PARAGRAPH,t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6,t.BLOCKS.OL_LIST,t.BLOCKS.UL_LIST,t.BLOCKS.LIST_ITEM,t.BLOCKS.HR,t.BLOCKS.QUOTE,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.INLINES.HYPERLINK,t.INLINES.ENTRY_HYPERLINK,t.INLINES.ASSET_HYPERLINK,t.INLINES.EMBEDDED_ENTRY,"text"],g=[t.MARKS.BOLD,t.MARKS.CODE,t.MARKS.ITALIC,t.MARKS.UNDERLINE],v={nodeType:t.BLOCKS.DOCUMENT,data:{},content:[{nodeType:t.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};function w(O,$){for(var K=0,U=Object.keys(O);K<U.length;K++){var D=U[K];if($===O[D])return!0}return!1}function _(O){return w(t.INLINES,O.nodeType)}function E(O){return w(t.BLOCKS,O.nodeType)}function T(O){return O.nodeType==="text"}var k=Object.freeze({__proto__:null,isBlock:E,isInline:_,isText:T}),M=function(O){var $=O.path,K=O.property,U=O.typeName,D=O.value;return{details:'The type of "'.concat(K,'" is incorrect, expected type: ').concat(U),name:"type",path:$.toArray(),type:U,value:D}},V=function(O){var $=O.min,K=O.value,U=O.path;return{name:"size",min:$,path:U.toArray(),details:"Size must be at least ".concat($),value:K}},x=function(O){var $=O.max,K=O.value,U=O.path;return{name:"size",max:$,path:U.toArray(),details:"Size must be at most ".concat($),value:K}},S=function(O){var $=O.expected,K=O.value,U=O.path;return{details:"Value must be one of expected values",name:"in",expected:i([],$,!0).sort(),path:U.toArray(),value:K}},R=function(O){var $=O.property,K=O.path;return{details:'The property "'.concat($,'" is not expected'),name:"unexpected",path:K.toArray()}},C=function(O){var $=O.property,K=O.path;return{details:'The property "'.concat($,'" is required here'),name:"required",path:K.toArray()}},P=function(){function O($,K){var U=this;this.obj=$,this.path=K,this._errors=[],this.catch=function(){for(var D,W=[],re=0;re<arguments.length;re++)W[re]=arguments[re];(D=U._errors).push.apply(D,W)},this.exists=function(D){return D in U.obj?!0:(U.catch(C({property:D,path:U.path.of(D)})),!1)},this.object=function(D){var W,re=D?U.obj[D]:U.obj;if(D&&!U.exists(D))return!1;if(e(re))return!0;var Te=D?U.path.of(D):U.path,Ce=(W=D??U.path.last())!==null&&W!==void 0?W:"value";return U.catch(M({typeName:"Object",property:Ce,path:Te,value:re})),!1},this.string=function(D){var W=U.obj[D];return D&&!U.exists(D)?!1:typeof W=="string"?!0:(U.catch(M({typeName:"String",property:D,path:U.path.of(D),value:W})),!1)},this.number=function(D,W){var re=U.obj[D];return W&&!(D in U.obj)?!0:U.exists(D)?typeof re=="number"&&!Number.isNaN(re)?!0:(U.catch(M({typeName:"Number",property:D,path:U.path.of(D),value:re})),!1):!1},this.array=function(D){var W=U.obj[D];return D&&!U.exists(D)?!1:Array.isArray(W)?!0:(U.catch(M({typeName:"Array",property:D,path:U.path.of(D),value:W})),!1)},this.enum=function(D,W){var re=U.obj[D];return typeof re=="string"&&W.includes(re)?!0:(U.catch(S({expected:W,value:re,path:U.path.of(D)})),!1)},this.empty=function(D){if(!U.array(D))return!1;var W=U.obj[D];return W.length===0?!0:(U.catch(x({max:0,value:W,path:U.path.of(D)})),!1)},this.minLength=function(D,W){if(!U.array(D))return!1;var re=U.obj[D];return re.length>=W?!0:(U.catch(V({min:W,value:re,path:U.path.of(D)})),!1)},this.noAdditionalProperties=function(D){var W=Object.keys(U.obj).sort().filter(function(re){return!D.includes(re)});return W.forEach(function(re){return U.catch(R({property:re,path:U.path.of(re)}))}),W.length===0},this.each=function(D,W){if(U.array(D)){var re=U.obj[D],Te=!1;re.forEach(function(Ce,gt){if(!Te){var jt=W(Ce,U.path.of(D).of(gt));jt.length>0&&(Te=!0),U.catch.apply(U,jt)}})}}}return Object.defineProperty(O.prototype,"errors",{get:function(){var $=this,K=function(U){return JSON.stringify({details:U.details,path:U.path})};return this._errors.filter(function(U,D){return $._errors.findIndex(function(W){return K(U)===K(W)})===D})},enumerable:!1,configurable:!0}),O}(),N=[],b=function(){function O($,K){this.contentRule=$,this.validateData=K}return O.prototype.assert=function($,K){var U,D,W=new P($,K);if(!W.object())return W.errors;W.noAdditionalProperties(["nodeType","data","content"]);var re=Array.isArray(this.contentRule)?{nodeTypes:this.contentRule}:this.contentRule($,K),Te=re.nodeTypes,Ce=re.min,gt=Ce===void 0?0:Ce;if(Te.length===0&&gt>0)throw new Error("Invalid content rule. Cannot have enforce a 'min' of ".concat(gt," with no nodeTypes"));if(W.minLength("content",gt),Te.length===0?W.empty("content"):W.each("content",function(Jt,Yt){var Xt=new P(Jt,Yt);return Xt.object()&&Xt.enum("nodeType",Te),Xt.errors}),W.object("data")){var jt=(D=(U=this.validateData)===null||U===void 0?void 0:U.call(this,$.data,K.of("data")))!==null&&D!==void 0?D:[];W.catch.apply(W,jt)}return W.errors},O}(),Z=function(O){r($,O);function $(K,U){var D=O.call(this,U,function(W,re){return D.assertLink(W,re)})||this;return D.linkType=K,D.assertLink=function(W,re){var Te=new P(W,re);if(Te.object("target")){var Ce=new P(W.target.sys,re.of("target").of("sys"));Ce.object()&&(Ce.enum("type",[D.type]),Ce.enum("linkType",[D.linkType]),D.type==="Link"?(Ce.string("id"),Ce.noAdditionalProperties(["type","linkType","id"])):D.type==="ResourceLink"&&(Ce.string("urn"),Ce.noAdditionalProperties(["type","linkType","urn"]))),Te.catch.apply(Te,Ce.errors)}return Te.noAdditionalProperties(["target"]),Te.errors},D.type=D.linkType.startsWith("Contentful:")?"ResourceLink":"Link",D}return $}(b),se=function(O){r($,O);function $(){var K=O.call(this,["text"],function(U,D){return K.assertLink(U,D)})||this;return K.assertLink=function(U,D){var W=new P(U,D);return W.string("uri"),W.noAdditionalProperties(["uri"]),W.errors},K}return $}(b),pe=function(O,$){return new b(O,$)},me=function(O,$){return new Z(O,$)},Q=function(){function O($){$===void 0&&($=[]);var K=this;this.path=$,this.of=function(U){return new O(i(i([],K.path,!0),[U],!1))},this.isRoot=function(){return K.path.length===0},this.last=function(){return K.path[K.path.length-1]},this.toArray=function(){return K.path}}return O}();function te(O,$){var K=new P(O,$);return K.object()&&(K.noAdditionalProperties(["nodeType","data","value","marks"]),K.object("data"),K.each("marks",function(U,D){var W=new P(U,D);return W.object()&&W.string("type"),W.errors}),K.string("value")),K.errors}var Y,ae=pe(i(i([],Object.values(t.INLINES),!0),["text"],!1).sort()),fe=pe([t.BLOCKS.LIST_ITEM]),Ae=me("Entry",N),Ve=pe(function(){return{nodeTypes:[t.BLOCKS.PARAGRAPH],min:1}},function(O,$){var K=new P(O,$);return K.noAdditionalProperties(["colspan","rowspan"]),K.number("colspan",!0),K.number("rowspan",!0),K.errors}),rt=(Y={},Y[t.BLOCKS.DOCUMENT]=pe(o),Y[t.BLOCKS.PARAGRAPH]=ae,Y[t.BLOCKS.HEADING_1]=ae,Y[t.BLOCKS.HEADING_2]=ae,Y[t.BLOCKS.HEADING_3]=ae,Y[t.BLOCKS.HEADING_4]=ae,Y[t.BLOCKS.HEADING_5]=ae,Y[t.BLOCKS.HEADING_6]=ae,Y[t.BLOCKS.QUOTE]=pe(d[t.BLOCKS.QUOTE]),Y[t.BLOCKS.EMBEDDED_ENTRY]=Ae,Y[t.BLOCKS.EMBEDDED_ASSET]=me("Asset",N),Y[t.BLOCKS.EMBEDDED_RESOURCE]=me("Contentful:Entry",N),Y[t.BLOCKS.HR]=pe(N),Y[t.BLOCKS.OL_LIST]=fe,Y[t.BLOCKS.UL_LIST]=fe,Y[t.BLOCKS.LIST_ITEM]=pe(i([],a,!0).sort()),Y[t.BLOCKS.TABLE]=pe(function(){return{nodeTypes:[t.BLOCKS.TABLE_ROW],min:1}}),Y[t.BLOCKS.TABLE_ROW]=pe(function(){return{nodeTypes:[t.BLOCKS.TABLE_CELL,t.BLOCKS.TABLE_HEADER_CELL],min:1}}),Y[t.BLOCKS.TABLE_CELL]=Ve,Y[t.BLOCKS.TABLE_HEADER_CELL]=Ve,Y[t.INLINES.HYPERLINK]=new se,Y[t.INLINES.EMBEDDED_ENTRY]=Ae,Y[t.INLINES.EMBEDDED_RESOURCE]=me("Contentful:Entry",N),Y[t.INLINES.ENTRY_HYPERLINK]=me("Entry",["text"]),Y[t.INLINES.ASSET_HYPERLINK]=me("Asset",["text"]),Y[t.INLINES.RESOURCE_HYPERLINK]=me("Contentful:Entry",["text"]),Y);function z(O,$){if(O.nodeType==="text")return te(O,$);var K=rt[O.nodeType].assert(O,$);if(K.length>0)return K;var U=new P(O,$);return U.each("content",function(D,W){return z(D,W)}),U.errors}var G=function(O){var $=new Q,K=new P(O,$);return K.object()&&K.enum("nodeType",[t.BLOCKS.DOCUMENT]),K.errors.length>0?K.errors:z(O,$)};t.CONTAINERS=d,t.EMPTY_DOCUMENT=v,t.HEADINGS=h,t.LIST_ITEM_BLOCKS=a,t.TABLE_BLOCKS=l,t.TEXT_CONTAINERS=p,t.TOP_LEVEL_BLOCKS=o,t.V1_MARKS=g,t.V1_NODE_TYPES=I,t.VOID_BLOCKS=c,t.helpers=k,t.validateRichTextDocument=G})(qs);var Ie=B,ge=qs,Ws=function(){return Ws=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ws.apply(this,arguments)};function A$(t,e){return Ie.isValidElement(t)&&t.key===null?Ie.cloneElement(t,{key:e}):t}function b$(t,e){return t.map(function(n,r){return A$(Gb(n,e),r)})}function Gb(t,e){var n=e.renderNode,r=e.renderMark,i=e.renderText,s=e.preserveWhitespace;if(ge.helpers.isText(t)){var o=i?i(t.value):t.value;if(s&&!i){o=o.replace(/ {2,}/g,function(d){return" ".repeat(d.length)});var a=o.split(`
`),l=[];a.forEach(function(d,h){l.push(d),h!==a.length-1&&l.push(Ie.createElement("br",null))}),o=l}return t.marks.reduce(function(d,h){return r[h.type]?r[h.type](d):d},o)}else{var c=b$(t.content,e);return!t.nodeType||!n[t.nodeType]?Ie.createElement(Ie.Fragment,null,c):n[t.nodeType](t,c)}}var Ne,ar,x$=(Ne={},Ne[ge.BLOCKS.DOCUMENT]=function(t,e){return e},Ne[ge.BLOCKS.PARAGRAPH]=function(t,e){return Ie.createElement("p",null,e)},Ne[ge.BLOCKS.HEADING_1]=function(t,e){return Ie.createElement("h1",null,e)},Ne[ge.BLOCKS.HEADING_2]=function(t,e){return Ie.createElement("h2",null,e)},Ne[ge.BLOCKS.HEADING_3]=function(t,e){return Ie.createElement("h3",null,e)},Ne[ge.BLOCKS.HEADING_4]=function(t,e){return Ie.createElement("h4",null,e)},Ne[ge.BLOCKS.HEADING_5]=function(t,e){return Ie.createElement("h5",null,e)},Ne[ge.BLOCKS.HEADING_6]=function(t,e){return Ie.createElement("h6",null,e)},Ne[ge.BLOCKS.EMBEDDED_ENTRY]=function(t,e){return Ie.createElement("div",null,e)},Ne[ge.BLOCKS.EMBEDDED_RESOURCE]=function(t,e){return Ie.createElement("div",null,e)},Ne[ge.BLOCKS.UL_LIST]=function(t,e){return Ie.createElement("ul",null,e)},Ne[ge.BLOCKS.OL_LIST]=function(t,e){return Ie.createElement("ol",null,e)},Ne[ge.BLOCKS.LIST_ITEM]=function(t,e){return Ie.createElement("li",null,e)},Ne[ge.BLOCKS.QUOTE]=function(t,e){return Ie.createElement("blockquote",null,e)},Ne[ge.BLOCKS.HR]=function(){return Ie.createElement("hr",null)},Ne[ge.BLOCKS.TABLE]=function(t,e){return Ie.createElement("table",null,Ie.createElement("tbody",null,e))},Ne[ge.BLOCKS.TABLE_ROW]=function(t,e){return Ie.createElement("tr",null,e)},Ne[ge.BLOCKS.TABLE_HEADER_CELL]=function(t,e){return Ie.createElement("th",null,e)},Ne[ge.BLOCKS.TABLE_CELL]=function(t,e){return Ie.createElement("td",null,e)},Ne[ge.INLINES.ASSET_HYPERLINK]=function(t){return Kf(ge.INLINES.ASSET_HYPERLINK,t)},Ne[ge.INLINES.ENTRY_HYPERLINK]=function(t){return Kf(ge.INLINES.ENTRY_HYPERLINK,t)},Ne[ge.INLINES.RESOURCE_HYPERLINK]=function(t){return Ew(ge.INLINES.RESOURCE_HYPERLINK,t)},Ne[ge.INLINES.EMBEDDED_ENTRY]=function(t){return Kf(ge.INLINES.EMBEDDED_ENTRY,t)},Ne[ge.INLINES.EMBEDDED_RESOURCE]=function(t,e){return Ew(ge.INLINES.EMBEDDED_RESOURCE,t)},Ne[ge.INLINES.HYPERLINK]=function(t,e){return Ie.createElement("a",{href:t.data.uri},e)},Ne),R$=(ar={},ar[ge.MARKS.BOLD]=function(t){return Ie.createElement("b",null,t)},ar[ge.MARKS.ITALIC]=function(t){return Ie.createElement("i",null,t)},ar[ge.MARKS.UNDERLINE]=function(t){return Ie.createElement("u",null,t)},ar[ge.MARKS.CODE]=function(t){return Ie.createElement("code",null,t)},ar[ge.MARKS.SUPERSCRIPT]=function(t){return Ie.createElement("sup",null,t)},ar[ge.MARKS.SUBSCRIPT]=function(t){return Ie.createElement("sub",null,t)},ar[ge.MARKS.STRIKETHROUGH]=function(t){return Ie.createElement("s",null,t)},ar);function Kf(t,e){return Ie.createElement("span",{key:e.data.target.sys.id},"type: ",e.nodeType," id: ",e.data.target.sys.id)}function Ew(t,e){return Ie.createElement("span",{key:e.data.target.sys.urn},"type: ",e.nodeType," urn: ",e.data.target.sys.urn)}function C$(t,e){return e===void 0&&(e={}),t?Gb(t,{renderNode:Ws(Ws({},x$),e.renderNode),renderMark:Ws(Ws({},R$),e.renderMark),renderText:e.renderText,preserveWhitespace:e.preserveWhitespace}):null}var P$=C$;const k$=S$({space:"pyaejmbpwnt8",accessToken:"ymHPDZdnv7_Uh4lWvhojmA0hlvwHm_5uzNCfoA-ODG4"});function N$(){const[t,e]=B.useState([]),[n,r]=B.useState("General"),[i,s]=B.useState(null),[o,a]=B.useState(!0);B.useEffect(()=>{(async()=>{try{const w=(await k$.getEntries({content_type:"blogPost",select:["fields.title","fields.category","fields.excerpt","fields.content","fields.author","fields.date"]})).items.map(_=>({id:_.sys.id,title:_.fields.title,category:_.fields.category,excerpt:_.fields.excerpt,content:_.fields.content,author:_.fields.author,date:_.fields.date}));e(w)}catch(v){console.error("Error fetching articles:",v)}finally{a(!1)}})()},[]);const l=n==="General"?t:t.filter(g=>g.category===n),c=["General","Acheteur","Vendeur","Investisseur"],d=()=>y.jsx("div",{className:"flex flex-col space-y-2",children:c.map(g=>y.jsx("button",{className:`text-left py-2 px-4 rounded transition-colors ${n===g?"bg-blue-100 text-blue-800 font-semibold":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>{r(g),s(null)},children:g.charAt(0).toUpperCase()+g.slice(1)},g))}),h=({article:g})=>y.jsxs("article",{className:"bg-white border border-gray-200 rounded-lg p-6 transition-shadow duration-300 hover:shadow-md",children:[y.jsx("h2",{className:"text-2xl font-serif font-semibold mb-2",children:y.jsx("a",{href:"#",onClick:v=>{v.preventDefault(),s(g)},className:"text-gray-800 hover:text-blue-600 transition-colors",children:g.title})}),y.jsx("p",{className:"text-gray-600 mb-4",children:g.excerpt}),y.jsxs("div",{className:"flex justify-between items-center text-sm",children:[y.jsxs("span",{className:"text-gray-500",children:["Par ",g.author," | ",g.date]}),y.jsx("button",{onClick:()=>s(g),className:"text-blue-600 hover:text-blue-800 transition-colors font-semibold",children:"Lire la suite →"})]})]}),p=()=>y.jsx("div",{className:"space-y-6",children:l.map(g=>y.jsx(h,{article:g},g.id))}),I=({article:g})=>{const v={renderNode:{[qs.BLOCKS.PARAGRAPH]:(w,_)=>y.jsx("p",{className:"text-gray-700 mb-4",children:_}),[qs.BLOCKS.HEADING_1]:(w,_)=>y.jsx("h1",{className:"text-3xl font-bold mb-4",children:_}),[qs.BLOCKS.HEADING_2]:(w,_)=>y.jsx("h2",{className:"text-2xl font-semibold mb-3",children:_})},renderMark:{[qs.MARKS.BOLD]:w=>y.jsx("strong",{className:"font-bold",children:w})}};return y.jsxs("article",{className:"bg-white border border-gray-200 rounded-lg p-8",children:[y.jsx("h1",{className:"text-4xl font-serif font-bold mb-4 text-gray-800",children:g.title}),y.jsxs("div",{className:"text-sm text-gray-500 mb-6",children:[y.jsxs("span",{children:["Par ",g.author]}),y.jsx("span",{className:"mx-2",children:"|"}),y.jsx("span",{children:g.date})]}),y.jsx("p",{className:"text-xl text-gray-600 mb-8",children:g.excerpt}),y.jsx("div",{className:"prose max-w-none mb-8",children:P$(g.content,v)}),y.jsx("button",{onClick:()=>s(null),className:"inline-block bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"← Retour à tous les articles"})]})};return y.jsx("div",{className:"bg-gray-100",children:y.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[y.jsx("h1",{className:"text-5xl font-serif font-bold mb-12 text-center text-gray-800",children:"Actualités"}),o?y.jsx("p",{className:"text-center text-gray-600",children:"Chargement des articles..."}):y.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[y.jsx("aside",{className:"lg:w-1/4",children:y.jsxs("div",{className:"sticky top-8",children:[y.jsx("h2",{className:"text-2xl font-serif font-semibold mb-4 text-gray-800",children:"Catégories"}),y.jsx(d,{})]})}),y.jsx("main",{className:"lg:w-3/4",children:i?y.jsx(I,{article:i}):y.jsx(p,{})})]})]})})}const O$=()=>{const[t,e]=B.useState({name:"",email:"",phone:"",message:""}),[n,r]=B.useState(!1),[i,s]=B.useState(""),[o,a]=B.useState(""),l=d=>{e({...t,[d.target.name]:d.target.value})},c=async d=>{d.preventDefault(),r(!0),s(""),a("");try{await pd.send("service_ygysf6c","template_tvk3cpa",t,"3Q6blDIxCWaiJ9nvg"),s("Votre message a été envoyé avec succès ! Merci de m'avoir contacté.")}catch(h){console.error("EmailJS Error:",h),a("Une erreur s'est produite lors de l'envoi de votre message. Veuillez réessayer plus tard.")}finally{r(!1)}};return y.jsx("div",{className:"bg-gray-100 text-gray-800",children:y.jsxs("main",{className:"container mx-auto w-2/3 p-4",children:[y.jsxs("header",{className:"bg-gray-800 text-white text-center py-6 rounded shadow",children:[y.jsx("h1",{className:"text-2xl font-bold",children:"Elise BUIL"}),y.jsx("p",{className:"text-lg",children:"Vente / Location Immobilière"}),y.jsx("p",{className:"text-lg",children:"Accompagnement Commercial, Administratif et Juridique"})]}),y.jsxs("section",{className:"py-16 px-4 md:px-8 max-w-5xl mx-auto",children:[y.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"À propos de moi"}),y.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[y.jsx("img",{src:_A,alt:"Elise BUIL",className:"w-64 h-64 rounded-full object-cover"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-lg mb-4",children:"Bien plus qu'un métier, une véritable passion!"}),y.jsx("p",{className:"text-lg mb-4",children:"Riche d’une forte expérience dans le secteur de l’immobilier, je mets mon expertise à votre service pour vous accompagner dans toutes vos démarches liées à la vente de votre bien. Je mets un point d’honneur à développer une véritable relation basée sur l’écoute et le respect de vos besoins."}),y.jsx("p",{className:"text-lg mb-4",children:"Issue d'une formation juridique en droit immobilier, je vous propose un accompagnement spécialisé dans la concrétisation de vos projets immobiliers, notamment en proposant la rédaction du compromis de vente en collaboration avec votre notaire , vous faisant ainsi bénéficier d'un temps précieux."}),y.jsx("p",{className:"text-lg mb-4",children:"Mon service de vente immobilière se distingue par une approche unique alliant expertise juridique et authentique relation d’échanges."}),y.jsxs("p",{className:"text-lg mb-4",children:["N'hésitez pas à prendre contact avec moi pour échanger sur vos projets, je me ferai un plaisir de pouvoir répondre à vos questions.",y.jsx("br",{})," Ensemble, construisons une relation solide et fiable pour mener à bien votre vente immobilière en toute sécurité!              "]}),y.jsx("p",{className:"text-lg",children:"Au plaisir de vous rencontrer,"})]})]})]}),y.jsxs("section",{className:"mb-12 bg-white p-6 rounded-lg shadow-md",children:[y.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Témoignages Clients"}),y.jsxs("div",{className:"space-y-6",children:[y.jsxs("blockquote",{className:"italic text-gray-600 border-l-4 border-blue-500 pl-4",children:[`" Nous sommes ravis de l'accompagnement et de la conscience professionnelle d'Elise pour la recherche et l'achat de notre maison. Nous la recommandons vivement."`,y.jsx("footer",{className:"text-gray-500 mt-2",children:"- Jennifer et Xavier ROLLAND"})]}),y.jsxs("blockquote",{className:"italic text-gray-600 border-l-4 border-blue-500 pl-4",children:[`"Elise m'a permis de vendre mon appartement rapidement. Je la remercie pour sa disponibilité."`,y.jsx("footer",{className:"text-gray-500 mt-2",children:"- Guillaume RABILLER"})]})]})]}),y.jsxs("section",{id:"contact",className:"bg-white mt-6 p-6 rounded-lg shadow-lg",children:[y.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Contactez-moi"}),i?y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-green-500 text-xl font-semibold mb-4",children:i}),y.jsx("button",{onClick:()=>{s(""),e({name:"",email:"",phone:"",message:""})},className:"bg-black text-white font-medium py-2 px-4 rounded-md shadow hover:bg-gray-800 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50 transition duration-150",children:"Envoyer un autre message"})]}):y.jsxs("form",{className:"space-y-6",onSubmit:c,children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nom :"}),y.jsx("input",{type:"text",id:"name",name:"name",required:!0,placeholder:"Votre nom complet",value:t.name,onChange:l,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email :"}),y.jsx("input",{type:"email",id:"email",name:"email",required:!0,placeholder:"Votre adresse email",value:t.email,onChange:l,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Téléphone :"}),y.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,placeholder:"Votre numéro de téléphone",value:t.phone,onChange:l,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message :"}),y.jsx("textarea",{id:"message",name:"message",rows:5,required:!0,placeholder:"Votre message",value:t.message,onChange:l,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),y.jsx("button",{type:"submit",disabled:n,className:"w-full bg-black text-white font-medium py-3 rounded-md shadow hover:bg-gray-800 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50 transition duration-150",children:n?"Envoi en cours...":"Envoyer le Message"})]}),o&&y.jsx("p",{className:"text-red-500 mt-4",children:o})]})]})})},L$=[ZS,JS,XS,$k,Kk];function D$(){const[t,e]=B.useState(1),[n,r]=B.useState({address:"",propertyType:"",livingArea:"",landArea:"",floors:"",rooms:"",bedrooms:"",constructionPeriod:"",condition:"",features:[],saleTimeline:"",contact:{gender:"",firstName:"",lastName:"",email:"",phone:""}}),[i,s]=B.useState(!1),[o,a]=B.useState(!1),l=(g,v)=>{r(w=>({...w,[g]:v}))},c=(g,v)=>{r(w=>({...w,contact:{...w.contact,[g]:v}}))},d=g=>{r(v=>({...v,features:v.features.includes(g)?v.features.filter(w=>w!==g):[...v.features,g]}))},h=()=>{o&&(e(g=>Math.min(g+1,5)),a(!1))},p=()=>{e(g=>Math.max(g-1,1)),a(!1)},I=async()=>{if(!o)return;const g={address:n.address,propertyType:n.propertyType,livingArea:n.livingArea,landArea:n.landArea,floors:n.floors,rooms:n.rooms,bedrooms:n.bedrooms,features:n.features.join(", "),contactGender:n.contact.gender,contactFirstName:n.contact.firstName,contactLastName:n.contact.lastName,contactEmail:n.contact.email,contactPhone:n.contact.phone},v="service_ygysf6c",w="template_m9ywkos",_="3Q6blDIxCWaiJ9nvg";try{pd.init(_),await pd.send(v,w,g),s(!0)}catch(E){console.error("Error sending email:",E)}};return B.useEffect(()=>{const g=document.querySelector(".progress-bar");switch(g&&(g.style.width=`${(t-1)*25}%`),t){case 1:a(n.address.length>0);break;case 2:a(n.propertyType!=="");break;case 3:a(n.livingArea!==""&&n.landArea!==""&&n.floors!==""&&n.rooms!==""&&n.bedrooms!=="");break;case 4:a(n.features.length>0);break;case 5:a(n.contact.gender!==""&&n.contact.firstName!==""&&n.contact.lastName!==""&&n.contact.email!==""&&n.contact.phone!=="");break;default:a(!1)}},[t,n]),y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-4 md:p-6",children:y.jsxs("div",{className:"mx-auto max-w-4xl",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("div",{className:"flex justify-between mb-2",children:L$.map((g,v)=>y.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full transition-all duration-300 ${v+1===t?"bg-blue-600 text-white pulse":v+1<t?"bg-blue-200 text-blue-700":"bg-gray-200 text-gray-500"}`,children:y.jsx(g,{className:"h-6 w-6"})},v))}),y.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:y.jsx("div",{className:"progress-bar h-full bg-blue-600 transition-all duration-500 ease-out",style:{width:"0%"}})})]}),y.jsxs("div",{className:"overflow-hidden rounded-xl bg-white p-6 shadow-lg",children:[y.jsxs("div",{className:"slide-in",children:[t===1&&y.jsxs("div",{className:"space-y-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"Où se situe votre bien ?"}),y.jsxs("div",{className:"space-y-4 fade-in",children:[y.jsx("label",{htmlFor:"address",className:"block text-lg font-medium text-gray-700",children:"Adresse du bien à estimer"}),y.jsxs("div",{className:"relative",children:[y.jsx(ZS,{className:"absolute left-3 top-3 h-6 w-6 text-gray-400"}),y.jsx("input",{id:"address",type:"text",value:n.address,onChange:g=>l("address",g.target.value),placeholder:"12 rue Saint Denis, 75011 Paris",className:"w-full rounded-lg border-2 border-gray-200 bg-gray-50 py-3 pl-12 pr-4 text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 transition-all duration-300"})]})]})]}),t===2&&y.jsxs("div",{className:"space-y-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"Quel type de bien souhaitez-vous estimer ?"}),y.jsx("div",{className:"grid grid-cols-2 gap-4 fade-in",children:[{id:"appartement",label:"Un appartement",icon:JS},{id:"maison",label:"Une maison",icon:XS},{id:"terrain",label:"Un Terrain",icon:Mk},{id:"local commercial",label:"Un local commercial",icon:zk}].map(g=>y.jsxs("button",{onClick:()=>l("propertyType",g.id),className:`flex flex-col items-center justify-center p-6 rounded-xl border-2 transition-all duration-300 ${n.propertyType===g.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 text-gray-600 hover:border-blue-300 hover:bg-blue-50"}`,children:[y.jsx(g.icon,{className:"mb-4 h-16 w-16"}),y.jsx("span",{className:"text-lg font-medium",children:g.label})]},g.id))})]}),t===3&&y.jsxs("div",{className:"space-y-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"Détails de votre bien"}),y.jsx("div",{className:"grid grid-cols-2 gap-4 fade-in",children:[{id:"livingArea",label:"Surface habitable",unit:"m²"},{id:"landArea",label:"Surface du terrain",unit:"m²"},{id:"floors",label:"Nombre de niveaux"},{id:"rooms",label:"Nombre de pièces"},{id:"bedrooms",label:"Nombre de chambres"}].map(g=>y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{htmlFor:g.id,className:"block text-sm font-medium text-gray-700",children:g.label}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{id:g.id,type:"number",value:n[g.id],onChange:v=>l(g.id,v.target.value),className:"w-full rounded-lg border-2 border-gray-200 bg-gray-50 px-4 py-2 text-gray-800 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 transition-all duration-300"}),g.unit&&y.jsx("span",{className:"ml-2 text-sm text-gray-500",children:g.unit})]})]},g.id))})]}),t===4&&y.jsxs("div",{className:"space-y-6",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"Caractéristiques spécifiques"}),y.jsx("div",{className:"grid grid-cols-2 gap-4 fade-in",children:["Terrasse","Parking","Garage","Piscine","Aucun"].map(g=>y.jsx("button",{onClick:()=>d(g),className:`py-4 rounded-lg border-2 transition-all duration-300 ${n.features.includes(g)?"border-blue-500 bg-blue-100 text-blue-700":"border-gray-200 text-gray-600 hover:border-blue-300 hover:bg-blue-50"}`,children:g},g))})]}),t===5&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"text-center fade-in",children:[y.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Votre estimation est prête !"}),y.jsx("p",{className:"mt-2 text-gray-600",children:"Renseignez ces informations pour recevoir votre estimation."})]}),y.jsxs("div",{className:"space-y-4 fade-in",children:[y.jsx("div",{className:"flex justify-center gap-4",children:["monsieur","madame"].map(g=>y.jsx("button",{onClick:()=>c("gender",g),className:`px-6 py-2 rounded-full text-lg transition-all duration-300 ${n.contact.gender===g?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:g.charAt(0).toUpperCase()+g.slice(1)},g))}),[{id:"firstName",label:"Prénom",placeholder:"Caroline"},{id:"lastName",label:"Nom",placeholder:"Gomez"},{id:"email",label:"Adresse mail",placeholder:"carolinegomez@gmail.com",type:"email"},{id:"phone",label:"Téléphone",placeholder:"07 89 78 65 89",type:"tel"}].map(g=>y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{htmlFor:g.id,className:"block text-sm font-medium text-gray-700",children:g.label}),y.jsx("input",{id:g.id,type:g.type||"text",value:n.contact[g.id],onChange:v=>c(g.id,v.target.value),placeholder:g.placeholder,className:"w-full rounded-lg border-2 border-gray-200 bg-gray-50 px-4 py-2 text-gray-800 placeholder-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 transition-all duration-300"})]},g.id))]})]})]},t),i&&y.jsxs("div",{className:"mt-8 p-6 bg-green-50 border-2 border-green-500 rounded-xl text-center fade-in",children:[y.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Merci pour votre demande d'estimation !"}),y.jsx("p",{className:"text-green-600",children:"Nous avons bien reçu vos informations. Notre expert immobilier va étudier votre dossier et vous contactera dans les 48 heures avec une estimation détaillée de votre bien."})]}),!i&&y.jsxs("div",{className:"mt-8 flex justify-between fade-in",children:[t>1&&y.jsxs("button",{onClick:p,className:"flex items-center px-6 py-2 rounded-lg bg-gray-100 text-gray-600 transition-all duration-300 hover:bg-gray-200",children:[y.jsx(YS,{className:"mr-2 h-5 w-5"}),"Retour"]}),y.jsxs("button",{onClick:t===5?I:h,disabled:!o,className:`ml-auto flex items-center px-6 py-2 rounded-lg transition-all duration-300 ${o?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[t===5?"Recevoir mon estimation":"Étape suivante",o?y.jsx(Nk,{className:"ml-2 h-5 w-5"}):y.jsx(Lk,{className:"ml-2 h-5 w-5"})]})]})]})]})})}const M$=()=>{const[t,e]=B.useState([]),[n,r]=B.useState(null),[i,s]=B.useState(!1),[o,a]=B.useState(""),[l,c]=B.useState(""),[d,h]=B.useState(null),[p,I]=B.useState(""),[g,v]=B.useState({id:"",title:"",price:"0",size:"0",type:"",rooms:"0",bedrooms:"0",bathrooms:"0",amenities:[],location:"",image:"",description:"",condition:"disponible"}),[w,_]=kw.useState("");B.useEffect(()=>{(async()=>{try{const Z=id($i,"houses"),pe=(await dy(Z)).docs.map(me=>({...me.data(),id:me.id}));e(pe)}catch(Z){console.error("Error fetching houses:",Z)}})()},[]),B.useEffect(()=>{_(n?n.amenities.join(", "):g.amenities.join(", "))},[n,g]);const E=async b=>{try{const Z=id($i,"houses"),se=await LD(Z,b);e([...t,{...b,id:se.id}])}catch(Z){console.error("Error adding house:",Z)}},T=async b=>{var Z;if((Z=b.target.files)!=null&&Z[0]){const se=b.target.files[0];if(console.log("File selected for upload:",se),!se.type.startsWith("image/")){alert("Please upload a valid image file.");return}try{const pe=await new Promise((Q,te)=>{const Y=new FileReader;Y.onloadstart=()=>console.log("FileReader started reading the file."),Y.onloadend=()=>console.log("FileReader finished reading the file."),Y.onload=()=>{console.log("FileReader result (Base64):",Y.result),Y.result?Q(Y.result):te("Reader result is null")},Y.onerror=ae=>{console.error("Error during FileReader operation:",ae),te(ae)},Y.onabort=()=>{console.error("FileReader operation was aborted."),te("FileReader operation aborted")};try{console.log("Starting to read file as data URL..."),Y.readAsDataURL(se)}catch(ae){console.error("Failed to start FileReader:",ae),te(ae)}});console.log("Generated Base64 string:",pe);const me=Q=>({...Q,image:pe});console.log("Updating state with Base64 string..."),n?r(Q=>Q?me(Q):null):v(me),console.log("Resetting file input field..."),b.target.value=""}catch(pe){console.error("Error uploading image:",pe)}}else console.warn("No file was selected.")},k=b=>{const{name:Z,value:se}=b.target;n?r({...n,[Z]:se}):v({...g,[Z]:se})},M=b=>{_(b.target.value)},V=()=>{const b=w.split(",").map(Z=>Z.trim()).filter(Z=>Z);n?r({...n,amenities:b}):v({...g,amenities:b})},x=async b=>{b.preventDefault(),console.log("Submitting form with:",g,n);try{if(!g.image&&!(n!=null&&n.image)){alert("Please upload an image before submitting the form.");return}if(n){const Z=sd($i,"houses",n.id);await ND(Z,{...n}),e(t.map(se=>se.id===n.id?n:se)),r(null)}else{const Z=crypto.randomUUID(),se={...g,id:Z};await E(se)}s(!1),v({id:"",title:"",price:"0",size:"0",type:"",rooms:"0",bedrooms:"0",bathrooms:"0",amenities:[],location:"",image:"",description:"",condition:"disponible"})}catch(Z){console.error("Error submitting house:",Z)}},S=b=>{r(b),s(!0)},R=async b=>{try{const Z=sd($i,"houses",b);await OD(Z),e(t.filter(se=>se.id!==b))}catch(Z){console.error("Error deleting house:",Z)}},C=()=>{r(null),v({id:"",title:"",price:"0",size:"0",type:"",rooms:"0",bedrooms:"0",bathrooms:"0",amenities:[],location:"",image:"",description:"",condition:"disponible"}),s(!1)},P=async b=>{b.preventDefault();try{await LM(gf,o,l),alert("Bienvenue !")}catch{I("Problème d'email ou de mot de passe. Veuillez réessayer.")}},N=async()=>{try{await VM(gf),console.log("Déconnexion réussie")}catch(b){console.error("Erreur lors de la déconnexion :",b.message)}};return B.useEffect(()=>{const b=jM(gf,Z=>{h(Z||null)});return()=>b()},[]),d?y.jsx("div",{className:"min-h-screen bg-gray-100 py-8 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"flex justify-between items-center mb-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Interface d'administration - Management des biens"}),y.jsxs("button",{onClick:N,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 flex items-center",children:[y.jsx(Dk,{className:"w-5 h-5 mr-2"}),"Se déconnecter"]})]}),y.jsx("div",{className:"mb-6 flex justify-end",children:y.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center",children:[y.jsx(Uk,{className:"w-5 h-5 mr-2"}),"Ajouter un nouveau bien"]})}),i&&y.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-8",children:[y.jsx("h2",{className:"text-2xl font-semibold mb-6",children:n?"Edit House":"Add New House"}),y.jsxs("form",{onSubmit:x,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre"}),y.jsx("input",{type:"text",id:"title",name:"title",value:n?n.title:g.title,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix"}),y.jsx("input",{type:"number",id:"price",name:"price",value:n?n.price:g.price,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-700 mb-1",children:"Surface"}),y.jsx("input",{type:"number",id:"size",name:"size",value:n?n.size:g.size,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),y.jsx("input",{type:"text",id:"type",name:"type",value:n?n.type:g.type,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"rooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pièces"}),y.jsx("input",{type:"number",id:"rooms",name:"rooms",value:n?n.rooms:g.rooms,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Chambres"}),y.jsx("input",{type:"number",id:"bedrooms",name:"bedrooms",value:n?n.bedrooms:g.bedrooms,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Salle de bains"}),y.jsx("input",{type:"number",id:"bathrooms",name:"bathrooms",value:n?n.bathrooms:g.bathrooms,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"amenities",className:"block text-sm font-medium text-gray-700 mb-1",children:"Annexes (séparées par une virgule)"}),y.jsx("input",{type:"text",id:"amenities",name:"amenities",value:w,onChange:M,onBlur:V,placeholder:"exemple: piscine,parking,ascenseur",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Localisation"}),y.jsx("input",{type:"text",id:"location",name:"location",value:n?n.location:g.location,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image"}),y.jsx("input",{type:"file",id:"image",name:"image",onChange:T,accept:"image/*",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),g.image&&y.jsx("img",{src:g.image,alt:"Uploaded preview",className:"mt-4 h-32 w-32 object-cover rounded-md"})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700 mb-1",children:"État"}),y.jsxs("select",{id:"condition",name:"condition",value:n?n.condition:g.condition,onChange:k,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[y.jsx("option",{value:"",children:"Selectionnez une condition"}),y.jsx("option",{value:"vendu",children:"Vendu"}),y.jsx("option",{value:"disponible",children:"Disponible"}),y.jsx("option",{value:"sous compromis",children:"sous compromis"})]})]}),y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),y.jsx("textarea",{id:"description",name:"description",value:n?n.description:g.description,onChange:k,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),y.jsxs("div",{className:"md:col-span-2 flex justify-end space-x-4",children:[y.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),y.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:n?"Update House":"Add House"})]})]})]}),y.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titre"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Localisation"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"État"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(b=>y.jsxs("tr",{children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.id}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:b.title}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(()=>{const Z=b.price.replace(/[^0-9.-]+/g,""),se=Number(Z);return isNaN(se)?"Invalid price":se.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0})})()}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.location}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${b.condition==="vendu"?"bg-red-100 text-red-800":b.condition==="disponible"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:b.condition==="vendu"?"Vendu":b.condition==="disponible"?"Disponible":"Sous compromis"})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[y.jsxs("button",{onClick:()=>S(b),className:"text-blue-600 hover:text-blue-900 mr-3",children:[y.jsx(Vk,{className:"h-5 w-5"}),y.jsx("span",{className:"sr-only",children:"Modifier"})]}),y.jsxs("button",{onClick:()=>R(b.id),className:"text-red-600 hover:text-red-900",children:[y.jsx(Hk,{className:"h-5 w-5"}),y.jsx("span",{className:"sr-only",children:"Supprimer"})]})]})]},b.id))})]})})]})}):y.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-md w-full space-y-8",children:[y.jsx("div",{children:y.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Interface d'administration"})}),y.jsxs("form",{className:"mt-8 space-y-6",onSubmit:P,children:[y.jsx("input",{type:"hidden",name:"remember",value:"true"}),y.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"username",className:"sr-only",children:"Identifiant"}),y.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Identifiant",value:o,onChange:b=>a(b.target.value)})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),y.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Mot de passe",value:l,onChange:b=>c(b.target.value)})]})]}),y.jsx("div",{children:y.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Valider"})})]}),p&&y.jsx("p",{style:{color:"red"},children:p})]})})},j$=()=>y.jsxs(y.Fragment,{children:[y.jsx(OV,{}),y.jsxs(VP,{children:[y.jsx(Vn,{path:"/",element:y.jsx(bV,{})}),y.jsx(Vn,{path:"/Vendre",element:y.jsx(NV,{})}),y.jsx(Vn,{path:"/Acheter",element:y.jsx(MV,{})}),y.jsx(Vn,{path:"/house/:id",element:y.jsx(LV,{})}),y.jsx(Vn,{path:"/EliseBUIL",element:y.jsx(O$,{})}),y.jsx(Vn,{path:"/Blog",element:y.jsx(N$,{})}),y.jsx(Vn,{path:"/Estimation",element:y.jsx(D$,{})}),y.jsx(Vn,{path:"/Gestion",element:y.jsx(M$,{})}),y.jsx(Vn,{path:"*",element:y.jsx(xV,{})})]})]});function V$(){return y.jsx(KP,{children:y.jsx(j$,{})})}LS(document.getElementById("root")).render(y.jsx(B.StrictMode,{children:y.jsx(V$,{})}));
