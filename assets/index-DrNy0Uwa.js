function Sx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function po(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Ix(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var cE={exports:{}},th={},hE={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ul=Symbol.for("react.element"),Ax=Symbol.for("react.portal"),bx=Symbol.for("react.fragment"),xx=Symbol.for("react.strict_mode"),Rx=Symbol.for("react.profiler"),Cx=Symbol.for("react.provider"),Px=Symbol.for("react.context"),kx=Symbol.for("react.forward_ref"),Nx=Symbol.for("react.suspense"),Ox=Symbol.for("react.memo"),Lx=Symbol.for("react.lazy"),Ev=Symbol.iterator;function Dx(t){return t===null||typeof t!="object"?null:(t=Ev&&t[Ev]||t["@@iterator"],typeof t=="function"?t:null)}var dE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fE=Object.assign,pE={};function mo(t,e,n){this.props=t,this.context=e,this.refs=pE,this.updater=n||dE}mo.prototype.isReactComponent={};mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mE(){}mE.prototype=mo.prototype;function dm(t,e,n){this.props=t,this.context=e,this.refs=pE,this.updater=n||dE}var fm=dm.prototype=new mE;fm.constructor=dm;fE(fm,mo.prototype);fm.isPureReactComponent=!0;var Tv=Array.isArray,gE=Object.prototype.hasOwnProperty,pm={current:null},yE={key:!0,ref:!0,__self:!0,__source:!0};function vE(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)gE.call(e,r)&&!yE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ul,type:t,key:s,ref:o,props:i,_owner:pm.current}}function jx(t,e){return{$$typeof:ul,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mm(t){return typeof t=="object"&&t!==null&&t.$$typeof===ul}function Mx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sv=/\/+/g;function fd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Mx(""+t.key):e.toString(36)}function Su(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ul:case Ax:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+fd(o,0):r,Tv(i)?(n="",t!=null&&(n=t.replace(Sv,"$&/")+"/"),Su(i,e,n,"",function(c){return c})):i!=null&&(mm(i)&&(i=jx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Sv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Tv(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+fd(s,a);o+=Su(s,e,n,u,i)}else if(u=Dx(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+fd(s,a++),o+=Su(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wl(t,e,n){if(t==null)return t;var r=[],i=0;return Su(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Vx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},Iu={transition:null},Ux={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:Iu,ReactCurrentOwner:pm};function _E(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Wl,forEach:function(t,e,n){Wl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wl(t,function(){e++}),e},toArray:function(t){return Wl(t,function(e){return e})||[]},only:function(t){if(!mm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=mo;me.Fragment=bx;me.Profiler=Rx;me.PureComponent=dm;me.StrictMode=xx;me.Suspense=Nx;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ux;me.act=_E;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=pm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)gE.call(e,u)&&!yE.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ul,type:t.type,key:i,ref:s,props:r,_owner:o}};me.createContext=function(t){return t={$$typeof:Px,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cx,_context:t},t.Consumer=t};me.createElement=vE;me.createFactory=function(t){var e=vE.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:kx,render:t}};me.isValidElement=mm;me.lazy=function(t){return{$$typeof:Lx,_payload:{_status:-1,_result:t},_init:Vx}};me.memo=function(t,e){return{$$typeof:Ox,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Iu.transition;Iu.transition={};try{t()}finally{Iu.transition=e}};me.unstable_act=_E;me.useCallback=function(t,e){return Ft.current.useCallback(t,e)};me.useContext=function(t){return Ft.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};me.useEffect=function(t,e){return Ft.current.useEffect(t,e)};me.useId=function(){return Ft.current.useId()};me.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return Ft.current.useMemo(t,e)};me.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};me.useRef=function(t){return Ft.current.useRef(t)};me.useState=function(t){return Ft.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return Ft.current.useTransition()};me.version="18.3.1";hE.exports=me;var V=hE.exports;const wE=po(V),Fx=Sx({__proto__:null,default:wE},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx=V,$x=Symbol.for("react.element"),zx=Symbol.for("react.fragment"),Hx=Object.prototype.hasOwnProperty,Kx=Bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qx={key:!0,ref:!0,__self:!0,__source:!0};function EE(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Hx.call(e,r)&&!qx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$x,type:t,key:s,ref:o,props:i,_owner:Kx.current}}th.Fragment=zx;th.jsx=EE;th.jsxs=EE;cE.exports=th;var p=cE.exports,TE={exports:{}},an={},SE={exports:{}},IE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,ne){var q=H.length;H.push(ne);e:for(;0<q;){var de=q-1>>>1,ue=H[de];if(0<i(ue,ne))H[de]=ne,H[q]=ue,q=de;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ne=H[0],q=H.pop();if(q!==ne){H[0]=q;e:for(var de=0,ue=H.length,be=ue>>>1;de<be;){var Et=2*(de+1)-1,Qt=H[Et],F=Et+1,Y=H[F];if(0>i(Qt,q))F<ue&&0>i(Y,Qt)?(H[de]=Y,H[F]=q,de=F):(H[de]=Qt,H[Et]=q,de=Et);else if(F<ue&&0>i(Y,q))H[de]=Y,H[F]=q,de=F;else break e}}return ne}function i(H,ne){var q=H.sortIndex-ne.sortIndex;return q!==0?q:H.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,g=3,S=!1,y=!1,v=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(H){for(var ne=n(c);ne!==null;){if(ne.callback===null)r(c);else if(ne.startTime<=H)r(c),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=n(c)}}function N(H){if(v=!1,I(H),!y)if(n(u)!==null)y=!0,J(M);else{var ne=n(c);ne!==null&&ee(N,ne.startTime-H)}}function M(H,ne){y=!1,v&&(v=!1,w(E),E=-1),S=!0;var q=g;try{for(I(ne),f=n(u);f!==null&&(!(f.expirationTime>ne)||H&&!P());){var de=f.callback;if(typeof de=="function"){f.callback=null,g=f.priorityLevel;var ue=de(f.expirationTime<=ne);ne=t.unstable_now(),typeof ue=="function"?f.callback=ue:f===n(u)&&r(u),I(ne)}else r(u);f=n(u)}if(f!==null)var be=!0;else{var Et=n(c);Et!==null&&ee(N,Et.startTime-ne),be=!1}return be}finally{f=null,g=q,S=!1}}var z=!1,b=null,E=-1,x=5,C=-1;function P(){return!(t.unstable_now()-C<x)}function k(){if(b!==null){var H=t.unstable_now();C=H;var ne=!0;try{ne=b(!0,H)}finally{ne?R():(z=!1,b=null)}}else z=!1}var R;if(typeof T=="function")R=function(){T(k)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Me=xe.port2;xe.port1.onmessage=k,R=function(){Me.postMessage(null)}}else R=function(){A(k,0)};function J(H){b=H,z||(z=!0,R())}function ee(H,ne){E=A(function(){H(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){y||S||(y=!0,J(M))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var ne=3;break;default:ne=g}var q=g;g=ne;try{return H()}finally{g=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var q=g;g=H;try{return ne()}finally{g=q}},t.unstable_scheduleCallback=function(H,ne,q){var de=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?de+q:de):q=de,H){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=q+ue,H={id:h++,callback:ne,priorityLevel:H,startTime:q,expirationTime:ue,sortIndex:-1},q>de?(H.sortIndex=q,e(c,H),n(u)===null&&H===n(c)&&(v?(w(E),E=-1):v=!0,ee(N,q-de))):(H.sortIndex=ue,e(u,H),y||S||(y=!0,J(M))),H},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(H){var ne=g;return function(){var q=g;g=ne;try{return H.apply(this,arguments)}finally{g=q}}}})(IE);SE.exports=IE;var Wx=SE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx=V,on=Wx;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AE=new Set,Pa={};function es(t,e){Qs(t,e),Qs(t+"Capture",e)}function Qs(t,e){for(Pa[t]=e,t=0;t<e.length;t++)AE.add(e[t])}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pf=Object.prototype.hasOwnProperty,Qx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iv={},Av={};function Jx(t){return Pf.call(Av,t)?!0:Pf.call(Iv,t)?!1:Qx.test(t)?Av[t]=!0:(Iv[t]=!0,!1)}function Yx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Xx(t,e,n,r){if(e===null||typeof e>"u"||Yx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_t[t]=new Bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_t[e]=new Bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_t[t]=new Bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_t[t]=new Bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_t[t]=new Bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_t[t]=new Bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_t[t]=new Bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_t[t]=new Bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_t[t]=new Bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gm=/[\-:]([a-z])/g;function ym(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gm,ym);_t[e]=new Bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gm,ym);_t[e]=new Bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gm,ym);_t[e]=new Bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_t[t]=new Bt(t,1,!1,t.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_t[t]=new Bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function vm(t,e,n,r){var i=_t.hasOwnProperty(e)?_t[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Xx(e,n,i,r)&&(n=null),r||i===null?Jx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tr=Gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gl=Symbol.for("react.element"),Ts=Symbol.for("react.portal"),Ss=Symbol.for("react.fragment"),_m=Symbol.for("react.strict_mode"),kf=Symbol.for("react.profiler"),bE=Symbol.for("react.provider"),xE=Symbol.for("react.context"),wm=Symbol.for("react.forward_ref"),Nf=Symbol.for("react.suspense"),Of=Symbol.for("react.suspense_list"),Em=Symbol.for("react.memo"),Cr=Symbol.for("react.lazy"),RE=Symbol.for("react.offscreen"),bv=Symbol.iterator;function zo(t){return t===null||typeof t!="object"?null:(t=bv&&t[bv]||t["@@iterator"],typeof t=="function"?t:null)}var Fe=Object.assign,pd;function na(t){if(pd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pd=e&&e[1]||""}return`
`+pd+t}var md=!1;function gd(t,e){if(!t||md)return"";md=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{md=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?na(t):""}function Zx(t){switch(t.tag){case 5:return na(t.type);case 16:return na("Lazy");case 13:return na("Suspense");case 19:return na("SuspenseList");case 0:case 2:case 15:return t=gd(t.type,!1),t;case 11:return t=gd(t.type.render,!1),t;case 1:return t=gd(t.type,!0),t;default:return""}}function Lf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ss:return"Fragment";case Ts:return"Portal";case kf:return"Profiler";case _m:return"StrictMode";case Nf:return"Suspense";case Of:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xE:return(t.displayName||"Context")+".Consumer";case bE:return(t._context.displayName||"Context")+".Provider";case wm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Em:return e=t.displayName||null,e!==null?e:Lf(t.type)||"Memo";case Cr:e=t._payload,t=t._init;try{return Lf(t(e))}catch{}}return null}function eR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lf(e);case 8:return e===_m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ii(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tR(t){var e=CE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ql(t){t._valueTracker||(t._valueTracker=tR(t))}function PE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=CE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Df(t,e){var n=e.checked;return Fe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ii(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kE(t,e){e=e.checked,e!=null&&vm(t,"checked",e,!1)}function jf(t,e){kE(t,e);var n=ii(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mf(t,e.type,ii(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mf(t,e,n){(e!=="number"||nc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ra=Array.isArray;function Ms(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ii(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Fe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(ra(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ii(n)}}function NE(t,e){var n=ii(e.value),r=ii(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Pv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jl,LE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jl=Jl||document.createElement("div"),Jl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ka(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nR=["Webkit","ms","Moz","O"];Object.keys(da).forEach(function(t){nR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),da[e]=da[t]})});function DE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||da.hasOwnProperty(t)&&da[t]?(""+e).trim():e+"px"}function jE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=DE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rR=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ff(t,e){if(e){if(rR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Bf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $f=null;function Tm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zf=null,Vs=null,Us=null;function kv(t){if(t=dl(t)){if(typeof zf!="function")throw Error(W(280));var e=t.stateNode;e&&(e=oh(e),zf(t.stateNode,t.type,e))}}function ME(t){Vs?Us?Us.push(t):Us=[t]:Vs=t}function VE(){if(Vs){var t=Vs,e=Us;if(Us=Vs=null,kv(t),e)for(t=0;t<e.length;t++)kv(e[t])}}function UE(t,e){return t(e)}function FE(){}var yd=!1;function BE(t,e,n){if(yd)return t(e,n);yd=!0;try{return UE(t,e,n)}finally{yd=!1,(Vs!==null||Us!==null)&&(FE(),VE())}}function Na(t,e){var n=t.stateNode;if(n===null)return null;var r=oh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Hf=!1;if(fr)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){Hf=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{Hf=!1}function iR(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var fa=!1,rc=null,ic=!1,Kf=null,sR={onError:function(t){fa=!0,rc=t}};function oR(t,e,n,r,i,s,o,a,u){fa=!1,rc=null,iR.apply(sR,arguments)}function aR(t,e,n,r,i,s,o,a,u){if(oR.apply(this,arguments),fa){if(fa){var c=rc;fa=!1,rc=null}else throw Error(W(198));ic||(ic=!0,Kf=c)}}function ts(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $E(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nv(t){if(ts(t)!==t)throw Error(W(188))}function lR(t){var e=t.alternate;if(!e){if(e=ts(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Nv(i),t;if(s===r)return Nv(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function zE(t){return t=lR(t),t!==null?HE(t):null}function HE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=HE(t);if(e!==null)return e;t=t.sibling}return null}var KE=on.unstable_scheduleCallback,Ov=on.unstable_cancelCallback,uR=on.unstable_shouldYield,cR=on.unstable_requestPaint,Ge=on.unstable_now,hR=on.unstable_getCurrentPriorityLevel,Sm=on.unstable_ImmediatePriority,qE=on.unstable_UserBlockingPriority,sc=on.unstable_NormalPriority,dR=on.unstable_LowPriority,WE=on.unstable_IdlePriority,nh=null,Fn=null;function fR(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(nh,t,void 0,(t.current.flags&128)===128)}catch{}}var Sn=Math.clz32?Math.clz32:gR,pR=Math.log,mR=Math.LN2;function gR(t){return t>>>=0,t===0?32:31-(pR(t)/mR|0)|0}var Yl=64,Xl=4194304;function ia(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ia(a):(s&=o,s!==0&&(r=ia(s)))}else o=n&~i,o!==0?r=ia(o):s!==0&&(r=ia(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sn(e),i=1<<n,r|=t[n],e&=~i;return r}function yR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Sn(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=yR(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function qf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function GE(){var t=Yl;return Yl<<=1,!(Yl&4194240)&&(Yl=64),t}function vd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sn(e),t[e]=n}function _R(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Im(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ae=0;function QE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var JE,Am,YE,XE,ZE,Wf=!1,Zl=[],Hr=null,Kr=null,qr=null,Oa=new Map,La=new Map,kr=[],wR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lv(t,e){switch(t){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Oa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":La.delete(e.pointerId)}}function Ko(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=dl(e),e!==null&&Am(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ER(t,e,n,r,i){switch(e){case"focusin":return Hr=Ko(Hr,t,e,n,r,i),!0;case"dragenter":return Kr=Ko(Kr,t,e,n,r,i),!0;case"mouseover":return qr=Ko(qr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Oa.set(s,Ko(Oa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,La.set(s,Ko(La.get(s)||null,t,e,n,r,i)),!0}return!1}function eT(t){var e=ki(t.target);if(e!==null){var n=ts(e);if(n!==null){if(e=n.tag,e===13){if(e=$E(n),e!==null){t.blockedOn=e,ZE(t.priority,function(){YE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Au(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$f=r,n.target.dispatchEvent(r),$f=null}else return e=dl(n),e!==null&&Am(e),t.blockedOn=n,!1;e.shift()}return!0}function Dv(t,e,n){Au(t)&&n.delete(e)}function TR(){Wf=!1,Hr!==null&&Au(Hr)&&(Hr=null),Kr!==null&&Au(Kr)&&(Kr=null),qr!==null&&Au(qr)&&(qr=null),Oa.forEach(Dv),La.forEach(Dv)}function qo(t,e){t.blockedOn===e&&(t.blockedOn=null,Wf||(Wf=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,TR)))}function Da(t){function e(i){return qo(i,t)}if(0<Zl.length){qo(Zl[0],t);for(var n=1;n<Zl.length;n++){var r=Zl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Hr!==null&&qo(Hr,t),Kr!==null&&qo(Kr,t),qr!==null&&qo(qr,t),Oa.forEach(e),La.forEach(e),n=0;n<kr.length;n++)r=kr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kr.length&&(n=kr[0],n.blockedOn===null);)eT(n),n.blockedOn===null&&kr.shift()}var Fs=Tr.ReactCurrentBatchConfig,ac=!0;function SR(t,e,n,r){var i=Ae,s=Fs.transition;Fs.transition=null;try{Ae=1,bm(t,e,n,r)}finally{Ae=i,Fs.transition=s}}function IR(t,e,n,r){var i=Ae,s=Fs.transition;Fs.transition=null;try{Ae=4,bm(t,e,n,r)}finally{Ae=i,Fs.transition=s}}function bm(t,e,n,r){if(ac){var i=Gf(t,e,n,r);if(i===null)Rd(t,e,r,lc,n),Lv(t,r);else if(ER(i,t,e,n,r))r.stopPropagation();else if(Lv(t,r),e&4&&-1<wR.indexOf(t)){for(;i!==null;){var s=dl(i);if(s!==null&&JE(s),s=Gf(t,e,n,r),s===null&&Rd(t,e,r,lc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Rd(t,e,r,null,n)}}var lc=null;function Gf(t,e,n,r){if(lc=null,t=Tm(r),t=ki(t),t!==null)if(e=ts(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$E(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lc=t,null}function tT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hR()){case Sm:return 1;case qE:return 4;case sc:case dR:return 16;case WE:return 536870912;default:return 16}default:return 16}}var Vr=null,xm=null,bu=null;function nT(){if(bu)return bu;var t,e=xm,n=e.length,r,i="value"in Vr?Vr.value:Vr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return bu=i.slice(t,1<r?1-r:void 0)}function xu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function eu(){return!0}function jv(){return!1}function ln(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?eu:jv,this.isPropagationStopped=jv,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eu)},persist:function(){},isPersistent:eu}),e}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rm=ln(go),hl=Fe({},go,{view:0,detail:0}),AR=ln(hl),_d,wd,Wo,rh=Fe({},hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wo&&(Wo&&t.type==="mousemove"?(_d=t.screenX-Wo.screenX,wd=t.screenY-Wo.screenY):wd=_d=0,Wo=t),_d)},movementY:function(t){return"movementY"in t?t.movementY:wd}}),Mv=ln(rh),bR=Fe({},rh,{dataTransfer:0}),xR=ln(bR),RR=Fe({},hl,{relatedTarget:0}),Ed=ln(RR),CR=Fe({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),PR=ln(CR),kR=Fe({},go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NR=ln(kR),OR=Fe({},go,{data:0}),Vv=ln(OR),LR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jR[t])?!!e[t]:!1}function Cm(){return MR}var VR=Fe({},hl,{key:function(t){if(t.key){var e=LR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cm,charCode:function(t){return t.type==="keypress"?xu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UR=ln(VR),FR=Fe({},rh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uv=ln(FR),BR=Fe({},hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cm}),$R=ln(BR),zR=Fe({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),HR=ln(zR),KR=Fe({},rh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qR=ln(KR),WR=[9,13,27,32],Pm=fr&&"CompositionEvent"in window,pa=null;fr&&"documentMode"in document&&(pa=document.documentMode);var GR=fr&&"TextEvent"in window&&!pa,rT=fr&&(!Pm||pa&&8<pa&&11>=pa),Fv=" ",Bv=!1;function iT(t,e){switch(t){case"keyup":return WR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function QR(t,e){switch(t){case"compositionend":return sT(e);case"keypress":return e.which!==32?null:(Bv=!0,Fv);case"textInput":return t=e.data,t===Fv&&Bv?null:t;default:return null}}function JR(t,e){if(Is)return t==="compositionend"||!Pm&&iT(t,e)?(t=nT(),bu=xm=Vr=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rT&&e.locale!=="ko"?null:e.data;default:return null}}var YR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YR[t.type]:e==="textarea"}function oT(t,e,n,r){ME(r),e=uc(e,"onChange"),0<e.length&&(n=new Rm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ma=null,ja=null;function XR(t){yT(t,0)}function ih(t){var e=xs(t);if(PE(e))return t}function ZR(t,e){if(t==="change")return e}var aT=!1;if(fr){var Td;if(fr){var Sd="oninput"in document;if(!Sd){var zv=document.createElement("div");zv.setAttribute("oninput","return;"),Sd=typeof zv.oninput=="function"}Td=Sd}else Td=!1;aT=Td&&(!document.documentMode||9<document.documentMode)}function Hv(){ma&&(ma.detachEvent("onpropertychange",lT),ja=ma=null)}function lT(t){if(t.propertyName==="value"&&ih(ja)){var e=[];oT(e,ja,t,Tm(t)),BE(XR,e)}}function eC(t,e,n){t==="focusin"?(Hv(),ma=e,ja=n,ma.attachEvent("onpropertychange",lT)):t==="focusout"&&Hv()}function tC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ih(ja)}function nC(t,e){if(t==="click")return ih(e)}function rC(t,e){if(t==="input"||t==="change")return ih(e)}function iC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:iC;function Ma(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Pf.call(e,i)||!bn(t[i],e[i]))return!1}return!0}function Kv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qv(t,e){var n=Kv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kv(n)}}function uT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cT(){for(var t=window,e=nc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nc(t.document)}return e}function km(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sC(t){var e=cT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uT(n.ownerDocument.documentElement,n)){if(r!==null&&km(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=qv(n,s);var o=qv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oC=fr&&"documentMode"in document&&11>=document.documentMode,As=null,Qf=null,ga=null,Jf=!1;function Wv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Jf||As==null||As!==nc(r)||(r=As,"selectionStart"in r&&km(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ga&&Ma(ga,r)||(ga=r,r=uc(Qf,"onSelect"),0<r.length&&(e=new Rm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=As)))}function tu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bs={animationend:tu("Animation","AnimationEnd"),animationiteration:tu("Animation","AnimationIteration"),animationstart:tu("Animation","AnimationStart"),transitionend:tu("Transition","TransitionEnd")},Id={},hT={};fr&&(hT=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function sh(t){if(Id[t])return Id[t];if(!bs[t])return t;var e=bs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hT)return Id[t]=e[n];return t}var dT=sh("animationend"),fT=sh("animationiteration"),pT=sh("animationstart"),mT=sh("transitionend"),gT=new Map,Gv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(t,e){gT.set(t,e),es(e,[t])}for(var Ad=0;Ad<Gv.length;Ad++){var bd=Gv[Ad],aC=bd.toLowerCase(),lC=bd[0].toUpperCase()+bd.slice(1);di(aC,"on"+lC)}di(dT,"onAnimationEnd");di(fT,"onAnimationIteration");di(pT,"onAnimationStart");di("dblclick","onDoubleClick");di("focusin","onFocus");di("focusout","onBlur");di(mT,"onTransitionEnd");Qs("onMouseEnter",["mouseout","mouseover"]);Qs("onMouseLeave",["mouseout","mouseover"]);Qs("onPointerEnter",["pointerout","pointerover"]);Qs("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uC=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function Qv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aR(r,e,void 0,t),t.currentTarget=null}function yT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Qv(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Qv(i,a,c),s=u}}}if(ic)throw t=Kf,ic=!1,Kf=null,t}function Oe(t,e){var n=e[tp];n===void 0&&(n=e[tp]=new Set);var r=t+"__bubble";n.has(r)||(vT(e,t,2,!1),n.add(r))}function xd(t,e,n){var r=0;e&&(r|=4),vT(n,t,r,e)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Va(t){if(!t[nu]){t[nu]=!0,AE.forEach(function(n){n!=="selectionchange"&&(uC.has(n)||xd(n,!1,t),xd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nu]||(e[nu]=!0,xd("selectionchange",!1,e))}}function vT(t,e,n,r){switch(tT(e)){case 1:var i=SR;break;case 4:i=IR;break;default:i=bm}n=i.bind(null,e,n,t),i=void 0,!Hf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ki(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}BE(function(){var c=s,h=Tm(n),f=[];e:{var g=gT.get(t);if(g!==void 0){var S=Rm,y=t;switch(t){case"keypress":if(xu(n)===0)break e;case"keydown":case"keyup":S=UR;break;case"focusin":y="focus",S=Ed;break;case"focusout":y="blur",S=Ed;break;case"beforeblur":case"afterblur":S=Ed;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=xR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=$R;break;case dT:case fT:case pT:S=PR;break;case mT:S=HR;break;case"scroll":S=AR;break;case"wheel":S=qR;break;case"copy":case"cut":case"paste":S=NR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Uv}var v=(e&4)!==0,A=!v&&t==="scroll",w=v?g!==null?g+"Capture":null:g;v=[];for(var T=c,I;T!==null;){I=T;var N=I.stateNode;if(I.tag===5&&N!==null&&(I=N,w!==null&&(N=Na(T,w),N!=null&&v.push(Ua(T,N,I)))),A)break;T=T.return}0<v.length&&(g=new S(g,y,null,n,h),f.push({event:g,listeners:v}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",g&&n!==$f&&(y=n.relatedTarget||n.fromElement)&&(ki(y)||y[pr]))break e;if((S||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,S?(y=n.relatedTarget||n.toElement,S=c,y=y?ki(y):null,y!==null&&(A=ts(y),y!==A||y.tag!==5&&y.tag!==6)&&(y=null)):(S=null,y=c),S!==y)){if(v=Mv,N="onMouseLeave",w="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(v=Uv,N="onPointerLeave",w="onPointerEnter",T="pointer"),A=S==null?g:xs(S),I=y==null?g:xs(y),g=new v(N,T+"leave",S,n,h),g.target=A,g.relatedTarget=I,N=null,ki(h)===c&&(v=new v(w,T+"enter",y,n,h),v.target=I,v.relatedTarget=A,N=v),A=N,S&&y)t:{for(v=S,w=y,T=0,I=v;I;I=ds(I))T++;for(I=0,N=w;N;N=ds(N))I++;for(;0<T-I;)v=ds(v),T--;for(;0<I-T;)w=ds(w),I--;for(;T--;){if(v===w||w!==null&&v===w.alternate)break t;v=ds(v),w=ds(w)}v=null}else v=null;S!==null&&Jv(f,g,S,v,!1),y!==null&&A!==null&&Jv(f,A,y,v,!0)}}e:{if(g=c?xs(c):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var M=ZR;else if($v(g))if(aT)M=rC;else{M=tC;var z=eC}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=nC);if(M&&(M=M(t,c))){oT(f,M,n,h);break e}z&&z(t,g,c),t==="focusout"&&(z=g._wrapperState)&&z.controlled&&g.type==="number"&&Mf(g,"number",g.value)}switch(z=c?xs(c):window,t){case"focusin":($v(z)||z.contentEditable==="true")&&(As=z,Qf=c,ga=null);break;case"focusout":ga=Qf=As=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,Wv(f,n,h);break;case"selectionchange":if(oC)break;case"keydown":case"keyup":Wv(f,n,h)}var b;if(Pm)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Is?iT(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(rT&&n.locale!=="ko"&&(Is||E!=="onCompositionStart"?E==="onCompositionEnd"&&Is&&(b=nT()):(Vr=h,xm="value"in Vr?Vr.value:Vr.textContent,Is=!0)),z=uc(c,E),0<z.length&&(E=new Vv(E,t,null,n,h),f.push({event:E,listeners:z}),b?E.data=b:(b=sT(n),b!==null&&(E.data=b)))),(b=GR?QR(t,n):JR(t,n))&&(c=uc(c,"onBeforeInput"),0<c.length&&(h=new Vv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=b))}yT(f,e)})}function Ua(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Na(t,n),s!=null&&r.unshift(Ua(t,s,i)),s=Na(t,e),s!=null&&r.push(Ua(t,s,i))),t=t.return}return r}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Na(n,s),u!=null&&o.unshift(Ua(n,u,a))):i||(u=Na(n,s),u!=null&&o.push(Ua(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cC=/\r\n?/g,hC=/\u0000|\uFFFD/g;function Yv(t){return(typeof t=="string"?t:""+t).replace(cC,`
`).replace(hC,"")}function ru(t,e,n){if(e=Yv(e),Yv(t)!==e&&n)throw Error(W(425))}function cc(){}var Yf=null,Xf=null;function Zf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ep=typeof setTimeout=="function"?setTimeout:void 0,dC=typeof clearTimeout=="function"?clearTimeout:void 0,Xv=typeof Promise=="function"?Promise:void 0,fC=typeof queueMicrotask=="function"?queueMicrotask:typeof Xv<"u"?function(t){return Xv.resolve(null).then(t).catch(pC)}:ep;function pC(t){setTimeout(function(){throw t})}function Cd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Da(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Da(e)}function Wr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yo=Math.random().toString(36).slice(2),Vn="__reactFiber$"+yo,Fa="__reactProps$"+yo,pr="__reactContainer$"+yo,tp="__reactEvents$"+yo,mC="__reactListeners$"+yo,gC="__reactHandles$"+yo;function ki(t){var e=t[Vn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pr]||n[Vn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zv(t);t!==null;){if(n=t[Vn])return n;t=Zv(t)}return e}t=n,n=t.parentNode}return null}function dl(t){return t=t[Vn]||t[pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function oh(t){return t[Fa]||null}var np=[],Rs=-1;function fi(t){return{current:t}}function Le(t){0>Rs||(t.current=np[Rs],np[Rs]=null,Rs--)}function ke(t,e){Rs++,np[Rs]=t.current,t.current=e}var si={},Nt=fi(si),Kt=fi(!1),Hi=si;function Js(t,e){var n=t.type.contextTypes;if(!n)return si;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qt(t){return t=t.childContextTypes,t!=null}function hc(){Le(Kt),Le(Nt)}function e_(t,e,n){if(Nt.current!==si)throw Error(W(168));ke(Nt,e),ke(Kt,n)}function _T(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,eR(t)||"Unknown",i));return Fe({},n,r)}function dc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||si,Hi=Nt.current,ke(Nt,t),ke(Kt,Kt.current),!0}function t_(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=_T(t,e,Hi),r.__reactInternalMemoizedMergedChildContext=t,Le(Kt),Le(Nt),ke(Nt,t)):Le(Kt),ke(Kt,n)}var nr=null,ah=!1,Pd=!1;function wT(t){nr===null?nr=[t]:nr.push(t)}function yC(t){ah=!0,wT(t)}function pi(){if(!Pd&&nr!==null){Pd=!0;var t=0,e=Ae;try{var n=nr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nr=null,ah=!1}catch(i){throw nr!==null&&(nr=nr.slice(t+1)),KE(Sm,pi),i}finally{Ae=e,Pd=!1}}return null}var Cs=[],Ps=0,fc=null,pc=0,un=[],cn=0,Ki=null,rr=1,ir="";function xi(t,e){Cs[Ps++]=pc,Cs[Ps++]=fc,fc=t,pc=e}function ET(t,e,n){un[cn++]=rr,un[cn++]=ir,un[cn++]=Ki,Ki=t;var r=rr;t=ir;var i=32-Sn(r)-1;r&=~(1<<i),n+=1;var s=32-Sn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,rr=1<<32-Sn(e)+i|n<<i|r,ir=s+t}else rr=1<<s|n<<i|r,ir=t}function Nm(t){t.return!==null&&(xi(t,1),ET(t,1,0))}function Om(t){for(;t===fc;)fc=Cs[--Ps],Cs[Ps]=null,pc=Cs[--Ps],Cs[Ps]=null;for(;t===Ki;)Ki=un[--cn],un[cn]=null,ir=un[--cn],un[cn]=null,rr=un[--cn],un[cn]=null}var nn=null,en=null,De=!1,Tn=null;function TT(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function n_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nn=t,en=Wr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nn=t,en=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ki!==null?{id:rr,overflow:ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nn=t,en=null,!0):!1;default:return!1}}function rp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ip(t){if(De){var e=en;if(e){var n=e;if(!n_(t,e)){if(rp(t))throw Error(W(418));e=Wr(n.nextSibling);var r=nn;e&&n_(t,e)?TT(r,n):(t.flags=t.flags&-4097|2,De=!1,nn=t)}}else{if(rp(t))throw Error(W(418));t.flags=t.flags&-4097|2,De=!1,nn=t}}}function r_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function iu(t){if(t!==nn)return!1;if(!De)return r_(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zf(t.type,t.memoizedProps)),e&&(e=en)){if(rp(t))throw ST(),Error(W(418));for(;e;)TT(t,e),e=Wr(e.nextSibling)}if(r_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){en=Wr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}en=null}}else en=nn?Wr(t.stateNode.nextSibling):null;return!0}function ST(){for(var t=en;t;)t=Wr(t.nextSibling)}function Ys(){en=nn=null,De=!1}function Lm(t){Tn===null?Tn=[t]:Tn.push(t)}var vC=Tr.ReactCurrentBatchConfig;function Go(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function su(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function i_(t){var e=t._init;return e(t._payload)}function IT(t){function e(w,T){if(t){var I=w.deletions;I===null?(w.deletions=[T],w.flags|=16):I.push(T)}}function n(w,T){if(!t)return null;for(;T!==null;)e(w,T),T=T.sibling;return null}function r(w,T){for(w=new Map;T!==null;)T.key!==null?w.set(T.key,T):w.set(T.index,T),T=T.sibling;return w}function i(w,T){return w=Yr(w,T),w.index=0,w.sibling=null,w}function s(w,T,I){return w.index=I,t?(I=w.alternate,I!==null?(I=I.index,I<T?(w.flags|=2,T):I):(w.flags|=2,T)):(w.flags|=1048576,T)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,T,I,N){return T===null||T.tag!==6?(T=Md(I,w.mode,N),T.return=w,T):(T=i(T,I),T.return=w,T)}function u(w,T,I,N){var M=I.type;return M===Ss?h(w,T,I.props.children,N,I.key):T!==null&&(T.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Cr&&i_(M)===T.type)?(N=i(T,I.props),N.ref=Go(w,T,I),N.return=w,N):(N=Lu(I.type,I.key,I.props,null,w.mode,N),N.ref=Go(w,T,I),N.return=w,N)}function c(w,T,I,N){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=Vd(I,w.mode,N),T.return=w,T):(T=i(T,I.children||[]),T.return=w,T)}function h(w,T,I,N,M){return T===null||T.tag!==7?(T=Ui(I,w.mode,N,M),T.return=w,T):(T=i(T,I),T.return=w,T)}function f(w,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Md(""+T,w.mode,I),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Gl:return I=Lu(T.type,T.key,T.props,null,w.mode,I),I.ref=Go(w,null,T),I.return=w,I;case Ts:return T=Vd(T,w.mode,I),T.return=w,T;case Cr:var N=T._init;return f(w,N(T._payload),I)}if(ra(T)||zo(T))return T=Ui(T,w.mode,I,null),T.return=w,T;su(w,T)}return null}function g(w,T,I,N){var M=T!==null?T.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return M!==null?null:a(w,T,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Gl:return I.key===M?u(w,T,I,N):null;case Ts:return I.key===M?c(w,T,I,N):null;case Cr:return M=I._init,g(w,T,M(I._payload),N)}if(ra(I)||zo(I))return M!==null?null:h(w,T,I,N,null);su(w,I)}return null}function S(w,T,I,N,M){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(I)||null,a(T,w,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Gl:return w=w.get(N.key===null?I:N.key)||null,u(T,w,N,M);case Ts:return w=w.get(N.key===null?I:N.key)||null,c(T,w,N,M);case Cr:var z=N._init;return S(w,T,I,z(N._payload),M)}if(ra(N)||zo(N))return w=w.get(I)||null,h(T,w,N,M,null);su(T,N)}return null}function y(w,T,I,N){for(var M=null,z=null,b=T,E=T=0,x=null;b!==null&&E<I.length;E++){b.index>E?(x=b,b=null):x=b.sibling;var C=g(w,b,I[E],N);if(C===null){b===null&&(b=x);break}t&&b&&C.alternate===null&&e(w,b),T=s(C,T,E),z===null?M=C:z.sibling=C,z=C,b=x}if(E===I.length)return n(w,b),De&&xi(w,E),M;if(b===null){for(;E<I.length;E++)b=f(w,I[E],N),b!==null&&(T=s(b,T,E),z===null?M=b:z.sibling=b,z=b);return De&&xi(w,E),M}for(b=r(w,b);E<I.length;E++)x=S(b,w,E,I[E],N),x!==null&&(t&&x.alternate!==null&&b.delete(x.key===null?E:x.key),T=s(x,T,E),z===null?M=x:z.sibling=x,z=x);return t&&b.forEach(function(P){return e(w,P)}),De&&xi(w,E),M}function v(w,T,I,N){var M=zo(I);if(typeof M!="function")throw Error(W(150));if(I=M.call(I),I==null)throw Error(W(151));for(var z=M=null,b=T,E=T=0,x=null,C=I.next();b!==null&&!C.done;E++,C=I.next()){b.index>E?(x=b,b=null):x=b.sibling;var P=g(w,b,C.value,N);if(P===null){b===null&&(b=x);break}t&&b&&P.alternate===null&&e(w,b),T=s(P,T,E),z===null?M=P:z.sibling=P,z=P,b=x}if(C.done)return n(w,b),De&&xi(w,E),M;if(b===null){for(;!C.done;E++,C=I.next())C=f(w,C.value,N),C!==null&&(T=s(C,T,E),z===null?M=C:z.sibling=C,z=C);return De&&xi(w,E),M}for(b=r(w,b);!C.done;E++,C=I.next())C=S(b,w,E,C.value,N),C!==null&&(t&&C.alternate!==null&&b.delete(C.key===null?E:C.key),T=s(C,T,E),z===null?M=C:z.sibling=C,z=C);return t&&b.forEach(function(k){return e(w,k)}),De&&xi(w,E),M}function A(w,T,I,N){if(typeof I=="object"&&I!==null&&I.type===Ss&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Gl:e:{for(var M=I.key,z=T;z!==null;){if(z.key===M){if(M=I.type,M===Ss){if(z.tag===7){n(w,z.sibling),T=i(z,I.props.children),T.return=w,w=T;break e}}else if(z.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Cr&&i_(M)===z.type){n(w,z.sibling),T=i(z,I.props),T.ref=Go(w,z,I),T.return=w,w=T;break e}n(w,z);break}else e(w,z);z=z.sibling}I.type===Ss?(T=Ui(I.props.children,w.mode,N,I.key),T.return=w,w=T):(N=Lu(I.type,I.key,I.props,null,w.mode,N),N.ref=Go(w,T,I),N.return=w,w=N)}return o(w);case Ts:e:{for(z=I.key;T!==null;){if(T.key===z)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){n(w,T.sibling),T=i(T,I.children||[]),T.return=w,w=T;break e}else{n(w,T);break}else e(w,T);T=T.sibling}T=Vd(I,w.mode,N),T.return=w,w=T}return o(w);case Cr:return z=I._init,A(w,T,z(I._payload),N)}if(ra(I))return y(w,T,I,N);if(zo(I))return v(w,T,I,N);su(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,T!==null&&T.tag===6?(n(w,T.sibling),T=i(T,I),T.return=w,w=T):(n(w,T),T=Md(I,w.mode,N),T.return=w,w=T),o(w)):n(w,T)}return A}var Xs=IT(!0),AT=IT(!1),mc=fi(null),gc=null,ks=null,Dm=null;function jm(){Dm=ks=gc=null}function Mm(t){var e=mc.current;Le(mc),t._currentValue=e}function sp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bs(t,e){gc=t,Dm=ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(Dm!==t)if(t={context:t,memoizedValue:e,next:null},ks===null){if(gc===null)throw Error(W(308));ks=t,gc.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var Ni=null;function Vm(t){Ni===null?Ni=[t]:Ni.push(t)}function bT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Vm(e)):(n.next=i.next,i.next=n),e.interleaved=n,mr(t,r)}function mr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pr=!1;function Um(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mr(t,n)}return i=r.interleaved,i===null?(e.next=e,Vm(r)):(e.next=i.next,i.next=e),r.interleaved=e,mr(t,n)}function Ru(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Im(t,n)}}function s_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yc(t,e,n,r){var i=t.updateQueue;Pr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,h=c=u=null,a=s;do{var g=a.lane,S=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:S,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(g=e,S=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(S,f,g);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,g=typeof y=="function"?y.call(S,f,g):y,g==null)break e;f=Fe({},f,g);break e;case 2:Pr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else S={eventTime:S,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=S,u=f):h=h.next=S,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wi|=o,t.lanes=o,t.memoizedState=f}}function o_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var fl={},Bn=fi(fl),Ba=fi(fl),$a=fi(fl);function Oi(t){if(t===fl)throw Error(W(174));return t}function Fm(t,e){switch(ke($a,e),ke(Ba,t),ke(Bn,fl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Uf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Uf(e,t)}Le(Bn),ke(Bn,e)}function Zs(){Le(Bn),Le(Ba),Le($a)}function RT(t){Oi($a.current);var e=Oi(Bn.current),n=Uf(e,t.type);e!==n&&(ke(Ba,t),ke(Bn,n))}function Bm(t){Ba.current===t&&(Le(Bn),Le(Ba))}var Ve=fi(0);function vc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kd=[];function $m(){for(var t=0;t<kd.length;t++)kd[t]._workInProgressVersionPrimary=null;kd.length=0}var Cu=Tr.ReactCurrentDispatcher,Nd=Tr.ReactCurrentBatchConfig,qi=0,Ue=null,rt=null,dt=null,_c=!1,ya=!1,za=0,_C=0;function At(){throw Error(W(321))}function zm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function Hm(t,e,n,r,i,s){if(qi=s,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cu.current=t===null||t.memoizedState===null?SC:IC,t=n(r,i),ya){s=0;do{if(ya=!1,za=0,25<=s)throw Error(W(301));s+=1,dt=rt=null,e.updateQueue=null,Cu.current=AC,t=n(r,i)}while(ya)}if(Cu.current=wc,e=rt!==null&&rt.next!==null,qi=0,dt=rt=Ue=null,_c=!1,e)throw Error(W(300));return t}function Km(){var t=za!==0;return za=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ue.memoizedState=dt=t:dt=dt.next=t,dt}function mn(){if(rt===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var e=dt===null?Ue.memoizedState:dt.next;if(e!==null)dt=e,rt=t;else{if(t===null)throw Error(W(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},dt===null?Ue.memoizedState=dt=t:dt=dt.next=t}return dt}function Ha(t,e){return typeof e=="function"?e(t):e}function Od(t){var e=mn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=rt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((qi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Ue.lanes|=h,Wi|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,bn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ue.lanes|=s,Wi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ld(t){var e=mn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bn(s,e.memoizedState)||(Ht=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function CT(){}function PT(t,e){var n=Ue,r=mn(),i=e(),s=!bn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ht=!0),r=r.queue,qm(OT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Ka(9,NT.bind(null,n,r,i,e),void 0,null),ft===null)throw Error(W(349));qi&30||kT(n,e,i)}return i}function kT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NT(t,e,n,r){e.value=n,e.getSnapshot=r,LT(e)&&DT(t)}function OT(t,e,n){return n(function(){LT(e)&&DT(t)})}function LT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function DT(t){var e=mr(t,1);e!==null&&In(e,t,1,-1)}function a_(t){var e=On();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:t},e.queue=t,t=t.dispatch=TC.bind(null,Ue,t),[e.memoizedState,t]}function Ka(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jT(){return mn().memoizedState}function Pu(t,e,n,r){var i=On();Ue.flags|=t,i.memoizedState=Ka(1|e,n,void 0,r===void 0?null:r)}function lh(t,e,n,r){var i=mn();r=r===void 0?null:r;var s=void 0;if(rt!==null){var o=rt.memoizedState;if(s=o.destroy,r!==null&&zm(r,o.deps)){i.memoizedState=Ka(e,n,s,r);return}}Ue.flags|=t,i.memoizedState=Ka(1|e,n,s,r)}function l_(t,e){return Pu(8390656,8,t,e)}function qm(t,e){return lh(2048,8,t,e)}function MT(t,e){return lh(4,2,t,e)}function VT(t,e){return lh(4,4,t,e)}function UT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FT(t,e,n){return n=n!=null?n.concat([t]):null,lh(4,4,UT.bind(null,e,t),n)}function Wm(){}function BT(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $T(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zT(t,e,n){return qi&21?(bn(n,e)||(n=GE(),Ue.lanes|=n,Wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function wC(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=Nd.transition;Nd.transition={};try{t(!1),e()}finally{Ae=n,Nd.transition=r}}function HT(){return mn().memoizedState}function EC(t,e,n){var r=Jr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},KT(t))qT(e,n);else if(n=bT(t,e,n,r),n!==null){var i=Ut();In(n,t,r,i),WT(n,e,r)}}function TC(t,e,n){var r=Jr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(KT(t))qT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,bn(a,o)){var u=e.interleaved;u===null?(i.next=i,Vm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=bT(t,e,i,r),n!==null&&(i=Ut(),In(n,t,r,i),WT(n,e,r))}}function KT(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function qT(t,e){ya=_c=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Im(t,n)}}var wc={readContext:pn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},SC={readContext:pn,useCallback:function(t,e){return On().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:l_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Pu(4194308,4,UT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Pu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Pu(4,2,t,e)},useMemo:function(t,e){var n=On();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=On();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=EC.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=On();return t={current:t},e.memoizedState=t},useState:a_,useDebugValue:Wm,useDeferredValue:function(t){return On().memoizedState=t},useTransition:function(){var t=a_(!1),e=t[0];return t=wC.bind(null,t[1]),On().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,i=On();if(De){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),ft===null)throw Error(W(349));qi&30||kT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,l_(OT.bind(null,r,s,t),[t]),r.flags|=2048,Ka(9,NT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=On(),e=ft.identifierPrefix;if(De){var n=ir,r=rr;n=(r&~(1<<32-Sn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=za++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_C++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IC={readContext:pn,useCallback:BT,useContext:pn,useEffect:qm,useImperativeHandle:FT,useInsertionEffect:MT,useLayoutEffect:VT,useMemo:$T,useReducer:Od,useRef:jT,useState:function(){return Od(Ha)},useDebugValue:Wm,useDeferredValue:function(t){var e=mn();return zT(e,rt.memoizedState,t)},useTransition:function(){var t=Od(Ha)[0],e=mn().memoizedState;return[t,e]},useMutableSource:CT,useSyncExternalStore:PT,useId:HT,unstable_isNewReconciler:!1},AC={readContext:pn,useCallback:BT,useContext:pn,useEffect:qm,useImperativeHandle:FT,useInsertionEffect:MT,useLayoutEffect:VT,useMemo:$T,useReducer:Ld,useRef:jT,useState:function(){return Ld(Ha)},useDebugValue:Wm,useDeferredValue:function(t){var e=mn();return rt===null?e.memoizedState=t:zT(e,rt.memoizedState,t)},useTransition:function(){var t=Ld(Ha)[0],e=mn().memoizedState;return[t,e]},useMutableSource:CT,useSyncExternalStore:PT,useId:HT,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=Fe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function op(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uh={isMounted:function(t){return(t=t._reactInternals)?ts(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=Jr(t),s=cr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Gr(t,s,i),e!==null&&(In(e,t,i,r),Ru(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=Jr(t),s=cr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Gr(t,s,i),e!==null&&(In(e,t,i,r),Ru(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=Jr(t),i=cr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Gr(t,i,r),e!==null&&(In(e,t,r,n),Ru(e,t,r))}};function u_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ma(n,r)||!Ma(i,s):!0}function GT(t,e,n){var r=!1,i=si,s=e.contextType;return typeof s=="object"&&s!==null?s=pn(s):(i=qt(e)?Hi:Nt.current,r=e.contextTypes,s=(r=r!=null)?Js(t,i):si),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function c_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uh.enqueueReplaceState(e,e.state,null)}function ap(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Um(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pn(s):(s=qt(e)?Hi:Nt.current,i.context=Js(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(op(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uh.enqueueReplaceState(i,i.state,null),yc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function eo(t,e){try{var n="",r=e;do n+=Zx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Dd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bC=typeof WeakMap=="function"?WeakMap:Map;function QT(t,e,n){n=cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tc||(Tc=!0,vp=r),lp(t,e)},n}function JT(t,e,n){n=cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){lp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){lp(t,e),typeof r!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function h_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=FC.bind(null,t,e,n),e.then(t,t))}function d_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function f_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=cr(-1,1),e.tag=2,Gr(n,e,1))),n.lanes|=1),t)}var xC=Tr.ReactCurrentOwner,Ht=!1;function Vt(t,e,n,r){e.child=t===null?AT(e,null,n,r):Xs(e,t.child,n,r)}function p_(t,e,n,r,i){n=n.render;var s=e.ref;return Bs(e,i),r=Hm(t,e,n,r,s,i),n=Km(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(De&&n&&Nm(e),e.flags|=1,Vt(t,e,r,i),e.child)}function m_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!tg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,YT(t,e,s,r,i)):(t=Lu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ma,n(o,r)&&t.ref===e.ref)return gr(t,e,i)}return e.flags|=1,t=Yr(s,r),t.ref=e.ref,t.return=e,e.child=t}function YT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ma(s,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,gr(t,e,i)}return up(t,e,n,r,i)}function XT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Os,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Os,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ke(Os,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ke(Os,Yt),Yt|=r;return Vt(t,e,i,n),e.child}function ZT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function up(t,e,n,r,i){var s=qt(n)?Hi:Nt.current;return s=Js(e,s),Bs(e,i),n=Hm(t,e,n,r,s,i),r=Km(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gr(t,e,i)):(De&&r&&Nm(e),e.flags|=1,Vt(t,e,n,i),e.child)}function g_(t,e,n,r,i){if(qt(n)){var s=!0;dc(e)}else s=!1;if(Bs(e,i),e.stateNode===null)ku(t,e),GT(e,n,r),ap(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=pn(c):(c=qt(n)?Hi:Nt.current,c=Js(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&c_(e,o,r,c),Pr=!1;var g=e.memoizedState;o.state=g,yc(e,r,o,i),u=e.memoizedState,a!==r||g!==u||Kt.current||Pr?(typeof h=="function"&&(op(e,n,h,r),u=e.memoizedState),(a=Pr||u_(e,n,a,r,g,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,xT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:wn(e.type,a),o.props=c,f=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=pn(u):(u=qt(n)?Hi:Nt.current,u=Js(e,u));var S=n.getDerivedStateFromProps;(h=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==u)&&c_(e,o,r,u),Pr=!1,g=e.memoizedState,o.state=g,yc(e,r,o,i);var y=e.memoizedState;a!==f||g!==y||Kt.current||Pr?(typeof S=="function"&&(op(e,n,S,r),y=e.memoizedState),(c=Pr||u_(e,n,c,r,g,y,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return cp(t,e,n,r,s,i)}function cp(t,e,n,r,i,s){ZT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&t_(e,n,!1),gr(t,e,s);r=e.stateNode,xC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xs(e,t.child,null,s),e.child=Xs(e,null,a,s)):Vt(t,e,a,s),e.memoizedState=r.state,i&&t_(e,n,!0),e.child}function eS(t){var e=t.stateNode;e.pendingContext?e_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&e_(t,e.context,!1),Fm(t,e.containerInfo)}function y_(t,e,n,r,i){return Ys(),Lm(i),e.flags|=256,Vt(t,e,n,r),e.child}var hp={dehydrated:null,treeContext:null,retryLane:0};function dp(t){return{baseLanes:t,cachePool:null,transitions:null}}function tS(t,e,n){var r=e.pendingProps,i=Ve.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ke(Ve,i&1),t===null)return ip(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dh(o,r,0,null),t=Ui(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=dp(n),e.memoizedState=hp,t):Gm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return RC(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Yr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Yr(a,s):(s=Ui(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?dp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hp,r}return s=t.child,t=s.sibling,r=Yr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gm(t,e){return e=dh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ou(t,e,n,r){return r!==null&&Lm(r),Xs(e,t.child,null,n),t=Gm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RC(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Dd(Error(W(422))),ou(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=dh({mode:"visible",children:r.children},i,0,null),s=Ui(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xs(e,t.child,null,o),e.child.memoizedState=dp(o),e.memoizedState=hp,s);if(!(e.mode&1))return ou(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Dd(s,r,void 0),ou(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ht||a){if(r=ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,mr(t,i),In(r,t,i,-1))}return eg(),r=Dd(Error(W(421))),ou(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,en=Wr(i.nextSibling),nn=e,De=!0,Tn=null,t!==null&&(un[cn++]=rr,un[cn++]=ir,un[cn++]=Ki,rr=t.id,ir=t.overflow,Ki=e),e=Gm(e,r.children),e.flags|=4096,e)}function v_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sp(t.return,e,n)}function jd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function nS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v_(t,n,e);else if(t.tag===19)v_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),jd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}jd(e,!0,n,null,s);break;case"together":jd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ku(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Yr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CC(t,e,n){switch(e.tag){case 3:eS(e),Ys();break;case 5:RT(e);break;case 1:qt(e.type)&&dc(e);break;case 4:Fm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ke(mc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?tS(t,e,n):(ke(Ve,Ve.current&1),t=gr(t,e,n),t!==null?t.sibling:null);ke(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,XT(t,e,n)}return gr(t,e,n)}var rS,fp,iS,sS;rS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fp=function(){};iS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Oi(Bn.current);var s=null;switch(n){case"input":i=Df(t,i),r=Df(t,r),s=[];break;case"select":i=Fe({},i,{value:void 0}),r=Fe({},r,{value:void 0}),s=[];break;case"textarea":i=Vf(t,i),r=Vf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cc)}Ff(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Oe("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};sS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qo(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function PC(t,e,n){var r=e.pendingProps;switch(Om(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return qt(e.type)&&hc(),bt(e),null;case 3:return r=e.stateNode,Zs(),Le(Kt),Le(Nt),$m(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(iu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(Ep(Tn),Tn=null))),fp(t,e),bt(e),null;case 5:Bm(e);var i=Oi($a.current);if(n=e.type,t!==null&&e.stateNode!=null)iS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return bt(e),null}if(t=Oi(Bn.current),iu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Vn]=e,r[Fa]=s,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(i=0;i<sa.length;i++)Oe(sa[i],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":xv(r,s),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Oe("invalid",r);break;case"textarea":Cv(r,s),Oe("invalid",r)}Ff(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ru(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ru(r.textContent,a,t),i=["children",""+a]):Pa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":Ql(r),Rv(r,s,!0);break;case"textarea":Ql(r),Pv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=cc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vn]=e,t[Fa]=r,rS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bf(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),i=r;break;case"iframe":case"object":case"embed":Oe("load",t),i=r;break;case"video":case"audio":for(i=0;i<sa.length;i++)Oe(sa[i],t);i=r;break;case"source":Oe("error",t),i=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),i=r;break;case"details":Oe("toggle",t),i=r;break;case"input":xv(t,r),i=Df(t,r),Oe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fe({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":Cv(t,r),i=Vf(t,r),Oe("invalid",t);break;default:i=r}Ff(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?jE(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&LE(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ka(t,u):typeof u=="number"&&ka(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pa.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Oe("scroll",t):u!=null&&vm(t,s,u,o))}switch(n){case"input":Ql(t),Rv(t,r,!1);break;case"textarea":Ql(t),Pv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ii(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ms(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ms(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)sS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Oi($a.current),Oi(Bn.current),iu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vn]=e,(s=r.nodeValue!==n)&&(t=nn,t!==null))switch(t.tag){case 3:ru(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ru(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vn]=e,e.stateNode=r}return bt(e),null;case 13:if(Le(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&en!==null&&e.mode&1&&!(e.flags&128))ST(),Ys(),e.flags|=98560,s=!1;else if(s=iu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Vn]=e}else Ys(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),s=!1}else Tn!==null&&(Ep(Tn),Tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?st===0&&(st=3):eg())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return Zs(),fp(t,e),t===null&&Va(e.stateNode.containerInfo),bt(e),null;case 10:return Mm(e.type._context),bt(e),null;case 17:return qt(e.type)&&hc(),bt(e),null;case 19:if(Le(Ve),s=e.memoizedState,s===null)return bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Qo(s,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vc(t),o!==null){for(e.flags|=128,Qo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Ve,Ve.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ge()>to&&(e.flags|=128,r=!0,Qo(s,!1),e.lanes=4194304)}else{if(!r)if(t=vc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return bt(e),null}else 2*Ge()-s.renderingStartTime>to&&n!==1073741824&&(e.flags|=128,r=!0,Qo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ge(),e.sibling=null,n=Ve.current,ke(Ve,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return Zm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function kC(t,e){switch(Om(e),e.tag){case 1:return qt(e.type)&&hc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zs(),Le(Kt),Le(Nt),$m(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bm(e),null;case 13:if(Le(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ys()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(Ve),null;case 4:return Zs(),null;case 10:return Mm(e.type._context),null;case 22:case 23:return Zm(),null;case 24:return null;default:return null}}var au=!1,Ct=!1,NC=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ns(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function pp(t,e,n){try{n()}catch(r){He(t,e,r)}}var __=!1;function OC(t,e){if(Yf=ac,t=cT(),km(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,g=null;t:for(;;){for(var S;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(S=f.firstChild)!==null;)g=f,f=S;for(;;){if(f===t)break t;if(g===n&&++c===i&&(a=o),g===s&&++h===r&&(u=o),(S=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=S}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xf={focusedElem:t,selectionRange:n},ac=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,A=y.memoizedState,w=e.stateNode,T=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:wn(e.type,v),A);w.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(N){He(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return y=__,__=!1,y}function va(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&pp(e,n,s)}i=i.next}while(i!==r)}}function ch(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oS(t){var e=t.alternate;e!==null&&(t.alternate=null,oS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[Fa],delete e[tp],delete e[mC],delete e[gC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aS(t){return t.tag===5||t.tag===3||t.tag===4}function w_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cc));else if(r!==4&&(t=t.child,t!==null))for(gp(t,e,n),t=t.sibling;t!==null;)gp(t,e,n),t=t.sibling}function yp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yp(t,e,n),t=t.sibling;t!==null;)yp(t,e,n),t=t.sibling}var mt=null,En=!1;function xr(t,e,n){for(n=n.child;n!==null;)lS(t,e,n),n=n.sibling}function lS(t,e,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(nh,n)}catch{}switch(n.tag){case 5:Ct||Ns(n,e);case 6:var r=mt,i=En;mt=null,xr(t,e,n),mt=r,En=i,mt!==null&&(En?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(En?(t=mt,n=n.stateNode,t.nodeType===8?Cd(t.parentNode,n):t.nodeType===1&&Cd(t,n),Da(t)):Cd(mt,n.stateNode));break;case 4:r=mt,i=En,mt=n.stateNode.containerInfo,En=!0,xr(t,e,n),mt=r,En=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&pp(n,e,o),i=i.next}while(i!==r)}xr(t,e,n);break;case 1:if(!Ct&&(Ns(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}xr(t,e,n);break;case 21:xr(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,xr(t,e,n),Ct=r):xr(t,e,n);break;default:xr(t,e,n)}}function E_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new NC),e.forEach(function(r){var i=$C.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,En=!1;break e;case 3:mt=a.stateNode.containerInfo,En=!0;break e;case 4:mt=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(mt===null)throw Error(W(160));lS(s,o,i),mt=null,En=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){He(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uS(e,t),e=e.sibling}function uS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Cn(t),r&4){try{va(3,t,t.return),ch(3,t)}catch(v){He(t,t.return,v)}try{va(5,t,t.return)}catch(v){He(t,t.return,v)}}break;case 1:yn(e,t),Cn(t),r&512&&n!==null&&Ns(n,n.return);break;case 5:if(yn(e,t),Cn(t),r&512&&n!==null&&Ns(n,n.return),t.flags&32){var i=t.stateNode;try{ka(i,"")}catch(v){He(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&kE(i,s),Bf(a,o);var c=Bf(a,s);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?jE(i,f):h==="dangerouslySetInnerHTML"?LE(i,f):h==="children"?ka(i,f):vm(i,h,f,c)}switch(a){case"input":jf(i,s);break;case"textarea":NE(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var S=s.value;S!=null?Ms(i,!!s.multiple,S,!1):g!==!!s.multiple&&(s.defaultValue!=null?Ms(i,!!s.multiple,s.defaultValue,!0):Ms(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fa]=s}catch(v){He(t,t.return,v)}}break;case 6:if(yn(e,t),Cn(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){He(t,t.return,v)}}break;case 3:if(yn(e,t),Cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Da(e.containerInfo)}catch(v){He(t,t.return,v)}break;case 4:yn(e,t),Cn(t);break;case 13:yn(e,t),Cn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ym=Ge())),r&4&&E_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(c=Ct)||h,yn(e,t),Ct=c):yn(e,t),Cn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(re=t,h=t.child;h!==null;){for(f=re=h;re!==null;){switch(g=re,S=g.child,g.tag){case 0:case 11:case 14:case 15:va(4,g,g.return);break;case 1:Ns(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){He(r,n,v)}}break;case 5:Ns(g,g.return);break;case 22:if(g.memoizedState!==null){S_(f);continue}}S!==null?(S.return=g,re=S):S_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=DE("display",o))}catch(v){He(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){He(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yn(e,t),Cn(t),r&4&&E_(t);break;case 21:break;default:yn(e,t),Cn(t)}}function Cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(aS(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ka(i,""),r.flags&=-33);var s=w_(t);yp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=w_(t);gp(t,a,o);break;default:throw Error(W(161))}}catch(u){He(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LC(t,e,n){re=t,cS(t)}function cS(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||au;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Ct;a=au;var c=Ct;if(au=o,(Ct=u)&&!c)for(re=i;re!==null;)o=re,u=o.child,o.tag===22&&o.memoizedState!==null?I_(i):u!==null?(u.return=o,re=u):I_(i);for(;s!==null;)re=s,cS(s),s=s.sibling;re=i,au=a,Ct=c}T_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):T_(t)}}function T_(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||ch(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&o_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}o_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Da(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ct||e.flags&512&&mp(e)}catch(g){He(e,e.return,g)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function S_(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function I_(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ch(4,e)}catch(u){He(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){He(e,i,u)}}var s=e.return;try{mp(e)}catch(u){He(e,s,u)}break;case 5:var o=e.return;try{mp(e)}catch(u){He(e,o,u)}}}catch(u){He(e,e.return,u)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var DC=Math.ceil,Ec=Tr.ReactCurrentDispatcher,Qm=Tr.ReactCurrentOwner,fn=Tr.ReactCurrentBatchConfig,Te=0,ft=null,Xe=null,vt=0,Yt=0,Os=fi(0),st=0,qa=null,Wi=0,hh=0,Jm=0,_a=null,zt=null,Ym=0,to=1/0,er=null,Tc=!1,vp=null,Qr=null,lu=!1,Ur=null,Sc=0,wa=0,_p=null,Nu=-1,Ou=0;function Ut(){return Te&6?Ge():Nu!==-1?Nu:Nu=Ge()}function Jr(t){return t.mode&1?Te&2&&vt!==0?vt&-vt:vC.transition!==null?(Ou===0&&(Ou=GE()),Ou):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:tT(t.type)),t):1}function In(t,e,n,r){if(50<wa)throw wa=0,_p=null,Error(W(185));cl(t,n,r),(!(Te&2)||t!==ft)&&(t===ft&&(!(Te&2)&&(hh|=n),st===4&&Nr(t,vt)),Wt(t,r),n===1&&Te===0&&!(e.mode&1)&&(to=Ge()+500,ah&&pi()))}function Wt(t,e){var n=t.callbackNode;vR(t,e);var r=oc(t,t===ft?vt:0);if(r===0)n!==null&&Ov(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ov(n),e===1)t.tag===0?yC(A_.bind(null,t)):wT(A_.bind(null,t)),fC(function(){!(Te&6)&&pi()}),n=null;else{switch(QE(r)){case 1:n=Sm;break;case 4:n=qE;break;case 16:n=sc;break;case 536870912:n=WE;break;default:n=sc}n=vS(n,hS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hS(t,e){if(Nu=-1,Ou=0,Te&6)throw Error(W(327));var n=t.callbackNode;if($s()&&t.callbackNode!==n)return null;var r=oc(t,t===ft?vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ic(t,r);else{e=r;var i=Te;Te|=2;var s=fS();(ft!==t||vt!==e)&&(er=null,to=Ge()+500,Vi(t,e));do try{VC();break}catch(a){dS(t,a)}while(!0);jm(),Ec.current=s,Te=i,Xe!==null?e=0:(ft=null,vt=0,e=st)}if(e!==0){if(e===2&&(i=qf(t),i!==0&&(r=i,e=wp(t,i))),e===1)throw n=qa,Vi(t,0),Nr(t,r),Wt(t,Ge()),n;if(e===6)Nr(t,r);else{if(i=t.current.alternate,!(r&30)&&!jC(i)&&(e=Ic(t,r),e===2&&(s=qf(t),s!==0&&(r=s,e=wp(t,s))),e===1))throw n=qa,Vi(t,0),Nr(t,r),Wt(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Ri(t,zt,er);break;case 3:if(Nr(t,r),(r&130023424)===r&&(e=Ym+500-Ge(),10<e)){if(oc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ep(Ri.bind(null,t,zt,er),e);break}Ri(t,zt,er);break;case 4:if(Nr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Sn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DC(r/1960))-r,10<r){t.timeoutHandle=ep(Ri.bind(null,t,zt,er),r);break}Ri(t,zt,er);break;case 5:Ri(t,zt,er);break;default:throw Error(W(329))}}}return Wt(t,Ge()),t.callbackNode===n?hS.bind(null,t):null}function wp(t,e){var n=_a;return t.current.memoizedState.isDehydrated&&(Vi(t,e).flags|=256),t=Ic(t,e),t!==2&&(e=zt,zt=n,e!==null&&Ep(e)),t}function Ep(t){zt===null?zt=t:zt.push.apply(zt,t)}function jC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nr(t,e){for(e&=~Jm,e&=~hh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sn(e),r=1<<n;t[n]=-1,e&=~r}}function A_(t){if(Te&6)throw Error(W(327));$s();var e=oc(t,0);if(!(e&1))return Wt(t,Ge()),null;var n=Ic(t,e);if(t.tag!==0&&n===2){var r=qf(t);r!==0&&(e=r,n=wp(t,r))}if(n===1)throw n=qa,Vi(t,0),Nr(t,e),Wt(t,Ge()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ri(t,zt,er),Wt(t,Ge()),null}function Xm(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(to=Ge()+500,ah&&pi())}}function Gi(t){Ur!==null&&Ur.tag===0&&!(Te&6)&&$s();var e=Te;Te|=1;var n=fn.transition,r=Ae;try{if(fn.transition=null,Ae=1,t)return t()}finally{Ae=r,fn.transition=n,Te=e,!(Te&6)&&pi()}}function Zm(){Yt=Os.current,Le(Os)}function Vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dC(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(Om(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hc();break;case 3:Zs(),Le(Kt),Le(Nt),$m();break;case 5:Bm(r);break;case 4:Zs();break;case 13:Le(Ve);break;case 19:Le(Ve);break;case 10:Mm(r.type._context);break;case 22:case 23:Zm()}n=n.return}if(ft=t,Xe=t=Yr(t.current,null),vt=Yt=e,st=0,qa=null,Jm=hh=Wi=0,zt=_a=null,Ni!==null){for(e=0;e<Ni.length;e++)if(n=Ni[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ni=null}return t}function dS(t,e){do{var n=Xe;try{if(jm(),Cu.current=wc,_c){for(var r=Ue.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_c=!1}if(qi=0,dt=rt=Ue=null,ya=!1,za=0,Qm.current=null,n===null||n.return===null){st=1,qa=e,Xe=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=vt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var S=d_(o);if(S!==null){S.flags&=-257,f_(S,o,a,s,e),S.mode&1&&h_(s,c,e),e=S,u=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(u),e.updateQueue=v}else y.add(u);break e}else{if(!(e&1)){h_(s,c,e),eg();break e}u=Error(W(426))}}else if(De&&a.mode&1){var A=d_(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),f_(A,o,a,s,e),Lm(eo(u,a));break e}}s=u=eo(u,a),st!==4&&(st=2),_a===null?_a=[s]:_a.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=QT(s,u,e);s_(s,w);break e;case 1:a=u;var T=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Qr===null||!Qr.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=JT(s,a,e);s_(s,N);break e}}s=s.return}while(s!==null)}mS(n)}catch(M){e=M,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function fS(){var t=Ec.current;return Ec.current=wc,t===null?wc:t}function eg(){(st===0||st===3||st===2)&&(st=4),ft===null||!(Wi&268435455)&&!(hh&268435455)||Nr(ft,vt)}function Ic(t,e){var n=Te;Te|=2;var r=fS();(ft!==t||vt!==e)&&(er=null,Vi(t,e));do try{MC();break}catch(i){dS(t,i)}while(!0);if(jm(),Te=n,Ec.current=r,Xe!==null)throw Error(W(261));return ft=null,vt=0,st}function MC(){for(;Xe!==null;)pS(Xe)}function VC(){for(;Xe!==null&&!uR();)pS(Xe)}function pS(t){var e=yS(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?mS(t):Xe=e,Qm.current=null}function mS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kC(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,Xe=null;return}}else if(n=PC(n,e,Yt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);st===0&&(st=5)}function Ri(t,e,n){var r=Ae,i=fn.transition;try{fn.transition=null,Ae=1,UC(t,e,n,r)}finally{fn.transition=i,Ae=r}return null}function UC(t,e,n,r){do $s();while(Ur!==null);if(Te&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_R(t,s),t===ft&&(Xe=ft=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lu||(lu=!0,vS(sc,function(){return $s(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=fn.transition,fn.transition=null;var o=Ae;Ae=1;var a=Te;Te|=4,Qm.current=null,OC(t,n),uS(n,t),sC(Xf),ac=!!Yf,Xf=Yf=null,t.current=n,LC(n),cR(),Te=a,Ae=o,fn.transition=s}else t.current=n;if(lu&&(lu=!1,Ur=t,Sc=i),s=t.pendingLanes,s===0&&(Qr=null),fR(n.stateNode),Wt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tc)throw Tc=!1,t=vp,vp=null,t;return Sc&1&&t.tag!==0&&$s(),s=t.pendingLanes,s&1?t===_p?wa++:(wa=0,_p=t):wa=0,pi(),null}function $s(){if(Ur!==null){var t=QE(Sc),e=fn.transition,n=Ae;try{if(fn.transition=null,Ae=16>t?16:t,Ur===null)var r=!1;else{if(t=Ur,Ur=null,Sc=0,Te&6)throw Error(W(331));var i=Te;for(Te|=4,re=t.current;re!==null;){var s=re,o=s.child;if(re.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(re=c;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:va(8,h,s)}var f=h.child;if(f!==null)f.return=h,re=f;else for(;re!==null;){h=re;var g=h.sibling,S=h.return;if(oS(h),h===c){re=null;break}if(g!==null){g.return=S,re=g;break}re=S}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var A=v.sibling;v.sibling=null,v=A}while(v!==null)}}re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,re=o;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:va(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,re=w;break e}re=s.return}}var T=t.current;for(re=T;re!==null;){o=re;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,re=I;else e:for(o=T;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ch(9,a)}}catch(M){He(a,a.return,M)}if(a===o){re=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,re=N;break e}re=a.return}}if(Te=i,pi(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(nh,t)}catch{}r=!0}return r}finally{Ae=n,fn.transition=e}}return!1}function b_(t,e,n){e=eo(n,e),e=QT(t,e,1),t=Gr(t,e,1),e=Ut(),t!==null&&(cl(t,1,e),Wt(t,e))}function He(t,e,n){if(t.tag===3)b_(t,t,n);else for(;e!==null;){if(e.tag===3){b_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qr===null||!Qr.has(r))){t=eo(n,t),t=JT(e,t,1),e=Gr(e,t,1),t=Ut(),e!==null&&(cl(e,1,t),Wt(e,t));break}}e=e.return}}function FC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,ft===t&&(vt&n)===n&&(st===4||st===3&&(vt&130023424)===vt&&500>Ge()-Ym?Vi(t,0):Jm|=n),Wt(t,e)}function gS(t,e){e===0&&(t.mode&1?(e=Xl,Xl<<=1,!(Xl&130023424)&&(Xl=4194304)):e=1);var n=Ut();t=mr(t,e),t!==null&&(cl(t,e,n),Wt(t,n))}function BC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gS(t,n)}function $C(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),gS(t,n)}var yS;yS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,CC(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,De&&e.flags&1048576&&ET(e,pc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ku(t,e),t=e.pendingProps;var i=Js(e,Nt.current);Bs(e,n),i=Hm(null,e,r,t,i,n);var s=Km();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(r)?(s=!0,dc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Um(e),i.updater=uh,e.stateNode=i,i._reactInternals=e,ap(e,r,t,n),e=cp(null,e,r,!0,s,n)):(e.tag=0,De&&s&&Nm(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ku(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HC(r),t=wn(r,t),i){case 0:e=up(null,e,r,t,n);break e;case 1:e=g_(null,e,r,t,n);break e;case 11:e=p_(null,e,r,t,n);break e;case 14:e=m_(null,e,r,wn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),up(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),g_(t,e,r,i,n);case 3:e:{if(eS(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,xT(t,e),yc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=eo(Error(W(423)),e),e=y_(t,e,r,n,i);break e}else if(r!==i){i=eo(Error(W(424)),e),e=y_(t,e,r,n,i);break e}else for(en=Wr(e.stateNode.containerInfo.firstChild),nn=e,De=!0,Tn=null,n=AT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ys(),r===i){e=gr(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return RT(e),t===null&&ip(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Zf(r,i)?o=null:s!==null&&Zf(r,s)&&(e.flags|=32),ZT(t,e),Vt(t,e,o,n),e.child;case 6:return t===null&&ip(e),null;case 13:return tS(t,e,n);case 4:return Fm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xs(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),p_(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ke(mc,r._currentValue),r._currentValue=o,s!==null)if(bn(s.value,o)){if(s.children===i.children&&!Kt.current){e=gr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=cr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),sp(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),sp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Bs(e,n),i=pn(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),m_(t,e,r,i,n);case 15:return YT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),ku(t,e),e.tag=1,qt(r)?(t=!0,dc(e)):t=!1,Bs(e,n),GT(e,r,i),ap(e,r,i,n),cp(null,e,r,!0,t,n);case 19:return nS(t,e,n);case 22:return XT(t,e,n)}throw Error(W(156,e.tag))};function vS(t,e){return KE(t,e)}function zC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new zC(t,e,n,r)}function tg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HC(t){if(typeof t=="function")return tg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wm)return 11;if(t===Em)return 14}return 2}function Yr(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Lu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")tg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ss:return Ui(n.children,i,s,e);case _m:o=8,i|=8;break;case kf:return t=hn(12,n,e,i|2),t.elementType=kf,t.lanes=s,t;case Nf:return t=hn(13,n,e,i),t.elementType=Nf,t.lanes=s,t;case Of:return t=hn(19,n,e,i),t.elementType=Of,t.lanes=s,t;case RE:return dh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bE:o=10;break e;case xE:o=9;break e;case wm:o=11;break e;case Em:o=14;break e;case Cr:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=hn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ui(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function dh(t,e,n,r){return t=hn(22,t,r,e),t.elementType=RE,t.lanes=n,t.stateNode={isHidden:!1},t}function Md(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function Vd(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vd(0),this.expirationTimes=vd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ng(t,e,n,r,i,s,o,a,u){return t=new KC(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Um(s),t}function qC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ts,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _S(t){if(!t)return si;t=t._reactInternals;e:{if(ts(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(qt(n))return _T(t,n,e)}return e}function wS(t,e,n,r,i,s,o,a,u){return t=ng(n,r,!0,t,i,s,o,a,u),t.context=_S(null),n=t.current,r=Ut(),i=Jr(n),s=cr(r,i),s.callback=e??null,Gr(n,s,i),t.current.lanes=i,cl(t,i,r),Wt(t,r),t}function fh(t,e,n,r){var i=e.current,s=Ut(),o=Jr(i);return n=_S(n),e.context===null?e.context=n:e.pendingContext=n,e=cr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gr(i,e,o),t!==null&&(In(t,i,o,s),Ru(t,i,o)),o}function Ac(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function x_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rg(t,e){x_(t,e),(t=t.alternate)&&x_(t,e)}function WC(){return null}var ES=typeof reportError=="function"?reportError:function(t){console.error(t)};function ig(t){this._internalRoot=t}ph.prototype.render=ig.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));fh(t,e,null,null)};ph.prototype.unmount=ig.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gi(function(){fh(null,t,null,null)}),e[pr]=null}};function ph(t){this._internalRoot=t}ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=XE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kr.length&&e!==0&&e<kr[n].priority;n++);kr.splice(n,0,t),n===0&&eT(t)}};function sg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R_(){}function GC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ac(o);s.call(c)}}var o=wS(e,r,t,0,null,!1,!1,"",R_);return t._reactRootContainer=o,t[pr]=o.current,Va(t.nodeType===8?t.parentNode:t),Gi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ac(u);a.call(c)}}var u=ng(t,0,!1,null,null,!1,!1,"",R_);return t._reactRootContainer=u,t[pr]=u.current,Va(t.nodeType===8?t.parentNode:t),Gi(function(){fh(e,u,n,r)}),u}function gh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Ac(o);a.call(u)}}fh(e,o,t,i)}else o=GC(n,e,t,i,r);return Ac(o)}JE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ia(e.pendingLanes);n!==0&&(Im(e,n|1),Wt(e,Ge()),!(Te&6)&&(to=Ge()+500,pi()))}break;case 13:Gi(function(){var r=mr(t,1);if(r!==null){var i=Ut();In(r,t,1,i)}}),rg(t,1)}};Am=function(t){if(t.tag===13){var e=mr(t,134217728);if(e!==null){var n=Ut();In(e,t,134217728,n)}rg(t,134217728)}};YE=function(t){if(t.tag===13){var e=Jr(t),n=mr(t,e);if(n!==null){var r=Ut();In(n,t,e,r)}rg(t,e)}};XE=function(){return Ae};ZE=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};zf=function(t,e,n){switch(e){case"input":if(jf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=oh(r);if(!i)throw Error(W(90));PE(r),jf(r,i)}}}break;case"textarea":NE(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};UE=Xm;FE=Gi;var QC={usingClientEntryPoint:!1,Events:[dl,xs,oh,ME,VE,Xm]},Jo={findFiberByHostInstance:ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JC={bundleType:Jo.bundleType,version:Jo.version,rendererPackageName:Jo.rendererPackageName,rendererConfig:Jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zE(t),t===null?null:t.stateNode},findFiberByHostInstance:Jo.findFiberByHostInstance||WC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{nh=uu.inject(JC),Fn=uu}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QC;an.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sg(e))throw Error(W(200));return qC(t,e,null,n)};an.createRoot=function(t,e){if(!sg(t))throw Error(W(299));var n=!1,r="",i=ES;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ng(t,1,!1,null,null,n,!1,r,i),t[pr]=e.current,Va(t.nodeType===8?t.parentNode:t),new ig(e)};an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=zE(e),t=t===null?null:t.stateNode,t};an.flushSync=function(t){return Gi(t)};an.hydrate=function(t,e,n){if(!mh(e))throw Error(W(200));return gh(null,t,e,!0,n)};an.hydrateRoot=function(t,e,n){if(!sg(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ES;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=wS(e,null,t,1,n??null,i,!1,s,o),t[pr]=e.current,Va(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ph(e)};an.render=function(t,e,n){if(!mh(e))throw Error(W(200));return gh(null,t,e,!1,n)};an.unmountComponentAtNode=function(t){if(!mh(t))throw Error(W(40));return t._reactRootContainer?(Gi(function(){gh(null,null,t,!1,function(){t._reactRootContainer=null,t[pr]=null})}),!0):!1};an.unstable_batchedUpdates=Xm;an.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mh(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return gh(t,e,n,!1,r)};an.version="18.3.1-next-f1338f8080-20240426";function TS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TS)}catch(t){console.error(t)}}TS(),TE.exports=an;var YC=TE.exports,SS,C_=YC;SS=C_.createRoot,C_.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wa(){return Wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wa.apply(this,arguments)}var Fr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Fr||(Fr={}));const P_="popstate";function XC(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Tp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bc(i)}return eP(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function IS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZC(){return Math.random().toString(36).substr(2,8)}function k_(t,e){return{usr:t.state,key:t.key,idx:e}}function Tp(t,e,n,r){return n===void 0&&(n=null),Wa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vo(e):e,{state:n,key:e&&e.key||r||ZC()})}function bc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Fr.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(Wa({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Fr.Pop;let A=h(),w=A==null?null:A-c;c=A,u&&u({action:a,location:v.location,delta:w})}function g(A,w){a=Fr.Push;let T=Tp(v.location,A,w);c=h()+1;let I=k_(T,c),N=v.createHref(T);try{o.pushState(I,"",N)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(N)}s&&u&&u({action:a,location:v.location,delta:1})}function S(A,w){a=Fr.Replace;let T=Tp(v.location,A,w);c=h();let I=k_(T,c),N=v.createHref(T);o.replaceState(I,"",N),s&&u&&u({action:a,location:v.location,delta:0})}function y(A){let w=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof A=="string"?A:bc(A);return T=T.replace(/ $/,"%20"),Ze(w,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,w)}let v={get action(){return a},get location(){return t(i,o)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(P_,f),u=A,()=>{i.removeEventListener(P_,f),u=null}},createHref(A){return e(i,A)},createURL:y,encodeLocation(A){let w=y(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:S,go(A){return o.go(A)}};return v}var N_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(N_||(N_={}));function tP(t,e,n){return n===void 0&&(n="/"),nP(t,e,n,!1)}function nP(t,e,n,r){let i=typeof e=="string"?vo(e):e,s=og(i.pathname||"/",n);if(s==null)return null;let o=AS(t);rP(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=pP(s);a=dP(o[u],c,r)}return a}function AS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ze(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Xr([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(Ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),AS(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:cP(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of bS(s.path))i(s,o,u)}),e}function bS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bS(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function rP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iP=/^:[\w-]+$/,sP=3,oP=2,aP=1,lP=10,uP=-2,O_=t=>t==="*";function cP(t,e){let n=t.split("/"),r=n.length;return n.some(O_)&&(r+=uP),e&&(r+=oP),n.filter(i=>!O_(i)).reduce((i,s)=>i+(iP.test(s)?sP:s===""?aP:lP),r)}function hP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dP(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=L_({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),g=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=L_({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Xr([s,f.pathname]),pathnameBase:vP(Xr([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=Xr([s,f.pathnameBase]))}return o}function L_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:g,isOptional:S}=h;if(g==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[f];return S&&!y?c[g]=void 0:c[g]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function fP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),IS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return IS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function og(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vo(t):t;return{pathname:n?n.startsWith("/")?n:gP(n,e):e,search:_P(r),hash:wP(i)}}function gP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ud(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xS(t,e){let n=yP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function RS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=vo(t):(i=Wa({},t),Ze(!i.pathname||!i.pathname.includes("?"),Ud("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Ud("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Ud("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}a=f>=0?e[f]:"/"}let u=mP(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Xr=t=>t.join("/").replace(/\/\/+/g,"/"),vP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_P=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function EP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CS=["post","put","patch","delete"];new Set(CS);const TP=["get",...CS];new Set(TP);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ga.apply(this,arguments)}const ag=V.createContext(null),SP=V.createContext(null),ns=V.createContext(null),yh=V.createContext(null),mi=V.createContext({outlet:null,matches:[],isDataRoute:!1}),PS=V.createContext(null);function IP(t,e){let{relative:n}=e===void 0?{}:e;pl()||Ze(!1);let{basename:r,navigator:i}=V.useContext(ns),{hash:s,pathname:o,search:a}=NS(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Xr([r,o])),i.createHref({pathname:u,search:a,hash:s})}function pl(){return V.useContext(yh)!=null}function vh(){return pl()||Ze(!1),V.useContext(yh).location}function kS(t){V.useContext(ns).static||V.useLayoutEffect(t)}function AP(){let{isDataRoute:t}=V.useContext(mi);return t?UP():bP()}function bP(){pl()||Ze(!1);let t=V.useContext(ag),{basename:e,future:n,navigator:r}=V.useContext(ns),{matches:i}=V.useContext(mi),{pathname:s}=vh(),o=JSON.stringify(xS(i,n.v7_relativeSplatPath)),a=V.useRef(!1);return kS(()=>{a.current=!0}),V.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=RS(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Xr([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,s,t])}function xP(){let{matches:t}=V.useContext(mi),e=t[t.length-1];return e?e.params:{}}function NS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=V.useContext(ns),{matches:i}=V.useContext(mi),{pathname:s}=vh(),o=JSON.stringify(xS(i,r.v7_relativeSplatPath));return V.useMemo(()=>RS(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function RP(t,e){return CP(t,e)}function CP(t,e,n,r){pl()||Ze(!1);let{navigator:i}=V.useContext(ns),{matches:s}=V.useContext(mi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=vh(),h;if(e){var f;let A=typeof e=="string"?vo(e):e;u==="/"||(f=A.pathname)!=null&&f.startsWith(u)||Ze(!1),h=A}else h=c;let g=h.pathname||"/",S=g;if(u!=="/"){let A=u.replace(/^\//,"").split("/");S="/"+g.replace(/^\//,"").split("/").slice(A.length).join("/")}let y=tP(t,{pathname:S}),v=LP(y&&y.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:Xr([u,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:Xr([u,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r);return e&&v?V.createElement(yh.Provider,{value:{location:Ga({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Fr.Pop}},v):v}function PP(){let t=VP(),e=EP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,null)}const kP=V.createElement(PP,null);class NP extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(mi.Provider,{value:this.props.routeContext},V.createElement(PS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OP(t){let{routeContext:e,match:n,children:r}=t,i=V.useContext(ag);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(mi.Provider,{value:e},r)}function LP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Ze(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:g,errors:S}=n,y=f.route.loader&&g[f.route.id]===void 0&&(!S||S[f.route.id]===void 0);if(f.route.lazy||y){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,g)=>{let S,y=!1,v=null,A=null;n&&(S=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||kP,u&&(c<0&&g===0?(y=!0,A=null):c===g&&(y=!0,A=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,g+1)),T=()=>{let I;return S?I=v:y?I=A:f.route.Component?I=V.createElement(f.route.Component,null):f.route.element?I=f.route.element:I=h,V.createElement(OP,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:I})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?V.createElement(NP,{location:n.location,revalidation:n.revalidation,component:v,error:S,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):T()},null)}var OS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(OS||{}),xc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xc||{});function DP(t){let e=V.useContext(ag);return e||Ze(!1),e}function jP(t){let e=V.useContext(SP);return e||Ze(!1),e}function MP(t){let e=V.useContext(mi);return e||Ze(!1),e}function LS(t){let e=MP(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function VP(){var t;let e=V.useContext(PS),n=jP(xc.UseRouteError),r=LS(xc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function UP(){let{router:t}=DP(OS.UseNavigateStable),e=LS(xc.UseNavigateStable),n=V.useRef(!1);return kS(()=>{n.current=!0}),V.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ga({fromRouteId:e},s)))},[t,e])}const D_={};function FP(t,e){D_[e]||(D_[e]=!0,console.warn(e))}const j_=(t,e,n)=>FP(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function BP(t,e){t!=null&&t.v7_startTransition||j_("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&j_("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Nn(t){Ze(!1)}function $P(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Fr.Pop,navigator:s,static:o=!1,future:a}=t;pl()&&Ze(!1);let u=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:u,navigator:s,static:o,future:Ga({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=vo(r));let{pathname:h="/",search:f="",hash:g="",state:S=null,key:y="default"}=r,v=V.useMemo(()=>{let A=og(h,u);return A==null?null:{location:{pathname:A,search:f,hash:g,state:S,key:y},navigationType:i}},[u,h,f,g,S,y,i]);return v==null?null:V.createElement(ns.Provider,{value:c},V.createElement(yh.Provider,{children:n,value:v}))}function zP(t){let{children:e,location:n}=t;return RP(Sp(e),n)}new Promise(()=>{});function Sp(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,i)=>{if(!V.isValidElement(r))return;let s=[...e,i];if(r.type===V.Fragment){n.push.apply(n,Sp(r.props.children,s));return}r.type!==Nn&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ip.apply(this,arguments)}function HP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function KP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qP(t,e){return t.button===0&&(!e||e==="_self")&&!KP(t)}const WP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],GP="6";try{window.__reactRouterVersion=GP}catch{}const QP="startTransition",M_=Fx[QP];function JP(t){let{basename:e,children:n,future:r,window:i}=t,s=V.useRef();s.current==null&&(s.current=XC({window:i,v5Compat:!0}));let o=s.current,[a,u]=V.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=V.useCallback(f=>{c&&M_?M_(()=>u(f)):u(f)},[u,c]);return V.useLayoutEffect(()=>o.listen(h),[o,h]),V.useEffect(()=>BP(r),[r]),V.createElement($P,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const YP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xt=V.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:f}=e,g=HP(e,WP),{basename:S}=V.useContext(ns),y,v=!1;if(typeof c=="string"&&XP.test(c)&&(y=c,YP))try{let I=new URL(window.location.href),N=c.startsWith("//")?new URL(I.protocol+c):new URL(c),M=og(N.pathname,S);N.origin===I.origin&&M!=null?c=M+N.search+N.hash:v=!0}catch{}let A=IP(c,{relative:i}),w=ZP(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,viewTransition:f});function T(I){r&&r(I),I.defaultPrevented||w(I)}return V.createElement("a",Ip({},g,{href:y||A,onClick:v||s?r:T,ref:n,target:u}))});var V_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(V_||(V_={}));var U_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(U_||(U_={}));function ZP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,u=AP(),c=vh(),h=NS(t,{relative:o});return V.useCallback(f=>{if(qP(f,n)){f.preventDefault();let g=r!==void 0?r:bc(c)===bc(h);u(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,u,h,r,i,n,t,s,o,a])}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},u)=>V.createElement("svg",{ref:u,...tk,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DS("lucide",i),...a},[...o.map(([c,h])=>V.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(t,e)=>{const n=V.forwardRef(({className:r,...i},s)=>V.createElement(nk,{ref:s,iconNode:e,className:DS(`lucide-${ek(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=tt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=tt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=tt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=tt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=tt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=tt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=tt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=tt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=tt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=tt("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=tt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var B_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let g=(a&15)<<2|c>>6,S=c&63;u||(S=64,o||(g=64)),r.push(n[h],n[f],n[g],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new gk;const g=s<<2|a>>4;if(r.push(g),c!==64){const S=a<<4&240|c>>2;if(r.push(S),f!==64){const y=c<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yk=function(t){const e=BS(t);return $S.encodeByteArray(e,!0)},Rc=function(t){return yk(t).replace(/\./g,"")},zS=function(t){try{return $S.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=()=>vk().__FIREBASE_DEFAULTS__,wk=()=>{if(typeof process>"u"||typeof B_>"u")return;const t=B_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ek=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zS(t[1]);return e&&JSON.parse(e)},_h=()=>{try{return _k()||wk()||Ek()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HS=t=>{var e,n;return(n=(e=_h())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KS=t=>{const e=HS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qS=()=>{var t;return(t=_h())===null||t===void 0?void 0:t.config},WS=t=>{var e;return(e=_h())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rc(JSON.stringify(n)),Rc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Sk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function Ik(){var t;const e=(t=_h())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ak(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rk(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ck(){return!Ik()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pk(){try{return typeof indexedDB=="object"}catch{return!1}}function kk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="FirebaseError";class Qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Nk,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ml.prototype.create)}}class ml{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Ok(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Qn(i,a,r)}}function Ok(t,e){return t.replace(Lk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Lk=/\{\$([^}]+)}/g;function Dk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Cc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if($_(s)&&$_(o)){if(!Cc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function aa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jk(t,e){const n=new Mk(t,e);return n.subscribe.bind(n)}class Mk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Vk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Fd),i.error===void 0&&(i.error=Fd),i.complete===void 0&&(i.complete=Fd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t&&t._delegate?t._delegate:t}class oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Tk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Bk(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Fk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Fk(t){return t===Ci?void 0:t}function Bk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Uk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const zk={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},Hk=ye.INFO,Kk={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},qk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Kk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cg{constructor(e){this.name=e,this._logLevel=Hk,this._logHandler=qk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const Wk=(t,e)=>e.some(n=>t instanceof n);let z_,H_;function Gk(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qk(){return H_||(H_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QS=new WeakMap,Ap=new WeakMap,JS=new WeakMap,Bd=new WeakMap,hg=new WeakMap;function Jk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QS.set(n,t)}).catch(()=>{}),hg.set(e,t),e}function Yk(t){if(Ap.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ap.set(t,e)}let bp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ap.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Xk(t){bp=t(bp)}function Zk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($d(this),e,...n);return JS.set(r,e.sort?e.sort():[e]),Zr(r)}:Qk().includes(t)?function(...e){return t.apply($d(this),e),Zr(QS.get(this))}:function(...e){return Zr(t.apply($d(this),e))}}function eN(t){return typeof t=="function"?Zk(t):(t instanceof IDBTransaction&&Yk(t),Wk(t,Gk())?new Proxy(t,bp):t)}function Zr(t){if(t instanceof IDBRequest)return Jk(t);if(Bd.has(t))return Bd.get(t);const e=eN(t);return e!==t&&(Bd.set(t,e),hg.set(e,t)),e}const $d=t=>hg.get(t);function tN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Zr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Zr(o.result),u.oldVersion,u.newVersion,Zr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const nN=["get","getKey","getAll","getAllKeys","count"],rN=["put","add","delete","clear"],zd=new Map;function K_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nN.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return zd.set(e,s),s}Xk(t=>({...t,get:(e,n,r)=>K_(e,n)||t.get(e,n,r),has:(e,n)=>!!K_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xp="@firebase/app",q_="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new cg("@firebase/app"),oN="@firebase/app-compat",aN="@firebase/analytics-compat",lN="@firebase/analytics",uN="@firebase/app-check-compat",cN="@firebase/app-check",hN="@firebase/auth",dN="@firebase/auth-compat",fN="@firebase/database",pN="@firebase/data-connect",mN="@firebase/database-compat",gN="@firebase/functions",yN="@firebase/functions-compat",vN="@firebase/installations",_N="@firebase/installations-compat",wN="@firebase/messaging",EN="@firebase/messaging-compat",TN="@firebase/performance",SN="@firebase/performance-compat",IN="@firebase/remote-config",AN="@firebase/remote-config-compat",bN="@firebase/storage",xN="@firebase/storage-compat",RN="@firebase/firestore",CN="@firebase/vertexai",PN="@firebase/firestore-compat",kN="firebase",NN="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="[DEFAULT]",ON={[xp]:"fire-core",[oN]:"fire-core-compat",[lN]:"fire-analytics",[aN]:"fire-analytics-compat",[cN]:"fire-app-check",[uN]:"fire-app-check-compat",[hN]:"fire-auth",[dN]:"fire-auth-compat",[fN]:"fire-rtdb",[pN]:"fire-data-connect",[mN]:"fire-rtdb-compat",[gN]:"fire-fn",[yN]:"fire-fn-compat",[vN]:"fire-iid",[_N]:"fire-iid-compat",[wN]:"fire-fcm",[EN]:"fire-fcm-compat",[TN]:"fire-perf",[SN]:"fire-perf-compat",[IN]:"fire-rc",[AN]:"fire-rc-compat",[bN]:"fire-gcs",[xN]:"fire-gcs-compat",[RN]:"fire-fst",[PN]:"fire-fst-compat",[CN]:"fire-vertex","fire-js":"fire-js",[kN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,LN=new Map,Cp=new Map;function W_(t,e){try{t.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qi(t){const e=t.name;if(Cp.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Cp.set(e,t);for(const n of Pc.values())W_(n,t);for(const n of LN.values())W_(n,t);return!0}function wh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new ml("app","Firebase",DN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=NN;function YS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ei.create("bad-app-name",{appName:String(i)});if(n||(n=qS()),!n)throw ei.create("no-options");const s=Pc.get(i);if(s){if(Cc(n,s.options)&&Cc(r,s.config))return s;throw ei.create("duplicate-app",{appName:i})}const o=new $k(i);for(const u of Cp.values())o.addComponent(u);const a=new jN(n,r,o);return Pc.set(i,a),a}function dg(t=Rp){const e=Pc.get(t);if(!e&&t===Rp&&qS())return YS();if(!e)throw ei.create("no-app",{appName:t});return e}function $n(t,e,n){var r;let i=(r=ON[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(a.join(" "));return}Qi(new oi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="firebase-heartbeat-database",VN=1,Qa="firebase-heartbeat-store";let Hd=null;function XS(){return Hd||(Hd=tN(MN,VN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qa)}catch(n){console.warn(n)}}}}).catch(t=>{throw ei.create("idb-open",{originalErrorMessage:t.message})})),Hd}async function UN(t){try{const n=(await XS()).transaction(Qa),r=await n.objectStore(Qa).get(ZS(t));return await n.done,r}catch(e){if(e instanceof Qn)yr.warn(e.message);else{const n=ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(n.message)}}}async function G_(t,e){try{const r=(await XS()).transaction(Qa,"readwrite");await r.objectStore(Qa).put(e,ZS(t)),await r.done}catch(n){if(n instanceof Qn)yr.warn(n.message);else{const r=ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(r.message)}}}function ZS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=1024,BN=30*24*60*60*1e3;class $N{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Q_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=BN}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Q_(),{heartbeatsToSend:r,unsentEntries:i}=zN(this._heartbeatsCache.heartbeats),s=Rc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return yr.warn(n),""}}}function Q_(){return new Date().toISOString().substring(0,10)}function zN(t,e=FN){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),J_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),J_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class HN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pk()?kk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return G_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function J_(t){return Rc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t){Qi(new oi("platform-logger",e=>new iN(e),"PRIVATE")),Qi(new oi("heartbeat",e=>new $N(e),"PRIVATE")),$n(xp,q_,t),$n(xp,q_,"esm2017"),$n("fire-js","")}KN("");var Y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fi,e1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,E){function x(){}x.prototype=E.prototype,b.D=E.prototype,b.prototype=new x,b.prototype.constructor=b,b.C=function(C,P,k){for(var R=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)R[xe-2]=arguments[xe];return E.prototype[P].apply(C,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,E,x){x||(x=0);var C=Array(16);if(typeof E=="string")for(var P=0;16>P;++P)C[P]=E.charCodeAt(x++)|E.charCodeAt(x++)<<8|E.charCodeAt(x++)<<16|E.charCodeAt(x++)<<24;else for(P=0;16>P;++P)C[P]=E[x++]|E[x++]<<8|E[x++]<<16|E[x++]<<24;E=b.g[0],x=b.g[1],P=b.g[2];var k=b.g[3],R=E+(k^x&(P^k))+C[0]+3614090360&4294967295;E=x+(R<<7&4294967295|R>>>25),R=k+(P^E&(x^P))+C[1]+3905402710&4294967295,k=E+(R<<12&4294967295|R>>>20),R=P+(x^k&(E^x))+C[2]+606105819&4294967295,P=k+(R<<17&4294967295|R>>>15),R=x+(E^P&(k^E))+C[3]+3250441966&4294967295,x=P+(R<<22&4294967295|R>>>10),R=E+(k^x&(P^k))+C[4]+4118548399&4294967295,E=x+(R<<7&4294967295|R>>>25),R=k+(P^E&(x^P))+C[5]+1200080426&4294967295,k=E+(R<<12&4294967295|R>>>20),R=P+(x^k&(E^x))+C[6]+2821735955&4294967295,P=k+(R<<17&4294967295|R>>>15),R=x+(E^P&(k^E))+C[7]+4249261313&4294967295,x=P+(R<<22&4294967295|R>>>10),R=E+(k^x&(P^k))+C[8]+1770035416&4294967295,E=x+(R<<7&4294967295|R>>>25),R=k+(P^E&(x^P))+C[9]+2336552879&4294967295,k=E+(R<<12&4294967295|R>>>20),R=P+(x^k&(E^x))+C[10]+4294925233&4294967295,P=k+(R<<17&4294967295|R>>>15),R=x+(E^P&(k^E))+C[11]+2304563134&4294967295,x=P+(R<<22&4294967295|R>>>10),R=E+(k^x&(P^k))+C[12]+1804603682&4294967295,E=x+(R<<7&4294967295|R>>>25),R=k+(P^E&(x^P))+C[13]+4254626195&4294967295,k=E+(R<<12&4294967295|R>>>20),R=P+(x^k&(E^x))+C[14]+2792965006&4294967295,P=k+(R<<17&4294967295|R>>>15),R=x+(E^P&(k^E))+C[15]+1236535329&4294967295,x=P+(R<<22&4294967295|R>>>10),R=E+(P^k&(x^P))+C[1]+4129170786&4294967295,E=x+(R<<5&4294967295|R>>>27),R=k+(x^P&(E^x))+C[6]+3225465664&4294967295,k=E+(R<<9&4294967295|R>>>23),R=P+(E^x&(k^E))+C[11]+643717713&4294967295,P=k+(R<<14&4294967295|R>>>18),R=x+(k^E&(P^k))+C[0]+3921069994&4294967295,x=P+(R<<20&4294967295|R>>>12),R=E+(P^k&(x^P))+C[5]+3593408605&4294967295,E=x+(R<<5&4294967295|R>>>27),R=k+(x^P&(E^x))+C[10]+38016083&4294967295,k=E+(R<<9&4294967295|R>>>23),R=P+(E^x&(k^E))+C[15]+3634488961&4294967295,P=k+(R<<14&4294967295|R>>>18),R=x+(k^E&(P^k))+C[4]+3889429448&4294967295,x=P+(R<<20&4294967295|R>>>12),R=E+(P^k&(x^P))+C[9]+568446438&4294967295,E=x+(R<<5&4294967295|R>>>27),R=k+(x^P&(E^x))+C[14]+3275163606&4294967295,k=E+(R<<9&4294967295|R>>>23),R=P+(E^x&(k^E))+C[3]+4107603335&4294967295,P=k+(R<<14&4294967295|R>>>18),R=x+(k^E&(P^k))+C[8]+1163531501&4294967295,x=P+(R<<20&4294967295|R>>>12),R=E+(P^k&(x^P))+C[13]+2850285829&4294967295,E=x+(R<<5&4294967295|R>>>27),R=k+(x^P&(E^x))+C[2]+4243563512&4294967295,k=E+(R<<9&4294967295|R>>>23),R=P+(E^x&(k^E))+C[7]+1735328473&4294967295,P=k+(R<<14&4294967295|R>>>18),R=x+(k^E&(P^k))+C[12]+2368359562&4294967295,x=P+(R<<20&4294967295|R>>>12),R=E+(x^P^k)+C[5]+4294588738&4294967295,E=x+(R<<4&4294967295|R>>>28),R=k+(E^x^P)+C[8]+2272392833&4294967295,k=E+(R<<11&4294967295|R>>>21),R=P+(k^E^x)+C[11]+1839030562&4294967295,P=k+(R<<16&4294967295|R>>>16),R=x+(P^k^E)+C[14]+4259657740&4294967295,x=P+(R<<23&4294967295|R>>>9),R=E+(x^P^k)+C[1]+2763975236&4294967295,E=x+(R<<4&4294967295|R>>>28),R=k+(E^x^P)+C[4]+1272893353&4294967295,k=E+(R<<11&4294967295|R>>>21),R=P+(k^E^x)+C[7]+4139469664&4294967295,P=k+(R<<16&4294967295|R>>>16),R=x+(P^k^E)+C[10]+3200236656&4294967295,x=P+(R<<23&4294967295|R>>>9),R=E+(x^P^k)+C[13]+681279174&4294967295,E=x+(R<<4&4294967295|R>>>28),R=k+(E^x^P)+C[0]+3936430074&4294967295,k=E+(R<<11&4294967295|R>>>21),R=P+(k^E^x)+C[3]+3572445317&4294967295,P=k+(R<<16&4294967295|R>>>16),R=x+(P^k^E)+C[6]+76029189&4294967295,x=P+(R<<23&4294967295|R>>>9),R=E+(x^P^k)+C[9]+3654602809&4294967295,E=x+(R<<4&4294967295|R>>>28),R=k+(E^x^P)+C[12]+3873151461&4294967295,k=E+(R<<11&4294967295|R>>>21),R=P+(k^E^x)+C[15]+530742520&4294967295,P=k+(R<<16&4294967295|R>>>16),R=x+(P^k^E)+C[2]+3299628645&4294967295,x=P+(R<<23&4294967295|R>>>9),R=E+(P^(x|~k))+C[0]+4096336452&4294967295,E=x+(R<<6&4294967295|R>>>26),R=k+(x^(E|~P))+C[7]+1126891415&4294967295,k=E+(R<<10&4294967295|R>>>22),R=P+(E^(k|~x))+C[14]+2878612391&4294967295,P=k+(R<<15&4294967295|R>>>17),R=x+(k^(P|~E))+C[5]+4237533241&4294967295,x=P+(R<<21&4294967295|R>>>11),R=E+(P^(x|~k))+C[12]+1700485571&4294967295,E=x+(R<<6&4294967295|R>>>26),R=k+(x^(E|~P))+C[3]+2399980690&4294967295,k=E+(R<<10&4294967295|R>>>22),R=P+(E^(k|~x))+C[10]+4293915773&4294967295,P=k+(R<<15&4294967295|R>>>17),R=x+(k^(P|~E))+C[1]+2240044497&4294967295,x=P+(R<<21&4294967295|R>>>11),R=E+(P^(x|~k))+C[8]+1873313359&4294967295,E=x+(R<<6&4294967295|R>>>26),R=k+(x^(E|~P))+C[15]+4264355552&4294967295,k=E+(R<<10&4294967295|R>>>22),R=P+(E^(k|~x))+C[6]+2734768916&4294967295,P=k+(R<<15&4294967295|R>>>17),R=x+(k^(P|~E))+C[13]+1309151649&4294967295,x=P+(R<<21&4294967295|R>>>11),R=E+(P^(x|~k))+C[4]+4149444226&4294967295,E=x+(R<<6&4294967295|R>>>26),R=k+(x^(E|~P))+C[11]+3174756917&4294967295,k=E+(R<<10&4294967295|R>>>22),R=P+(E^(k|~x))+C[2]+718787259&4294967295,P=k+(R<<15&4294967295|R>>>17),R=x+(k^(P|~E))+C[9]+3951481745&4294967295,b.g[0]=b.g[0]+E&4294967295,b.g[1]=b.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,b.g[2]=b.g[2]+P&4294967295,b.g[3]=b.g[3]+k&4294967295}r.prototype.u=function(b,E){E===void 0&&(E=b.length);for(var x=E-this.blockSize,C=this.B,P=this.h,k=0;k<E;){if(P==0)for(;k<=x;)i(this,b,k),k+=this.blockSize;if(typeof b=="string"){for(;k<E;)if(C[P++]=b.charCodeAt(k++),P==this.blockSize){i(this,C),P=0;break}}else for(;k<E;)if(C[P++]=b[k++],P==this.blockSize){i(this,C),P=0;break}}this.h=P,this.o+=E},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var E=1;E<b.length-8;++E)b[E]=0;var x=8*this.o;for(E=b.length-8;E<b.length;++E)b[E]=x&255,x/=256;for(this.u(b),b=Array(16),E=x=0;4>E;++E)for(var C=0;32>C;C+=8)b[x++]=this.g[E]>>>C&255;return b};function s(b,E){var x=a;return Object.prototype.hasOwnProperty.call(x,b)?x[b]:x[b]=E(b)}function o(b,E){this.h=E;for(var x=[],C=!0,P=b.length-1;0<=P;P--){var k=b[P]|0;C&&k==E||(x[P]=k,C=!1)}this.g=x}var a={};function u(b){return-128<=b&&128>b?s(b,function(E){return new o([E|0],0>E?-1:0)}):new o([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return A(c(-b));for(var E=[],x=1,C=0;b>=x;C++)E[C]=b/x|0,x*=4294967296;return new o(E,0)}function h(b,E){if(b.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(b.charAt(0)=="-")return A(h(b.substring(1),E));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=c(Math.pow(E,8)),C=f,P=0;P<b.length;P+=8){var k=Math.min(8,b.length-P),R=parseInt(b.substring(P,P+k),E);8>k?(k=c(Math.pow(E,k)),C=C.j(k).add(c(R))):(C=C.j(x),C=C.add(c(R)))}return C}var f=u(0),g=u(1),S=u(16777216);t=o.prototype,t.m=function(){if(v(this))return-A(this).m();for(var b=0,E=1,x=0;x<this.g.length;x++){var C=this.i(x);b+=(0<=C?C:4294967296+C)*E,E*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(y(this))return"0";if(v(this))return"-"+A(this).toString(b);for(var E=c(Math.pow(b,6)),x=this,C="";;){var P=N(x,E).g;x=w(x,P.j(E));var k=((0<x.g.length?x.g[0]:x.h)>>>0).toString(b);if(x=P,y(x))return k+C;for(;6>k.length;)k="0"+k;C=k+C}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function y(b){if(b.h!=0)return!1;for(var E=0;E<b.g.length;E++)if(b.g[E]!=0)return!1;return!0}function v(b){return b.h==-1}t.l=function(b){return b=w(this,b),v(b)?-1:y(b)?0:1};function A(b){for(var E=b.g.length,x=[],C=0;C<E;C++)x[C]=~b.g[C];return new o(x,~b.h).add(g)}t.abs=function(){return v(this)?A(this):this},t.add=function(b){for(var E=Math.max(this.g.length,b.g.length),x=[],C=0,P=0;P<=E;P++){var k=C+(this.i(P)&65535)+(b.i(P)&65535),R=(k>>>16)+(this.i(P)>>>16)+(b.i(P)>>>16);C=R>>>16,k&=65535,R&=65535,x[P]=R<<16|k}return new o(x,x[x.length-1]&-2147483648?-1:0)};function w(b,E){return b.add(A(E))}t.j=function(b){if(y(this)||y(b))return f;if(v(this))return v(b)?A(this).j(A(b)):A(A(this).j(b));if(v(b))return A(this.j(A(b)));if(0>this.l(S)&&0>b.l(S))return c(this.m()*b.m());for(var E=this.g.length+b.g.length,x=[],C=0;C<2*E;C++)x[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<b.g.length;P++){var k=this.i(C)>>>16,R=this.i(C)&65535,xe=b.i(P)>>>16,Me=b.i(P)&65535;x[2*C+2*P]+=R*Me,T(x,2*C+2*P),x[2*C+2*P+1]+=k*Me,T(x,2*C+2*P+1),x[2*C+2*P+1]+=R*xe,T(x,2*C+2*P+1),x[2*C+2*P+2]+=k*xe,T(x,2*C+2*P+2)}for(C=0;C<E;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=E;C<2*E;C++)x[C]=0;return new o(x,0)};function T(b,E){for(;(b[E]&65535)!=b[E];)b[E+1]+=b[E]>>>16,b[E]&=65535,E++}function I(b,E){this.g=b,this.h=E}function N(b,E){if(y(E))throw Error("division by zero");if(y(b))return new I(f,f);if(v(b))return E=N(A(b),E),new I(A(E.g),A(E.h));if(v(E))return E=N(b,A(E)),new I(A(E.g),E.h);if(30<b.g.length){if(v(b)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var x=g,C=E;0>=C.l(b);)x=M(x),C=M(C);var P=z(x,1),k=z(C,1);for(C=z(C,2),x=z(x,2);!y(C);){var R=k.add(C);0>=R.l(b)&&(P=P.add(x),k=R),C=z(C,1),x=z(x,1)}return E=w(b,P.j(E)),new I(P,E)}for(P=f;0<=b.l(E);){for(x=Math.max(1,Math.floor(b.m()/E.m())),C=Math.ceil(Math.log(x)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),k=c(x),R=k.j(E);v(R)||0<R.l(b);)x-=C,k=c(x),R=k.j(E);y(k)&&(k=g),P=P.add(k),b=w(b,R)}return new I(P,b)}t.A=function(b){return N(this,b).h},t.and=function(b){for(var E=Math.max(this.g.length,b.g.length),x=[],C=0;C<E;C++)x[C]=this.i(C)&b.i(C);return new o(x,this.h&b.h)},t.or=function(b){for(var E=Math.max(this.g.length,b.g.length),x=[],C=0;C<E;C++)x[C]=this.i(C)|b.i(C);return new o(x,this.h|b.h)},t.xor=function(b){for(var E=Math.max(this.g.length,b.g.length),x=[],C=0;C<E;C++)x[C]=this.i(C)^b.i(C);return new o(x,this.h^b.h)};function M(b){for(var E=b.g.length+1,x=[],C=0;C<E;C++)x[C]=b.i(C)<<1|b.i(C-1)>>>31;return new o(x,b.h)}function z(b,E){var x=E>>5;E%=32;for(var C=b.g.length-x,P=[],k=0;k<C;k++)P[k]=0<E?b.i(k+x)>>>E|b.i(k+x+1)<<32-E:b.i(k+x);return new o(P,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,e1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,Fi=o}).apply(typeof Y_<"u"?Y_:typeof self<"u"?self:typeof window<"u"?window:{});var cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var t1,la,n1,Du,Pp,r1,i1,s1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,m){return l==Array.prototype||l==Object.prototype||(l[d]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof cu=="object"&&cu];for(var d=0;d<l.length;++d){var m=l[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var m=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var O=l[_];if(!(O in m))break e;m=m[O]}l=l[l.length-1],_=m[l],d=d(_),d!=_&&d!=null&&e(m,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var m=0,_=!1,O={next:function(){if(!_&&m<l.length){var D=m++;return{value:d(D,l[D]),done:!1}}return _=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(l){return l||function(){return s(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,m){return l.call.apply(l.bind,arguments)}function f(l,d,m){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,_),l.apply(d,O)}}return function(){return l.apply(d,arguments)}}function g(l,d,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,g.apply(null,arguments)}function S(l,d){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function y(l,d){function m(){}m.prototype=d.prototype,l.aa=d.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(_,O,D){for(var X=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)X[Re-2]=arguments[Re];return d.prototype[O].apply(_,X)}}function v(l){const d=l.length;if(0<d){const m=Array(d);for(let _=0;_<d;_++)m[_]=l[_];return m}return[]}function A(l,d){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(u(_)){const O=l.length||0,D=_.length||0;l.length=O+D;for(let X=0;X<D;X++)l[O+X]=_[X]}else l.push(_)}}class w{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function T(l){return/^[\s\xa0]*$/.test(l)}function I(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var M=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function z(l,d,m){for(const _ in l)d.call(m,l[_],_,l)}function b(l,d){for(const m in l)d.call(void 0,l[m],m,l)}function E(l){const d={};for(const m in l)d[m]=l[m];return d}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,d){let m,_;for(let O=1;O<arguments.length;O++){_=arguments[O];for(m in _)l[m]=_[m];for(let D=0;D<x.length;D++)m=x[D],Object.prototype.hasOwnProperty.call(_,m)&&(l[m]=_[m])}}function P(l){var d=1;l=l.split(":");const m=[];for(;0<d&&l.length;)m.push(l.shift()),d--;return l.length&&m.push(l.join(":")),m}function k(l){a.setTimeout(()=>{throw l},0)}function R(){var l=ne;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class xe{constructor(){this.h=this.g=null}add(d,m){const _=Me.get();_.set(d,m),this.h?this.h.next=_:this.g=_,this.h=_}}var Me=new w(()=>new J,l=>l.reset());class J{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,H=!1,ne=new xe,q=()=>{const l=a.Promise.resolve(void 0);ee=()=>{l.then(de)}};var de=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(m){k(m)}var d=Me;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}H=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var Et=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,d),a.removeEventListener("test",m,d)}catch{}return l}();function Qt(l,d){if(be.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(M){e:{try{N(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else m=="mouseover"?d=l.fromElement:m=="mouseout"&&(d=l.toElement);this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:F[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Qt.aa.h.call(this)}}y(Qt,be);var F={2:"touch",3:"pen",4:"mouse"};Qt.prototype.h=function(){Qt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Y="closure_listenable_"+(1e6*Math.random()|0),L=0;function B(l,d,m,_,O){this.listener=l,this.proxy=null,this.src=d,this.type=m,this.capture=!!_,this.ha=O,this.key=++L,this.da=this.fa=!1}function Q(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function $(l){this.src=l,this.g={},this.h=0}$.prototype.add=function(l,d,m,_,O){var D=l.toString();l=this.g[D],l||(l=this.g[D]=[],this.h++);var X=Z(l,d,_,O);return-1<X?(d=l[X],m||(d.fa=!1)):(d=new B(d,this.src,D,!!_,O),d.fa=m,l.push(d)),d};function G(l,d){var m=d.type;if(m in l.g){var _=l.g[m],O=Array.prototype.indexOf.call(_,d,void 0),D;(D=0<=O)&&Array.prototype.splice.call(_,O,1),D&&(Q(d),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Z(l,d,m,_){for(var O=0;O<l.length;++O){var D=l[O];if(!D.da&&D.listener==d&&D.capture==!!m&&D.ha==_)return O}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),lt={};function ut(l,d,m,_,O){if(Array.isArray(d)){for(var D=0;D<d.length;D++)ut(l,d[D],m,_,O);return null}return m=Ay(m),l&&l[Y]?l.K(d,m,c(_)?!!_.capture:!!_,O):wi(l,d,m,!1,_,O)}function wi(l,d,m,_,O,D){if(!d)throw Error("Invalid event type");var X=c(O)?!!O.capture:!!O,Re=Qh(l);if(Re||(l[pe]=Re=new $(l)),m=Re.add(d,m,_,X,D),m.proxy)return m;if(_=as(),m.proxy=_,_.src=l,_.listener=m,l.addEventListener)Et||(O=X),O===void 0&&(O=!1),l.addEventListener(d.toString(),_,O);else if(l.attachEvent)l.attachEvent(Ei(d.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function as(){function l(m){return d.call(l.src,l.listener,m)}const d=Jb;return l}function Pl(l,d,m,_,O){if(Array.isArray(d))for(var D=0;D<d.length;D++)Pl(l,d[D],m,_,O);else _=c(_)?!!_.capture:!!_,m=Ay(m),l&&l[Y]?(l=l.i,d=String(d).toString(),d in l.g&&(D=l.g[d],m=Z(D,m,_,O),-1<m&&(Q(D[m]),Array.prototype.splice.call(D,m,1),D.length==0&&(delete l.g[d],l.h--)))):l&&(l=Qh(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Z(d,m,_,O)),(m=-1<l?d[l]:null)&&Co(m))}function Co(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Y])G(d.i,l);else{var m=l.type,_=l.proxy;d.removeEventListener?d.removeEventListener(m,_,l.capture):d.detachEvent?d.detachEvent(Ei(m),_):d.addListener&&d.removeListener&&d.removeListener(_),(m=Qh(d))?(G(m,l),m.h==0&&(m.src=null,d[pe]=null)):Q(l)}}}function Ei(l){return l in lt?lt[l]:lt[l]="on"+l}function Jb(l,d){if(l.da)l=!0;else{d=new Qt(d,this);var m=l.listener,_=l.ha||l.src;l.fa&&Co(l),l=m.call(_,d)}return l}function Qh(l){return l=l[pe],l instanceof $?l:null}var Jh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ay(l){return typeof l=="function"?l:(l[Jh]||(l[Jh]=function(d){return l.handleEvent(d)}),l[Jh])}function Tt(){ue.call(this),this.i=new $(this),this.M=this,this.F=null}y(Tt,ue),Tt.prototype[Y]=!0,Tt.prototype.removeEventListener=function(l,d,m,_){Pl(this,l,d,m,_)};function Dt(l,d){var m,_=l.F;if(_)for(m=[];_;_=_.F)m.push(_);if(l=l.M,_=d.type||d,typeof d=="string")d=new be(d,l);else if(d instanceof be)d.target=d.target||l;else{var O=d;d=new be(_,l),C(d,O)}if(O=!0,m)for(var D=m.length-1;0<=D;D--){var X=d.g=m[D];O=kl(X,_,!0,d)&&O}if(X=d.g=l,O=kl(X,_,!0,d)&&O,O=kl(X,_,!1,d)&&O,m)for(D=0;D<m.length;D++)X=d.g=m[D],O=kl(X,_,!1,d)&&O}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var m=l.g[d],_=0;_<m.length;_++)Q(m[_]);delete l.g[d],l.h--}}this.F=null},Tt.prototype.K=function(l,d,m,_){return this.i.add(String(l),d,!1,m,_)},Tt.prototype.L=function(l,d,m,_){return this.i.add(String(l),d,!0,m,_)};function kl(l,d,m,_){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,D=0;D<d.length;++D){var X=d[D];if(X&&!X.da&&X.capture==m){var Re=X.listener,pt=X.ha||X.src;X.fa&&G(l.i,X),O=Re.call(pt,_)!==!1&&O}}return O&&!_.defaultPrevented}function by(l,d,m){if(typeof l=="function")m&&(l=g(l,m));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function xy(l){l.g=by(()=>{l.g=null,l.i&&(l.i=!1,xy(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Yb extends ue{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:xy(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Po(l){ue.call(this),this.h=l,this.g={}}y(Po,ue);var Ry=[];function Cy(l){z(l.g,function(d,m){this.g.hasOwnProperty(m)&&Co(d)},l),l.g={}}Po.prototype.N=function(){Po.aa.N.call(this),Cy(this)},Po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yh=a.JSON.stringify,Xb=a.JSON.parse,Zb=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Xh(){}Xh.prototype.h=null;function Py(l){return l.h||(l.h=l.i())}function ky(){}var ko={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zh(){be.call(this,"d")}y(Zh,be);function ed(){be.call(this,"c")}y(ed,be);var Ti={},Ny=null;function Nl(){return Ny=Ny||new Tt}Ti.La="serverreachability";function Oy(l){be.call(this,Ti.La,l)}y(Oy,be);function No(l){const d=Nl();Dt(d,new Oy(d))}Ti.STAT_EVENT="statevent";function Ly(l,d){be.call(this,Ti.STAT_EVENT,l),this.stat=d}y(Ly,be);function jt(l){const d=Nl();Dt(d,new Ly(d,l))}Ti.Ma="timingevent";function Dy(l,d){be.call(this,Ti.Ma,l),this.size=d}y(Dy,be);function Oo(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function Lo(){this.g=!0}Lo.prototype.xa=function(){this.g=!1};function ex(l,d,m,_,O,D){l.info(function(){if(l.g)if(D)for(var X="",Re=D.split("&"),pt=0;pt<Re.length;pt++){var Se=Re[pt].split("=");if(1<Se.length){var St=Se[0];Se=Se[1];var It=St.split("_");X=2<=It.length&&It[1]=="type"?X+(St+"="+Se+"&"):X+(St+"=redacted&")}}else X=null;else X=D;return"XMLHTTP REQ ("+_+") [attempt "+O+"]: "+d+`
`+m+`
`+X})}function tx(l,d,m,_,O,D,X){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+O+"]: "+d+`
`+m+`
`+D+" "+X})}function ls(l,d,m,_){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+rx(l,m)+(_?" "+_:"")})}function nx(l,d){l.info(function(){return"TIMEOUT: "+d})}Lo.prototype.info=function(){};function rx(l,d){if(!l.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var _=m[l];if(!(2>_.length)){var O=_[1];if(Array.isArray(O)&&!(1>O.length)){var D=O[0];if(D!="noop"&&D!="stop"&&D!="close")for(var X=1;X<O.length;X++)O[X]=""}}}}return Yh(m)}catch{return d}}var Ol={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},td;function Ll(){}y(Ll,Xh),Ll.prototype.g=function(){return new XMLHttpRequest},Ll.prototype.i=function(){return{}},td=new Ll;function Ir(l,d,m,_){this.j=l,this.i=d,this.l=m,this.R=_||1,this.U=new Po(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new My}function My(){this.i=null,this.g="",this.h=!1}var Vy={},nd={};function rd(l,d,m){l.L=1,l.v=Vl(Jn(d)),l.m=m,l.P=!0,Uy(l,null)}function Uy(l,d){l.F=Date.now(),Dl(l),l.A=Jn(l.v);var m=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),Zy(m.i,"t",_),l.C=0,m=l.j.J,l.h=new My,l.g=yv(l.j,m?d:null,!l.m),0<l.O&&(l.M=new Yb(g(l.Y,l,l.g),l.O)),d=l.U,m=l.g,_=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(Ry[0]=O.toString()),O=Ry);for(var D=0;D<O.length;D++){var X=ut(m,O[D],_||d.handleEvent,!1,d.h||d);if(!X)break;d.g[X.key]=X}d=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),No(),ex(l.i,l.u,l.A,l.l,l.R,l.m)}Ir.prototype.ca=function(l){l=l.target;const d=this.M;d&&Yn(l)==3?d.j():this.Y(l)},Ir.prototype.Y=function(l){try{if(l==this.g)e:{const It=Yn(this.g);var d=this.g.Ba();const hs=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||ov(this.g)))){this.J||It!=4||d==7||(d==8||0>=hs?No(3):No(2)),id(this);var m=this.g.Z();this.X=m;t:if(Fy(this)){var _=ov(this.g);l="";var O=_.length,D=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),Do(this);var X="";break t}this.h.i=new a.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,l+=this.h.i.decode(_[d],{stream:!(D&&d==O-1)});_.length=0,this.h.g+=l,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=m==200,tx(this.i,this.u,this.A,this.l,this.R,It,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,pt=this.g;if((Re=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(Re)){var Se=Re;break t}}Se=null}if(m=Se)ls(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sd(this,m);else{this.o=!1,this.s=3,jt(12),Si(this),Do(this);break e}}if(this.P){m=!0;let gn;for(;!this.J&&this.C<X.length;)if(gn=ix(this,X),gn==nd){It==4&&(this.s=4,jt(14),m=!1),ls(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Vy){this.s=4,jt(15),ls(this.i,this.l,X,"[Invalid Chunk]"),m=!1;break}else ls(this.i,this.l,gn,null),sd(this,gn);if(Fy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||X.length!=0||this.h.h||(this.s=1,jt(16),m=!1),this.o=this.o&&m,!m)ls(this.i,this.l,X,"[Invalid Chunked Response]"),Si(this),Do(this);else if(0<X.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),hd(St),St.M=!0,jt(11))}}else ls(this.i,this.l,X,null),sd(this,X);It==4&&Si(this),this.o&&!this.J&&(It==4?fv(this.j,this):(this.o=!1,Dl(this)))}else Ex(this.g),m==400&&0<X.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),Si(this),Do(this)}}}catch{}finally{}};function Fy(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function ix(l,d){var m=l.C,_=d.indexOf(`
`,m);return _==-1?nd:(m=Number(d.substring(m,_)),isNaN(m)?Vy:(_+=1,_+m>d.length?nd:(d=d.slice(_,_+m),l.C=_+m,d)))}Ir.prototype.cancel=function(){this.J=!0,Si(this)};function Dl(l){l.S=Date.now()+l.I,By(l,l.I)}function By(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Oo(g(l.ba,l),d)}function id(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Ir.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(nx(this.i,this.A),this.L!=2&&(No(),jt(17)),Si(this),this.s=2,Do(this)):By(this,this.S-l)};function Do(l){l.j.G==0||l.J||fv(l.j,l)}function Si(l){id(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Cy(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function sd(l,d){try{var m=l.j;if(m.G!=0&&(m.g==l||od(m.h,l))){if(!l.K&&od(m.h,l)&&m.G==3){try{var _=m.Da.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var O=_;if(O[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Hl(m),$l(m);else break e;cd(m),jt(18)}}else m.za=O[1],0<m.za-m.T&&37500>O[2]&&m.F&&m.v==0&&!m.C&&(m.C=Oo(g(m.Za,m),6e3));if(1>=Hy(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ai(m,11)}else if((l.K||m.g==l)&&Hl(m),!T(d))for(O=m.Da.g.parse(d),d=0;d<O.length;d++){let Se=O[d];if(m.T=Se[0],Se=Se[1],m.G==2)if(Se[0]=="c"){m.K=Se[1],m.ia=Se[2];const St=Se[3];St!=null&&(m.la=St,m.j.info("VER="+m.la));const It=Se[4];It!=null&&(m.Aa=It,m.j.info("SVER="+m.Aa));const hs=Se[5];hs!=null&&typeof hs=="number"&&0<hs&&(_=1.5*hs,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const gn=l.g;if(gn){const ql=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ql){var D=_.h;D.g||ql.indexOf("spdy")==-1&&ql.indexOf("quic")==-1&&ql.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(ad(D,D.h),D.h=null))}if(_.D){const dd=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;dd&&(_.ya=dd,Ne(_.I,_.D,dd))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var X=l;if(_.qa=gv(_,_.J?_.ia:null,_.W),X.K){Ky(_.h,X);var Re=X,pt=_.L;pt&&(Re.I=pt),Re.B&&(id(Re),Dl(Re)),_.g=X}else hv(_);0<m.i.length&&zl(m)}else Se[0]!="stop"&&Se[0]!="close"||Ai(m,7);else m.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Ai(m,7):ud(m):Se[0]!="noop"&&m.l&&m.l.ta(Se),m.v=0)}}No(4)}catch{}}var sx=class{constructor(l,d){this.g=l,this.map=d}};function $y(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Hy(l){return l.h?1:l.g?l.g.size:0}function od(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function ad(l,d){l.g?l.g.add(d):l.h=d}function Ky(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}$y.prototype.cancel=function(){if(this.i=qy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function qy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const m of l.g.values())d=d.concat(m.D);return d}return v(l.i)}function ox(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],m=l.length,_=0;_<m;_++)d.push(l[_]);return d}d=[],m=0;for(_ in l)d[m++]=l[_];return d}function ax(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var m=0;m<l;m++)d.push(m);return d}d=[],m=0;for(const _ in l)d[m++]=_;return d}}}function Wy(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var m=ax(l),_=ox(l),O=_.length,D=0;D<O;D++)d.call(void 0,_[D],m&&m[D],l)}var Gy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lx(l,d){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var _=l[m].indexOf("="),O=null;if(0<=_){var D=l[m].substring(0,_);O=l[m].substring(_+1)}else D=l[m];d(D,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Ii(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ii){this.h=l.h,jl(this,l.j),this.o=l.o,this.g=l.g,Ml(this,l.s),this.l=l.l;var d=l.i,m=new Vo;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),Qy(this,m),this.m=l.m}else l&&(d=String(l).match(Gy))?(this.h=!1,jl(this,d[1]||"",!0),this.o=jo(d[2]||""),this.g=jo(d[3]||"",!0),Ml(this,d[4]),this.l=jo(d[5]||"",!0),Qy(this,d[6]||"",!0),this.m=jo(d[7]||"")):(this.h=!1,this.i=new Vo(null,this.h))}Ii.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Mo(d,Jy,!0),":");var m=this.g;return(m||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Mo(d,Jy,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Mo(m,m.charAt(0)=="/"?hx:cx,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Mo(m,fx)),l.join("")};function Jn(l){return new Ii(l)}function jl(l,d,m){l.j=m?jo(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Ml(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Qy(l,d,m){d instanceof Vo?(l.i=d,px(l.i,l.h)):(m||(d=Mo(d,dx)),l.i=new Vo(d,l.h))}function Ne(l,d,m){l.i.set(d,m)}function Vl(l){return Ne(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function jo(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Mo(l,d,m){return typeof l=="string"?(l=encodeURI(l).replace(d,ux),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ux(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Jy=/[#\/\?@]/g,cx=/[#\?:]/g,hx=/[#\?]/g,dx=/[#\?@]/g,fx=/#/g;function Vo(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Ar(l){l.g||(l.g=new Map,l.h=0,l.i&&lx(l.i,function(d,m){l.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=Vo.prototype,t.add=function(l,d){Ar(this),this.i=null,l=us(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(d),this.h+=1,this};function Yy(l,d){Ar(l),d=us(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Xy(l,d){return Ar(l),d=us(l,d),l.g.has(d)}t.forEach=function(l,d){Ar(this),this.g.forEach(function(m,_){m.forEach(function(O){l.call(d,O,_,this)},this)},this)},t.na=function(){Ar(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let _=0;_<d.length;_++){const O=l[_];for(let D=0;D<O.length;D++)m.push(d[_])}return m},t.V=function(l){Ar(this);let d=[];if(typeof l=="string")Xy(this,l)&&(d=d.concat(this.g.get(us(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)d=d.concat(l[m])}return d},t.set=function(l,d){return Ar(this),this.i=null,l=us(this,l),Xy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Zy(l,d,m){Yy(l,d),0<m.length&&(l.i=null,l.g.set(us(l,d),v(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var _=d[m];const D=encodeURIComponent(String(_)),X=this.V(_);for(_=0;_<X.length;_++){var O=D;X[_]!==""&&(O+="="+encodeURIComponent(String(X[_]))),l.push(O)}}return this.i=l.join("&")};function us(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function px(l,d){d&&!l.j&&(Ar(l),l.i=null,l.g.forEach(function(m,_){var O=_.toLowerCase();_!=O&&(Yy(this,_),Zy(this,O,m))},l)),l.j=d}function mx(l,d){const m=new Lo;if(a.Image){const _=new Image;_.onload=S(br,m,"TestLoadImage: loaded",!0,d,_),_.onerror=S(br,m,"TestLoadImage: error",!1,d,_),_.onabort=S(br,m,"TestLoadImage: abort",!1,d,_),_.ontimeout=S(br,m,"TestLoadImage: timeout",!1,d,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else d(!1)}function gx(l,d){const m=new Lo,_=new AbortController,O=setTimeout(()=>{_.abort(),br(m,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:_.signal}).then(D=>{clearTimeout(O),D.ok?br(m,"TestPingServer: ok",!0,d):br(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),br(m,"TestPingServer: error",!1,d)})}function br(l,d,m,_,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),_(m)}catch{}}function yx(){this.g=new Zb}function vx(l,d,m){const _=m||"";try{Wy(l,function(O,D){let X=O;c(O)&&(X=Yh(O)),d.push(_+D+"="+encodeURIComponent(X))})}catch(O){throw d.push(_+"type="+encodeURIComponent("_badmap")),O}}function Ul(l){this.l=l.Ub||null,this.j=l.eb||!1}y(Ul,Xh),Ul.prototype.g=function(){return new Fl(this.l,this.j)},Ul.prototype.i=function(l){return function(){return l}}({});function Fl(l,d){Tt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Fl,Tt),t=Fl.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Fo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Uo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Fo(this)),this.g&&(this.readyState=3,Fo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ev(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ev(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Uo(this):Fo(this),this.readyState==3&&ev(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Uo(this))},t.Qa=function(l){this.g&&(this.response=l,Uo(this))},t.ga=function(){this.g&&Uo(this)};function Uo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Fo(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=d.next();return l.join(`\r
`)};function Fo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Fl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function tv(l){let d="";return z(l,function(m,_){d+=_,d+=":",d+=m,d+=`\r
`}),d}function ld(l,d,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=tv(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):Ne(l,d,m))}function $e(l){Tt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y($e,Tt);var _x=/^https?$/i,wx=["POST","PUT"];t=$e.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():td.g(),this.v=this.o?Py(this.o):Py(td),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(D){nv(this,D);return}if(l=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var O in _)m.set(O,_[O]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const D of _.keys())m.set(D,_.get(D));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(D=>D.toLowerCase()=="content-type"),O=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(wx,d,void 0))||_||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,X]of m)this.g.setRequestHeader(D,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sv(this),this.u=!0,this.g.send(l),this.u=!1}catch(D){nv(this,D)}};function nv(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,rv(l),Bl(l)}function rv(l){l.A||(l.A=!0,Dt(l,"complete"),Dt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Dt(this,"complete"),Dt(this,"abort"),Bl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bl(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iv(this):this.bb())},t.bb=function(){iv(this)};function iv(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Yn(l)!=4||l.Z()!=2)){if(l.u&&Yn(l)==4)by(l.Ea,0,l);else if(Dt(l,"readystatechange"),Yn(l)==4){l.h=!1;try{const X=l.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var _;if(_=X===0){var O=String(l.D).match(Gy)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),_=!_x.test(O?O.toLowerCase():"")}m=_}if(m)Dt(l,"complete"),Dt(l,"success");else{l.m=6;try{var D=2<Yn(l)?l.g.statusText:""}catch{D=""}l.l=D+" ["+l.Z()+"]",rv(l)}}finally{Bl(l)}}}}function Bl(l,d){if(l.g){sv(l);const m=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||Dt(l,"ready");try{m.onreadystatechange=_}catch{}}}function sv(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Yn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),Xb(d)}};function ov(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Ex(l){const d={};l=(l.g&&2<=Yn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(T(l[_]))continue;var m=P(l[_]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const D=d[O]||[];d[O]=D,D.push(m)}b(d,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bo(l,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||d}function av(l){this.Aa=0,this.i=[],this.j=new Lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bo("baseRetryDelayMs",5e3,l),this.cb=Bo("retryDelaySeedMs",1e4,l),this.Wa=Bo("forwardChannelMaxRetries",2,l),this.wa=Bo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new $y(l&&l.concurrentRequestLimit),this.Da=new yx,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=av.prototype,t.la=8,t.G=1,t.connect=function(l,d,m,_){jt(0),this.W=l,this.H=d||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=gv(this,null,this.W),zl(this)};function ud(l){if(lv(l),l.G==3){var d=l.U++,m=Jn(l.I);if(Ne(m,"SID",l.K),Ne(m,"RID",d),Ne(m,"TYPE","terminate"),$o(l,m),d=new Ir(l,l.j,d),d.L=2,d.v=Vl(Jn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=d.v,m=!0),m||(d.g=yv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Dl(d)}mv(l)}function $l(l){l.g&&(hd(l),l.g.cancel(),l.g=null)}function lv(l){$l(l),l.u&&(a.clearTimeout(l.u),l.u=null),Hl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function zl(l){if(!zy(l.h)&&!l.s){l.s=!0;var d=l.Ga;ee||q(),H||(ee(),H=!0),ne.add(d,l),l.B=0}}function Tx(l,d){return Hy(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Oo(g(l.Ga,l,d),pv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new Ir(this,this.j,l);let D=this.o;if(this.S&&(D?(D=E(D),C(D,this.S)):D=this.S),this.m!==null||this.O||(O.H=D,D=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=cv(this,O,d),m=Jn(this.I),Ne(m,"RID",l),Ne(m,"CVER",22),this.D&&Ne(m,"X-HTTP-Session-Id",this.D),$o(this,m),D&&(this.O?d="headers="+encodeURIComponent(String(tv(D)))+"&"+d:this.m&&ld(m,this.m,D)),ad(this.h,O),this.Ua&&Ne(m,"TYPE","init"),this.P?(Ne(m,"$req",d),Ne(m,"SID","null"),O.T=!0,rd(O,m,null)):rd(O,m,d),this.G=2}}else this.G==3&&(l?uv(this,l):this.i.length==0||zy(this.h)||uv(this))};function uv(l,d){var m;d?m=d.l:m=l.U++;const _=Jn(l.I);Ne(_,"SID",l.K),Ne(_,"RID",m),Ne(_,"AID",l.T),$o(l,_),l.m&&l.o&&ld(_,l.m,l.o),m=new Ir(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),d&&(l.i=d.D.concat(l.i)),d=cv(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ad(l.h,m),rd(m,_,d)}function $o(l,d){l.H&&z(l.H,function(m,_){Ne(d,_,m)}),l.l&&Wy({},function(m,_){Ne(d,_,m)})}function cv(l,d,m){m=Math.min(l.i.length,m);var _=l.l?g(l.l.Na,l.l,l):null;e:{var O=l.i;let D=-1;for(;;){const X=["count="+m];D==-1?0<m?(D=O[0].g,X.push("ofs="+D)):D=0:X.push("ofs="+D);let Re=!0;for(let pt=0;pt<m;pt++){let Se=O[pt].g;const St=O[pt].map;if(Se-=D,0>Se)D=Math.max(0,O[pt].g-100),Re=!1;else try{vx(St,X,"req"+Se+"_")}catch{_&&_(St)}}if(Re){_=X.join("&");break e}}}return l=l.i.splice(0,m),d.D=l,_}function hv(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;ee||q(),H||(ee(),H=!0),ne.add(d,l),l.v=0}}function cd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Oo(g(l.Fa,l),pv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,dv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Oo(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),$l(this),dv(this))};function hd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function dv(l){l.g=new Ir(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jn(l.qa);Ne(d,"RID","rpc"),Ne(d,"SID",l.K),Ne(d,"AID",l.T),Ne(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ne(d,"TO",l.ja),Ne(d,"TYPE","xmlhttp"),$o(l,d),l.m&&l.o&&ld(d,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Vl(Jn(d)),m.m=null,m.P=!0,Uy(m,l)}t.Za=function(){this.C!=null&&(this.C=null,$l(this),cd(this),jt(19))};function Hl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function fv(l,d){var m=null;if(l.g==d){Hl(l),hd(l),l.g=null;var _=2}else if(od(l.h,d))m=d.D,Ky(l.h,d),_=1;else return;if(l.G!=0){if(d.o)if(_==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var O=l.B;_=Nl(),Dt(_,new Dy(_,m)),zl(l)}else hv(l);else if(O=d.s,O==3||O==0&&0<d.X||!(_==1&&Tx(l,d)||_==2&&cd(l)))switch(m&&0<m.length&&(d=l.h,d.i=d.i.concat(m)),O){case 1:Ai(l,5);break;case 4:Ai(l,10);break;case 3:Ai(l,6);break;default:Ai(l,2)}}}function pv(l,d){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*d}function Ai(l,d){if(l.j.info("Error code "+d),d==2){var m=g(l.fb,l),_=l.Xa;const O=!_;_=new Ii(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||jl(_,"https"),Vl(_),O?mx(_.toString(),m):gx(_.toString(),m)}else jt(2);l.G=0,l.l&&l.l.sa(d),mv(l),lv(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function mv(l){if(l.G=0,l.ka=[],l.l){const d=qy(l.h);(d.length!=0||l.i.length!=0)&&(A(l.ka,d),A(l.ka,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.ra()}}function gv(l,d,m){var _=m instanceof Ii?Jn(m):new Ii(m);if(_.g!="")d&&(_.g=d+"."+_.g),Ml(_,_.s);else{var O=a.location;_=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var D=new Ii(null);_&&jl(D,_),d&&(D.g=d),O&&Ml(D,O),m&&(D.l=m),_=D}return m=l.D,d=l.ya,m&&d&&Ne(_,m,d),Ne(_,"VER",l.la),$o(l,_),_}function yv(l,d,m){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new $e(new Ul({eb:m})):new $e(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vv(){}t=vv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Kl(){}Kl.prototype.g=function(l,d){return new Jt(l,d)};function Jt(l,d){Tt.call(this),this.g=new av(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!T(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!T(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new cs(this)}y(Jt,Tt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){ud(this.g)},Jt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Yh(l),l=m);d.i.push(new sx(d.Ya++,l)),d.G==3&&zl(d)},Jt.prototype.N=function(){this.g.l=null,delete this.j,ud(this.g),delete this.g,Jt.aa.N.call(this)};function _v(l){Zh.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const m in d){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}y(_v,Zh);function wv(){ed.call(this),this.status=1}y(wv,ed);function cs(l){this.g=l}y(cs,vv),cs.prototype.ua=function(){Dt(this.g,"a")},cs.prototype.ta=function(l){Dt(this.g,new _v(l))},cs.prototype.sa=function(l){Dt(this.g,new wv)},cs.prototype.ra=function(){Dt(this.g,"b")},Kl.prototype.createWebChannel=Kl.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,s1=function(){return new Kl},i1=function(){return Nl()},r1=Ti,Pp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ol.NO_ERROR=0,Ol.TIMEOUT=8,Ol.HTTP_ERROR=6,Du=Ol,jy.COMPLETE="complete",n1=jy,ky.EventType=ko,ko.OPEN="a",ko.CLOSE="b",ko.ERROR="c",ko.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,la=ky,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,t1=$e}).apply(typeof cu<"u"?cu:typeof self<"u"?self:typeof window<"u"?window:{});const X_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new cg("@firebase/firestore");function gs(){return Ji.logLevel}function te(t,...e){if(Ji.logLevel<=ye.DEBUG){const n=e.map(fg);Ji.debug(`Firestore (${_o}): ${t}`,...n)}}function vr(t,...e){if(Ji.logLevel<=ye.ERROR){const n=e.map(fg);Ji.error(`Firestore (${_o}): ${t}`,...n)}}function no(t,...e){if(Ji.logLevel<=ye.WARN){const n=e.map(fg);Ji.warn(`Firestore (${_o}): ${t}`,...n)}}function fg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: `+t;throw vr(e),new Error(e)}function Ie(t,e){t||ae()}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class WN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GN{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string"),new o1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new Rt(e)}}class QN{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class JN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new QN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ie(this.o===void 0);const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string"),this.R=n.token,new YN(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ZN(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function ro(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new ot(0,0))}static max(){return new le(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ja.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ja?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class je extends Ja{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new je(n)}static emptyPath(){return new je([])}}const eO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends Ja{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return eO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(je.fromString(e))}static fromName(e){return new se(je.fromString(e).popFirst(5))}static empty(){return new se(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new je(e.slice()))}}function tO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new ai(i,se.empty(),e)}function nO(t){return new ai(t.readTime,t.key,-1)}class ai{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ai(le.min(),se.empty(),-1)}static max(){return new ai(le.max(),se.empty(),-1)}}function rO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==iO)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function oO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Eh.oe=-1;function Th(t){return t==null}function kc(t){return t===0&&1/t==-1/0}function aO(t){return typeof t=="number"&&Number.isInteger(t)&&!kc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Z_(e)),e=uO(t.get(n),e);return Z_(e)}function uO(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Z_(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function l1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hu(this.root,e,this.comparator,!0)}}class hu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gt.RED,this.left=i??gt.EMPTY,this.right=s??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t0(this.data.getIterator())}getIteratorFrom(e){return new t0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class t0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new dn([])}unionWith(e){let n=new at(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ro(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new u1("Invalid base64 string: "+s):s}}(e);return new wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const cO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function li(t){if(Ie(!!t),typeof t=="string"){let e=0;const n=cO.exec(t);if(Ie(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ui(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Sh(t){const e=t.mapValue.fields.__previous_value__;return pg(e)?Sh(e):e}function Ya(t){const e=li(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Xa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Xa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Xa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ci(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pg(t)?4:fO(t)?9007199254740991:dO(t)?10:11:ae()}function Wn(t,e){if(t===e)return!0;const n=ci(t);if(n!==ci(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ya(t).isEqual(Ya(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=li(i.timestampValue),a=li(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ui(i.bytesValue).isEqual(ui(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return We(i.geoPointValue.latitude)===We(s.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return We(i.integerValue)===We(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=We(i.doubleValue),a=We(s.doubleValue);return o===a?kc(o)===kc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ro(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(e0(o)!==e0(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Wn(o[u],a[u])))return!1;return!0}(t,e);default:return ae()}}function Za(t,e){return(t.values||[]).find(n=>Wn(n,e))!==void 0}function io(t,e){if(t===e)return 0;const n=ci(t),r=ci(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=We(s.integerValue||s.doubleValue),u=We(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return n0(t.timestampValue,e.timestampValue);case 4:return n0(Ya(t),Ya(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ui(s),u=ui(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=_e(a[c],u[c]);if(h!==0)return h}return _e(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=_e(We(s.latitude),We(o.latitude));return a!==0?a:_e(We(s.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return r0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,c,h;const f=s.fields||{},g=o.fields||{},S=(a=f.value)===null||a===void 0?void 0:a.arrayValue,y=(u=g.value)===null||u===void 0?void 0:u.arrayValue,v=_e(((c=S==null?void 0:S.values)===null||c===void 0?void 0:c.length)||0,((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:r0(S,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===du.mapValue&&o===du.mapValue)return 0;if(s===du.mapValue)return 1;if(o===du.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const g=_e(u[f],h[f]);if(g!==0)return g;const S=io(a[u[f]],c[h[f]]);if(S!==0)return S}return _e(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ae()}}function n0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=li(t),r=li(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function r0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=io(n[i],r[i]);if(s)return s}return _e(n.length,r.length)}function so(t){return kp(t)}function kp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=li(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ui(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=kp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${kp(n.fields[o])}`;return i+"}"}(t.mapValue):ae()}function ju(t){switch(ci(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sh(t);return e?16+ju(e):16;case 5:return 2*t.stringValue.length;case 6:return ui(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ju(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return gi(r.fields,(s,o)=>{i+=s.length+ju(o)}),i}(t.mapValue);default:throw ae()}}function Np(t){return!!t&&"integerValue"in t}function mg(t){return!!t&&"arrayValue"in t}function i0(t){return!!t&&"nullValue"in t}function s0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Mu(t){return!!t&&"mapValue"in t}function dO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ea(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ea(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ea(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Mu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ea(n)}setAll(e){let n=yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ea(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Mu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Mu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){gi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Zt(Ea(this.value))}}function c1(t){const e=[];return gi(t.fields,(n,r)=>{const i=new yt([n]);if(Mu(r)){const s=c1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Pt(e,0,le.min(),le.min(),le.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,i){return new Pt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new Pt(e,2,n,le.min(),le.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new Pt(e,3,n,le.min(),le.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.position=e,this.inclusive=n}}function o0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=io(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function a0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n="asc"){this.field=e,this.dir=n}}function pO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{}class it extends h1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gO(e,n,r):n==="array-contains"?new _O(e,r):n==="in"?new wO(e,r):n==="not-in"?new EO(e,r):n==="array-contains-any"?new TO(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yO(e,r):new vO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(io(n,this.value)):n!==null&&ci(this.value)===ci(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends h1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Gn(e,n)}matches(e){return d1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function d1(t){return t.op==="and"}function f1(t){return mO(t)&&d1(t)}function mO(t){for(const e of t.filters)if(e instanceof Gn)return!1;return!0}function Op(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+so(t.value);if(f1(t))return t.filters.map(e=>Op(e)).join(",");{const e=t.filters.map(n=>Op(n)).join(",");return`${t.op}(${e})`}}function p1(t,e){return t instanceof it?function(r,i){return i instanceof it&&r.op===i.op&&r.field.isEqual(i.field)&&Wn(r.value,i.value)}(t,e):t instanceof Gn?function(r,i){return i instanceof Gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&p1(o,i.filters[a]),!0):!1}(t,e):void ae()}function m1(t){return t instanceof it?function(n){return`${n.field.canonicalString()} ${n.op} ${so(n.value)}`}(t):t instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map(m1).join(" ,")+"}"}(t):"Filter"}class gO extends it{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class yO extends it{constructor(e,n){super(e,"in",n),this.keys=g1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vO extends it{constructor(e,n){super(e,"not-in",n),this.keys=g1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function g1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class _O extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mg(n)&&Za(n.arrayValue,this.value)}}class wO extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Za(this.value.arrayValue,n)}}class EO extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Za(this.value.arrayValue,n)}}class TO extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Za(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function l0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new SO(t,e,n,r,i,s,o)}function gg(t){const e=ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Op(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>so(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>so(r)).join(",")),e.ue=n}return e.ue}function yg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!p1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a0(t.startAt,e.startAt)&&a0(t.endAt,e.endAt)}function Lp(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function IO(t,e,n,r,i,s,o,a){return new Ih(t,e,n,r,i,s,o,a)}function vg(t){return new Ih(t)}function u0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AO(t){return t.collectionGroup!==null}function Ta(t){const e=ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new at(yt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Oc(s,r))}),n.has(yt.keyField().canonicalString())||e.ce.push(new Oc(yt.keyField(),r))}return e.ce}function zn(t){const e=ce(t);return e.le||(e.le=bO(e,Ta(t))),e.le}function bO(t,e){if(t.limitType==="F")return l0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Oc(i.field,s)});const n=t.endAt?new Nc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nc(t.startAt.position,t.startAt.inclusive):null;return l0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dp(t,e,n){return new Ih(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ah(t,e){return yg(zn(t),zn(e))&&t.limitType===e.limitType}function y1(t){return`${gg(zn(t))}|lt:${t.limitType}`}function ys(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>m1(i)).join(", ")}]`),Th(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>so(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>so(i)).join(",")),`Target(${r})`}(zn(t))}; limitType=${t.limitType})`}function bh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ta(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=o0(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,Ta(r),i)||r.endAt&&!function(o,a,u){const c=o0(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,Ta(r),i))}(t,e)}function xO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v1(t){return(e,n)=>{let r=!1;for(const i of Ta(t)){const s=RO(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function RO(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?io(u,c):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return l1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new Be(se.comparator);function _r(){return CO}const _1=new Be(se.comparator);function ua(...t){let e=_1;for(const n of t)e=e.insert(n.key,n);return e}function w1(t){let e=_1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Li(){return Sa()}function E1(){return Sa()}function Sa(){return new is(t=>t.toString(),(t,e)=>t.isEqual(e))}const PO=new Be(se.comparator),kO=new at(se.comparator);function ve(...t){let e=kO;for(const n of t)e=e.add(n);return e}const NO=new at(_e);function OO(){return NO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(e)?"-0":e}}function T1(t){return{integerValue:""+t}}function LO(t,e){return aO(e)?T1(e):_g(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this._=void 0}}function DO(t,e,n){return t instanceof Lc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pg(s)&&(s=Sh(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof el?I1(t,e):t instanceof tl?A1(t,e):function(i,s){const o=S1(i,s),a=c0(o)+c0(i.Pe);return Np(o)&&Np(i.Pe)?T1(a):_g(i.serializer,a)}(t,e)}function jO(t,e,n){return t instanceof el?I1(t,e):t instanceof tl?A1(t,e):n}function S1(t,e){return t instanceof Dc?function(r){return Np(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Lc extends xh{}class el extends xh{constructor(e){super(),this.elements=e}}function I1(t,e){const n=b1(e);for(const r of t.elements)n.some(i=>Wn(i,r))||n.push(r);return{arrayValue:{values:n}}}class tl extends xh{constructor(e){super(),this.elements=e}}function A1(t,e){let n=b1(e);for(const r of t.elements)n=n.filter(i=>!Wn(i,r));return{arrayValue:{values:n}}}class Dc extends xh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function c0(t){return We(t.integerValue||t.doubleValue)}function b1(t){return mg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function MO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof el&&i instanceof el||r instanceof tl&&i instanceof tl?ro(r.elements,i.elements,Wn):r instanceof Dc&&i instanceof Dc?Wn(r.Pe,i.Pe):r instanceof Lc&&i instanceof Lc}(t.transform,e.transform)}class VO{constructor(e,n){this.version=e,this.transformResults=n}}class An{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rh{}function x1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wg(t.key,An.none()):new yl(t.key,t.data,An.none());{const n=t.data,r=Zt.empty();let i=new at(yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new yi(t.key,r,new dn(i.toArray()),An.none())}}function UO(t,e,n){t instanceof yl?function(i,s,o){const a=i.value.clone(),u=d0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yi?function(i,s,o){if(!Vu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=d0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(R1(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ia(t,e,n,r){return t instanceof yl?function(s,o,a,u){if(!Vu(s.precondition,o))return a;const c=s.value.clone(),h=f0(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof yi?function(s,o,a,u){if(!Vu(s.precondition,o))return a;const c=f0(s.fieldTransforms,u,o),h=o.data;return h.setAll(R1(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Vu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function FO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=S1(r.transform,i||null);s!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,s))}return n||null}function h0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ro(r,i,(s,o)=>MO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yl extends Rh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yi extends Rh{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function R1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d0(t,e,n){const r=new Map;Ie(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,jO(o,a,n[i]))}return r}function f0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,DO(s,o,e))}return r}class wg extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BO extends Rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&UO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ia(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ia(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=E1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=x1(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&ro(this.mutations,e.mutations,(n,r)=>h0(n,r))&&ro(this.baseMutations,e.baseMutations,(n,r)=>h0(n,r))}}class Eg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ie(e.mutations.length===r.length);let i=function(){return PO}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Eg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,we;function KO(t){switch(t){default:return ae();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function C1(t){if(t===void 0)return vr("GRPC error has no .code"),K.UNKNOWN;switch(t){case Ye.OK:return K.OK;case Ye.CANCELLED:return K.CANCELLED;case Ye.UNKNOWN:return K.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return K.INTERNAL;case Ye.UNAVAILABLE:return K.UNAVAILABLE;case Ye.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Ye.NOT_FOUND:return K.NOT_FOUND;case Ye.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Ye.ABORTED:return K.ABORTED;case Ye.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Ye.DATA_LOSS:return K.DATA_LOSS;default:return ae()}}(we=Ye||(Ye={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=new Fi([4294967295,4294967295],0);function p0(t){const e=qO().encode(t),n=new e1;return n.update(e),new Uint8Array(n.digest())}function m0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fi([n,r],0),new Fi([i,s],0)]}class Tg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ca(`Invalid padding: ${n}`);if(r<0)throw new ca(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ca(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ca(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Fi.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(Fi.fromNumber(r)));return i.compare(WO)===1&&(i=new Fi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=p0(e),[r,i]=m0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Tg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=p0(e),[r,i]=m0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ch(le.min(),i,new Be(_e),_r(),ve())}}class vl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vl(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class P1{constructor(e,n){this.targetId=e,this.me=n}}class k1{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class g0{constructor(){this.fe=0,this.ge=y0(),this.pe=wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new vl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=y0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ie(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class GO{constructor(e){this.Le=e,this.Be=new Map,this.ke=_r(),this.qe=fu(),this.Qe=fu(),this.Ke=new Be(_e)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const s=i.target;if(Lp(s))if(r===0){const o=new se(s.path);this.We(n,o,Pt.newNoDocument(o,le.min()))}else Ie(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;if(u!==0){this.He(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ui(r).toUint8Array()}catch(u){if(u instanceof u1)return no("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Tg(o,i,s)}catch(u){return no(u instanceof ca?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Lp(a.target)){const u=new se(a.target.path);this.st(u).has(o)||this.ot(o,u)||this.We(o,u,Pt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ve();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Ye(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Ch(e,n,this.Ke,this.ke,r);return this.ke=_r(),this.qe=fu(),this.Qe=fu(),this.Ke=new Be(_e),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new g0,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new at(_e),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new at(_e),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new g0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function fu(){return new Be(se.comparator)}function y0(){return new Be(se.comparator)}const QO={asc:"ASCENDING",desc:"DESCENDING"},JO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YO={and:"AND",or:"OR"};class XO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jp(t,e){return t.useProto3Json||Th(e)?e:{value:e}}function jc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZO(t,e){return jc(t,e.toTimestamp())}function Hn(t){return Ie(!!t),le.fromTimestamp(function(n){const r=li(n);return new ot(r.seconds,r.nanos)}(t))}function Sg(t,e){return Mp(t,e).canonicalString()}function Mp(t,e){const n=function(i){return new je(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function O1(t){const e=je.fromString(t);return Ie(V1(e)),e}function Vp(t,e){return Sg(t.databaseId,e.path)}function Kd(t,e){const n=O1(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(D1(n))}function L1(t,e){return Sg(t.databaseId,e)}function e2(t){const e=O1(t);return e.length===4?je.emptyPath():D1(e)}function Up(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D1(t){return Ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function v0(t,e,n){return{name:Vp(t,e),fields:n.value.mapValue.fields}}function t2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Ie(h===void 0||typeof h=="string"),wt.fromBase64String(h||"")):(Ie(h===void 0||h instanceof Buffer||h instanceof Uint8Array),wt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?K.UNKNOWN:C1(c.code);return new ie(h,c.message||"")}(o);n=new k1(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kd(t,r.document.name),s=Hn(r.document.updateTime),o=r.document.createTime?Hn(r.document.createTime):le.min(),a=new Zt({mapValue:{fields:r.document.fields}}),u=Pt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Uu(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kd(t,r.document),s=r.readTime?Hn(r.readTime):le.min(),o=Pt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Uu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kd(t,r.document),s=r.removedTargetIds||[];n=new Uu([],s,i,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new HO(i,s),a=r.targetId;n=new P1(a,o)}}return n}function n2(t,e){let n;if(e instanceof yl)n={update:v0(t,e.key,e.value)};else if(e instanceof wg)n={delete:Vp(t,e.key)};else if(e instanceof yi)n={update:v0(t,e.key,e.data),updateMask:h2(e.fieldMask)};else{if(!(e instanceof BO))return ae();n={verify:Vp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Lc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof el)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof tl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Dc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ZO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ae()}(t,e.precondition)),n}function r2(t,e){return t&&t.length>0?(Ie(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Hn(i.updateTime):Hn(s);return o.isEqual(le.min())&&(o=Hn(s)),new VO(o,i.transformResults||[])}(n,e))):[]}function i2(t,e){return{documents:[L1(t,e.path)]}}function s2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L1(t,i);const s=function(c){if(c.length!==0)return M1(Gn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(g){return{field:vs(g.field),direction:l2(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=jp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function o2(t){let e=e2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ie(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const g=j1(f);return g instanceof Gn&&f1(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(y){return new Oc(_s(y.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Th(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(f){const g=!!f.before,S=f.values||[];return new Nc(S,g)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const g=!f.before,S=f.values||[];return new Nc(S,g)}(n.endAt)),IO(e,i,o,s,a,"F",u,c)}function a2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function j1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_s(n.unaryFilter.field);return it.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_s(n.unaryFilter.field);return it.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_s(n.unaryFilter.field);return it.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_s(n.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return it.create(_s(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(r=>j1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function l2(t){return QO[t]}function u2(t){return JO[t]}function c2(t){return YO[t]}function vs(t){return{fieldPath:t.canonicalString()}}function _s(t){return yt.fromServerFormat(t.fieldPath)}function M1(t){return t instanceof it?function(n){if(n.op==="=="){if(s0(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NAN"}};if(i0(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s0(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NOT_NAN"}};if(i0(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(n.field),op:u2(n.op),value:n.value}}}(t):t instanceof Gn?function(n){const r=n.getFilters().map(i=>M1(i));return r.length===1?r[0]:{compositeFilter:{op:c2(n.op),filters:r}}}(t):ae()}function h2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function V1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,r,i,s=le.min(),o=le.min(),a=wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.ht=e}}function f2(t){const e=o2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.ln=new m2}addToCollectionParentIndex(e,n){return this.ln.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(ai.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class m2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(je.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $t{static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(41943040,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new oo(0)}static Qn(){return new oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0([t,e],[n,r]){const i=_e(t,n);return i===0?_e(e,r):i}class g2{constructor(e){this.Gn=e,this.buffer=new at(w0),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();w0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){te("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Yn(3e5)})}}class v2{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Eh.oe);const r=new g2(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(te("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(_0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_0):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,s,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),gs()<=ye.DEBUG&&te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function _2(t,e){return new v2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.changes=new is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ia(r.mutation,i,dn.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=Li();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ua();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Li();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=_r();const o=Sa(),a=function(){return Sa()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof yi)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Ia(h.mutation,c,h.mutation.getFieldMask(),ot.now())):o.set(c.key,dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new E2(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Sa();let i=new Be((o,a)=>o-a),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||dn.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(i.get(a.batchId)||ve()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=E1();h.forEach(g=>{if(!s.has(g)){const S=x1(n.get(g),r.get(g));S!==null&&f.set(g,S),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Li());let a=-1,u=s;return o.next(c=>U.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,ve())).next(h=>({batchId:a,changes:w1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=ua();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ua();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,u=>{const c=function(f,g){return new Ih(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Pt.newInvalidDocument(h)))});let a=ua();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&Ia(h.mutation,c,dn.empty(),ot.now()),bh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return U.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hn(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:f2(i.bundledQuery),readTime:Hn(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.overlays=new Be(se.comparator),this.Er=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Li();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Tt(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Li(),s=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Be((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Li(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Li(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return U.resolve(a)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zO(n,r));let s=this.Er.get(n);s===void 0&&(s=ve(),this.Er.set(n,s)),this.Er.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this.dr=new at(ht.Ar),this.Rr=new at(ht.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new ht(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new ht(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new se(new je([])),r=new ht(n,e),i=new ht(n,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new se(new je([])),r=new ht(n,e),i=new ht(n,e+1);let s=ve();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ht(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ht{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return se.comparator(e.key,n.key)||_e(e.br,n.br)}static Vr(e,n){return _e(e.br,n.br)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new at(ht.Ar)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $O(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.vr=this.vr.add(new ht(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ht(n,0),i=new ht(n,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const a=this.Cr(o.br);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(_e);return n.forEach(i=>{const s=new ht(i,0),o=new ht(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],a=>{r=r.add(a.br)})}),U.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new ht(new se(s),0);let a=new at(_e);return this.vr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.br)),!0)},o),U.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ie(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return U.forEach(n.mutations,i=>{const s=new ht(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new ht(n,0),i=this.vr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.Nr=e,this.docs=function(){return new Be(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Pt.newInvalidDocument(n))}getEntries(e,n){let r=_r();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Pt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=_r();const o=n.path,a=new se(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||rO(nO(h),r)<=0||(i.has(h.key)||bh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ae()}Lr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new R2(this)}getSize(e){return U.resolve(this.size)}}class R2 extends w2{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.persistence=e,this.Br=new is(n=>gg(n),yg),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ig,this.targetCount=0,this.Qr=oo.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),U.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new oo(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Un(n),U.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Br.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Eh(0),this.Ur=!1,this.Ur=!0,this.Wr=new A2,this.referenceDelegate=e(this),this.Gr=new C2(this),this.indexManager=new p2,this.remoteDocumentCache=function(i){return new x2(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new d2(n),this.jr=new S2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new b2(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new P2(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,n){return U.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class P2 extends sO{constructor(e){super(),this.currentSequenceNumber=e}}class Ag{constructor(e){this.persistence=e,this.Zr=new Ig,this.Xr=null}static ei(e){return new Ag(e)}get ti(){if(this.Xr)return this.Xr;throw ae()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),U.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.ti,r=>{const i=se.fromPath(r);return this.ni(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return U.or([()=>U.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Mc{constructor(e,n){this.persistence=e,this.ri=new is(r=>lO(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=_2(this,n)}static ei(e,n){return new Mc(e,n)}Hr(){}Jr(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return U.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?U.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,n).next(a=>{a||(r++,s.removeEntry(o,le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),U.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ju(e.data.value)),n}ir(e,n,r){return U.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return U.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=ve(),i=ve();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new bg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Ck()?8:oO(Ot())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Xi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new k2;return this.ts(e,n,o).next(a=>{if(s.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>s.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(gs()<=ye.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",ys(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),U.resolve()):(gs()<=ye.DEBUG&&te("QueryEngine","Query:",ys(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(gs()<=ye.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",ys(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(n))):U.resolve())}Xi(e,n){if(u0(n))return U.resolve(null);let r=zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Dp(n,null,"F"),r=zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ve(...s);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.rs(n,a);return this.ss(n,c,o,u.readTime)?this.Xi(e,Dp(n,null,"F")):this.os(e,c,n,u)}))})))}es(e,n,r,i){return u0(n)||i.isEqual(le.min())?U.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(n,s);return this.ss(n,o,r,i)?U.resolve(null):(gs()<=ye.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ys(n)),this.os(e,o,n,tO(i,-1)).next(a=>a))})}rs(e,n){let r=new at(v1(e));return n.forEach((i,s)=>{bh(e,s)&&(r=r.add(s))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,n,r){return gs()<=ye.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",ys(n)),this.Zi.getDocumentsMatchingQuery(e,n,ai.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Be(_e),this.cs=new is(s=>gg(s),yg),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T2(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function L2(t,e,n,r){return new O2(t,e,n,r)}async function F1(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=ve();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function D2(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,g=f.keys();let S=U.resolve();return g.forEach(y=>{S=S.next(()=>h.getEntry(u,y)).next(v=>{const A=c.docVersions.get(y);Ie(A!==null),v.version.compareTo(A)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),h.addEntry(v)))})}),S.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ve();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function B1(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function j2(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];e.targetChanges.forEach((h,f)=>{const g=i.get(f);if(!g)return;a.push(n.Gr.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Gr.addMatchingKeys(s,h.addedDocuments,f)));let S=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?S=S.withResumeToken(wt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):h.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(h.resumeToken,r)),i=i.insert(f,S),function(v,A,w){return v.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(g,S,h)&&a.push(n.Gr.updateTargetData(s,S))});let u=_r(),c=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(M2(s,o,e.documentUpdates).next(h=>{u=h.Is,c=h.Es})),!r.isEqual(le.min())){const h=n.Gr.getLastRemoteSnapshotVersion(s).next(f=>n.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.us=i,s))}function M2(t,e,n){let r=ve(),i=ve();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=_r();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Is:o,Es:i}})}function V2(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U2(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Gr.allocateTargetId(r).next(o=>(i=new Br(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Fp(t,e,n){const r=ce(t),i=r.us.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Eo(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function E0(t,e,n){const r=ce(t);let i=le.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=ce(u),g=f.cs.get(h);return g!==void 0?U.resolve(f.us.get(g)):f.Gr.getTargetData(c,h)}(r,o,zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:ve())).next(a=>(F2(r,xO(e),a),{documents:a,ds:s})))}function F2(t,e,n){let r=t.ls.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ls.set(e,r)}class T0{constructor(){this.activeTargetIds=OO()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B2{constructor(){this._o=new T0,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new T0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu=null;function qd(){return pu===null?pu=function(){return 268435456+Math.round(2147483648*Math.random())}():pu++,"0x"+pu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class K2 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(n,r,i,s,o){const a=qd(),u=this.No(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,s,o),this.Bo(n,u,c,i).then(h=>(te("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw no("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}ko(n,r,i,s,o,a){return this.Oo(n,r,i,s,o)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_o}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}No(n,r){const i=z2[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const s=qd();return new Promise((o,a)=>{const u=new t1;u.setWithCredentials(!0),u.listenOnce(n1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Du.NO_ERROR:const h=u.getResponseJson();te(xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Du.TIMEOUT:te(xt,`RPC '${e}' ${s} timed out`),a(new ie(K.DEADLINE_EXCEEDED,"Request time out"));break;case Du.HTTP_ERROR:const f=u.getStatus();if(te(xt,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const S=g==null?void 0:g.error;if(S&&S.status&&S.message){const y=function(A){const w=A.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(w)>=0?w:K.UNKNOWN}(S.status);a(new ie(y,S.message))}else a(new ie(K.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ie(K.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{te(xt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);te(xt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}qo(e,n,r){const i=qd(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=s1(),a=i1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");te(xt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=o.createWebChannel(h,u);let g=!1,S=!1;const y=new H2({Eo:A=>{S?te(xt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(te(xt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),te(xt,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},Ao:()=>f.close()}),v=(A,w,T)=>{A.listen(w,I=>{try{T(I)}catch(N){setTimeout(()=>{throw N},0)}})};return v(f,la.EventType.OPEN,()=>{S||(te(xt,`RPC '${e}' stream ${i} transport opened.`),y.So())}),v(f,la.EventType.CLOSE,()=>{S||(S=!0,te(xt,`RPC '${e}' stream ${i} transport closed`),y.Do())}),v(f,la.EventType.ERROR,A=>{S||(S=!0,no(xt,`RPC '${e}' stream ${i} transport errored:`,A),y.Do(new ie(K.UNAVAILABLE,"The operation could not be completed")))}),v(f,la.EventType.MESSAGE,A=>{var w;if(!S){const T=A.data[0];Ie(!!T);const I=T,N=(I==null?void 0:I.error)||((w=I[0])===null||w===void 0?void 0:w.error);if(N){te(xt,`RPC '${e}' stream ${i} received error:`,N);const M=N.status;let z=function(x){const C=Ye[x];if(C!==void 0)return C1(C)}(M),b=N.message;z===void 0&&(z=K.INTERNAL,b="Unknown error status: "+M+" with message "+N.message),S=!0,y.Do(new ie(z,b)),f.close()}else te(xt,`RPC '${e}' stream ${i} received:`,T),y.vo(T)}}),v(a,r1.STAT_EVENT,A=>{A.stat===Pp.PROXY?te(xt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Pp.NOPROXY&&te(xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.bo()},0),y}}function Wd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(t){return new XO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,r,i,s,o,a,u){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new $1(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new ie(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q2 extends z1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=t2(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?Hn(o.readTime):le.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Up(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Lp(u)?{documents:i2(s,u)}:{query:s2(s,u).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=N1(s,o.resumeToken);const c=jp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=jc(s,o.snapshotVersion.toTimestamp());const c=jp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=a2(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Up(this.serializer),n.removeTarget=e,this.c_(n)}}class W2 extends z1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=r2(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Up(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>n2(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,Mp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(K.UNKNOWN,s.toString())})}ko(e,n,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,Mp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(K.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Q2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(vr(n),this.C_=!1):te("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{ss(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ce(u);c.k_.add(4),await _l(c),c.K_.set("Unknown"),c.k_.delete(4),await kh(c)}(this))})}),this.K_=new Q2(r,i)}}async function kh(t){if(ss(t))for(const e of t.q_)await e(!0)}async function _l(t){for(const e of t.q_)await e(!1)}function H1(t,e){const n=ce(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Pg(n)?Cg(n):To(n).s_()&&Rg(n,e))}function xg(t,e){const n=ce(t),r=To(n);n.B_.delete(e),r.s_()&&K1(n,e),n.B_.size===0&&(r.s_()?r.a_():ss(n)&&n.K_.set("Unknown"))}function Rg(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(t).V_(e)}function K1(t,e){t.U_.xe(e),To(t).m_(e)}function Cg(t){t.U_=new GO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),To(t).start(),t.K_.F_()}function Pg(t){return ss(t)&&!To(t).i_()&&t.B_.size>0}function ss(t){return ce(t).k_.size===0}function q1(t){t.U_=void 0}async function Y2(t){t.K_.set("Online")}async function X2(t){t.B_.forEach((e,n)=>{Rg(t,e)})}async function Z2(t,e){q1(t),Pg(t)?(t.K_.O_(e),Cg(t)):t.K_.set("Unknown")}async function eL(t,e,n){if(t.K_.set("Online"),e instanceof k1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.B_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.B_.delete(a),i.U_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Vc(t,r)}else if(e instanceof Uu?t.U_.$e(e):e instanceof P1?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(le.min()))try{const r=await B1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.U_.it(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.B_.get(c);h&&s.B_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.B_.get(u);if(!h)return;s.B_.set(u,h.withResumeToken(wt.EMPTY_BYTE_STRING,h.snapshotVersion)),K1(s,u);const f=new Br(h.target,u,c,h.sequenceNumber);Rg(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Vc(t,r)}}async function Vc(t,e,n){if(!Eo(e))throw e;t.k_.add(1),await _l(t),t.K_.set("Offline"),n||(n=()=>B1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await kh(t)})}function W1(t,e){return e().catch(n=>Vc(t,n,e))}async function Nh(t){const e=ce(t),n=hi(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;tL(e);)try{const i=await V2(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,nL(e,i)}catch(i){await Vc(e,i)}G1(e)&&Q1(e)}function tL(t){return ss(t)&&t.L_.length<10}function nL(t,e){t.L_.push(e);const n=hi(t);n.s_()&&n.f_&&n.g_(e.mutations)}function G1(t){return ss(t)&&!hi(t).i_()&&t.L_.length>0}function Q1(t){hi(t).start()}async function rL(t){hi(t).w_()}async function iL(t){const e=hi(t);for(const n of t.L_)e.g_(n.mutations)}async function sL(t,e,n){const r=t.L_.shift(),i=Eg.from(r,e,n);await W1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Nh(t)}async function oL(t,e){e&&hi(t).f_&&await async function(r,i){if(function(o){return KO(o)&&o!==K.ABORTED}(i.code)){const s=r.L_.shift();hi(r).__(),await W1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Nh(r)}}(t,e),G1(t)&&Q1(t)}async function I0(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=ss(n);n.k_.add(3),await _l(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await kh(n)}async function aL(t,e){const n=ce(t);e?(n.k_.delete(2),await kh(n)):e||(n.k_.add(2),await _l(n),n.K_.set("Unknown"))}function To(t){return t.W_||(t.W_=function(n,r,i){const s=ce(n);return s.b_(),new q2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:Y2.bind(null,t),mo:X2.bind(null,t),po:Z2.bind(null,t),R_:eL.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),Pg(t)?Cg(t):t.K_.set("Unknown")):(await t.W_.stop(),q1(t))})),t.W_}function hi(t){return t.G_||(t.G_=function(n,r,i){const s=ce(n);return s.b_(),new W2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:rL.bind(null,t),po:oL.bind(null,t),p_:iL.bind(null,t),y_:sL.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Nh(t)):(await t.G_.stop(),t.L_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new kg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(t,e){if(vr("AsyncQueue",`${e}: ${t}`),Eo(t))return new ie(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{static emptySet(e){return new zs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=ua(),this.sortedSet=new Be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.z_=new Be(se.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ae():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ao{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ao(e,n,zs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class uL{constructor(){this.queries=b0(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=ce(n),s=i.queries;i.queries=b0(),s.forEach((o,a)=>{for(const u of a.J_)u.onError(r)})})(this,new ie(K.ABORTED,"Firestore shutting down"))}}function b0(){return new is(t=>y1(t),Ah)}async function J1(t,e){const n=ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new lL,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Ng(o,`Initialization of query '${ys(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.J_.push(e),e.ea(n.onlineState),s.H_&&e.ta(s.H_)&&Og(n)}async function Y1(t,e){const n=ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cL(t,e){const n=ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.J_)a.ta(i)&&(r=!0);o.H_=i}}r&&Og(n)}function hL(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(e)}function Og(t){t.X_.forEach(e=>{e.next()})}var Bp,x0;(x0=Bp||(Bp={})).na="default",x0.Cache="cache";class X1{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.key=e}}class eI{constructor(e){this.key=e}}class dL{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ve(),this.mutatedKeys=ve(),this.Va=v1(e),this.ma=new zs(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new A0,i=n?n.ma:this.ma;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const g=i.get(h),S=bh(this.query,f)?f:null,y=!!g&&this.mutatedKeys.has(g.key),v=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let A=!1;g&&S?g.data.isEqual(S.data)?y!==v&&(r.track({type:3,doc:S}),A=!0):this.ya(g,S)||(r.track({type:2,doc:S}),A=!0,(u&&this.Va(S,u)>0||c&&this.Va(S,c)<0)&&(a=!0)):!g&&S?(r.track({type:0,doc:S}),A=!0):g&&!S&&(r.track({type:1,doc:g}),A=!0,(u||c)&&(a=!0)),A&&(S?(o=o.add(S),s=v?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{ma:o,pa:r,ss:a,mutatedKeys:s}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((h,f)=>function(S,y){const v=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return v(S)-v(y)}(h.type,f.type)||this.Va(h.doc,f.doc)),this.wa(r),i=i!=null&&i;const a=n&&!i?this.Sa():[],u=this.Ra.size===0&&this.current&&!i?1:0,c=u!==this.Aa;return this.Aa=u,o.length!==0||c?{snapshot:new ao(this.query,e.ma,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new A0,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ve(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new eI(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new Z1(r))}),n}va(e){this.da=e.ds,this.Ra=ve();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return ao.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class fL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pL{constructor(e){this.key=e,this.Fa=!1}}class mL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new is(a=>y1(a),Ah),this.Oa=new Map,this.Na=new Set,this.La=new Be(se.comparator),this.Ba=new Map,this.ka=new Ig,this.qa={},this.Qa=new Map,this.Ka=oo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function gL(t,e,n=!0){const r=oI(t);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await tI(r,e,n,!0),i}async function yL(t,e){const n=oI(t);await tI(n,e,!0,!1)}async function tI(t,e,n,r){const i=await U2(t.localStore,zn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await vL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&H1(t.remoteStore,i),a}async function vL(t,e,n,r,i){t.Ua=(f,g,S)=>async function(v,A,w,T){let I=A.view.ga(w);I.ss&&(I=await E0(v.localStore,A.query,!1).then(({documents:b})=>A.view.ga(b,I)));const N=T&&T.targetChanges.get(A.targetId),M=T&&T.targetMismatches.get(A.targetId)!=null,z=A.view.applyChanges(I,v.isPrimaryClient,N,M);return C0(v,A.targetId,z.ba),z.snapshot}(t,f,g,S);const s=await E0(t.localStore,e,!0),o=new dL(e,s.ds),a=o.ga(s.documents),u=vl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);C0(t,n,c.ba);const h=new fL(e,n,o);return t.xa.set(e,h),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function _L(t,e,n){const r=ce(t),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!Ah(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Fp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&xg(r.remoteStore,i.targetId),$p(r,i.targetId)}).catch(wo)):($p(r,i.targetId),await Fp(r.localStore,i.targetId,!0))}async function wL(t,e){const n=ce(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),xg(n.remoteStore,r.targetId))}async function EL(t,e,n){const r=RL(t);try{const i=await function(o,a){const u=ce(o),c=ot.now(),h=a.reduce((S,y)=>S.add(y.key),ve());let f,g;return u.persistence.runTransaction("Locally write mutations","readwrite",S=>{let y=_r(),v=ve();return u.hs.getEntries(S,h).next(A=>{y=A,y.forEach((w,T)=>{T.isValidDocument()||(v=v.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(S,y)).next(A=>{f=A;const w=[];for(const T of a){const I=FO(T,f.get(T.key).overlayedDocument);I!=null&&w.push(new yi(T.key,I,c1(I.value.mapValue),An.exists(!0)))}return u.mutationQueue.addMutationBatch(S,c,w,a)}).next(A=>{g=A;const w=A.applyToLocalDocumentSet(f,v);return u.documentOverlayCache.saveOverlays(S,A.batchId,w)})}).then(()=>({batchId:g.batchId,changes:w1(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.qa[o.currentUser.toKey()];c||(c=new Be(_e)),c=c.insert(a,u),o.qa[o.currentUser.toKey()]=c}(r,i.batchId,n),await wl(r,i.changes),await Nh(r.remoteStore)}catch(i){const s=Ng(i,"Failed to persist write");n.reject(s)}}async function nI(t,e){const n=ce(t);try{const r=await j2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Ba.get(s);o&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?Ie(o.Fa):i.removedDocuments.size>0&&(Ie(o.Fa),o.Fa=!1))}),await wl(n,r,e)}catch(r){await wo(r)}}function R0(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((s,o)=>{const a=o.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ce(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const g of f.J_)g.ea(a)&&(c=!0)}),c&&Og(u)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TL(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new Be(se.comparator);o=o.insert(s,Pt.newNoDocument(s,le.min()));const a=ve().add(s),u=new Ch(le.min(),new Map,new Be(_e),o,a);await nI(r,u),r.La=r.La.remove(s),r.Ba.delete(e),Lg(r)}else await Fp(r.localStore,e,!1).then(()=>$p(r,e,n)).catch(wo)}async function SL(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await D2(n.localStore,e);iI(n,r,null),rI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wl(n,i)}catch(i){await wo(i)}}async function IL(t,e,n){const r=ce(t);try{const i=await function(o,a){const u=ce(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ie(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);iI(r,e,n),rI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wl(r,i)}catch(i){await wo(i)}}function rI(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function iI(t,e,n){const r=ce(t);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function $p(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||sI(t,r)})}function sI(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(xg(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),Lg(t))}function C0(t,e,n){for(const r of n)r instanceof Z1?(t.ka.addReference(r.key,e),AL(t,r)):r instanceof eI?(te("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||sI(t,r.key)):ae()}function AL(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(te("SyncEngine","New document in limbo: "+n),t.Na.add(r),Lg(t))}function Lg(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new se(je.fromString(e)),r=t.Ka.next();t.Ba.set(r,new pL(n)),t.La=t.La.insert(n,r),H1(t.remoteStore,new Br(zn(vg(n.path)),r,"TargetPurposeLimboResolution",Eh.oe))}}async function wl(t,e,n){const r=ce(t),i=[],s=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,u)=>{o.push(r.Ua(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=bg.zi(u.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Ma.R_(i),await async function(u,c){const h=ce(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>U.forEach(c,g=>U.forEach(g.Wi,S=>h.persistence.referenceDelegate.addReference(f,g.targetId,S)).next(()=>U.forEach(g.Gi,S=>h.persistence.referenceDelegate.removeReference(f,g.targetId,S)))))}catch(f){if(!Eo(f))throw f;te("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const g=f.targetId;if(!f.fromCache){const S=h.us.get(g),y=S.snapshotVersion,v=S.withLastLimboFreeSnapshotVersion(y);h.us=h.us.insert(g,v)}}}(r.localStore,s))}async function bL(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await F1(n.localStore,e);n.currentUser=e,function(s,o){s.Qa.forEach(a=>{a.forEach(u=>{u.reject(new ie(K.CANCELLED,o))})}),s.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wl(n,r.Ts)}}function xL(t,e){const n=ce(t),r=n.Ba.get(e);if(r&&r.Fa)return ve().add(r.key);{let i=ve();const s=n.Oa.get(e);if(!s)return i;for(const o of s){const a=n.xa.get(o);i=i.unionWith(a.view.fa)}return i}}function oI(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TL.bind(null,e),e.Ma.R_=cL.bind(null,e.eventManager),e.Ma.Wa=hL.bind(null,e.eventManager),e}function RL(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IL.bind(null,e),e}class Uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ph(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return L2(this.persistence,new N2,e.initialUser,this.serializer)}ja(e){return new U1(Ag.ei,this.serializer)}za(e){return new B2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uc.provider={build:()=>new Uc};class CL extends Uc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ie(this.persistence.referenceDelegate instanceof Mc);const r=this.persistence.referenceDelegate.garbageCollector;return new y2(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?$t.withCacheSize(this.cacheSizeBytes):$t.DEFAULT;return new U1(r=>Mc.ei(r,n),this.serializer)}}class zp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bL.bind(null,this.syncEngine),await aL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uL}()}createDatastore(e){const n=Ph(e.databaseInfo.databaseId),r=function(s){return new K2(s)}(e.databaseInfo);return function(s,o,a,u){return new G2(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new J2(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>R0(this.syncEngine,n,0),function(){return S0.p()?new S0:new $2}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,h){const f=new mL(i,s,o,a,u,c);return h&&(f.$a=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ce(i);te("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await _l(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zp.provider={build:()=>new zp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=a1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{te("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ng(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gd(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await F1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function P0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kL(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>I0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>I0(e.remoteStore,i)),t._onlineComponents=e}async function kL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===K.FAILED_PRECONDITION||i.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await Gd(t,new Uc)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Gd(t,new CL(void 0));return t._offlineComponents}async function lI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await P0(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await P0(t,new zp))),t._onlineComponents}function NL(t){return lI(t).then(e=>e.syncEngine)}async function uI(t){const e=await lI(t),n=e.eventManager;return n.onListen=gL.bind(null,e.syncEngine),n.onUnlisten=_L.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wL.bind(null,e.syncEngine),n}function OL(t,e,n={}){const r=new hr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new aI({next:g=>{h.eu(),o.enqueueAndForget(()=>Y1(s,f));const S=g.docs.has(a);!S&&g.fromCache?c.reject(new ie(K.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&g.fromCache&&u&&u.source==="server"?c.reject(new ie(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new X1(vg(a.path),h,{includeMetadataChanges:!0,ua:!0});return J1(s,f)}(await uI(t),t.asyncQueue,e,n,r)),r.promise}function LL(t,e,n={}){const r=new hr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new aI({next:g=>{h.eu(),o.enqueueAndForget(()=>Y1(s,f)),g.fromCache&&u.source==="server"?c.reject(new ie(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new X1(a,h,{includeMetadataChanges:!0,ua:!0});return J1(s,f)}(await uI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t,e,n){if(!n)throw new ie(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DL(t,e,n,r){if(e===!0&&r===!0)throw new ie(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function N0(t){if(!se.isDocumentKey(t))throw new ie(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function O0(t){if(se.isDocumentKey(t))throw new ie(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function wr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dg(t);throw new ie(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qN;switch(r.type){case"firstParty":return new JN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=k0.get(n);r&&(te("ComponentProvider","Removing Datastore"),k0.delete(n),r.terminate())}(this),Promise.resolve()}}function jL(t,e,n,r={}){var i;const s=(t=wr(t,Oh))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Rt.MOCK_USER;else{a=GS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ie(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Rt(c)}t._authCredentials=new WN(new o1(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Lh(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ti(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class ti extends Lh{constructor(e,n,r){super(e,n,vg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new se(e))}withConverter(e){return new ti(this.firestore,e,this._path)}}function Fc(t,e,...n){if(t=et(t),hI("collection","path",e),t instanceof Oh){const r=je.fromString(e,...n);return O0(r),new ti(t,null,r)}{if(!(t instanceof rn||t instanceof ti))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return O0(r),new ti(t.firestore,null,r)}}function Bc(t,e,...n){if(t=et(t),arguments.length===1&&(e=a1.newId()),hI("doc","path",e),t instanceof Oh){const r=je.fromString(e,...n);return N0(r),new rn(t,null,new se(r))}{if(!(t instanceof rn||t instanceof ti))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return N0(r),new rn(t.firestore,t instanceof ti?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new $1(this,"async_queue_retry"),this.fu=()=>{const r=Wd();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=Wd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Wd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new hr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Eo(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw vr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=kg.createAndSchedule(this,e,n,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&ae()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class So extends Oh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new D0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new D0(e),this._firestoreClient=void 0,await e}}}function ML(t,e){const n=typeof t=="object"?t:dg(),r=typeof t=="string"?t:"(default)",i=wh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=KS("firestore");s&&jL(i,...s)}return i}function jg(t){if(t._terminated)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VL(t),t._firestoreClient}function VL(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,h){return new hO(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,cI(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new PL(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lo(wt.fromBase64String(e))}catch(n){throw new ie(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lo(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=/^__.*__$/;class FL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new yl(e,this.data,n,this.fieldTransforms)}}class BL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class Fg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return $c(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(dI(this.Mu)&&UL.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class $L{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ph(e)}$u(e,n,r,i=!1){return new Fg({Mu:e,methodName:n,Ku:r,path:yt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fI(t){const e=t._freezeSettings(),n=Ph(t._databaseId);return new $L(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zL(t,e,n,r,i,s={}){const o=t.$u(s.merge||s.mergeFields?2:0,e,n,i);zg("Data must be an object, but it was:",o,r);const a=pI(r,o);let u,c;if(s.merge)u=new dn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const g=gI(e,f,n);if(!o.contains(g))throw new ie(K.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);WL(h,g)||h.push(g)}u=new dn(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new FL(new Zt(a),u,c)}class Bg extends Mg{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bg}}function HL(t,e,n,r){const i=t.$u(1,e,n);zg("Data must be an object, but it was:",i,r);const s=[],o=Zt.empty();gi(r,(u,c)=>{const h=Hg(e,u,n);c=et(c);const f=i.Bu(h);if(c instanceof Bg)s.push(h);else{const g=$g(c,f);g!=null&&(s.push(h),o.set(h,g))}});const a=new dn(s);return new BL(o,a,i.fieldTransforms)}function KL(t,e,n,r,i,s){if(t.$u(1,e,n),gI(e,r,n),s.length%2!=0)throw new ie(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`)}function $g(t,e){if(mI(t=et(t)))return zg("Unsupported field value:",e,t),pI(t,e);if(t instanceof Mg)return function(r,i){if(!dI(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=$g(a,i.ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return LO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ot.fromDate(r);return{timestampValue:jc(i.serializer,s)}}if(r instanceof ot){const s=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jc(i.serializer,s)}}if(r instanceof Vg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lo)return{bytesValue:N1(i.serializer,r._byteString)};if(r instanceof rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Sg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ug)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.qu("VectorValues must only contain numeric values.");return _g(a.serializer,u)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Dg(r)}`)}(t,e)}function pI(t,e){const n={};return l1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gi(t,(r,i)=>{const s=$g(i,e.Ou(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof Vg||t instanceof lo||t instanceof rn||t instanceof Mg||t instanceof Ug)}function zg(t,e,n){if(!mI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Dg(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function gI(t,e,n){if((e=et(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return Hg(t,e);throw $c("Field path arguments must be of type string or ",t,!1,void 0,n)}const qL=new RegExp("[~\\*/\\[\\]]");function Hg(t,e,n){if(e.search(qL)>=0)throw $c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dh(...e.split("."))._internalPath}catch{throw $c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $c(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ie(K.INVALID_ARGUMENT,a+t+u)}function WL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GL extends yI{data(){return super.data()}}function vI(t,e){return typeof e=="string"?Hg(t,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JL{convertValue(e,n="none"){switch(ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>We(o.doubleValue));return new Ug(s)}convertGeoPoint(e){return new Vg(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ya(e));default:return null}}convertTimestamp(e){const n=li(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);Ie(V1(r));const i=new Xa(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||vr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _I extends yI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fu extends _I{data(e={}){return super.data(e)}}class XL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ha(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fu(this._firestore,this._userDataWriter,r.key,r,new ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Fu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Fu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:ZL(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ZL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t){t=wr(t,rn);const e=wr(t.firestore,So);return OL(jg(e),t._key).then(n=>iD(e,t,n))}class wI extends JL{constructor(e){super(),this.firestore=e}convertBytes(e){return new lo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function Kg(t){t=wr(t,Lh);const e=wr(t.firestore,So),n=jg(e),r=new wI(e);return QL(t._query),LL(n,t._query).then(i=>new XL(e,r,t,i))}function tD(t,e,n,...r){t=wr(t,rn);const i=wr(t.firestore,So),s=fI(i);let o;return o=typeof(e=et(e))=="string"||e instanceof Dh?KL(s,"updateDoc",t._key,e,n,r):HL(s,"updateDoc",t._key,e),qg(i,[o.toMutation(t._key,An.exists(!0))])}function nD(t){return qg(wr(t.firestore,So),[new wg(t._key,An.none())])}function rD(t,e){const n=wr(t.firestore,So),r=Bc(t),i=YL(t.converter,e);return qg(n,[zL(fI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,An.exists(!1))]).then(()=>r)}function qg(t,e){return function(r,i){const s=new hr;return r.asyncQueue.enqueueAndForget(async()=>EL(await NL(r),i,s)),s.promise}(jg(t),e)}function iD(t,e,n){const r=n.docs.get(e._key),i=new wI(t);return new _I(t,i,e._key,r,new ha(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){_o=i})(rs),Qi(new oi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new So(new GN(r.getProvider("auth-internal")),new XN(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xa(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$n(X_,"4.7.5",e),$n(X_,"4.7.5","esm2017")})();var sD="firebase",oD="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n(sD,oD,"app");function Wg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function EI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aD=EI,TI=new ml("auth","Firebase",EI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new cg("@firebase/auth");function lD(t,...e){zc.logLevel<=ye.WARN&&zc.warn(`Auth (${rs}): ${t}`,...e)}function Bu(t,...e){zc.logLevel<=ye.ERROR&&zc.error(`Auth (${rs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,...e){throw Gg(t,...e)}function Kn(t,...e){return Gg(t,...e)}function SI(t,e,n){const r=Object.assign(Object.assign({},aD()),{[e]:n});return new ml("auth","Firebase",r).create(e,{appName:t.name})}function ni(t){return SI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TI.create(t,...e)}function oe(t,e,...n){if(!t)throw Gg(e,...n)}function or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bu(e),new Error(e)}function Er(t,e){t||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function uD(){return j0()==="http:"||j0()==="https:"}function j0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uD()||bk()||"connection"in navigator)?navigator.onLine:!0}function hD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=Sk()||xk()}get(){return cD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t,e){Er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new El(3e4,6e4);function os(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function vi(t,e,n,r,i={}){return AI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=gl(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return Ak()||(c.referrerPolicy="no-referrer"),II.fetch()(bI(t,t.config.apiHost,n,a),c)})}async function AI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},dD),e);try{const i=new mD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw mu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw mu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw mu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw mu(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw SI(t,h,c);xn(t,h)}}catch(i){if(i instanceof Qn)throw i;xn(t,"network-request-failed",{message:String(i)})}}async function jh(t,e,n,r,i={}){const s=await vi(t,e,n,r,i);return"mfaPendingCredential"in s&&xn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function bI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Qg(t.config,i):`${t.config.apiScheme}://${i}`}function pD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kn(this.auth,"network-request-failed")),fD.get())})}}function mu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kn(t,e,r);return i.customData._tokenResponse=n,i}function M0(t){return t!==void 0&&t.enterprise!==void 0}class gD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yD(t,e){return vi(t,"GET","/v2/recaptchaConfig",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vD(t,e){return vi(t,"POST","/v1/accounts:delete",e)}async function xI(t,e){return vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _D(t,e=!1){const n=et(t),r=await n.getIdToken(e),i=Jg(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Aa(Qd(i.auth_time)),issuedAtTime:Aa(Qd(i.iat)),expirationTime:Aa(Qd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Qd(t){return Number(t)*1e3}function Jg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bu("JWT malformed, contained fewer than 3 sections"),null;try{const i=zS(n);return i?JSON.parse(i):(Bu("Failed to decode base64 JWT payload"),null)}catch(i){return Bu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function V0(t){const e=Jg(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qn&&wD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Aa(this.lastLoginAt),this.creationTime=Aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await nl(t,xI(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?RI(s.providerUserInfo):[],a=SD(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Kp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function TD(t){const e=et(t);await Hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RI(t){return t.map(e=>{var{providerId:n}=e,r=Wg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(t,e){const n=await AI(t,{},async()=>{const r=gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=bI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",II.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AD(t,e){return vi(t,"POST","/v2/accounts:revokeToken",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=V0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ID(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Hs;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hs,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ar{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ED(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Kp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await nl(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _D(this,e)}reload(){return TD(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sr(this.auth.app))return Promise.reject(ni(this.auth));const e=await this.getIdToken();return await nl(this,vD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,S=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,T=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:I,emailVerified:N,isAnonymous:M,providerData:z,stsTokenManager:b}=n;oe(I&&b,e,"internal-error");const E=Hs.fromJSON(this.name,b);oe(typeof I=="string",e,"internal-error"),Rr(f,e.name),Rr(g,e.name),oe(typeof N=="boolean",e,"internal-error"),oe(typeof M=="boolean",e,"internal-error"),Rr(S,e.name),Rr(y,e.name),Rr(v,e.name),Rr(A,e.name),Rr(w,e.name),Rr(T,e.name);const x=new ar({uid:I,auth:e,email:g,emailVerified:N,displayName:f,isAnonymous:M,photoURL:y,phoneNumber:S,tenantId:v,stsTokenManager:E,createdAt:w,lastLoginAt:T});return z&&Array.isArray(z)&&(x.providerData=z.map(C=>Object.assign({},C))),A&&(x._redirectEventId=A),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Hs;i.updateFromServerResponse(n);const s=new ar({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Hc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?RI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Hs;a.updateFromIdToken(r);const u=new ar({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Kp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=new Map;function lr(t){Er(t instanceof Function,"Expected a class definition");let e=U0.get(t);return e?(Er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,U0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CI.type="NONE";const F0=CI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t,e,n){return`firebase:${t}:${e}:${n}`}class Ks{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$u(this.userKey,i.apiKey,s),this.fullPersistenceKey=$u("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ar._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ks(lr(F0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||lr(F0);const o=$u(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=ar._fromJSON(e,h);c!==s&&(a=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ks(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Ks(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(DI(e))return"Blackberry";if(jI(e))return"Webos";if(kI(e))return"Safari";if((e.includes("chrome/")||NI(e))&&!e.includes("edge/"))return"Chrome";if(LI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PI(t=Ot()){return/firefox\//i.test(t)}function kI(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NI(t=Ot()){return/crios\//i.test(t)}function OI(t=Ot()){return/iemobile/i.test(t)}function LI(t=Ot()){return/android/i.test(t)}function DI(t=Ot()){return/blackberry/i.test(t)}function jI(t=Ot()){return/webos/i.test(t)}function Yg(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bD(t=Ot()){var e;return Yg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xD(){return Rk()&&document.documentMode===10}function MI(t=Ot()){return Yg(t)||LI(t)||jI(t)||DI(t)||/windows phone/i.test(t)||OI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(t,e=[]){let n;switch(t){case"Browser":n=B0(Ot());break;case"Worker":n=`${B0(Ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t,e={}){return vi(t,"GET","/v2/passwordPolicy",os(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=6;class kD{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:PD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $0(this),this.idTokenSubscription=new $0(this),this.beforeStateQueue=new RD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ks.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xI(this,{idToken:e}),r=await ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(sr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sr(this.app))return Promise.reject(ni(this));const n=e?et(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sr(this.app)?Promise.reject(ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sr(this.app)?Promise.reject(ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CD(this),n=new kD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ml("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await AD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ks.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&lD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Io(t){return et(t)}class $0{constructor(e){this.auth=e,this.observer=null,this.addObserver=jk(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OD(t){Mh=t}function UI(t){return Mh.loadJS(t)}function LD(){return Mh.recaptchaEnterpriseScript}function DD(){return Mh.gapiScript}function jD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class MD{constructor(){this.enterprise=new VD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class VD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const UD="recaptcha-enterprise",FI="NO_RECAPTCHA";class FD{constructor(e){this.type=UD,this.auth=Io(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{yD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new gD(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;M0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(FI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MD().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&M0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=LD();u.length!==0&&(u+=a),UI(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function z0(t,e,n,r=!1,i=!1){const s=new FD(t);let o;if(i)o=FI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const u=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function H0(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await z0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await z0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e){const n=wh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Cc(s,e??{}))return i;xn(i,"already-initialized")}return n.initialize({options:e})}function $D(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zD(t,e,n){const r=Io(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=BI(e),{host:o,port:a}=HD(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),KD()}function BI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HD(t){const e=BI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:K0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:K0(o)}}}function K0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function KD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function qD(t,e){return vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t,e){return jh(t,"POST","/v1/accounts:signInWithPassword",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(t,e){return jh(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}async function QD(t,e){return jh(t,"POST","/v1/accounts:signInWithEmailLink",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends Xg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new rl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H0(e,n,"signInWithPassword",WD);case"emailLink":return GD(e,{email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H0(e,r,"signUpPassword",qD);case"emailLink":return QD(e,{idToken:n,email:this._email,oobCode:this._password});default:xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(t,e){return jh(t,"POST","/v1/accounts:signInWithIdp",os(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD="http://localhost";class Yi extends Xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Wg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Yi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return qs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qs(e,n)}buildRequest(){const e={requestUri:JD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XD(t){const e=oa(aa(t)).link,n=e?oa(aa(e)).deep_link_id:null,r=oa(aa(t)).deep_link_id;return(r?oa(aa(r)).link:null)||r||n||e||t}class Zg{constructor(e){var n,r,i,s,o,a;const u=oa(aa(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,f=YD((i=u.mode)!==null&&i!==void 0?i:null);oe(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=XD(e);try{return new Zg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return rl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Zg.parseLink(n);return oe(r,"argument-error"),rl._fromEmailAndCode(e,r.code,r.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends $I{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Tl{constructor(){super("facebook.com")}static credential(e){return Yi._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Or.credential(e.oauthAccessToken)}catch{return null}}}Or.FACEBOOK_SIGN_IN_METHOD="facebook.com";Or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yi._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Lr.credential(n,r)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Tl{constructor(){super("github.com")}static credential(e){return Yi._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Tl{constructor(){super("twitter.com")}static credential(e,n){return Yi._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return jr.credential(n,r)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ar._fromIdTokenResponse(e,r,i),o=q0(r);return new uo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=q0(r);return new uo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function q0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends Qn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Kc(e,n,r,i)}}function zI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(t,s,e,r):s})}async function ZD(t,e,n=!1){const r=await nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return uo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(t,e,n=!1){const{auth:r}=t;if(sr(r.app))return Promise.reject(ni(r));const i="reauthenticate";try{const s=await nl(t,zI(r,i,e,t),n);oe(s.idToken,r,"internal-error");const o=Jg(s.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),uo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&xn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(t,e,n=!1){if(sr(t.app))return Promise.reject(ni(t));const r="signIn",i=await zI(t,r,e),s=await uo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function tj(t,e){return HI(Io(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(t){const e=Io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function rj(t,e,n){return sr(t.app)?Promise.reject(ni(t)):tj(et(t),Ao.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&nj(t),r})}function ij(t,e,n,r){return et(t).onIdTokenChanged(e,n,r)}function sj(t,e,n){return et(t).beforeAuthStateChanged(e,n)}function oj(t,e,n,r){return et(t).onAuthStateChanged(e,n,r)}function aj(t){return et(t).signOut()}const qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qc,"1"),this.storage.removeItem(qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=1e3,uj=10;class qI extends KI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);xD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,uj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},lj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qI.type="LOCAL";const cj=qI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI extends KI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WI.type="SESSION";const GI=WI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Vh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await hj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=ey("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return window}function fj(t){qn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){return typeof qn().WorkerGlobalScope<"u"&&typeof qn().importScripts=="function"}async function pj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gj(){return QI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="firebaseLocalStorageDb",yj=1,Wc="firebaseLocalStorage",YI="fbase_key";class Sl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uh(t,e){return t.transaction([Wc],e?"readwrite":"readonly").objectStore(Wc)}function vj(){const t=indexedDB.deleteDatabase(JI);return new Sl(t).toPromise()}function qp(){const t=indexedDB.open(JI,yj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wc,{keyPath:YI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wc)?e(r):(r.close(),await vj(),e(await qp()))})})}async function W0(t,e,n){const r=Uh(t,!0).put({[YI]:e,value:n});return new Sl(r).toPromise()}async function _j(t,e){const n=Uh(t,!1).get(e),r=await new Sl(n).toPromise();return r===void 0?null:r.value}function G0(t,e){const n=Uh(t,!0).delete(e);return new Sl(n).toPromise()}const wj=800,Ej=3;class XI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ej)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(gj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pj(),!this.activeServiceWorker)return;this.sender=new dj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qp();return await W0(e,qc,"1"),await G0(e,qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>W0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_j(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Uh(i,!1).getAll();return new Sl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XI.type="LOCAL";const Tj=XI;new El(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t,e){return e?lr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ij(t){return HI(t.auth,new ty(t),t.bypassAuthState)}function Aj(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),ej(n,new ty(t),t.bypassAuthState)}async function bj(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),ZD(n,new ty(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ij;case"linkViaPopup":case"linkViaRedirect":return bj;case"reauthViaPopup":case"reauthViaRedirect":return Aj;default:xn(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=new El(2e3,1e4);class Ls extends ZI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xj.get())};e()}}Ls.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="pendingRedirect",zu=new Map;class Cj extends ZI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zu.get(this.auth._key());if(!e){try{const r=await Pj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zu.set(this.auth._key(),e)}return this.bypassAuthState||zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Pj(t,e){const n=Oj(e),r=Nj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kj(t,e){zu.set(t._key(),e)}function Nj(t){return lr(t._redirectPersistence)}function Oj(t){return $u(Rj,t.config.apiKey,t.name)}async function Lj(t,e,n=!1){if(sr(t.app))return Promise.reject(ni(t));const r=Io(t),i=Sj(r,e),o=await new Cj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=10*60*1e3;class jj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Mj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q0(e))}saveEventToCache(e){this.cachedEventUids.add(Q0(e)),this.lastProcessedEventTime=Date.now()}}function Q0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Mj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(t,e={}){return vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fj=/^https?/;async function Bj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Vj(t);for(const n of e)try{if($j(n))return}catch{}xn(t,"unauthorized-domain")}function $j(t){const e=Hp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Fj.test(n))return!1;if(Uj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new El(3e4,6e4);function J0(){const t=qn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Hj(t){return new Promise((e,n)=>{var r,i,s;function o(){J0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J0(),n(Kn(t,"network-request-failed"))},timeout:zj.get()})}if(!((i=(r=qn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qn().gapi)===null||s===void 0)&&s.load)o();else{const a=jD("iframefcb");return qn()[a]=()=>{gapi.load?o():n(Kn(t,"network-request-failed"))},UI(`${DD()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Hu=null,e})}let Hu=null;function Kj(t){return Hu=Hu||Hj(t),Hu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=new El(5e3,15e3),Wj="__/auth/iframe",Gj="emulator/auth/iframe",Qj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yj(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qg(e,Gj):`https://${t.config.authDomain}/${Wj}`,r={apiKey:e.apiKey,appName:t.name,v:rs},i=Jj.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${gl(r).slice(1)}`}async function Xj(t){const e=await Kj(t),n=qn().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:Yj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Kn(t,"network-request-failed"),a=qn().setTimeout(()=>{s(o)},qj.get());function u(){qn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eM=500,tM=600,nM="_blank",rM="http://localhost";class Y0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iM(t,e,n,r=eM,i=tM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Zj),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ot().toLowerCase();n&&(a=NI(c)?nM:n),PI(c)&&(e=e||rM,u.scrollbars="yes");const h=Object.entries(u).reduce((g,[S,y])=>`${g}${S}=${y},`,"");if(bD(c)&&a!=="_self")return sM(e||"",a),new Y0(null);const f=window.open(e||"",a,h);oe(f,t,"popup-blocked");try{f.focus()}catch{}return new Y0(f)}function sM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="__/auth/handler",aM="emulator/auth/handler",lM=encodeURIComponent("fac");async function X0(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rs,eventId:i};if(e instanceof $I){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Dk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Tl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${lM}=${encodeURIComponent(u)}`:"";return`${uM(t)}?${gl(a).slice(1)}${c}`}function uM({config:t}){return t.emulator?Qg(t,aM):`https://${t.authDomain}/${oM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="webStorageSupport";class cM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GI,this._completeRedirectFn=Lj,this._overrideRedirectResult=kj}async _openPopup(e,n,r,i){var s;Er((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await X0(e,n,r,Hp(),i);return iM(e,o,ey())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await X0(e,n,r,Hp(),i);return fj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Er(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Xj(e),r=new jj(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jd,{type:Jd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Jd];o!==void 0&&n(!!o),xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Bj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MI()||kI()||Yg()}}const hM=cM;var Z0="@firebase/auth",ew="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pM(t){Qi(new oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VI(t)},c=new ND(r,i,s,u);return $D(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qi(new oi("auth-internal",e=>{const n=Io(e.getProvider("auth").getImmediate());return(r=>new dM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$n(Z0,ew,fM(t)),$n(Z0,ew,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=5*60,gM=WS("authIdTokenMaxAge")||mM;let tw=null;const yM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gM)return;const i=n==null?void 0:n.token;tw!==i&&(tw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tA(t=dg()){const e=wh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=BD(t,{popupRedirectResolver:hM,persistence:[Tj,cj,GI]}),r=WS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=yM(s.toString());sj(n,o,()=>o(n.currentUser)),ij(n,a=>o(a))}}const i=HS("auth");return i&&zD(n,`http://${i}`),n}function vM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}OD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Kn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",vM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pM("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firebasestorage.googleapis.com",rA="storageBucket",_M=2*60*1e3,wM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe extends Qn{constructor(e,n,r=0){super(Yd(e),`Firebase Storage: ${n} (${Yd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ke;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ke||(Ke={}));function Yd(t){return"storage/"+t}function ny(){const t="An unknown error occurred, please check the error payload for server response.";return new qe(Ke.UNKNOWN,t)}function EM(t){return new qe(Ke.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function TM(t){return new qe(Ke.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function SM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new qe(Ke.UNAUTHENTICATED,t)}function IM(){return new qe(Ke.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function AM(t){return new qe(Ke.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function bM(){return new qe(Ke.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xM(){return new qe(Ke.CANCELED,"User canceled the upload/download.")}function RM(t){return new qe(Ke.INVALID_URL,"Invalid URL '"+t+"'.")}function CM(t){return new qe(Ke.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function PM(){return new qe(Ke.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rA+"' property when initializing the app?")}function kM(){return new qe(Ke.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function NM(){return new qe(Ke.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function OM(t){return new qe(Ke.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Wp(t){return new qe(Ke.INVALID_ARGUMENT,t)}function iA(){return new qe(Ke.APP_DELETED,"The Firebase app was deleted.")}function LM(t){return new qe(Ke.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ba(t,e){return new qe(Ke.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Yo(t){throw new qe(Ke.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=tn.makeFromUrl(e,n)}catch{return new tn(e,"")}if(r.path==="")return r;throw CM(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(N){N.path_=decodeURIComponent(N.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",S=new RegExp(`^https?://${f}/${h}/b/${i}/o${g}`,"i"),y={bucket:1,path:3},v=n===nA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",w=new RegExp(`^https?://${v}/${i}/${A}`,"i"),I=[{regex:a,indices:u,postModify:s},{regex:S,indices:y,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let N=0;N<I.length;N++){const M=I[N],z=M.regex.exec(e);if(z){const b=z[M.indices.bucket];let E=z[M.indices.path];E||(E=""),r=new tn(b,E),M.postModify(r);break}}if(r==null)throw RM(e);return r}}class DM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function h(...A){c||(c=!0,e.apply(null,A))}function f(A){i=setTimeout(()=>{i=null,t(S,u())},A)}function g(){s&&clearTimeout(s)}function S(A,...w){if(c){g();return}if(A){g(),h.call(null,A,...w);return}if(u()||o){g(),h.call(null,A,...w);return}r<64&&(r*=2);let I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,f(I)}let y=!1;function v(A){y||(y=!0,g(),!c&&(i!==null?(A||(a=2),clearTimeout(i),f(0)):A||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function MM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t){return t!==void 0}function UM(t){return typeof t=="object"&&!Array.isArray(t)}function ry(t){return typeof t=="string"||t instanceof String}function nw(t){return iy()&&t instanceof Blob}function iy(){return typeof Blob<"u"}function rw(t,e,n,r){if(r<e)throw Wp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Wp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function sA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Bi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bi||(Bi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,n,r,i,s,o,a,u,c,h,f,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=f,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,y)=>{this.resolve_=S,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new gu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Bi.NO_ERROR,u=s.getStatus();if(!a||FM(u,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===Bi.ABORT;r(!1,new gu(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new gu(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());VM(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=ny();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?iA():xM();o(u)}else{const u=bM();o(u)}};this.canceled_?n(!1,new gu(!1,null,!0)):this.backoffId_=jM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $M(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function zM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function KM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function qM(t,e,n,r,i,s,o=!0){const a=sA(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return HM(c,e),$M(c,n),zM(c,s),KM(c,r),new BM(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function GM(...t){const e=WM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(iy())return new Blob(t);throw new qe(Ke.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function QM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t){if(typeof atob>"u")throw OM("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xd{constructor(e,n){this.data=e,this.contentType=n||null}}function YM(t,e){switch(t){case Un.RAW:return new Xd(oA(e));case Un.BASE64:case Un.BASE64URL:return new Xd(aA(t,e));case Un.DATA_URL:return new Xd(ZM(e),eV(e))}throw ny()}function oA(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function XM(t){let e;try{e=decodeURIComponent(t)}catch{throw ba(Un.DATA_URL,"Malformed data URL.")}return oA(e)}function aA(t,e){switch(t){case Un.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ba(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Un.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ba(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=JM(e)}catch(i){throw i.message.includes("polyfill")?i:ba(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class lA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ba(Un.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=tV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function ZM(t){const e=new lA(t);return e.base64?aA(Un.BASE64,e.rest):XM(e.rest)}function eV(t){return new lA(t).contentType}function tV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n){let r=0,i="";nw(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(nw(this.data_)){const r=this.data_,i=QM(r,e,n);return i===null?null:new Mr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Mr(r,!0)}}static getBlob(...e){if(iy()){const n=e.map(r=>r instanceof Mr?r.data_:r);return new Mr(GM.apply(null,n))}else{const n=e.map(o=>ry(o)?YM(Un.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Mr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t){let e;try{e=JSON.parse(t)}catch{return null}return UM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function cA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t,e){return e}class Mt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||iV}}let yu=null;function sV(t){return!ry(t)||t.length<2?t:cA(t)}function hA(){if(yu)return yu;const t=[];t.push(new Mt("bucket")),t.push(new Mt("generation")),t.push(new Mt("metageneration")),t.push(new Mt("name","fullPath",!0));function e(s,o){return sV(o)}const n=new Mt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Mt("size");return i.xform=r,t.push(i),t.push(new Mt("timeCreated")),t.push(new Mt("updated")),t.push(new Mt("md5Hash",null,!0)),t.push(new Mt("cacheControl",null,!0)),t.push(new Mt("contentDisposition",null,!0)),t.push(new Mt("contentEncoding",null,!0)),t.push(new Mt("contentLanguage",null,!0)),t.push(new Mt("contentType",null,!0)),t.push(new Mt("metadata","customMetadata",!0)),yu=t,yu}function oV(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new tn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function aV(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return oV(r,t),r}function dA(t,e,n){const r=uA(e);return r===null?null:aV(t,r,n)}function lV(t,e,n,r){const i=uA(e);if(i===null||!ry(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const h=t.bucket,f=t.fullPath,g="/b/"+o(h)+"/o/"+o(f),S=sy(g,n,r),y=sA({alt:"media",token:c});return S+y})[0]}function uV(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class fA{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){if(!t)throw ny()}function cV(t,e){function n(r,i){const s=dA(t,i,e);return pA(s!==null),s}return n}function hV(t,e){function n(r,i){const s=dA(t,i,e);return pA(s!==null),lV(s,i,t.host,t._protocol)}return n}function mA(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=IM():i=SM():n.getStatus()===402?i=TM(t.bucket):n.getStatus()===403?i=AM(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function dV(t){const e=mA(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=EM(t.path)),s.serverResponse=i.serverResponse,s}return n}function fV(t,e,n){const r=e.fullServerUrl(),i=sy(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new fA(i,s,hV(t,n),o);return a.errorHandler=dV(e),a}function pV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function mV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=pV(null,e)),r}function gV(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let I="";for(let N=0;N<2;N++)I=I+Math.random().toString().slice(2);return I}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const c=mV(e,r,i),h=uV(c,n),f="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,g=`\r
--`+u+"--",S=Mr.getBlob(f,r,g);if(S===null)throw kM();const y={name:c.fullPath},v=sy(s,t.host,t._protocol),A="POST",w=t.maxUploadRetryTime,T=new fA(v,A,cV(t,n),w);return T.urlParams=y,T.headers=o,T.body=S.uploadData(),T.errorHandler=mA(e),T}class yV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Yo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Yo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Yo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class vV extends yV{initXhr(){this.xhr_.responseType="text"}}function gA(){return new vV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this._service=e,n instanceof tn?this._location=n:this._location=tn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xi(e,n)}get root(){const e=new tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cA(this._location.path)}get storage(){return this._service}get parent(){const e=nV(this._location.path);if(e===null)return null;const n=new tn(this._location.bucket,e);return new Xi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw LM(e)}}function _V(t,e,n){t._throwIfRoot("uploadBytes");const r=gV(t.storage,t._location,hA(),new Mr(e,!0),n);return t.storage.makeRequestWithTokens(r,gA).then(i=>({metadata:i,ref:t}))}function wV(t){t._throwIfRoot("getDownloadURL");const e=fV(t.storage,t._location,hA());return t.storage.makeRequestWithTokens(e,gA).then(n=>{if(n===null)throw NM();return n})}function EV(t,e){const n=rV(t._location.path,e),r=new tn(t._location.bucket,n);return new Xi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t){return/^[A-Za-z]+:\/\//.test(t)}function SV(t,e){return new Xi(t,e)}function yA(t,e){if(t instanceof oy){const n=t;if(n._bucket==null)throw PM();const r=new Xi(n,n._bucket);return e!=null?yA(r,e):r}else return e!==void 0?EV(t,e):t}function IV(t,e){if(e&&TV(e)){if(t instanceof oy)return SV(t,e);throw Wp("To use ref(service, url), the first argument must be a Storage instance.")}else return yA(t,e)}function iw(t,e){const n=e==null?void 0:e[rA];return n==null?null:tn.makeFromBucketSpec(n,t)}function AV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:GS(i,t.app.options.projectId))}class oy{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=nA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_M,this._maxUploadRetryTime=wM,this._requests=new Set,i!=null?this._bucket=tn.makeFromBucketSpec(i,this._host):this._bucket=iw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=tn.makeFromBucketSpec(this._url,e):this._bucket=iw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xi(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new DM(iA());{const o=qM(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const sw="@firebase/storage",ow="0.13.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="storage";function bV(t,e,n){return t=et(t),_V(t,e,n)}function xV(t){return t=et(t),wV(t)}function RV(t,e){return t=et(t),IV(t,e)}function _A(t=dg(),e){t=et(t);const r=wh(t,vA).getImmediate({identifier:e}),i=KS("storage");return i&&CV(r,...i),r}function CV(t,e,n,r={}){AV(t,e,n,r)}function PV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new oy(n,r,i,e,rs)}function kV(){Qi(new oi(vA,PV,"PUBLIC").setMultipleInstances(!0)),$n(sw,ow,""),$n(sw,ow,"esm2017")}kV();const NV={apiKey:"AIzaSyC69Z9yIw8aGdRt9k4CQp8SuRpH6oJGSGI",authDomain:"webimmo-6189a.firebaseapp.com",projectId:"webimmo-6189a",storageBucket:"webimmo-6189a.firebasestorage.app",messagingSenderId:"487406344453",appId:"1:487406344453:web:38762583c738366c2bbf6c",measurementId:"G-16CV9SZ186"},ay=YS(NV),Di=ML(ay),Zd=tA(ay);_A(ay);const wA="/assets/profile_picture-Dl6-h9h0.jpg";function OV(){const[t,e]=V.useState([]),[n,r]=V.useState(0),[i,s]=V.useState(0),[o,a]=V.useState(0);V.useEffect(()=>{(async()=>{try{const v=(await Kg(Fc(Di,"houses"))).docs.map(A=>({...A.data(),id:A.id}));e(v)}catch(y){console.error("Erreur lors de la rcupration des donnes :",y)}})()},[]);const u=()=>r(S=>(S+1)%t.length),c=()=>r(S=>(S-1+t.length)%t.length);V.useEffect(()=>{const S=setInterval(u,5e3);return()=>clearInterval(S)},[t.length]);const h=S=>s(S.targetTouches[0].clientX),f=S=>a(S.targetTouches[0].clientX),g=()=>{i-o>50&&u(),i-o<-50&&c()};return p.jsx("div",{className:"flex flex-col min-h-screen",children:p.jsxs("main",{className:"flex-grow",children:[p.jsxs("section",{className:"py-16 px-4 md:px-8 max-w-5xl mx-auto",children:[p.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:" propos de moi"}),p.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[p.jsx("img",{src:wA,alt:"Elise BUIL",className:"w-64 h-90 rounded-full object-cover"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-lg mb-4",children:"Bien plus qu'un mtier, une vritable passion!"}),p.jsx("p",{className:"text-lg mb-4",children:"Riche dune forte exprience dans le secteur de limmobilier, je mets mon expertise  votre service pour vous accompagner dans toutes vos dmarches lies  la vente de votre bien. Je mets un point dhonneur  dvelopper une vritable relation base sur lcoute et le respect de vos besoins."}),p.jsx("p",{className:"text-lg mb-4",children:"Issue d'une formation juridique en droit immobilier, je vous propose un accompagnement spcialis dans la concrtisation de vos projets immobiliers, notamment en proposant la rdaction du compromis de vente en collaboration avec votre notaire , vous faisant ainsi bnficier d'un temps prcieux."}),p.jsx("p",{className:"text-lg mb-4",children:"Mon service de vente immobilire se distingue par une approche unique alliant expertise juridique et authentique relation dchanges."}),p.jsxs("p",{className:"text-lg mb-4",children:["N'hsitez pas  prendre contact avec moi pour changer sur vos projets, je me ferai un plaisir de pouvoir rpondre  vos questions.",p.jsx("br",{})," Ensemble, construisons une relation solide et fiable pour mener  bien votre vente immobilire en toute scurit!              "]}),p.jsx("p",{className:"text-lg",children:"Au plaisir de vous rencontrer,"}),p.jsx("div",{className:"mt-12",children:p.jsx(Xt,{to:"/EliseBUIL",className:"mx-auto inline-block bg-primary text-white text-lg font-medium py-3 px-8 rounded-lg shadow hover:bg-black transition duration-300",children:"Contactez-moi ds aujourd'hui"})})]})]})]}),p.jsx("section",{className:"bg-white",children:p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"overflow-hidden relative",onTouchStart:h,onTouchMove:f,onTouchEnd:g,children:p.jsx("div",{className:"flex transition-transform duration-300",style:{transform:`translateX(-${n*100}%)`},children:t.map(S=>p.jsx("div",{className:"w-full flex-shrink-0",children:p.jsx(Xt,{to:`/house/${S.id}`,children:p.jsx("img",{src:S.principalImage,alt:`Maison ${S.id}`,className:"w-full h-64 md:h-[calc(100vh-64px)] object-cover"})})},S.id))})}),t.length>1&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:c,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/50 p-2 rounded-full shadow-md hover:bg-white/75 transition-all",children:p.jsx(ug,{className:"h-6 w-6"})}),p.jsx("button",{onClick:u,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/50 p-2 rounded-full shadow-md hover:bg-white/75 transition-all",children:p.jsx(MS,{className:"h-6 w-6"})}),p.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:t.map((S,y)=>p.jsx("button",{onClick:()=>r(y),className:`w-3 h-3 rounded-full transition-colors ${y===n?"bg-blue-600":"bg-white/50 hover:bg-white/75"}`},y))})]})]})}),p.jsx("section",{className:"my-12 flex justify-center",children:p.jsx("div",{className:"",children:p.jsx(Xt,{to:"/Acheter",className:"mx-auto inline-block bg-primary text-white text-lg font-medium py-3 px-8 rounded-lg shadow hover:bg-black transition duration-300",children:"Voir tous nos biens"})})})]})})}const LV=()=>{const t=[{to:"/",label:"Retour  l'accueil",icon:""},{to:"/Vendre",label:"Vendre votre bien",icon:""},{to:"/Acheter",label:"Acheter un bien",icon:""},{to:"/Blog",label:"Dcouvrir nos actualits",icon:""},{to:"/EliseBUIL",label:"Rencontrer Elise BUIL",icon:""},{to:"/Estimation",label:"Estimer votre bien",icon:""}];return p.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:p.jsxs("main",{className:"flex-grow container mx-auto px-4 py-12",children:[p.jsx("p",{className:"text-center",children:"404 - page introuvable"}),p.jsx("br",{}),p.jsx("br",{}),p.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"O souhaitez-vous aller ?"}),p.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 max-w-4xl mx-auto",children:t.map(e=>p.jsxs(Xt,{to:e.to,className:"flex items-center justify-between p-6 bg-white shadow-md rounded-lg hover:shadow-lg transition-shadow",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"text-2xl mr-4",children:e.icon}),p.jsx("span",{className:"text-lg font-medium",children:e.label})]}),p.jsx(lg,{className:"h-5 w-5 text-gray-400"})]},e.to))})]})})},il={_origin:"https://api.emailjs.com"},DV=(t,e="https://api.emailjs.com")=>{il._userID=t,il._origin=e},EA=(t,e,n)=>{if(!t)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class aw{constructor(e){this.status=e.status,this.text=e.responseText}}const TA=(t,e,n={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new aw(o);a.status===200||a.text==="OK"?r(a):i(a)}),s.addEventListener("error",({target:o})=>{i(new aw(o))}),s.open("POST",il._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),jV=(t,e,n,r)=>{const i=r||il._userID;return EA(i,t,e),TA("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},MV=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},VV=(t,e,n,r)=>{const i=r||il._userID,s=MV(n);EA(i,t,e);const o=new FormData(s);return o.append("lib_version","3.2.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",i),TA("/api/v1.0/email/send-form",o)},Gc={init:DV,send:jV,sendForm:VV};function UV(){const[t,e]=V.useState({name:"",surname:"",phone:"",email:"",project:"",availability:""}),[n,r]=V.useState(!1),i=a=>{const{name:u,value:c}=a.target;e(h=>({...h,[u]:c}))},s=a=>{a.preventDefault(),Gc.send("service_ygysf6c","template_tvk3cpa",t,"3Q6blDIxCWaiJ9nvg").then(f=>{console.log("Email sent successfully:",f.text),r(!0)},f=>{console.error("Failed to send email:",f.text)})},o=()=>{r(!1),e({name:"",surname:"",phone:"",email:"",project:"",availability:""})};return p.jsx("div",{className:"min-h-screen bg-white p-4 flex items-center justify-center",children:p.jsxs("div",{className:"w-full max-w-5xl bg-white rounded-xl shadow-lg shadow-primary overflow-hidden flex flex-col lg:flex-row",style:{maxHeight:"95vh"},children:[p.jsxs("div",{className:"lg:w-2/5 p-6 bg-primary text-white flex flex-col justify-center",children:[p.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Vendez Votre Bien"}),p.jsx("p",{className:"text-lg mb-6",children:"Obtenez une estimation gratuite ds aujourd'hui"}),p.jsxs("ul",{className:"space-y-3 text-base",children:[p.jsxs("li",{className:"flex items-center",children:[p.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Analyse de march experte"]}),p.jsxs("li",{className:"flex items-center",children:[p.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Stratgie de vente personnalise"]}),p.jsxs("li",{className:"flex items-center",children:[p.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Accompagnement commercial, administratif et juridique"]})]})]}),n?p.jsx("div",{className:"w-2/4 mx-auto",children:p.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[p.jsx("p",{className:"text-xl text-center mb-6",children:"Merci de votre confiance, nos experts reviennent vers vous d'ici 48 heures maximum"}),p.jsx("button",{onClick:o,className:"w-full max-w-md flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-primary hover:bg-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition duration-150 ease-in-out",children:"Je veux obtenir une autre estimation"})]})}):p.jsxs("form",{onSubmit:s,className:"lg:w-3/5 p-6 space-y-4 overflow-y-auto",children:[p.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"name",className:"block text-base font-medium text-gray-700 mb-1",children:"Prnom"}),p.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:t.name,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition duration-150 ease-in-out",placeholder:"Jean"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"surname",className:"block text-base font-medium text-gray-700 mb-1",children:"Nom de famille"}),p.jsx("input",{type:"text",id:"surname",name:"surname",required:!0,value:t.surname,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition duration-150 ease-in-out",placeholder:"Dupont"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"phone",className:"block text-base font-medium text-gray-700 mb-1",children:"Numro de tlphone"}),p.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,value:t.phone,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition duration-150 ease-in-out",placeholder:"06 12 34 56 78"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-base font-medium text-gray-700 mb-1",children:"Email"}),p.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:t.email,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition duration-150 ease-in-out",placeholder:"jean.dupont@exemple.com"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"project",className:"block text-base font-medium text-gray-700 mb-1",children:"Votre Projet Immobilier"}),p.jsx("textarea",{id:"project",name:"project",required:!0,rows:3,value:t.project,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition duration-150 ease-in-out",placeholder:"Dcrivez votre projet immobilier (par exemple, vendre une maison de 3 chambres sur Baie-Mahault...)"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"availability",className:"block text-base font-medium text-gray-700 mb-1",children:"Vos Disponibilits"}),p.jsx("textarea",{id:"availability",name:"availability",required:!0,rows:3,value:t.availability,onChange:i,className:"w-full px-3 py-2 text-base border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary transition duration-150 ease-in-out",placeholder:"Par exemple, en semaine aprs 17h, week-ends de 9h  17h"})]}),p.jsx("div",{children:p.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-primary hover:bg-black focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition duration-150 ease-in-out",children:"Obtenez Votre Estimation Gratuite"})})]})]})})}const FV=()=>{const[t,e]=V.useState(!1),n=()=>e(!t);return p.jsx("header",{className:"sticky top-0 bg-primary p-4 border-b border-gray-200 z-50",children:p.jsxs("nav",{className:"container mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("div",{className:"font-bold text-lg",children:p.jsx(Xt,{to:"/",children:"Votre solution cl en main !"})}),p.jsx("button",{onClick:n,className:"md:hidden",children:t?p.jsx(FS,{className:"h-6 w-6"}):p.jsx(ak,{className:"h-6 w-6"})}),p.jsx("div",{className:"hidden md:flex items-center space-x-6",children:p.jsx(lw,{})})]}),t&&p.jsx("div",{className:"md:hidden mt-4 space-y-4",children:p.jsx(lw,{})})]})})},lw=()=>p.jsxs(p.Fragment,{children:[p.jsx(Xt,{to:"/Vendre",className:"block text-black hover:text-red-300",children:"Vendre"}),p.jsx(Xt,{to:"/Acheter",className:"block text-black hover:text-red-300",children:"Acheter"}),p.jsx(Xt,{to:"/Blog",className:"block text-black hover:text-red-300",children:"Actualits"}),p.jsx(Xt,{to:"/EliseBUIL",className:"block text-black hover:text-red-300",children:"Elise BUIL"}),p.jsxs("a",{href:"tel:+590690590565",className:"block text-black hover:text-red-300",children:[p.jsx("span",{className:"md:hidden",children:"Appeler"}),p.jsx("span",{className:"hidden md:inline",children:"+590 690 590 565"}),p.jsx(uk,{className:"inline-block ml-2 h-4 w-4 md:hidden"})]}),p.jsx(Xt,{to:"/Estimation",className:"block bg-black text-white px-4 py-2 rounded-lg font-bold text-center",children:"Estimer votre bien"})]}),BV=()=>{const{id:t}=xP(),[e,n]=V.useState(null),[r,i]=V.useState(0);V.useEffect(()=>{(async()=>{if(!t)return;const u=Bc(Di,"houses",t),c=await eD(u);if(c.exists()){const h={id:c.id,...c.data()};n(h);const f=h.images.indexOf(h.principalImage);i(f>=0?f:0)}else n(null)})()},[t]);const s=()=>{e&&i(a=>(a+1)%e.images.length)},o=()=>{e&&i(a=>(a-1+e.images.length)%e.images.length)};return e?p.jsx("div",{className:"min-h-screen bg-gray-100 p-4 md:p-8",children:p.jsx("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md overflow-hidden",children:p.jsxs("div",{className:"p-6",children:[p.jsxs(Xt,{to:"/Acheter",className:"inline-flex items-center text-primary hover:text-black mb-4",children:[p.jsx(rk,{className:"w-4 h-4 mr-2"}),"Retour  la liste"]}),p.jsx("h1",{className:"text-3xl font-bold mb-4",children:e.title}),p.jsxs("div",{className:"relative mb-6 group",children:[p.jsx("div",{className:"aspect-w-16 aspect-h-9",children:p.jsx("img",{src:e.images[r]||"/placeholder.svg",alt:e.title,className:"w-full h-96 object-cover rounded-lg transition-opacity duration-300"})}),e.images.length>1&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:o,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow-md hover:bg-white/100 transition-all opacity-0 group-hover:opacity-100",children:p.jsx(ug,{className:"w-6 h-6"})}),p.jsx("button",{onClick:s,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full shadow-md hover:bg-white/100 transition-all opacity-0 group-hover:opacity-100",children:p.jsx(MS,{className:"w-6 h-6"})}),p.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:e.images.map((a,u)=>p.jsx("button",{onClick:()=>i(u),className:`w-3 h-3 rounded-full transition-all ${u===r?"bg-violet-600":"bg-white/80 hover:bg-white"}`},u))})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Dtails de la proprit"}),p.jsxs("ul",{className:"space-y-2",children:[p.jsxs("li",{children:[p.jsx("strong",{children:"Prix:"})," ",(()=>{const a=e.price.replace(/[^0-9.-]+/g,""),u=Number(a);return isNaN(u)?"Invalid price":u.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0})})()]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Surface:"})," ",e.size," m"]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Types:"})," ",e.types.join(", ")]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Pices:"})," ",e.rooms]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Chambres:"})," ",e.bedrooms]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Salles de bain:"})," ",e.bathrooms]}),p.jsxs("li",{children:[p.jsx("strong",{children:"WC:"})," ",e.wc]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Localisation:"})," ",e.location]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Condition:"})," ",e.condition]}),p.jsxs("li",{children:[p.jsx("strong",{children:"Consommation nergtique:"})," ",e.consomation]})]})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Annexes"}),p.jsx("ul",{className:"space-y-2",children:e.amenities.map((a,u)=>p.jsx("li",{className:"inline-block bg-gray-100 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2",children:a},u))})]})]}),p.jsxs("div",{className:"mt-6",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Description"}),p.jsx("p",{className:"text-gray-700",children:e.description})]})]})})}):p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Chargement..."})},$V=tA();console.log("Current user:",$V.currentUser);function zV(){const[t,e]=V.useState([]),[n,r]=V.useState([]),[i,s]=V.useState({location:"",maxPrice:1e8,minSize:0,propertyTypes:[],rooms:"0",bedrooms:"0",bathrooms:"0",amenities:[],condition:"disponible"}),[o,a]=V.useState(!1);V.useEffect(()=>{(async()=>{const A=Fc(Di,"houses"),T=(await Kg(A)).docs.map(I=>({...I.data(),id:I.id}));e(T)})()},[]),V.useEffect(()=>{const v=t.filter(A=>(i.condition==="all"||A.condition===i.condition)&&parseInt(A.price)<=i.maxPrice&&parseInt(A.size)>=i.minSize&&(i.propertyTypes.length===0||Array.isArray(A.types)&&A.types.some(w=>i.propertyTypes.includes(w)))&&parseInt(A.rooms)>=parseInt(i.rooms)&&parseInt(A.bedrooms)>=parseInt(i.bedrooms)&&parseInt(A.bathrooms)>=parseInt(i.bathrooms)&&(i.amenities.length===0||i.amenities.every(w=>A.amenities.includes(w)))&&(i.location===""||A.location.toLowerCase().includes(i.location.toLowerCase())));r(v)},[t,i]);const u=v=>{const{name:A,value:w}=v.target;s(T=>({...T,[A]:A==="maxPrice"||A==="minSize"?parseInt(w):w}))},c=(v,A)=>{s(w=>({...w,[v]:Array.isArray(w[v])?w[v].includes(A)?w[v].filter(T=>T!==A):[...w[v],A]:w[v]}))},h=v=>{switch(v){case"vendu":return"bg-red-500 text-white";case"sous compromis":return"bg-yellow-500 text-black";default:return"bg-green-500 text-white"}},f=v=>{switch(v){case"vendu":return"VENDU";case"sous compromis":return"SOUS COMPROMIS";default:return"DISPONIBLE"}},g=[{value:"appartement",label:"Appartement"},{value:"maison",label:"Maison"},{value:"local commercial",label:"Local commercial"},{value:"terrain",label:"Terrain"}],S=[{value:"piscine",label:"Piscine"},{value:"parking",label:"Parking"},{value:"cave",label:"Cave"},{value:"belle vue",label:"Belle vue"},{value:"ascenseur",label:"Ascenseur"}],y=["all","disponible","sous compromis","vendu"];return p.jsx("div",{className:"min-h-screen bg-white p-4 md:p-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:"text-2xl font-bold",children:"Disponible  la vente"}),p.jsxs("button",{onClick:()=>a(!o),className:"bg-primary text-white py-2 px-4 rounded-lg text-sm font-semibold hover:bg-black transition-colors duration-200 flex items-center",children:[o?p.jsx(FS,{className:"mr-2"}):p.jsx(hk,{className:"mr-2"}),o?"Fermer les filtres":"Afficher les filtres"]})]}),p.jsx("div",{className:"flex justify-center space-x-4 mb-6",children:y.map(v=>p.jsx("button",{onClick:()=>s(A=>({...A,condition:v})),className:`py-2 px-4 rounded-lg text-sm font-semibold transition-colors duration-200 ${i.condition===v?"bg-primary text-black":"bg-gray-200 text-gray-700 hover:bg-gray-300 border border-primary"}`,children:v==="all"?"Tous":v.charAt(0).toUpperCase()+v.slice(1)},v))}),o&&p.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Localisation"}),p.jsx("input",{id:"location",name:"location",type:"text",value:i.location,onChange:u,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"maxPrice",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix Maximum"}),p.jsx("input",{id:"maxPrice",name:"maxPrice",type:"number",value:i.maxPrice,onChange:u,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"minSize",className:"block text-sm font-medium text-gray-700 mb-1",children:"Surface Minimum (m)"}),p.jsx("input",{id:"minSize",name:"minSize",type:"number",value:i.minSize,onChange:u,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de Proprit"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(v=>p.jsx("button",{type:"button",onClick:()=>c("propertyTypes",v.value),className:`py-1 px-3 rounded-full text-xs font-medium transition-colors duration-200 ${i.propertyTypes.includes(v.value)?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v.label},v.value))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"rooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de Pices minimum"}),p.jsx("select",{id:"rooms",name:"rooms",value:i.rooms,onChange:u,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none",children:[1,2,3,4,5,"6+"].map(v=>p.jsxs("option",{value:v.toString(),children:[v," ",v===1?"pice":"pices"]},v))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de chambres minimum"}),p.jsx("select",{id:"bedrooms",name:"bedrooms",value:i.bedrooms,onChange:u,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none",children:[1,2,3,4,5,"6+"].map(v=>p.jsxs("option",{value:v.toString(),children:[v," ",v===1?"chambre":"chambres"]},v))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de salles de bain minimum"}),p.jsx("select",{id:"bathrooms",name:"bathrooms",value:i.bathrooms,onChange:u,className:"w-full px-3 py-2 rounded-md border border-gray-300 focus:ring-2 focus:ring-primary focus:border-transparent outline-none",children:[1,2,3,4,"5+"].map(v=>p.jsxs("option",{value:v.toString(),children:[v," ",v===1?"salle de bain":"salles de bain"]},v))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Annexes"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(v=>p.jsx("button",{type:"button",onClick:()=>c("amenities",v.value),className:`py-1 px-3 rounded-full text-xs font-medium transition-colors duration-200 ${i.amenities.includes(v.value)?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v.label},v.value))})]})]}),n.length===0?p.jsx("p",{children:"Aucune proprit ne correspond  vos critres."}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(v=>p.jsxs(Xt,{to:`/house/${v.id}`,className:"bg-white rounded-lg shadow-md shadow-primary overflow-hidden hover:shadow-lg hover:shadow-black transition-shadow duration-300",children:[p.jsx("div",{className:"relative",children:p.jsx("img",{src:v.principalImage,alt:v.title,className:"w-full h-48 object-cover"})}),p.jsxs("div",{className:"p-4",children:[p.jsx("h3",{className:"text-lg font-semibold mb-2",children:v.title}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("p",{className:"text-gray-600",children:v.location}),p.jsx("div",{className:`m-1 px-2 py-1 rounded-full text-xs font-bold ${h(v.condition)}`,children:f(v.condition)})]}),p.jsx("p",{className:"text-electrique font-bold mb-2",children:(()=>{const A=v.price.replace(/[^0-9.-]+/g,""),w=Number(A);return isNaN(w)?"Invalid price":w.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0})})()}),p.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[p.jsxs("span",{children:[v.size," m"]}),p.jsxs("span",{children:[v.rooms," pices"]}),p.jsxs("span",{children:[v.bedrooms," ch."]}),p.jsxs("span",{children:[v.bathrooms," sdb."]})]}),p.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:v.amenities.map(A=>p.jsx("span",{className:"bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded",children:A},A))})]})]},v.id))})]})})}function SA(t,e){return function(){return t.apply(e,arguments)}}const{toString:HV}=Object.prototype,{getPrototypeOf:ly}=Object,Fh=(t=>e=>{const n=HV.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Rn=t=>(t=t.toLowerCase(),e=>Fh(e)===t),Bh=t=>e=>typeof e===t,{isArray:bo}=Array,sl=Bh("undefined");function KV(t){return t!==null&&!sl(t)&&t.constructor!==null&&!sl(t.constructor)&&sn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const IA=Rn("ArrayBuffer");function qV(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&IA(t.buffer),e}const WV=Bh("string"),sn=Bh("function"),AA=Bh("number"),$h=t=>t!==null&&typeof t=="object",GV=t=>t===!0||t===!1,Ku=t=>{if(Fh(t)!=="object")return!1;const e=ly(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},QV=Rn("Date"),JV=Rn("File"),YV=Rn("Blob"),XV=Rn("FileList"),ZV=t=>$h(t)&&sn(t.pipe),e4=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||sn(t.append)&&((e=Fh(t))==="formdata"||e==="object"&&sn(t.toString)&&t.toString()==="[object FormData]"))},t4=Rn("URLSearchParams"),[n4,r4,i4,s4]=["ReadableStream","Request","Response","Headers"].map(Rn),o4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Il(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),bo(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function bA(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const ji=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xA=t=>!sl(t)&&t!==ji;function Gp(){const{caseless:t}=xA(this)&&this||{},e={},n=(r,i)=>{const s=t&&bA(e,i)||i;Ku(e[s])&&Ku(r)?e[s]=Gp(e[s],r):Ku(r)?e[s]=Gp({},r):bo(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Il(arguments[r],n);return e}const a4=(t,e,n,{allOwnKeys:r}={})=>(Il(e,(i,s)=>{n&&sn(i)?t[s]=SA(i,n):t[s]=i},{allOwnKeys:r}),t),l4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),u4=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},c4=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&ly(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},h4=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},d4=t=>{if(!t)return null;if(bo(t))return t;let e=t.length;if(!AA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},f4=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ly(Uint8Array)),p4=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},m4=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},g4=Rn("HTMLFormElement"),y4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),uw=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),v4=Rn("RegExp"),RA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Il(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},_4=t=>{RA(t,(e,n)=>{if(sn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(sn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},w4=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return bo(t)?r(t):r(String(t).split(e)),n},E4=()=>{},T4=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,ef="abcdefghijklmnopqrstuvwxyz",cw="0123456789",CA={DIGIT:cw,ALPHA:ef,ALPHA_DIGIT:ef+ef.toUpperCase()+cw},S4=(t=16,e=CA.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function I4(t){return!!(t&&sn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const A4=t=>{const e=new Array(10),n=(r,i)=>{if($h(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=bo(r)?[]:{};return Il(r,(o,a)=>{const u=n(o,i+1);!sl(u)&&(s[a]=u)}),e[i]=void 0,s}}return r};return n(t,0)},b4=Rn("AsyncFunction"),x4=t=>t&&($h(t)||sn(t))&&sn(t.then)&&sn(t.catch),PA=((t,e)=>t?setImmediate:e?((n,r)=>(ji.addEventListener("message",({source:i,data:s})=>{i===ji&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ji.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",sn(ji.postMessage)),R4=typeof queueMicrotask<"u"?queueMicrotask.bind(ji):typeof process<"u"&&process.nextTick||PA,j={isArray:bo,isArrayBuffer:IA,isBuffer:KV,isFormData:e4,isArrayBufferView:qV,isString:WV,isNumber:AA,isBoolean:GV,isObject:$h,isPlainObject:Ku,isReadableStream:n4,isRequest:r4,isResponse:i4,isHeaders:s4,isUndefined:sl,isDate:QV,isFile:JV,isBlob:YV,isRegExp:v4,isFunction:sn,isStream:ZV,isURLSearchParams:t4,isTypedArray:f4,isFileList:XV,forEach:Il,merge:Gp,extend:a4,trim:o4,stripBOM:l4,inherits:u4,toFlatObject:c4,kindOf:Fh,kindOfTest:Rn,endsWith:h4,toArray:d4,forEachEntry:p4,matchAll:m4,isHTMLForm:g4,hasOwnProperty:uw,hasOwnProp:uw,reduceDescriptors:RA,freezeMethods:_4,toObjectSet:w4,toCamelCase:y4,noop:E4,toFiniteNumber:T4,findKey:bA,global:ji,isContextDefined:xA,ALPHABET:CA,generateString:S4,isSpecCompliantForm:I4,toJSONObject:A4,isAsyncFn:b4,isThenable:x4,setImmediate:PA,asap:R4};function he(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}j.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const kA=he.prototype,NA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{NA[t]={value:t}});Object.defineProperties(he,NA);Object.defineProperty(kA,"isAxiosError",{value:!0});he.from=(t,e,n,r,i,s)=>{const o=Object.create(kA);return j.toFlatObject(t,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),he.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const C4=null;function Qp(t){return j.isPlainObject(t)||j.isArray(t)}function OA(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function hw(t,e,n){return t?t.concat(e).map(function(i,s){return i=OA(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function P4(t){return j.isArray(t)&&!t.some(Qp)}const k4=j.toFlatObject(j,{},null,function(e){return/^is[A-Z]/.test(e)});function zh(t,e,n){if(!j.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=j.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,A){return!j.isUndefined(A[v])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(e);if(!j.isFunction(i))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(j.isDate(y))return y.toISOString();if(!u&&j.isBlob(y))throw new he("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(y)||j.isTypedArray(y)?u&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function h(y,v,A){let w=y;if(y&&!A&&typeof y=="object"){if(j.endsWith(v,"{}"))v=r?v:v.slice(0,-2),y=JSON.stringify(y);else if(j.isArray(y)&&P4(y)||(j.isFileList(y)||j.endsWith(v,"[]"))&&(w=j.toArray(y)))return v=OA(v),w.forEach(function(I,N){!(j.isUndefined(I)||I===null)&&e.append(o===!0?hw([v],N,s):o===null?v:v+"[]",c(I))}),!1}return Qp(y)?!0:(e.append(hw(A,v,s),c(y)),!1)}const f=[],g=Object.assign(k4,{defaultVisitor:h,convertValue:c,isVisitable:Qp});function S(y,v){if(!j.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(y),j.forEach(y,function(w,T){(!(j.isUndefined(w)||w===null)&&i.call(e,w,j.isString(T)?T.trim():T,v,g))===!0&&S(w,v?v.concat(T):[T])}),f.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return S(t),e}function dw(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function uy(t,e){this._pairs=[],t&&zh(t,this,e)}const LA=uy.prototype;LA.append=function(e,n){this._pairs.push([e,n])};LA.toString=function(e){const n=e?function(r){return e.call(this,r,dw)}:dw;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function N4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function DA(t,e,n){if(!e)return t;const r=n&&n.encode||N4;j.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=j.isURLSearchParams(e)?e.toString():new uy(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class fw{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){j.forEach(this.handlers,function(r){r!==null&&e(r)})}}const jA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},O4=typeof URLSearchParams<"u"?URLSearchParams:uy,L4=typeof FormData<"u"?FormData:null,D4=typeof Blob<"u"?Blob:null,j4={isBrowser:!0,classes:{URLSearchParams:O4,FormData:L4,Blob:D4},protocols:["http","https","file","blob","url","data"]},cy=typeof window<"u"&&typeof document<"u",Jp=typeof navigator=="object"&&navigator||void 0,M4=cy&&(!Jp||["ReactNative","NativeScript","NS"].indexOf(Jp.product)<0),V4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",U4=cy&&window.location.href||"http://localhost",F4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:cy,hasStandardBrowserEnv:M4,hasStandardBrowserWebWorkerEnv:V4,navigator:Jp,origin:U4},Symbol.toStringTag,{value:"Module"})),kt={...F4,...j4};function B4(t,e){return zh(t,new kt.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return kt.isNode&&j.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function $4(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function z4(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function MA(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),u=s>=n.length;return o=!o&&j.isArray(i)?i.length:o,u?(j.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!j.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&j.isArray(i[o])&&(i[o]=z4(i[o])),!a)}if(j.isFormData(t)&&j.isFunction(t.entries)){const n={};return j.forEachEntry(t,(r,i)=>{e($4(r),i,n,0)}),n}return null}function H4(t,e,n){if(j.isString(t))try{return(e||JSON.parse)(t),j.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Al={transitional:jA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=j.isObject(e);if(s&&j.isHTMLForm(e)&&(e=new FormData(e)),j.isFormData(e))return i?JSON.stringify(MA(e)):e;if(j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e)||j.isReadableStream(e))return e;if(j.isArrayBufferView(e))return e.buffer;if(j.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return B4(e,this.formSerializer).toString();if((a=j.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return zh(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),H4(e)):e}],transformResponse:[function(e){const n=this.transitional||Al.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(j.isResponse(e)||j.isReadableStream(e))return e;if(e&&j.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?he.from(a,he.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kt.classes.FormData,Blob:kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{Al.headers[t]={}});const K4=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),q4=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&K4[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},pw=Symbol("internals");function Xo(t){return t&&String(t).trim().toLowerCase()}function qu(t){return t===!1||t==null?t:j.isArray(t)?t.map(qu):String(t)}function W4(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const G4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function tf(t,e,n,r,i){if(j.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!j.isString(e)){if(j.isString(r))return e.indexOf(r)!==-1;if(j.isRegExp(r))return r.test(e)}}function Q4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function J4(t,e){const n=j.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Gt=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,u,c){const h=Xo(u);if(!h)throw new Error("header name must be a non-empty string");const f=j.findKey(i,h);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||u]=qu(a))}const o=(a,u)=>j.forEach(a,(c,h)=>s(c,h,u));if(j.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(j.isString(e)&&(e=e.trim())&&!G4(e))o(q4(e),n);else if(j.isHeaders(e))for(const[a,u]of e.entries())s(u,a,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=Xo(e),e){const r=j.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return W4(i);if(j.isFunction(n))return n.call(this,i,r);if(j.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Xo(e),e){const r=j.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||tf(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Xo(o),o){const a=j.findKey(r,o);a&&(!n||tf(r,r[a],a,n))&&(delete r[a],i=!0)}}return j.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||tf(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return j.forEach(this,(i,s)=>{const o=j.findKey(r,s);if(o){n[o]=qu(i),delete n[s];return}const a=e?Q4(s):String(s).trim();a!==s&&delete n[s],n[a]=qu(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return j.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&j.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[pw]=this[pw]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Xo(o);r[a]||(J4(i,o),r[a]=!0)}return j.isArray(e)?e.forEach(s):s(e),this}};Gt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(Gt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});j.freezeMethods(Gt);function nf(t,e){const n=this||Al,r=e||n,i=Gt.from(r.headers);let s=r.data;return j.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function VA(t){return!!(t&&t.__CANCEL__)}function xo(t,e,n){he.call(this,t??"canceled",he.ERR_CANCELED,e,n),this.name="CanceledError"}j.inherits(xo,he,{__CANCEL__:!0});function UA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new he("Request failed with status code "+n.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Y4(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function X4(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),h=r[s];o||(o=c),n[i]=u,r[i]=c;let f=s,g=0;for(;f!==i;)g+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const S=h&&c-h;return S?Math.round(g*1e3/S):void 0}}function Z4(t,e){let n=0,r=1e3/e,i,s;const o=(c,h=Date.now())=>{n=h,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const h=Date.now(),f=h-n;f>=r?o(c,h):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const Qc=(t,e,n=3)=>{let r=0;const i=X4(50,250);return Z4(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,u=o-r,c=i(u),h=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:c||void 0,estimated:c&&a&&h?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},mw=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},gw=t=>(...e)=>j.asap(()=>t(...e)),eU=kt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,kt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(kt.origin),kt.navigator&&/(msie|trident)/i.test(kt.navigator.userAgent)):()=>!0,tU=kt.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];j.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),j.isString(r)&&o.push("path="+r),j.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nU(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rU(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function FA(t,e){return t&&!nU(e)?rU(t,e):e}const yw=t=>t instanceof Gt?{...t}:t;function Zi(t,e){e=e||{};const n={};function r(c,h,f,g){return j.isPlainObject(c)&&j.isPlainObject(h)?j.merge.call({caseless:g},c,h):j.isPlainObject(h)?j.merge({},h):j.isArray(h)?h.slice():h}function i(c,h,f,g){if(j.isUndefined(h)){if(!j.isUndefined(c))return r(void 0,c,f,g)}else return r(c,h,f,g)}function s(c,h){if(!j.isUndefined(h))return r(void 0,h)}function o(c,h){if(j.isUndefined(h)){if(!j.isUndefined(c))return r(void 0,c)}else return r(void 0,h)}function a(c,h,f){if(f in e)return r(c,h);if(f in t)return r(void 0,c)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h,f)=>i(yw(c),yw(h),f,!0)};return j.forEach(Object.keys(Object.assign({},t,e)),function(h){const f=u[h]||i,g=f(t[h],e[h],h);j.isUndefined(g)&&f!==a||(n[h]=g)}),n}const BA=t=>{const e=Zi({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Gt.from(o),e.url=DA(FA(e.baseURL,e.url),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let u;if(j.isFormData(n)){if(kt.hasStandardBrowserEnv||kt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[c,...h]=u?u.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...h].join("; "))}}if(kt.hasStandardBrowserEnv&&(r&&j.isFunction(r)&&(r=r(e)),r||r!==!1&&eU(e.url))){const c=i&&s&&tU.read(s);c&&o.set(i,c)}return e},iU=typeof XMLHttpRequest<"u",sU=iU&&function(t){return new Promise(function(n,r){const i=BA(t);let s=i.data;const o=Gt.from(i.headers).normalize();let{responseType:a,onUploadProgress:u,onDownloadProgress:c}=i,h,f,g,S,y;function v(){S&&S(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function w(){if(!A)return;const I=Gt.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:I,config:t,request:A};UA(function(b){n(b),v()},function(b){r(b),v()},M),A=null}"onloadend"in A?A.onloadend=w:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(w)},A.onabort=function(){A&&(r(new he("Request aborted",he.ECONNABORTED,t,A)),A=null)},A.onerror=function(){r(new he("Network Error",he.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const M=i.transitional||jA;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),r(new he(N,M.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,t,A)),A=null},s===void 0&&o.setContentType(null),"setRequestHeader"in A&&j.forEach(o.toJSON(),function(N,M){A.setRequestHeader(M,N)}),j.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),a&&a!=="json"&&(A.responseType=i.responseType),c&&([g,y]=Qc(c,!0),A.addEventListener("progress",g)),u&&A.upload&&([f,S]=Qc(u),A.upload.addEventListener("progress",f),A.upload.addEventListener("loadend",S)),(i.cancelToken||i.signal)&&(h=I=>{A&&(r(!I||I.type?new xo(null,t,A):I),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const T=Y4(i.url);if(T&&kt.protocols.indexOf(T)===-1){r(new he("Unsupported protocol "+T+":",he.ERR_BAD_REQUEST,t));return}A.send(s||null)})},oU=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const h=c instanceof Error?c:this.reason;r.abort(h instanceof he?h:new xo(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,s(new he(`timeout ${e} of ms exceeded`,he.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>j.asap(a),u}},aU=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},lU=async function*(t,e){for await(const n of uU(t))yield*aU(n,e)},uU=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},vw=(t,e,n,r)=>{const i=lU(t,e);let s=0,o,a=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:c,value:h}=await i.next();if(c){a(),u.close();return}let f=h.byteLength;if(n){let g=s+=f;n(g)}u.enqueue(new Uint8Array(h))}catch(c){throw a(c),c}},cancel(u){return a(u),i.return()}},{highWaterMark:2})},Hh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$A=Hh&&typeof ReadableStream=="function",cU=Hh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),zA=(t,...e)=>{try{return!!t(...e)}catch{return!1}},hU=$A&&zA(()=>{let t=!1;const e=new Request(kt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),_w=64*1024,Yp=$A&&zA(()=>j.isReadableStream(new Response("").body)),Jc={stream:Yp&&(t=>t.body)};Hh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Jc[e]&&(Jc[e]=j.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new he(`Response type '${e}' is not supported`,he.ERR_NOT_SUPPORT,r)})})})(new Response);const dU=async t=>{if(t==null)return 0;if(j.isBlob(t))return t.size;if(j.isSpecCompliantForm(t))return(await new Request(kt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(j.isArrayBufferView(t)||j.isArrayBuffer(t))return t.byteLength;if(j.isURLSearchParams(t)&&(t=t+""),j.isString(t))return(await cU(t)).byteLength},fU=async(t,e)=>{const n=j.toFiniteNumber(t.getContentLength());return n??dU(e)},pU=Hh&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:u,responseType:c,headers:h,withCredentials:f="same-origin",fetchOptions:g}=BA(t);c=c?(c+"").toLowerCase():"text";let S=oU([i,s&&s.toAbortSignal()],o),y;const v=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let A;try{if(u&&hU&&n!=="get"&&n!=="head"&&(A=await fU(h,r))!==0){let M=new Request(e,{method:"POST",body:r,duplex:"half"}),z;if(j.isFormData(r)&&(z=M.headers.get("content-type"))&&h.setContentType(z),M.body){const[b,E]=mw(A,Qc(gw(u)));r=vw(M.body,_w,b,E)}}j.isString(f)||(f=f?"include":"omit");const w="credentials"in Request.prototype;y=new Request(e,{...g,signal:S,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:w?f:void 0});let T=await fetch(y);const I=Yp&&(c==="stream"||c==="response");if(Yp&&(a||I&&v)){const M={};["status","statusText","headers"].forEach(x=>{M[x]=T[x]});const z=j.toFiniteNumber(T.headers.get("content-length")),[b,E]=a&&mw(z,Qc(gw(a),!0))||[];T=new Response(vw(T.body,_w,b,()=>{E&&E(),v&&v()}),M)}c=c||"text";let N=await Jc[j.findKey(Jc,c)||"text"](T,t);return!I&&v&&v(),await new Promise((M,z)=>{UA(M,z,{data:N,headers:Gt.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:y})})}catch(w){throw v&&v(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,t,y),{cause:w.cause||w}):he.from(w,w&&w.code,t,y)}}),Xp={http:C4,xhr:sU,fetch:pU};j.forEach(Xp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ww=t=>`- ${t}`,mU=t=>j.isFunction(t)||t===null||t===!1,HA={getAdapter:t=>{t=j.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!mU(n)&&(r=Xp[(o=String(n)).toLowerCase()],r===void 0))throw new he(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(ww).join(`
`):" "+ww(s[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Xp};function rf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xo(null,t)}function Ew(t){return rf(t),t.headers=Gt.from(t.headers),t.data=nf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),HA.getAdapter(t.adapter||Al.adapter)(t).then(function(r){return rf(t),r.data=nf.call(t,t.transformResponse,r),r.headers=Gt.from(r.headers),r},function(r){return VA(r)||(rf(t),r&&r.response&&(r.response.data=nf.call(t,t.transformResponse,r.response),r.response.headers=Gt.from(r.response.headers))),Promise.reject(r)})}const KA="1.7.9",Kh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Kh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Tw={};Kh.transitional=function(e,n,r){function i(s,o){return"[Axios v"+KA+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new he(i(o," has been removed"+(n?" in "+n:"")),he.ERR_DEPRECATED);return n&&!Tw[o]&&(Tw[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};Kh.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function gU(t,e,n){if(typeof t!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],u=a===void 0||o(a,s,t);if(u!==!0)throw new he("option "+s+" must be "+u,he.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new he("Unknown option "+s,he.ERR_BAD_OPTION)}}const Wu={assertOptions:gU,validators:Kh},Pn=Wu.validators;let $i=class{constructor(e){this.defaults=e,this.interceptors={request:new fw,response:new fw}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Zi(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Wu.assertOptions(r,{silentJSONParsing:Pn.transitional(Pn.boolean),forcedJSONParsing:Pn.transitional(Pn.boolean),clarifyTimeoutError:Pn.transitional(Pn.boolean)},!1),i!=null&&(j.isFunction(i)?n.paramsSerializer={serialize:i}:Wu.assertOptions(i,{encode:Pn.function,serialize:Pn.function},!0)),Wu.assertOptions(n,{baseUrl:Pn.spelling("baseURL"),withXsrfToken:Pn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&j.merge(s.common,s[n.method]);s&&j.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=Gt.concat(o,s);const a=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(u=u&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let h,f=0,g;if(!u){const y=[Ew.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,c),g=y.length,h=Promise.resolve(n);f<g;)h=h.then(y[f++],y[f++]);return h}g=a.length;let S=n;for(f=0;f<g;){const y=a[f++],v=a[f++];try{S=y(S)}catch(A){v.call(this,A);break}}try{h=Ew.call(this,S)}catch(y){return Promise.reject(y)}for(f=0,g=c.length;f<g;)h=h.then(c[f++],c[f++]);return h}getUri(e){e=Zi(this.defaults,e);const n=FA(e.baseURL,e.url);return DA(n,e.params,e.paramsSerializer)}};j.forEach(["delete","get","head","options"],function(e){$i.prototype[e]=function(n,r){return this.request(Zi(r||{},{method:e,url:n,data:(r||{}).data}))}});j.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Zi(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}$i.prototype[e]=n(),$i.prototype[e+"Form"]=n(!0)});let yU=class qA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new xo(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new qA(function(i){e=i}),cancel:e}}};function vU(t){return function(n){return t.apply(null,n)}}function _U(t){return j.isObject(t)&&t.isAxiosError===!0}const Zp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zp).forEach(([t,e])=>{Zp[e]=t});function WA(t){const e=new $i(t),n=SA($i.prototype.request,e);return j.extend(n,$i.prototype,e,{allOwnKeys:!0}),j.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return WA(Zi(t,i))},n}const Qe=WA(Al);Qe.Axios=$i;Qe.CanceledError=xo;Qe.CancelToken=yU;Qe.isCancel=VA;Qe.VERSION=KA;Qe.toFormData=zh;Qe.AxiosError=he;Qe.Cancel=Qe.CanceledError;Qe.all=function(e){return Promise.all(e)};Qe.spread=vU;Qe.isAxiosError=_U;Qe.mergeConfig=Zi;Qe.AxiosHeaders=Gt;Qe.formToJSON=t=>MA(j.isHTMLForm(t)?new FormData(t):t);Qe.getAdapter=HA.getAdapter;Qe.HttpStatusCode=Zp;Qe.default=Qe;const{Axios:Y$,AxiosError:X$,CanceledError:Z$,isCancel:e9,CancelToken:t9,VERSION:n9,all:r9,Cancel:i9,isAxiosError:s9,spread:o9,toFormData:a9,AxiosHeaders:l9,HttpStatusCode:u9,formToJSON:c9,getAdapter:h9,mergeConfig:d9}=Qe;var wU=Function.prototype.toString,sf=Object.create,EU=Object.prototype.toString,TU=function(){function t(){this._keys=[],this._values=[]}return t.prototype.has=function(e){return!!~this._keys.indexOf(e)},t.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},t.prototype.set=function(e,n){this._keys.push(e),this._values.push(n)},t}();function SU(){return new TU}function IU(){return new WeakMap}var AU=typeof WeakMap<"u"?IU:SU;function hy(t){if(!t)return sf(null);var e=t.constructor;if(e===Object)return t===Object.prototype?{}:sf(t);if(e&&~wU.call(e).indexOf("[native code]"))try{return new e}catch{}return sf(t)}function bU(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}function xU(t){return t.flags}var RU=/test/g.flags==="g"?xU:bU;function GA(t){var e=EU.call(t);return e.substring(8,e.length-1)}function CU(t){return t[Symbol.toStringTag]||GA(t)}var PU=typeof Symbol<"u"?CU:GA,kU=Object.defineProperty,NU=Object.getOwnPropertyDescriptor,QA=Object.getOwnPropertyNames,dy=Object.getOwnPropertySymbols,JA=Object.prototype,YA=JA.hasOwnProperty,OU=JA.propertyIsEnumerable,XA=typeof dy=="function";function LU(t){return QA(t).concat(dy(t))}var DU=XA?LU:QA;function qh(t,e,n){for(var r=DU(t),i=0,s=r.length,o=void 0,a=void 0;i<s;++i)if(o=r[i],!(o==="callee"||o==="caller")){if(a=NU(t,o),!a){e[o]=n.copier(t[o],n);continue}!a.get&&!a.set&&(a.value=n.copier(a.value,n));try{kU(e,o,a)}catch{e[o]=a.value}}return e}function jU(t,e){var n=new e.Constructor;e.cache.set(t,n);for(var r=0,i=t.length;r<i;++r)n[r]=e.copier(t[r],e);return n}function MU(t,e){var n=new e.Constructor;return e.cache.set(t,n),qh(t,n,e)}function ZA(t,e){return t.slice(0)}function VU(t,e){return t.slice(0,t.size,t.type)}function UU(t,e){return new e.Constructor(ZA(t.buffer))}function FU(t,e){return new e.Constructor(t.getTime())}function eb(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r,i){n.set(i,e.copier(r,e))}),n}function BU(t,e){return qh(t,eb(t,e),e)}function $U(t,e){var n=hy(e.prototype);e.cache.set(t,n);for(var r in t)YA.call(t,r)&&(n[r]=e.copier(t[r],e));return n}function zU(t,e){var n=hy(e.prototype);e.cache.set(t,n);for(var r in t)YA.call(t,r)&&(n[r]=e.copier(t[r],e));for(var i=dy(t),s=0,o=i.length,a=void 0;s<o;++s)a=i[s],OU.call(t,a)&&(n[a]=e.copier(t[a],e));return n}var HU=XA?zU:$U;function KU(t,e){var n=hy(e.prototype);return e.cache.set(t,n),qh(t,n,e)}function of(t,e){return new e.Constructor(t.valueOf())}function qU(t,e){var n=new e.Constructor(t.source,RU(t));return n.lastIndex=t.lastIndex,n}function Gu(t,e){return t}function tb(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r){n.add(e.copier(r,e))}),n}function WU(t,e){return qh(t,tb(t,e),e)}var GU=Array.isArray,fy=Object.assign,QU=Object.getPrototypeOf||function(t){return t.__proto__},nb={array:jU,arrayBuffer:ZA,blob:VU,dataView:UU,date:FU,error:Gu,map:eb,object:HU,regExp:qU,set:tb},JU=fy({},nb,{array:MU,map:BU,object:KU,set:WU});function YU(t){return{Arguments:t.object,Array:t.array,ArrayBuffer:t.arrayBuffer,Blob:t.blob,Boolean:of,DataView:t.dataView,Date:t.date,Error:t.error,Float32Array:t.arrayBuffer,Float64Array:t.arrayBuffer,Int8Array:t.arrayBuffer,Int16Array:t.arrayBuffer,Int32Array:t.arrayBuffer,Map:t.map,Number:of,Object:t.object,Promise:Gu,RegExp:t.regExp,Set:t.set,String:of,WeakMap:Gu,WeakSet:Gu,Uint8Array:t.arrayBuffer,Uint8ClampedArray:t.arrayBuffer,Uint16Array:t.arrayBuffer,Uint32Array:t.arrayBuffer,Uint64Array:t.arrayBuffer}}function rb(t){var e=fy({},nb,t),n=YU(e),r=n.Array,i=n.Object;function s(o,a){if(a.prototype=a.Constructor=void 0,!o||typeof o!="object")return o;if(a.cache.has(o))return a.cache.get(o);if(a.prototype=QU(o),a.Constructor=a.prototype&&a.prototype.constructor,!a.Constructor||a.Constructor===Object)return i(o,a);if(GU(o))return r(o,a);var u=n[PU(o)];return u?u(o,a):typeof o.then=="function"?o:i(o,a)}return function(a){return s(a,{Constructor:void 0,cache:AU(),copier:s,prototype:void 0})}}function XU(t){return rb(fy({},JU,t))}XU({});var py=rb({}),ZU=Error,eF=EvalError,tF=RangeError,nF=ReferenceError,ib=SyntaxError,bl=TypeError,rF=URIError,iF=Object.getOwnPropertyDescriptor,Qu=iF;if(Qu)try{Qu([],"length")}catch{Qu=null}var Wh=Qu,Ju=Object.defineProperty||!1;if(Ju)try{Ju({},"a",{value:1})}catch{Ju=!1}var Gh=Ju,af,Sw;function sF(){return Sw||(Sw=1,af=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),af}var lf,Iw;function oF(){if(Iw)return lf;Iw=1;var t=typeof Symbol<"u"&&Symbol,e=sF();return lf=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},lf}var uf,Aw;function aF(){if(Aw)return uf;Aw=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(u,c){for(var h=[],f=0;f<u.length;f+=1)h[f]=u[f];for(var g=0;g<c.length;g+=1)h[g+u.length]=c[g];return h},s=function(u,c){for(var h=[],f=c,g=0;f<u.length;f+=1,g+=1)h[g]=u[f];return h},o=function(a,u){for(var c="",h=0;h<a.length;h+=1)c+=a[h],h+1<a.length&&(c+=u);return c};return uf=function(u){var c=this;if(typeof c!="function"||e.apply(c)!==r)throw new TypeError(t+c);for(var h=s(arguments,1),f,g=function(){if(this instanceof f){var w=c.apply(this,i(h,arguments));return Object(w)===w?w:this}return c.apply(u,i(h,arguments))},S=n(0,c.length-h.length),y=[],v=0;v<S;v++)y[v]="$"+v;if(f=Function("binder","return function ("+o(y,",")+"){ return binder.apply(this,arguments); }")(g),c.prototype){var A=function(){};A.prototype=c.prototype,f.prototype=new A,A.prototype=null}return f},uf}var cf,bw;function xl(){if(bw)return cf;bw=1;var t=aF();return cf=Function.prototype.bind||t,cf}var hf,xw;function my(){return xw||(xw=1,hf=Function.prototype.call),hf}var df,Rw;function gy(){return Rw||(Rw=1,df=Function.prototype.apply),df}var lF=typeof Reflect<"u"&&Reflect&&Reflect.apply,uF=xl(),cF=gy(),hF=my(),dF=lF,sb=dF||uF.call(hF,cF),fF=xl(),pF=bl,mF=my(),gF=sb,ob=function(e){if(e.length<1||typeof e[0]!="function")throw new pF("a function is required");return gF(fF,mF,e)},ff,Cw;function yF(){if(Cw)return ff;Cw=1;var t=ob,e=Wh,n=[].__proto__===Array.prototype,r=n&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return ff=r&&typeof r.get=="function"?t([r.get]):typeof s=="function"?function(a){return s(a==null?a:i(a))}:!1,ff}var pf,Pw;function vF(){if(Pw)return pf;Pw=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=xl();return pf=n.call(t,e),pf}var ge,_F=ZU,wF=eF,EF=tF,TF=nF,co=ib,Ws=bl,SF=rF,ab=Function,mf=function(t){try{return ab('"use strict"; return ('+t+").constructor;")()}catch{}},ol=Wh,IF=Gh,gf=function(){throw new Ws},AF=ol?function(){try{return arguments.callee,gf}catch{try{return ol(arguments,"callee").get}catch{return gf}}}():gf,fs=oF()(),bF=yF(),ct=typeof Reflect=="function"&&Reflect.getPrototypeOf||Object.getPrototypeOf||bF,lb=gy(),Rl=my(),ws={},xF=typeof Uint8Array>"u"||!ct?ge:ct(Uint8Array),zi={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ge:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ge:ArrayBuffer,"%ArrayIteratorPrototype%":fs&&ct?ct([][Symbol.iterator]()):ge,"%AsyncFromSyncIteratorPrototype%":ge,"%AsyncFunction%":ws,"%AsyncGenerator%":ws,"%AsyncGeneratorFunction%":ws,"%AsyncIteratorPrototype%":ws,"%Atomics%":typeof Atomics>"u"?ge:Atomics,"%BigInt%":typeof BigInt>"u"?ge:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ge:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ge:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ge:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":_F,"%eval%":eval,"%EvalError%":wF,"%Float32Array%":typeof Float32Array>"u"?ge:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ge:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ge:FinalizationRegistry,"%Function%":ab,"%GeneratorFunction%":ws,"%Int8Array%":typeof Int8Array>"u"?ge:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ge:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ge:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":fs&&ct?ct(ct([][Symbol.iterator]())):ge,"%JSON%":typeof JSON=="object"?JSON:ge,"%Map%":typeof Map>"u"?ge:Map,"%MapIteratorPrototype%":typeof Map>"u"||!fs||!ct?ge:ct(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%Object.getOwnPropertyDescriptor%":ol,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ge:Promise,"%Proxy%":typeof Proxy>"u"?ge:Proxy,"%RangeError%":EF,"%ReferenceError%":TF,"%Reflect%":typeof Reflect>"u"?ge:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ge:Set,"%SetIteratorPrototype%":typeof Set>"u"||!fs||!ct?ge:ct(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ge:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":fs&&ct?ct(""[Symbol.iterator]()):ge,"%Symbol%":fs?Symbol:ge,"%SyntaxError%":co,"%ThrowTypeError%":AF,"%TypedArray%":xF,"%TypeError%":Ws,"%Uint8Array%":typeof Uint8Array>"u"?ge:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ge:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ge:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ge:Uint32Array,"%URIError%":SF,"%WeakMap%":typeof WeakMap>"u"?ge:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ge:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ge:WeakSet,"%Function.prototype.call%":Rl,"%Function.prototype.apply%":lb,"%Object.defineProperty%":IF};if(ct)try{null.error}catch(t){var RF=ct(ct(t));zi["%Error.prototype%"]=RF}var CF=function t(e){var n;if(e==="%AsyncFunction%")n=mf("async function () {}");else if(e==="%GeneratorFunction%")n=mf("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=mf("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ct&&(n=ct(i.prototype))}return zi[e]=n,n},kw={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Cl=xl(),Yc=vF(),PF=Cl.call(Rl,Array.prototype.concat),kF=Cl.call(lb,Array.prototype.splice),Nw=Cl.call(Rl,String.prototype.replace),Xc=Cl.call(Rl,String.prototype.slice),NF=Cl.call(Rl,RegExp.prototype.exec),OF=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,LF=/\\(\\)?/g,DF=function(e){var n=Xc(e,0,1),r=Xc(e,-1);if(n==="%"&&r!=="%")throw new co("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new co("invalid intrinsic syntax, expected opening `%`");var i=[];return Nw(e,OF,function(s,o,a,u){i[i.length]=a?Nw(u,LF,"$1"):o||s}),i},jF=function(e,n){var r=e,i;if(Yc(kw,r)&&(i=kw[r],r="%"+i[0]+"%"),Yc(zi,r)){var s=zi[r];if(s===ws&&(s=CF(r)),typeof s>"u"&&!n)throw new Ws("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new co("intrinsic "+e+" does not exist!")},yy=function(e,n){if(typeof e!="string"||e.length===0)throw new Ws("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Ws('"allowMissing" argument must be a boolean');if(NF(/^%?[^%]*%?$/,e)===null)throw new co("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=DF(e),i=r.length>0?r[0]:"",s=jF("%"+i+"%",n),o=s.name,a=s.value,u=!1,c=s.alias;c&&(i=c[0],kF(r,PF([0,1],c)));for(var h=1,f=!0;h<r.length;h+=1){var g=r[h],S=Xc(g,0,1),y=Xc(g,-1);if((S==='"'||S==="'"||S==="`"||y==='"'||y==="'"||y==="`")&&S!==y)throw new co("property names with quotes must have matching quotes");if((g==="constructor"||!f)&&(u=!0),i+="."+g,o="%"+i+"%",Yc(zi,o))a=zi[o];else if(a!=null){if(!(g in a)){if(!n)throw new Ws("base intrinsic for "+e+" exists, but the property is not available.");return}if(ol&&h+1>=r.length){var v=ol(a,g);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?a=v.get:a=a[g]}else f=Yc(a,g),a=a[g];f&&!u&&(zi[o]=a)}}return a},ub={exports:{}},Ow=Gh,MF=ib,ps=bl,Lw=Wh,VF=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new ps("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new ps("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ps("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ps("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ps("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ps("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,u=!!Lw&&Lw(e,n);if(Ow)Ow(e,n,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:r,writable:s===null&&u?u.writable:!s});else if(a||!i&&!s&&!o)e[n]=r;else throw new MF("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},em=Gh,cb=function(){return!!em};cb.hasArrayLengthDefineBug=function(){if(!em)return null;try{return em([],"length",{value:1}).length!==1}catch{return!0}};var UF=cb,FF=yy,Dw=VF,BF=UF(),jw=Wh,Mw=bl,$F=FF("%Math.floor%"),zF=function(e,n){if(typeof e!="function")throw new Mw("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||$F(n)!==n)throw new Mw("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&jw){var o=jw(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!r)&&(BF?Dw(e,"length",n,!0,!0):Dw(e,"length",n)),e},HF=xl(),KF=gy(),qF=sb,WF=function(){return qF(HF,KF,arguments)};(function(t){var e=zF,n=Gh,r=ob,i=WF;t.exports=function(o){var a=r(arguments),u=o.length-(arguments.length-1);return e(a,1+(u>0?u:0),!0)},n?n(t.exports,"apply",{value:i}):t.exports.apply=i})(ub);var GF=ub.exports,hb=yy,db=GF,QF=db(hb("String.prototype.indexOf")),JF=function(e,n){var r=hb(e,!!n);return typeof r=="function"&&QF(e,".prototype.")>-1?db(r):r};const YF={},XF=Object.freeze(Object.defineProperty({__proto__:null,default:YF},Symbol.toStringTag,{value:"Module"})),ZF=Ix(XF);var vy=typeof Map=="function"&&Map.prototype,yf=Object.getOwnPropertyDescriptor&&vy?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Zc=vy&&yf&&typeof yf.get=="function"?yf.get:null,Vw=vy&&Map.prototype.forEach,_y=typeof Set=="function"&&Set.prototype,vf=Object.getOwnPropertyDescriptor&&_y?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,eh=_y&&vf&&typeof vf.get=="function"?vf.get:null,Uw=_y&&Set.prototype.forEach,eB=typeof WeakMap=="function"&&WeakMap.prototype,xa=eB?WeakMap.prototype.has:null,tB=typeof WeakSet=="function"&&WeakSet.prototype,Ra=tB?WeakSet.prototype.has:null,nB=typeof WeakRef=="function"&&WeakRef.prototype,Fw=nB?WeakRef.prototype.deref:null,rB=Boolean.prototype.valueOf,iB=Object.prototype.toString,sB=Function.prototype.toString,oB=String.prototype.match,wy=String.prototype.slice,$r=String.prototype.replace,aB=String.prototype.toUpperCase,Bw=String.prototype.toLowerCase,fb=RegExp.prototype.test,$w=Array.prototype.concat,Mn=Array.prototype.join,lB=Array.prototype.slice,zw=Math.floor,tm=typeof BigInt=="function"?BigInt.prototype.valueOf:null,_f=Object.getOwnPropertySymbols,nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ho=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Lt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ho||!0)?Symbol.toStringTag:null,pb=Object.prototype.propertyIsEnumerable,Hw=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Kw(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||fb.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-zw(-t):zw(t);if(r!==t){var i=String(r),s=wy.call(e,i.length+1);return $r.call(i,n,"$&_")+"."+$r.call($r.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $r.call(e,n,"$&_")}var rm=ZF,qw=rm.custom,Ww=yb(qw)?qw:null,mb={__proto__:null,double:'"',single:"'"},uB={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},cB=function t(e,n,r,i){var s=n||{};if(tr(s,"quoteStyle")&&!tr(mb,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(tr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=tr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(tr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(tr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return _b(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?Kw(e,u):u}if(typeof e=="bigint"){var c=String(e)+"n";return a?Kw(e,c):c}var h=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=h&&h>0&&typeof e=="object")return im(e)?"[Array]":"[Object]";var f=RB(s,r);if(typeof i>"u")i=[];else if(vb(i,e)>=0)return"[Circular]";function g(R,xe,Me){if(xe&&(i=lB.call(i),i.push(xe)),Me){var J={depth:s.depth};return tr(s,"quoteStyle")&&(J.quoteStyle=s.quoteStyle),t(R,J,r+1,i)}return t(R,s,r+1,i)}if(typeof e=="function"&&!Gw(e)){var S=_B(e),y=vu(e,g);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(y.length>0?" { "+Mn.call(y,", ")+" }":"")}if(yb(e)){var v=ho?$r.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):nm.call(e);return typeof e=="object"&&!ho?Zo(v):v}if(AB(e)){for(var A="<"+Bw.call(String(e.nodeName)),w=e.attributes||[],T=0;T<w.length;T++)A+=" "+w[T].name+"="+gb(hB(w[T].value),"double",s);return A+=">",e.childNodes&&e.childNodes.length&&(A+="..."),A+="</"+Bw.call(String(e.nodeName))+">",A}if(im(e)){if(e.length===0)return"[]";var I=vu(e,g);return f&&!xB(I)?"["+sm(I,f)+"]":"[ "+Mn.call(I,", ")+" ]"}if(fB(e)){var N=vu(e,g);return!("cause"in Error.prototype)&&"cause"in e&&!pb.call(e,"cause")?"{ ["+String(e)+"] "+Mn.call($w.call("[cause]: "+g(e.cause),N),", ")+" }":N.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Mn.call(N,", ")+" }"}if(typeof e=="object"&&o){if(Ww&&typeof e[Ww]=="function"&&rm)return rm(e,{depth:h-r});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(wB(e)){var M=[];return Vw&&Vw.call(e,function(R,xe){M.push(g(xe,e,!0)+" => "+g(R,e))}),Qw("Map",Zc.call(e),M,f)}if(SB(e)){var z=[];return Uw&&Uw.call(e,function(R){z.push(g(R,e))}),Qw("Set",eh.call(e),z,f)}if(EB(e))return wf("WeakMap");if(IB(e))return wf("WeakSet");if(TB(e))return wf("WeakRef");if(mB(e))return Zo(g(Number(e)));if(yB(e))return Zo(g(tm.call(e)));if(gB(e))return Zo(rB.call(e));if(pB(e))return Zo(g(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof Es<"u"&&e===Es)return"{ [object globalThis] }";if(!dB(e)&&!Gw(e)){var b=vu(e,g),E=Hw?Hw(e)===Object.prototype:e instanceof Object||e.constructor===Object,x=e instanceof Object?"":"null prototype",C=!E&&Lt&&Object(e)===e&&Lt in e?wy.call(_i(e),8,-1):x?"Object":"",P=E||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",k=P+(C||x?"["+Mn.call($w.call([],C||[],x||[]),": ")+"] ":"");return b.length===0?k+"{}":f?k+"{"+sm(b,f)+"}":k+"{ "+Mn.call(b,", ")+" }"}return String(e)};function gb(t,e,n){var r=n.quoteStyle||e,i=mb[r];return i+t+i}function hB(t){return $r.call(String(t),/"/g,"&quot;")}function im(t){return _i(t)==="[object Array]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function dB(t){return _i(t)==="[object Date]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function Gw(t){return _i(t)==="[object RegExp]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function fB(t){return _i(t)==="[object Error]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function pB(t){return _i(t)==="[object String]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function mB(t){return _i(t)==="[object Number]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function gB(t){return _i(t)==="[object Boolean]"&&(!Lt||!(typeof t=="object"&&Lt in t))}function yb(t){if(ho)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!nm)return!1;try{return nm.call(t),!0}catch{}return!1}function yB(t){if(!t||typeof t!="object"||!tm)return!1;try{return tm.call(t),!0}catch{}return!1}var vB=Object.prototype.hasOwnProperty||function(t){return t in this};function tr(t,e){return vB.call(t,e)}function _i(t){return iB.call(t)}function _B(t){if(t.name)return t.name;var e=oB.call(sB.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function vb(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function wB(t){if(!Zc||!t||typeof t!="object")return!1;try{Zc.call(t);try{eh.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function EB(t){if(!xa||!t||typeof t!="object")return!1;try{xa.call(t,xa);try{Ra.call(t,Ra)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function TB(t){if(!Fw||!t||typeof t!="object")return!1;try{return Fw.call(t),!0}catch{}return!1}function SB(t){if(!eh||!t||typeof t!="object")return!1;try{eh.call(t);try{Zc.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function IB(t){if(!Ra||!t||typeof t!="object")return!1;try{Ra.call(t,Ra);try{xa.call(t,xa)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function AB(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function _b(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return _b(wy.call(t,0,e.maxStringLength),e)+r}var i=uB[e.quoteStyle||"single"];i.lastIndex=0;var s=$r.call($r.call(t,i,"\\$1"),/[\x00-\x1f]/g,bB);return gb(s,"single",e)}function bB(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+aB.call(e.toString(16))}function Zo(t){return"Object("+t+")"}function wf(t){return t+" { ? }"}function Qw(t,e,n,r){var i=r?sm(n,r):Mn.call(n,", ");return t+" ("+e+") {"+i+"}"}function xB(t){for(var e=0;e<t.length;e++)if(vb(t[e],`
`)>=0)return!1;return!0}function RB(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=Mn.call(Array(t.indent+1)," ");else return null;return{base:n,prev:Mn.call(Array(e+1),n)}}function sm(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+Mn.call(t,","+n)+`
`+e.prev}function vu(t,e){var n=im(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=tr(t,i)?e(t[i],t):""}var s=typeof _f=="function"?_f(t):[],o;if(ho){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)tr(t,u)&&(n&&String(Number(u))===u&&u<t.length||ho&&o["$"+u]instanceof Symbol||(fb.call(/[^\w$]/,u)?r.push(e(u,t)+": "+e(t[u],t)):r.push(u+": "+e(t[u],t))));if(typeof _f=="function")for(var c=0;c<s.length;c++)pb.call(t,s[c])&&r.push("["+e(s[c])+"]: "+e(t[s[c]],t));return r}var wb=yy,Ro=JF,CB=cB,PB=bl,_u=wb("%WeakMap%",!0),wu=wb("%Map%",!0),kB=Ro("WeakMap.prototype.get",!0),NB=Ro("WeakMap.prototype.set",!0),OB=Ro("WeakMap.prototype.has",!0),LB=Ro("Map.prototype.get",!0),DB=Ro("Map.prototype.set",!0),jB=Ro("Map.prototype.has",!0),Ey=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},MB=function(t,e){var n=Ey(t,e);return n&&n.value},VB=function(t,e,n){var r=Ey(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},UB=function(t,e){return!!Ey(t,e)},FB=function(){var e,n,r,i={assert:function(s){if(!i.has(s))throw new PB("Side channel does not contain "+CB(s))},get:function(s){if(_u&&s&&(typeof s=="object"||typeof s=="function")){if(e)return kB(e,s)}else if(wu){if(n)return LB(n,s)}else if(r)return MB(r,s)},has:function(s){if(_u&&s&&(typeof s=="object"||typeof s=="function")){if(e)return OB(e,s)}else if(wu){if(n)return jB(n,s)}else if(r)return UB(r,s);return!1},set:function(s,o){_u&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new _u),NB(e,s,o)):wu?(n||(n=new wu),DB(n,s,o)):(r||(r={key:{},next:null}),VB(r,s,o))}};return i},BB=String.prototype.replace,$B=/%20/g,Ef={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ty={default:Ef.RFC3986,formatters:{RFC1738:function(t){return BB.call(t,$B,"+")},RFC3986:function(t){return String(t)}},RFC1738:Ef.RFC1738,RFC3986:Ef.RFC3986},zB=Ty,Tf=Object.prototype.hasOwnProperty,Pi=Array.isArray,kn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),HB=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(Pi(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},Eb=function(e,n){for(var r=n&&n.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},KB=function t(e,n,r){if(!n)return e;if(typeof n!="object"&&typeof n!="function"){if(Pi(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Tf.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return Pi(e)&&!Pi(n)&&(i=Eb(e,r)),Pi(e)&&Pi(n)?(n.forEach(function(s,o){if(Tf.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,r):e.push(s)}else e[o]=s}),e):Object.keys(n).reduce(function(s,o){var a=n[o];return Tf.call(s,o)?s[o]=t(s[o],a,r):s[o]=a,s},i)},qB=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},WB=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Sf=1024,GB=function(e,n,r,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(S){return"%26%23"+parseInt(S.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;u+=Sf){for(var c=o.length>=Sf?o.slice(u,u+Sf):o,h=[],f=0;f<c.length;++f){var g=c.charCodeAt(f);if(g===45||g===46||g===95||g===126||g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122||s===zB.RFC1738&&(g===40||g===41)){h[h.length]=c.charAt(f);continue}if(g<128){h[h.length]=kn[g];continue}if(g<2048){h[h.length]=kn[192|g>>6]+kn[128|g&63];continue}if(g<55296||g>=57344){h[h.length]=kn[224|g>>12]+kn[128|g>>6&63]+kn[128|g&63];continue}f+=1,g=65536+((g&1023)<<10|c.charCodeAt(f)&1023),h[h.length]=kn[240|g>>18]+kn[128|g>>12&63]+kn[128|g>>6&63]+kn[128|g&63]}a+=h.join("")}return a},QB=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var c=a[u],h=o[c];typeof h=="object"&&h!==null&&r.indexOf(h)===-1&&(n.push({obj:o,prop:c}),r.push(h))}return HB(n),e},JB=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},YB=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},XB=function(e,n){return[].concat(e,n)},ZB=function(e,n){if(Pi(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},Tb={arrayToObject:Eb,assign:qB,combine:XB,compact:QB,decode:WB,encode:GB,isBuffer:YB,isRegExp:JB,maybeMap:ZB,merge:KB},Sb=FB,Yu=Tb,Ca=Ty,e3=Object.prototype.hasOwnProperty,Ib={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},Ln=Array.isArray,t3=Array.prototype.push,Ab=function(t,e){t3.apply(t,Ln(e)?e:[e])},n3=Date.prototype.toISOString,Jw=Ca.default,nt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Yu.encode,encodeValuesOnly:!1,filter:void 0,format:Jw,formatter:Ca.formatters[Jw],indices:!1,serializeDate:function(e){return n3.call(e)},skipNulls:!1,strictNullHandling:!1},r3=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},If={},i3=function t(e,n,r,i,s,o,a,u,c,h,f,g,S,y,v,A,w,T){for(var I=e,N=T,M=0,z=!1;(N=N.get(If))!==void 0&&!z;){var b=N.get(e);if(M+=1,typeof b<"u"){if(b===M)throw new RangeError("Cyclic object value");z=!0}typeof N.get(If)>"u"&&(M=0)}if(typeof h=="function"?I=h(n,I):I instanceof Date?I=S(I):r==="comma"&&Ln(I)&&(I=Yu.maybeMap(I,function(q){return q instanceof Date?S(q):q})),I===null){if(o)return c&&!A?c(n,nt.encoder,w,"key",y):n;I=""}if(r3(I)||Yu.isBuffer(I)){if(c){var E=A?n:c(n,nt.encoder,w,"key",y);return[v(E)+"="+v(c(I,nt.encoder,w,"value",y))]}return[v(n)+"="+v(String(I))]}var x=[];if(typeof I>"u")return x;var C;if(r==="comma"&&Ln(I))A&&c&&(I=Yu.maybeMap(I,c)),C=[{value:I.length>0?I.join(",")||null:void 0}];else if(Ln(h))C=h;else{var P=Object.keys(I);C=f?P.sort(f):P}var k=u?String(n).replace(/\./g,"%2E"):String(n),R=i&&Ln(I)&&I.length===1?k+"[]":k;if(s&&Ln(I)&&I.length===0)return R+"[]";for(var xe=0;xe<C.length;++xe){var Me=C[xe],J=typeof Me=="object"&&Me&&typeof Me.value<"u"?Me.value:I[Me];if(!(a&&J===null)){var ee=g&&u?String(Me).replace(/\./g,"%2E"):String(Me),H=Ln(I)?typeof r=="function"?r(R,ee):R:R+(g?"."+ee:"["+ee+"]");T.set(e,M);var ne=Sb();ne.set(If,T),Ab(x,t(J,H,r,i,s,o,a,u,r==="comma"&&A&&Ln(I)?null:c,h,f,g,S,y,v,A,w,ne))}}return x},s3=function(e){if(!e)return nt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||nt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Ca.default;if(typeof e.format<"u"){if(!e3.call(Ca.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=Ca.formatters[r],s=nt.filter;(typeof e.filter=="function"||Ln(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in Ib?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=nt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:nt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:nt.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:nt.allowEmptyArrays,arrayFormat:o,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:nt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?nt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:nt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:nt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:nt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:nt.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:nt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:nt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:nt.strictNullHandling}},o3=function(t,e){var n=t,r=s3(e),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):Ln(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var a=Ib[r.arrayFormat],u=a==="comma"&&r.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var c=Sb(),h=0;h<i.length;++h){var f=i[h],g=n[f];r.skipNulls&&g===null||Ab(o,i3(g,f,a,u,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var S=o.join(r.delimiter),y=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),S.length>0?y+S:""},fo=Tb,om=Object.prototype.hasOwnProperty,a3=Array.isArray,ze={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:fo.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},l3=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},bb=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},u3="utf8=%26%2310003%3B",c3="utf8=%E2%9C%93",h3=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),a=-1,u,c=n.charset;if(n.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===c3?c="utf-8":o[u]===u3&&(c="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var h=o[u],f=h.indexOf("]="),g=f===-1?h.indexOf("="):f+1,S,y;g===-1?(S=n.decoder(h,ze.decoder,c,"key"),y=n.strictNullHandling?null:""):(S=n.decoder(h.slice(0,g),ze.decoder,c,"key"),y=fo.maybeMap(bb(h.slice(g+1),n),function(A){return n.decoder(A,ze.decoder,c,"value")})),y&&n.interpretNumericEntities&&c==="iso-8859-1"&&(y=l3(String(y))),h.indexOf("[]=")>-1&&(y=a3(y)?[y]:y);var v=om.call(r,S);v&&n.duplicates==="combine"?r[S]=fo.combine(r[S],y):(!v||n.duplicates==="last")&&(r[S]=y)}return r},d3=function(t,e,n,r){for(var i=r?e:bb(e,n),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&n.parseArrays)o=n.allowEmptyArrays&&(i===""||n.strictNullHandling&&i===null)?[]:[].concat(i);else{o=n.plainObjects?{__proto__:null}:{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=n.decodeDotInKeys?u.replace(/%2E/g,"."):u,h=parseInt(c,10);!n.parseArrays&&c===""?o={0:i}:!isNaN(h)&&a!==c&&String(h)===c&&h>=0&&n.parseArrays&&h<=n.arrayLimit?(o=[],o[h]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},f3=function(e,n,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=r.depth>0&&o.exec(s),c=u?s.slice(0,u.index):s,h=[];if(c){if(!r.plainObjects&&om.call(Object.prototype,c)&&!r.allowPrototypes)return;h.push(c)}for(var f=0;r.depth>0&&(u=a.exec(s))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&om.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;h.push(u[1])}if(u){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");h.push("["+s.slice(u.index)+"]")}return d3(h,n,r,i)}},p3=function(e){if(!e)return ze;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?ze.charset:e.charset,r=typeof e.duplicates>"u"?ze.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:ze.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ze.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ze.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ze.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ze.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ze.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ze.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:ze.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:ze.decoder,delimiter:typeof e.delimiter=="string"||fo.isRegExp(e.delimiter)?e.delimiter:ze.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ze.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ze.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ze.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ze.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:ze.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ze.strictNullHandling}},m3=function(t,e){var n=p3(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?{__proto__:null}:{};for(var r=typeof t=="string"?h3(t,n):t,i=n.plainObjects?{__proto__:null}:{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],u=f3(a,r[a],n,typeof t=="string");i=fo.merge(i,u,n)}return n.allowSparse===!0?i:fo.compact(i)},g3=o3,y3=m3,v3=Ty,_3={formats:v3,parse:y3,stringify:g3};const w3=po(_3);function E3(t,e){t.interceptors.request.use(function(n){return e().then(r=>(n.headers.set("Authorization",`Bearer ${r}`),n))})}var xb={exports:{}},Je=xb.exports={},Dn,jn;function am(){throw new Error("setTimeout has not been defined")}function lm(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Dn=setTimeout:Dn=am}catch{Dn=am}try{typeof clearTimeout=="function"?jn=clearTimeout:jn=lm}catch{jn=lm}})();function Rb(t){if(Dn===setTimeout)return setTimeout(t,0);if((Dn===am||!Dn)&&setTimeout)return Dn=setTimeout,setTimeout(t,0);try{return Dn(t,0)}catch{try{return Dn.call(null,t,0)}catch{return Dn.call(this,t,0)}}}function T3(t){if(jn===clearTimeout)return clearTimeout(t);if((jn===lm||!jn)&&clearTimeout)return jn=clearTimeout,clearTimeout(t);try{return jn(t)}catch{try{return jn.call(null,t)}catch{return jn.call(this,t)}}}var ur=[],Gs=!1,Mi,Xu=-1;function S3(){!Gs||!Mi||(Gs=!1,Mi.length?ur=Mi.concat(ur):Xu=-1,ur.length&&Cb())}function Cb(){if(!Gs){var t=Rb(S3);Gs=!0;for(var e=ur.length;e;){for(Mi=ur,ur=[];++Xu<e;)Mi&&Mi[Xu].run();Xu=-1,e=ur.length}Mi=null,Gs=!1,T3(t)}}Je.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];ur.push(new Pb(t,e)),ur.length===1&&!Gs&&Rb(Cb)};function Pb(t,e){this.fun=t,this.array=e}Pb.prototype.run=function(){this.fun.apply(null,this.array)};Je.title="browser";Je.browser=!0;Je.env={};Je.argv=[];Je.version="";Je.versions={};function Sr(){}Je.on=Sr;Je.addListener=Sr;Je.once=Sr;Je.off=Sr;Je.removeListener=Sr;Je.removeAllListeners=Sr;Je.emit=Sr;Je.prependListener=Sr;Je.prependOnceListener=Sr;Je.listeners=function(t){return[]};Je.binding=function(t){throw new Error("process.binding is not supported")};Je.cwd=function(){return"/"};Je.chdir=function(t){throw new Error("process.chdir is not supported")};Je.umask=function(){return 0};var I3=xb.exports;const zr=po(I3);function A3(){return typeof zr<"u"&&!zr.browser}function b3(){return typeof window<"u"&&"navigator"in window&&"product"in window.navigator&&window.navigator.product==="ReactNative"}function x3(){return zr.versions&&zr.versions.node?`v${zr.versions.node}`:zr.version}function R3(){return window}function um(){}const C3=t=>new Promise(e=>{setTimeout(e,t)}),P3=t=>Math.pow(Math.SQRT2,t);function k3(t,e=5){const{responseLogger:n=um,requestLogger:r=um}=t.defaults;t.interceptors.request.use(function(i){return r(i),i},function(i){return r(i),Promise.reject(i)}),t.interceptors.response.use(function(i){return n(i),i},async function(i){const{response:s}=i,{config:o}=i;if(n(i),!o||!t.defaults.retryOnError)return Promise.reject(i);const a=o.attempts||1;if(a>e)return i.attempts=o.attempts,Promise.reject(i);let u=null,c=P3(a);return s?s.status>=500&&s.status<600?u=`Server ${s.status}`:s.status===429&&(u="Rate limit",s.headers&&i.response.headers["x-contentful-ratelimit-reset"]&&(c=s.headers["x-contentful-ratelimit-reset"])):u="Connection",u?(c=Math.floor(c*1e3+Math.random()*200+500),t.defaults.logHandler("warning",`${u} error occurred. Waiting for ${c} ms before retrying...`),o.attempts=a+1,delete o.httpAgent,delete o.httpsAgent,C3(c).then(()=>t(o))):Promise.reject(i)})}var N3=typeof Es=="object"&&Es&&Es.Object===Object&&Es,O3=N3,L3=O3,D3=typeof self=="object"&&self&&self.Object===Object&&self,j3=L3||D3||Function("return this")(),M3=j3,V3=M3,U3=V3.Symbol,kb=U3,Yw=kb,Nb=Object.prototype,F3=Nb.hasOwnProperty,B3=Nb.toString,ea=Yw?Yw.toStringTag:void 0;function $3(t){var e=F3.call(t,ea),n=t[ea];try{t[ea]=void 0;var r=!0}catch{}var i=B3.call(t);return r&&(e?t[ea]=n:delete t[ea]),i}var z3=$3,H3=Object.prototype,K3=H3.toString;function q3(t){return K3.call(t)}var W3=q3,Xw=kb,G3=z3,Q3=W3,J3="[object Null]",Y3="[object Undefined]",Zw=Xw?Xw.toStringTag:void 0;function X3(t){return t==null?t===void 0?Y3:J3:Zw&&Zw in Object(t)?G3(t):Q3(t)}var Ob=X3,Z3=Array.isArray,e6=Z3;function t6(t){return t!=null&&typeof t=="object"}var Lb=t6,n6=Ob,r6=e6,i6=Lb,s6="[object String]";function o6(t){return typeof t=="string"||!r6(t)&&i6(t)&&n6(t)==s6}var a6=o6;const eE=po(a6);class l6 extends Error{constructor(){super("Throttled function aborted"),this.name="AbortError"}}function u6({limit:t,interval:e,strict:n,onDelay:r}){if(!Number.isFinite(t))throw new TypeError("Expected `limit` to be a finite number");if(!Number.isFinite(e))throw new TypeError("Expected `interval` to be a finite number");const i=new Map;let s=0,o=0;function a(){const c=Date.now();return c-s>e?(o=1,s=c,0):(o<t?o++:(s+=e,o=1),s-c)}const u=a;return c=>{const h=function(...f){if(!h.isEnabled)return(async()=>c.apply(this,f))();let g;return new Promise((S,y)=>{const v=()=>{S(c.apply(this,f)),i.delete(g)},A=u();A>0?(g=setTimeout(v,A),i.set(g,y),r==null||r(...f)):v()})};return h.abort=()=>{for(const f of i.keys())clearTimeout(f),i.get(f)(new l6);i.clear()},h.isEnabled=!0,Object.defineProperty(h,"queueSize",{get(){return i.size}}),h}}const cm=/(?<value>\d+)(%)/;function Af(t,e=7){var r;let n=e;if(cm.test(t)){const i=(r=t.match(cm))==null?void 0:r.groups;if(i&&i.value){const s=parseInt(i.value)/100;n=Math.round(e*s)}}return Math.min(30,Math.max(1,n))}function tE(t,e){return e("info",`Throttle request to ${t}/s`),u6({limit:t,interval:1e3,strict:!1})}const c6=(t,e="auto")=>{const{logHandler:n=um}=t.defaults;let r=eE(e)?Af(e):Af("auto",e),i=tE(r,n),s=!1,o=t.interceptors.request.use(u=>i(()=>u)(),function(u){return Promise.reject(u)});const a=t.interceptors.response.use(u=>{if(!s&&eE(e)&&(e==="auto"||cm.test(e))&&u.headers&&u.headers["x-contentful-ratelimit-second-limit"]){const c=parseInt(u.headers["x-contentful-ratelimit-second-limit"]),h=Af(e,c);h!==r&&(o&&t.interceptors.request.eject(o),r=h,i=tE(h,n),o=t.interceptors.request.use(f=>i(()=>f)(),function(f){return Promise.reject(f)})),s=!0}return u},function(u){return Promise.reject(u)});return()=>{t.interceptors.request.eject(o),t.interceptors.response.eject(a)}},h6=/^(?!\w+:\/\/)([^\s:]+\.?[^\s:]+)(?::(\d+))?(?!:)$/;function d6(t){const e=py(t);return e.httpAgent=t.httpAgent,e.httpsAgent=t.httpsAgent,e}function Db(t,e){const r={...{insecure:!1,retryOnError:!0,logHandler:(f,g)=>{if(f==="error"&&g){const S=[g.name,g.message].filter(y=>y).join(" - ");console.error(`[error] ${S}`),console.error(g);return}console.log(`[${f}] ${g}`)},headers:{},httpAgent:!1,httpsAgent:!1,timeout:3e4,throttle:0,basePath:"",adapter:void 0,maxContentLength:1073741824,maxBodyLength:1073741824},...e};if(!r.accessToken){const f=new TypeError("Expected parameter accessToken");throw r.logHandler("error",f),f}const i=r.insecure?"http":"https",s=r.space?`${r.space}/`:"";let o=r.defaultHostname,a=r.insecure?80:443;if(r.host&&h6.test(r.host)){const f=r.host.split(":");f.length===2?[o,a]=f:o=f[0]}r.basePath&&(r.basePath=`/${r.basePath.split("/").filter(Boolean).join("/")}`);const u=e.baseURL||`${i}://${o}:${a}${r.basePath}/spaces/${s}`;!r.headers.Authorization&&typeof r.accessToken!="function"&&(r.headers.Authorization="Bearer "+r.accessToken);const c={baseURL:u,headers:r.headers,httpAgent:r.httpAgent,httpsAgent:r.httpsAgent,proxy:r.proxy,timeout:r.timeout,adapter:r.adapter,maxContentLength:r.maxContentLength,maxBodyLength:r.maxBodyLength,paramsSerializer:{serialize:f=>w3.stringify(f)},logHandler:r.logHandler,responseLogger:r.responseLogger,requestLogger:r.requestLogger,retryOnError:r.retryOnError},h=t.create(c);return h.httpClientParams=e,h.cloneWithNewParams=function(f){return Db(t,{...d6(e),...f})},r.onBeforeRequest&&h.interceptors.request.use(r.onBeforeRequest),typeof r.accessToken=="function"&&E3(h,r.accessToken),r.throttle&&c6(h,r.throttle),k3(h,r.retryLimit),r.onError&&h.interceptors.response.use(f=>f,r.onError),h}function _n({query:t}){const e={};return delete t.resolveLinks,e.params=py(t),e}function jb(t){const e=Object.getOwnPropertyNames(t);for(const n of e){const r=t[n];r&&typeof r=="object"&&jb(r)}return Object.freeze(t)}function f6(t){return jb(t.sys||{}),t}function nE(){const t=R3();if(!t)return null;const e=t.navigator.userAgent,n=t.navigator.platform,r=["Macintosh","MacIntel","MacPPC","Mac68K"],i=["Win32","Win64","Windows","WinCE"],s=["iPhone","iPad","iPod"];return r.indexOf(n)!==-1?"macOS":s.indexOf(n)!==-1?"iOS":i.indexOf(n)!==-1?"Windows":/Android/.test(e)?"Android":/Linux/.test(n)?"Linux":null}function p6(){const t=zr.platform||"linux",e=zr.version||"0.0.0",n={android:"Android",aix:"Linux",darwin:"macOS",freebsd:"Linux",linux:"Linux",openbsd:"Linux",sunos:"Linux",win32:"Windows"};return t in n?`${n[t]||"Linux"}/${e}`:null}function m6(t,e,n,r){const i=[];e&&i.push(`app ${e}`),n&&i.push(`integration ${n}`),i.push(`sdk ${t}`);let s=null;try{b3()?(s=nE(),i.push("platform ReactNative")):A3()?(s=p6(),i.push(`platform node.js/${x3()}`)):(s=nE(),i.push("platform browser"))}catch{s=null}return s&&i.push(`os ${s}`),`${i.filter(o=>o!=="").join("; ")};`}function Mb(t){return Object.defineProperty(t,"toPlainObject",{enumerable:!1,configurable:!1,writable:!1,value:function(){return py(this)}})}function g6(t,e){return function(n){return t(e(n))}}var y6=g6,v6=y6,_6=v6(Object.getPrototypeOf,Object),w6=_6,E6=Ob,T6=w6,S6=Lb,I6="[object Object]",A6=Function.prototype,b6=Object.prototype,Vb=A6.toString,x6=b6.hasOwnProperty,R6=Vb.call(Object);function C6(t){if(!S6(t)||E6(t)!=I6)return!1;var e=T6(t);if(e===null)return!0;var n=x6.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Vb.call(n)==R6}var P6=C6;const bf=po(P6);function vn(t){var a;const{config:e,response:n}=t;let r;if(e&&e.headers&&e.headers.Authorization){const u=`...${e.headers.Authorization.toString().substr(-5)}`;e.headers.Authorization=`Bearer ${u}`}if(!bf(n)||!bf(e))throw t;const i=n==null?void 0:n.data,s={status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText,message:"",details:{}};e&&bf(e)&&(s.request={url:e.url,headers:e.headers,method:e.method,payloadData:e.data}),i&&typeof i=="object"&&("requestId"in i&&(s.requestId=i.requestId||"UNKNOWN"),"message"in i&&(s.message=i.message||""),"details"in i&&(s.details=i.details||{}),r=(a=i.sys)==null?void 0:a.id);const o=new Error;o.name=r&&r!=="Unknown"?r:`${n==null?void 0:n.status} ${n==null?void 0:n.statusText}`;try{o.message=JSON.stringify(s,null,"  ")}catch{o.message=(s==null?void 0:s.message)??""}throw o}function k6(t){return function(n){return Object.assign({},t,n)}}var Ub={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},Sy={0:8203,1:8204,2:8205,3:65279},N6=new Array(4).fill(String.fromCodePoint(Sy[0])).join("");function O6(t){let e=JSON.stringify(t);return`${N6}${Array.from(e).map(n=>{let r=n.charCodeAt(0);if(r>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${n} (${r})`);return Array.from(r.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(Sy[i])).join("")}).join("")}`}function L6(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function D6(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function j6(t,e,n="auto"){return n===!0||n==="auto"&&(L6(t)||D6(t))?t:`${t}${O6(e)}`}Object.fromEntries(Object.entries(Sy).map(t=>t.reverse()));Object.fromEntries(Object.entries(Ub).map(t=>t.reverse()));`${Object.values(Ub).map(t=>`\\u{${t.toString(16)}}`).join("")}`;function Zu(t,e){return j6(t,e)}var M6=Object.prototype.hasOwnProperty,V6=Object.prototype.toString,U6=function(t,e,n){if(V6.call(e)!=="[object Function]")throw new TypeError("iterator must be a function");var r=t.length;if(r===+r)for(var i=0;i<r;i++)e.call(n,t[i],i,t);else for(var s in t)M6.call(t,s)&&e.call(n,t[s],s,t)},F6=U6,ri=Pe;function Pe(t,e,n){if(arguments.length===3)return Pe.set(t,e,n);if(arguments.length===2)return Pe.get(t,e);var r=Pe.bind(Pe,t);for(var i in Pe)Pe.hasOwnProperty(i)&&(r[i]=Pe[i].bind(r,t));return r}Pe.get=function(t,e){for(var n=Array.isArray(e)?e:Pe.parse(e),r=0;r<n.length;++r){var i=n[r];if(!(typeof t=="object"&&i in t))throw new Error("Invalid reference token: "+i);t=t[i]}return t};Pe.set=function(t,e,n){var r=Array.isArray(e)?e:Pe.parse(e),i=r[0];if(r.length===0)throw Error("Can not set the root object");for(var s=0;s<r.length-1;++s){var o=r[s];typeof o!="string"&&typeof o!="number"&&(o=String(o)),!(o==="__proto__"||o==="constructor"||o==="prototype")&&(o==="-"&&Array.isArray(t)&&(o=t.length),i=r[s+1],o in t||(i.match(/^(\d+|-)$/)?t[o]=[]:t[o]={}),t=t[o])}return i==="-"&&Array.isArray(t)&&(i=t.length),t[i]=n,this};Pe.remove=function(t,e){var n=Array.isArray(e)?e:Pe.parse(e),r=n[n.length-1];if(r===void 0)throw new Error('Invalid JSON pointer for remove: "'+e+'"');var i=Pe.get(t,n.slice(0,-1));if(Array.isArray(i)){var s=+r;if(r===""&&isNaN(s))throw new Error('Invalid array index: "'+r+'"');Array.prototype.splice.call(i,s,1)}else delete i[r]};Pe.dict=function(t,e){var n={};return Pe.walk(t,function(r,i){n[i]=r},e),n};Pe.walk=function(t,e,n){var r=[];n=n||function(i){var s=Object.prototype.toString.call(i);return s==="[object Object]"||s==="[object Array]"},function i(s){F6(s,function(o,a){r.push(String(a)),n(o)?i(o):e(o,Pe.compile(r)),r.pop()})}(t)};Pe.has=function(t,e){try{Pe.get(t,e)}catch{return!1}return!0};Pe.escape=function(t){return t.toString().replace(/~/g,"~0").replace(/\//g,"~1")};Pe.unescape=function(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")};Pe.parse=function(t){if(t==="")return[];if(t.charAt(0)!=="/")throw new Error("Invalid JSON pointer: "+t);return t.substring(1).split(/\//).map(Pe.unescape)};Pe.compile=function(t){return t.length===0?"":"/"+t.map(Pe.escape).join("/")};const B6=({pointer:t,mappings:e,data:n,hiddenStrings:r})=>{const i=e[t];delete e[t];const s=Fb(n,t);for(const o of s){e[o]=i;const a=ri.get(n,o),u=Zu(a,r);ri.set(n,o,u)}},Fb=(t,e="")=>{const n=[],r=ri.get(t,e);if(r.content)for(let i=0;i<r.content.length;i++)r.content[i].nodeType==="text"?n.push(`${e}/content/${i}/value`):n.push(...Fb(t,`${e}/content/${i}`));return n},rE=({entityId:t,entityType:e,space:n,environment:r,field:i,locale:s,editorInterface:o,fieldType:a,targetOrigin:u,platform:c})=>({origin:"contentful.com",href:`${`https://app.contentful.com/spaces/${n}/environments/${r}`}/${e==="Entry"?"entries":"assets"}/${t}/?focusedField=${i}&focusedLocale=${s}&source=vercel-content-link`,contentful:{editorInterface:o,fieldType:a}}),$6=t=>["builtin","sidebar-builtin","editor-builtin"].includes(t),z6=t=>K6.includes(t);function H6(t){if(typeof structuredClone=="function")return structuredClone(t);try{return JSON.parse(JSON.stringify(t))}catch(e){return console.warn("Failed to clone data:",t,e),t}}const K6=["singleLine","tagEditor","listInput","checkbox","richTextEditor","multipleLine"];function iE(t,e,n,r,i,s,o){const a=o?e[o]:e;switch(t){case"Symbol":{const u=Zu(a,n);ri.set(r,i,u);break}case"Text":{const u=Zu(a,n);ri.set(r,i,u);break}case"RichText":{B6({pointer:"",mappings:s,data:a,hiddenStrings:n});break}case"Array":{const u=a.map(c=>typeof c=="string"?Zu(c,n):c);ri.set(r,i,u);break}}}const Eu=(t,e,n,r,i)=>{if(!t.fields)return;const{contentSourceMaps:s}=t.sys;if(!s){console.error("Content source maps data is missing");return}const{mappings:o}=s;for(const a in o){const{source:u}=o[a],c=t.sys.space.sys.id,h=t.sys.environment.sys.id,f=t.sys.id,g=t.sys.type,S=e[u.fieldType],y=n[u.editorInterface];if($6(y.widgetNamespace)&&!z6(y.widgetId))continue;const v=a.startsWith("/")?a:`/${a}`;if(ri.has(t,v)){const A=ri.get(t,v);if(A===null)return;const w=v.split("/").pop();if(!w){console.error("Field name could not be extracted from the pointer",v);return}const T=t.sys.locale;if(T){const I=rE({entityId:f,entityType:g,space:c,environment:h,field:w,locale:T,editorInterface:y,fieldType:S,targetOrigin:r,platform:i});iE(S,A,I,t,v,o)}else Object.keys(A).forEach(I=>{const N=rE({entityId:f,entityType:g,space:c,environment:h,field:w,locale:I,editorInterface:y,fieldType:S,targetOrigin:r,platform:i});iE(S,A,N,t,`${v}/${I}`,o,I)})}}},q6=(t,e,n)=>{var r;const i=H6(t);if(i.sys&&"items"in i){const s=i;if(!((r=s.sys)!=null&&r.contentSourceMapsLookup))return console.error("Content source maps lookup data is missing"),s;const{contentSourceMapsLookup:{fieldTypes:o,editorInterfaces:a}}=s.sys,{items:u,includes:c}=s;u.forEach(h=>Eu(h,o,a,e,n)),c&&c.Entry&&c.Entry.forEach(h=>Eu(h,o,a,e,n)),c&&c.Asset&&c.Asset.forEach(h=>Eu(h,o,a,e,n))}else{const s=i;if(!s.sys.contentSourceMapsLookup)return console.error("Content source maps lookup data is missing"),s;Eu(s,s.sys.contentSourceMapsLookup.fieldTypes,s.sys.contentSourceMapsLookup.editorInterfaces,e,n)}return i};var W6=Function.prototype.toString,xf=Object.create,G6=Object.defineProperty,Q6=Object.getOwnPropertyDescriptor,sE=Object.getOwnPropertyNames,Iy=Object.getOwnPropertySymbols,J6=Object.getPrototypeOf,Bb=Object.prototype,Y6=Bb.hasOwnProperty,X6=Bb.propertyIsEnumerable,$b=typeof Iy=="function",Z6=typeof WeakMap=="function",e$=function(){if(Z6)return function(){return new WeakMap};var t=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(n){return!!~this._keys.indexOf(n)},e.prototype.get=function(n){return this._values[this._keys.indexOf(n)]},e.prototype.set=function(n,r){this._keys.push(n),this._values.push(r)},e}();return function(){return new t}}(),zb=function(t,e){var n=t.__proto__||J6(t);if(!n)return xf(null);var r=n.constructor;if(r===e.Object)return n===e.Object.prototype?{}:xf(n);if(~W6.call(r).indexOf("[native code]"))try{return new r}catch{}return xf(n)},t$=function(t,e,n,r){var i=zb(t,e);r.set(t,i);for(var s in t)Y6.call(t,s)&&(i[s]=n(t[s],r));if($b)for(var o=Iy(t),a=0,u=o.length,c=void 0;a<u;++a)c=o[a],X6.call(t,c)&&(i[c]=n(t[c],r));return i},oE=function(t,e,n,r){var i=zb(t,e);r.set(t,i);for(var s=$b?sE(t).concat(Iy(t)):sE(t),o=0,a=s.length,u=void 0,c=void 0;o<a;++o)if(u=s[o],u!=="callee"&&u!=="caller")if(c=Q6(t,u),c){!c.get&&!c.set&&(c.value=n(t[u],r));try{G6(i,u,c)}catch{i[u]=c.value}}else i[u]=n(t[u],r);return i},n$=function(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},r$=Array.isArray,i$=Object.getPrototypeOf,s$=function(){return typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:(console&&console.error&&console.error('Unable to locate global object, returning "this".'),this)}();function al(t,e){var n=!!(e&&e.isStrict),r=e&&e.realm||s$,i=n?oE:t$,s=function(o,a){if(!o||typeof o!="object")return o;if(a.has(o))return a.get(o);var u=o.__proto__||i$(o),c=u&&u.constructor;if(!c||c===r.Object)return i(o,r,s,a);var h;if(r$(o)){if(n)return oE(o,r,s,a);h=new c,a.set(o,h);for(var f=0,g=o.length;f<g;++f)h[f]=s(o[f],a);return h}if(o instanceof r.Date)return new c(o.getTime());if(o instanceof r.RegExp)return h=new c(o.source,o.flags||n$(o)),h.lastIndex=o.lastIndex,h;if(r.Map&&o instanceof r.Map)return h=new c,a.set(o,h),o.forEach(function(S,y){h.set(y,s(S,a))}),h;if(r.Set&&o instanceof r.Set)return h=new c,a.set(o,h),o.forEach(function(S){h.add(s(S,a))}),h;if(r.Blob&&o instanceof r.Blob)return o.slice(0,o.size,o.type);if(r.Buffer&&r.Buffer.isBuffer(o))return h=r.Buffer.allocUnsafe?r.Buffer.allocUnsafe(o.length):new c(o.length),a.set(o,h),o.copy(h),h;if(r.ArrayBuffer){if(r.ArrayBuffer.isView(o))return h=new c(o.buffer.slice(0)),a.set(o,h),h;if(o instanceof r.ArrayBuffer)return h=o.slice(0),a.set(o,h),h}return typeof o.then=="function"||o instanceof Error||r.WeakMap&&o instanceof r.WeakMap||r.WeakSet&&o instanceof r.WeakSet?o:i(o,r,s,a)};return s(t,e$())}al.default=al;al.strict=function(e,n){return al(e,{isStrict:!0,realm:n?n.realm:void 0})};var o$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a$=function(){function t(e,n){var r=[],i=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),u;!(i=(u=a.next()).done)&&(r.push(u.value),!(n&&r.length===n));i=!0);}catch(c){s=!0,o=c}finally{try{!i&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function ta(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var ll={},l$=function(e){return e&&e.sys&&e.sys.type==="Link"},u$=function(e){return e&&e.sys&&e.sys.type==="ResourceLink"},c$=function(e){return e.space&&e.environment?[e.type+"!"+e.id,e.space.sys.id+"!"+e.environment.sys.id+"!"+e.type+"!"+e.id]:[e.type+"!"+e.id]},aE=function(e,n){var r=n.entryId,i=n.linkType,s=n.spaceId,o=n.environmentId;return s&&o?e.get(s+"!"+o+"!"+i+"!"+r):e.get(i+"!"+r)},h$=function(e){var n=/.*:spaces\/([^/]+)(?:\/environments\/([^/]+))?\/entries\/([^/]+)$/;if(n.test(e)){var r=e.match(n),i=a$(r,4);i[0];var s=i[1],o=i[2],a=o===void 0?"master":o,u=i[3];return{spaceId:s,environmentId:a,entryId:u}}},d$=function(e,n){var r=n.sys,i=r.type,s=r.linkType;if(i==="ResourceLink"){if(!s.startsWith("Contentful:"))return n;var o=n.sys.urn,a=h$(o),u=a.spaceId,c=a.environmentId,h=a.entryId,f=s.split(":")[1];return aE(e,{linkType:f,entryId:h,spaceId:u,environmentId:c})||ll}var g=n.sys.id;return aE(e,{linkType:s,entryId:g})||ll},f$=function(e){if(Array.isArray(e))return e.filter(function(r){return r!==ll});for(var n in e)e[n]===ll&&delete e[n];return e},p$=function t(e,n,r,i){if(n(e))return r(e);if(e&&(typeof e>"u"?"undefined":o$(e))==="object"){for(var s in e)e.hasOwnProperty(s)&&(e[s]=t(e[s],n,r,i));i&&(e=f$(e))}return e},m$=function(e,n,r){var i=d$(e,n);return i===ll?r?i:n:i},g$=function(e,n){if(!Array.isArray(n))return e;var r=Object.keys(e).filter(function(i){return n.indexOf(i)!==-1});return r.reduce(function(i,s){return i[s]=e[s],i},{})},Hb=function(e,n){if(n=n||{},!e.items)return[];var r=al(e),i=Object.keys(r.includes||{}).reduce(function(a,u){return[].concat(ta(a),ta(e.includes[u]))},[]),s=[].concat(ta(r.items),ta(i)).filter(function(a){return!!a.sys}),o=new Map(s.reduce(function(a,u){var c=c$(u.sys).map(function(h){return[h,u]});return a.push.apply(a,ta(c)),a},[]));return s.forEach(function(a){var u=g$(a,n.itemEntryPoints);Object.assign(a,p$(u,function(c){return l$(c)||u$(c)},function(c){return m$(o,c,n.removeUnresolved)},n.removeUnresolved))}),r.items},hm={exports:{}};(function(t,e){e=t.exports=n,e.getSerialize=r;function n(i,s,o,a){return JSON.stringify(i,r(s,a),o)}function r(i,s){var o=[],a=[];return s==null&&(s=function(u,c){return o[0]===c?"[Circular ~]":"[Circular ~."+a.slice(0,o.indexOf(c)).join(".")+"]"}),function(u,c){if(o.length>0){var h=o.indexOf(this);~h?o.splice(h+1):o.push(this),~h?a.splice(h,1/0,u):a.push(u),~o.indexOf(c)&&(c=s.call(this,u,c))}else o.push(c);return i==null?c:i.call(this,u,c)}}})(hm,hm.exports);var y$=hm.exports;const v$=po(y$);function Kb(t){return Object.defineProperty(t,"stringifySafe",{enumerable:!1,configurable:!1,writable:!1,value:function(e=null,n=""){return v$(this,e,n,(r,i)=>({sys:{type:"Link",linkType:"Entry",id:i.sys.id,circular:!0}}))}})}async function _$(t,e,n){if(!e||!e.initial&&!e.nextSyncToken&&!e.nextPageToken)throw new Error("Please provide one of `initial`, `nextSyncToken` or `nextPageToken` parameters for syncing");if(e.content_type&&!e.type)e.type="Entry";else if(e.content_type&&e.type&&e.type!=="Entry")throw new Error("When using the `content_type` filter your `type` parameter cannot be different from `Entry`.");const r={withoutLinkResolution:!1,withoutUnresolvableLinks:!1,paginate:!0},{withoutLinkResolution:i,withoutUnresolvableLinks:s,paginate:o}=Object.assign(Object.assign({},r),n),a=await qb(t,[],e,{paginate:o});i||(a.items=Hb(a,{removeUnresolved:s,itemEntryPoints:["fields"]}));const u=w$(a.items);return a.nextSyncToken&&(u.nextSyncToken=a.nextSyncToken),a.nextPageToken&&(u.nextPageToken=a.nextPageToken),f6(Kb(Mb(u)))}function w$(t){const e=n=>(r,i)=>(i.sys.type===n&&r.push(Mb(i)),r);return{entries:t.reduce(e("Entry"),[]),assets:t.reduce(e("Asset"),[]),deletedEntries:t.reduce(e("DeletedEntry"),[]),deletedAssets:t.reduce(e("DeletedAsset"),[])}}function E$(t){return t.nextPageToken?{sync_token:t.nextPageToken}:t.nextSyncToken?{sync_token:t.nextSyncToken}:t.sync_token?{sync_token:t.sync_token}:t}async function qb(t,e,n,{paginate:r}){const i=E$(n),o=(await t.get("sync",_n({query:i}))).data||{};return e=e.concat(o.items||[]),o.nextPageUrl?r?(delete i.initial,i.sync_token=Rf(o.nextPageUrl),qb(t,e,i,{paginate:r})):{items:e,nextPageToken:Rf(o.nextPageUrl)}:o.nextSyncUrl?{items:e,nextSyncToken:Rf(o.nextSyncUrl)}:{items:[]}}function Rf(t){const e=t.split("?");return e.length>0?e[1].replace("sync_token=",""):""}function bi(t){const e={};let n=!1;for(const r in t)Array.isArray(t[r])&&(e[r]=t[r].join(","),n=!0);return n?Object.assign(Object.assign({},t),e):t}function Wb(t){if(!t.select)return new Set;const e=Array.isArray(t.select)?t.select:t.select.split(",").map(n=>n.trim());return new Set(e)}function Xn(t){if(!t.select)return t;const e=Wb(t);return e.has("sys")?t:(e.add("sys.id"),e.add("sys.type"),Object.assign(Object.assign({},t),{select:[...e].join(",")}))}function lE(t,{resolveLinks:e,removeUnresolved:n}){const r=Kb(t);return e&&(r.items=Hb(r,{removeUnresolved:n,itemEntryPoints:["fields"]})),r}class dr extends Error{constructor(e,n){super(`Invalid "${e}" provided, `+n),this.name="ValidationError"}}function T$(t,e,n){if(n=n||{},typeof e!="number")throw new dr(t,`only numeric values are allowed for timestamps, provided type was "${typeof e}"`);if(n.maximum&&e>n.maximum)throw new dr(t,`value (${e}) cannot be further in the future than expected maximum (${n.maximum})`);if(n.now&&e<n.now)throw new dr(t,`value (${e}) cannot be in the past, current time was ${n.now}`)}function S$(t){if(t.locale==="*")throw new dr("locale",`The use of locale='*' is no longer supported.To fetch an entry in all existing locales,
      use client.withAllLocales instead of the locale='*' parameter.`)}function I$(t){if(t.locale)throw new dr("locale","The `locale` parameter is not allowed")}function Tu(t,e){e?I$(t):S$(t)}function ec(t){if("resolveLinks"in t)throw new dr("resolveLinks",`The use of the 'resolveLinks' parameter is no longer supported. By default, links are resolved.
      If you do not want to resolve links, use client.withoutLinkResolution.`)}function tc(t){if("removeUnresolved"in t)throw new dr("removeUnresolved",`The use of the 'removeUnresolved' parameter is no longer supported. By default, unresolved links are kept as link objects.
      If you do not want to include unresolved links, use client.withoutUnresolvableLinks.`)}function A$(t,e){if(e===void 0)return!1;if(typeof e!="boolean")throw new dr("includeContentSourceMaps","The 'includeContentSourceMaps' parameter must be a boolean.");if(e&&!(t==="preview.contentful.com"))throw new dr("includeContentSourceMaps",`The 'includeContentSourceMaps' parameter can only be used with the CPA. Please set host to 'preview.contentful.com' to include Content Source Maps.
      `);return e}function ms(t){for(const e in t){const n=t[e];if(typeof n=="object"&&n!==null&&!Array.isArray(n))throw new Error(`Objects are not supported as value for the "${e}" query parameter.`)}}const b$=48*60*60;class x$ extends Error{constructor(e,n,r){super("The resource could not be found."),this.sys={type:"Error",id:"NotFound"},this.details={type:"Entry",id:e,environment:n,space:r}}}function Gb({http:t,getGlobalOptions:e},n){const r=(F="unknown")=>new x$(F,e().environment,e().space),i=F=>{let Y=F==="space"?e().spaceBaseUrl:e().environmentBaseUrl;if(!Y)throw new Error("Please define baseUrl for "+F);return Y.endsWith("/")||(Y+="/"),Y};function s(F={}){var Y,L;const B=t.httpClientParams,Q=(Y=B==null?void 0:B.includeContentSourceMaps)!==null&&Y!==void 0?Y:(L=B==null?void 0:B.alphaFeatures)===null||L===void 0?void 0:L.includeContentSourceMaps,$=B==null?void 0:B.host;if(A$($,Q)&&(F.includeContentSourceMaps=!0,F.select)){const Z=Wb(F);Z.add("sys"),F.select=Array.from(Z).join(",")}return F}function o(F,Y){var L;return((L=Y==null?void 0:Y.params)===null||L===void 0?void 0:L.includeContentSourceMaps)?q6(F):F}async function a({context:F,path:Y,config:L}){const B=i(F);try{const Q=await t.get(B+Y,L);return o(Q.data,L)}catch(Q){vn(Q)}}async function u({context:F,path:Y,data:L,config:B}){const Q=i(F);try{return(await t.post(Q+Y,L,B)).data}catch($){vn($)}}async function c(){return a({context:"space",path:""})}async function h(F){return a({context:"environment",path:`content_types/${F}`})}async function f(F={}){return a({context:"environment",path:"content_types",config:_n({query:F})})}async function g(F,Y={}){return y(F,Y,n)}async function S(F={}){return A(F,n)}async function y(F,Y,L={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:B}=L;return Tu(Y,B),ec(Y),tc(Y),ms(Y),v(F,B?Object.assign(Object.assign({},Y),{locale:"*"}):Y,L)}async function v(F,Y,L){if(!F)throw r(F);try{const B=await w(Object.assign({"sys.id":F},s(Y)),L);if(B.items.length>0)return B.items[0];throw r(F)}catch(B){vn(B)}}async function A(F,Y={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:L}=Y;return Tu(F,L),ec(F),tc(F),ms(F),w(L?Object.assign(Object.assign({},F),{locale:"*"}):F,Y)}async function w(F,Y){const{withoutLinkResolution:L,withoutUnresolvableLinks:B}=Y;try{const Q=await a({context:"environment",path:"entries",config:_n({query:s(bi(Xn(F)))})});return lE(Q,{resolveLinks:!L,removeUnresolved:B??!1})}catch(Q){vn(Q)}}async function T(F,Y={}){return z(F,Y,n)}async function I(F={}){return N(F,n)}async function N(F,Y={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:L}=Y;Tu(F,L),ms(F);const B=L?Object.assign(Object.assign({},F),{locale:"*"}):F;return b(B)}async function M(F,Y){try{return a({context:"environment",path:`assets/${F}`,config:_n({query:s(Xn(Y))})})}catch(L){vn(L)}}async function z(F,Y,L={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){const{withAllLocales:B}=L;Tu(Y,B),ms(Y);const Q=B?Object.assign(Object.assign({},Y),{locale:"*"}):Y;return M(F,Q)}async function b(F){try{return a({context:"environment",path:"assets",config:_n({query:s(bi(Xn(F)))})})}catch(Y){vn(Y)}}async function E(F){return a({context:"environment",path:`tags/${F}`})}async function x(F={}){return ms(F),a({context:"environment",path:"tags",config:_n({query:bi(Xn(F))})})}async function C(F){try{const Y=Math.floor(Date.now()/1e3),L=Y+b$;T$("expiresAt",F,{maximum:L,now:Y})}catch(Y){vn(Y)}return u({context:"environment",path:"asset_keys",data:{expiresAt:F}})}async function P(F={}){return ms(F),a({context:"environment",path:"locales",config:_n({query:Xn(F)})})}async function k(F,Y={paginate:!0}){return R(F,Y,n)}async function R(F,Y,L={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){ec(F),tc(F);const B=Object.assign(Object.assign({},Y),L);return Qt(t),_$(t,F,B)}function xe(F){return Me(F,n)}function Me(F,Y={withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!1}){return J(F,Y)}function J(F,Y){const{withoutLinkResolution:L,withoutUnresolvableLinks:B}=Y;return lE(F,{resolveLinks:!L,removeUnresolved:B??!1})}function ee(F,Y={}){return H(F,Y)}async function H(F,Y={}){try{return a({context:"environment",path:`taxonomy/concept-schemes/${F}`,config:_n({query:bi(Xn(Y))})})}catch(L){vn(L)}}function ne(F={}){return q(F)}async function q(F={}){try{return a({context:"environment",path:"taxonomy/concept-schemes",config:_n({query:bi(Xn(F))})})}catch(Y){vn(Y)}}function de(F,Y={}){return ue(F,Y)}async function ue(F,Y={}){try{return a({context:"environment",path:`taxonomy/concepts/${F}`,config:_n({query:bi(Xn(Y))})})}catch(L){vn(L)}}function be(F={}){return Et(F)}async function Et(F={}){try{return a({context:"environment",path:"taxonomy/concepts",config:_n({query:bi(Xn(F))})})}catch(Y){vn(Y)}}function Qt(F){F.defaults.baseURL=e().environmentBaseUrl}return{version:"11.3.1",getSpace:c,getContentType:h,getContentTypes:f,getAsset:T,getAssets:I,getTag:E,getTags:x,getLocales:P,parseEntries:xe,sync:k,getEntry:g,getEntries:S,getConceptScheme:ee,getConceptSchemes:ne,getConcept:de,getConcepts:be,createAssetKey:C}}function R$({http:t,getGlobalOptions:e},n,r){const i=Gb({http:t,getGlobalOptions:e},n),s=i||{};return Object.defineProperty(s,"withAllLocales",{get:()=>r(Object.assign(Object.assign({},n),{withAllLocales:!0}))}),Object.defineProperty(s,"withoutLinkResolution",{get:()=>r(Object.assign(Object.assign({},n),{withoutLinkResolution:!0}))}),Object.defineProperty(s,"withoutUnresolvableLinks",{get:()=>r(Object.assign(Object.assign({},n),{withoutUnresolvableLinks:!0}))}),Object.create(s)}const C$=({http:t,getGlobalOptions:e})=>{function n(i){return R$({http:t,getGlobalOptions:e},i,n)}const r=Gb({http:t,getGlobalOptions:e},{withoutLinkResolution:!1,withAllLocales:!1,withoutUnresolvableLinks:!1});return Object.assign(Object.assign({},r),{get withAllLocales(){return n({withAllLocales:!0,withoutLinkResolution:!1,withoutUnresolvableLinks:!1})},get withoutLinkResolution(){return n({withAllLocales:!1,withoutLinkResolution:!0,withoutUnresolvableLinks:!1})},get withoutUnresolvableLinks(){return n({withAllLocales:!1,withoutLinkResolution:!1,withoutUnresolvableLinks:!0})}})};function P$(t){if(!t.accessToken)throw new TypeError("Expected parameter accessToken");if(!t.space)throw new TypeError("Expected parameter space");ec(t),tc(t);const n=Object.assign(Object.assign({},{resolveLinks:!0,removeUnresolved:!1,defaultHostname:"cdn.contentful.com",environment:"master"}),t),r=m6("contentful.js/11.3.1",n.application,n.integration);n.headers=Object.assign(Object.assign({},n.headers),{"Content-Type":"application/vnd.contentful.delivery.v1+json","X-Contentful-User-Agent":r});const i=Db(Qe,n);if(!i.defaults.baseURL)throw new Error("Please define a baseURL");const s=k6({space:n.space,environment:n.environment,spaceBaseUrl:i.defaults.baseURL,environmentBaseUrl:`${i.defaults.baseURL}environments/${n.environment}`});return i.defaults.baseURL=s({}).environmentBaseUrl,C$({http:i,getGlobalOptions:s})}var Ds={},k$=t=>{if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype};(function(t){var e=k$;t.BLOCKS=void 0,function(L){L.DOCUMENT="document",L.PARAGRAPH="paragraph",L.HEADING_1="heading-1",L.HEADING_2="heading-2",L.HEADING_3="heading-3",L.HEADING_4="heading-4",L.HEADING_5="heading-5",L.HEADING_6="heading-6",L.OL_LIST="ordered-list",L.UL_LIST="unordered-list",L.LIST_ITEM="list-item",L.HR="hr",L.QUOTE="blockquote",L.EMBEDDED_ENTRY="embedded-entry-block",L.EMBEDDED_ASSET="embedded-asset-block",L.EMBEDDED_RESOURCE="embedded-resource-block",L.TABLE="table",L.TABLE_ROW="table-row",L.TABLE_CELL="table-cell",L.TABLE_HEADER_CELL="table-header-cell"}(t.BLOCKS||(t.BLOCKS={})),t.INLINES=void 0,function(L){L.ASSET_HYPERLINK="asset-hyperlink",L.EMBEDDED_ENTRY="embedded-entry-inline",L.EMBEDDED_RESOURCE="embedded-resource-inline",L.ENTRY_HYPERLINK="entry-hyperlink",L.HYPERLINK="hyperlink",L.RESOURCE_HYPERLINK="resource-hyperlink"}(t.INLINES||(t.INLINES={})),t.MARKS=void 0,function(L){L.BOLD="bold",L.ITALIC="italic",L.UNDERLINE="underline",L.CODE="code",L.SUPERSCRIPT="superscript",L.SUBSCRIPT="subscript",L.STRIKETHROUGH="strikethrough"}(t.MARKS||(t.MARKS={}));var n=function(L,B){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,$){Q.__proto__=$}||function(Q,$){for(var G in $)Object.prototype.hasOwnProperty.call($,G)&&(Q[G]=$[G])},n(L,B)};function r(L,B){if(typeof B!="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");n(L,B);function Q(){this.constructor=L}L.prototype=B===null?Object.create(B):(Q.prototype=B.prototype,new Q)}function i(L,B,Q){if(Q||arguments.length===2)for(var $=0,G=B.length,Z;$<G;$++)(Z||!($ in B))&&(Z||(Z=Array.prototype.slice.call(B,0,$)),Z[$]=B[$]);return L.concat(Z||Array.prototype.slice.call(B))}typeof SuppressedError=="function"&&SuppressedError;var s,o=[t.BLOCKS.PARAGRAPH,t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6,t.BLOCKS.OL_LIST,t.BLOCKS.UL_LIST,t.BLOCKS.HR,t.BLOCKS.QUOTE,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.BLOCKS.EMBEDDED_RESOURCE,t.BLOCKS.TABLE],a=[t.BLOCKS.PARAGRAPH,t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6,t.BLOCKS.OL_LIST,t.BLOCKS.UL_LIST,t.BLOCKS.HR,t.BLOCKS.QUOTE,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.BLOCKS.EMBEDDED_RESOURCE],u=[t.BLOCKS.TABLE,t.BLOCKS.TABLE_ROW,t.BLOCKS.TABLE_CELL,t.BLOCKS.TABLE_HEADER_CELL],c=[t.BLOCKS.HR,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.BLOCKS.EMBEDDED_RESOURCE],h=(s={},s[t.BLOCKS.OL_LIST]=[t.BLOCKS.LIST_ITEM],s[t.BLOCKS.UL_LIST]=[t.BLOCKS.LIST_ITEM],s[t.BLOCKS.LIST_ITEM]=a,s[t.BLOCKS.QUOTE]=[t.BLOCKS.PARAGRAPH],s[t.BLOCKS.TABLE]=[t.BLOCKS.TABLE_ROW],s[t.BLOCKS.TABLE_ROW]=[t.BLOCKS.TABLE_CELL,t.BLOCKS.TABLE_HEADER_CELL],s[t.BLOCKS.TABLE_CELL]=[t.BLOCKS.PARAGRAPH,t.BLOCKS.UL_LIST,t.BLOCKS.OL_LIST],s[t.BLOCKS.TABLE_HEADER_CELL]=[t.BLOCKS.PARAGRAPH],s),f=[t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6],g=i([t.BLOCKS.PARAGRAPH],f,!0),S=[t.BLOCKS.DOCUMENT,t.BLOCKS.PARAGRAPH,t.BLOCKS.HEADING_1,t.BLOCKS.HEADING_2,t.BLOCKS.HEADING_3,t.BLOCKS.HEADING_4,t.BLOCKS.HEADING_5,t.BLOCKS.HEADING_6,t.BLOCKS.OL_LIST,t.BLOCKS.UL_LIST,t.BLOCKS.LIST_ITEM,t.BLOCKS.HR,t.BLOCKS.QUOTE,t.BLOCKS.EMBEDDED_ENTRY,t.BLOCKS.EMBEDDED_ASSET,t.INLINES.HYPERLINK,t.INLINES.ENTRY_HYPERLINK,t.INLINES.ASSET_HYPERLINK,t.INLINES.EMBEDDED_ENTRY,"text"],y=[t.MARKS.BOLD,t.MARKS.CODE,t.MARKS.ITALIC,t.MARKS.UNDERLINE],v={nodeType:t.BLOCKS.DOCUMENT,data:{},content:[{nodeType:t.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};function A(L,B){for(var Q=0,$=Object.keys(L);Q<$.length;Q++){var G=$[Q];if(B===L[G])return!0}return!1}function w(L){return A(t.INLINES,L.nodeType)}function T(L){return A(t.BLOCKS,L.nodeType)}function I(L){return L.nodeType==="text"}var N=Object.freeze({__proto__:null,isBlock:T,isInline:w,isText:I}),M=function(L){var B=L.path,Q=L.property,$=L.typeName,G=L.value;return{details:'The type of "'.concat(Q,'" is incorrect, expected type: ').concat($),name:"type",path:B.toArray(),type:$,value:G}},z=function(L){var B=L.min,Q=L.value,$=L.path;return{name:"size",min:B,path:$.toArray(),details:"Size must be at least ".concat(B),value:Q}},b=function(L){var B=L.max,Q=L.value,$=L.path;return{name:"size",max:B,path:$.toArray(),details:"Size must be at most ".concat(B),value:Q}},E=function(L){var B=L.expected,Q=L.value,$=L.path;return{details:"Value must be one of expected values",name:"in",expected:i([],B,!0).sort(),path:$.toArray(),value:Q}},x=function(L){var B=L.property,Q=L.path;return{details:'The property "'.concat(B,'" is not expected'),name:"unexpected",path:Q.toArray()}},C=function(L){var B=L.property,Q=L.path;return{details:'The property "'.concat(B,'" is required here'),name:"required",path:Q.toArray()}},P=function(){function L(B,Q){var $=this;this.obj=B,this.path=Q,this._errors=[],this.catch=function(){for(var G,Z=[],pe=0;pe<arguments.length;pe++)Z[pe]=arguments[pe];(G=$._errors).push.apply(G,Z)},this.exists=function(G){return G in $.obj?!0:($.catch(C({property:G,path:$.path.of(G)})),!1)},this.object=function(G){var Z,pe=G?$.obj[G]:$.obj;if(G&&!$.exists(G))return!1;if(e(pe))return!0;var lt=G?$.path.of(G):$.path,ut=(Z=G??$.path.last())!==null&&Z!==void 0?Z:"value";return $.catch(M({typeName:"Object",property:ut,path:lt,value:pe})),!1},this.string=function(G){var Z=$.obj[G];return G&&!$.exists(G)?!1:typeof Z=="string"?!0:($.catch(M({typeName:"String",property:G,path:$.path.of(G),value:Z})),!1)},this.number=function(G,Z){var pe=$.obj[G];return Z&&!(G in $.obj)?!0:$.exists(G)?typeof pe=="number"&&!Number.isNaN(pe)?!0:($.catch(M({typeName:"Number",property:G,path:$.path.of(G),value:pe})),!1):!1},this.array=function(G){var Z=$.obj[G];return G&&!$.exists(G)?!1:Array.isArray(Z)?!0:($.catch(M({typeName:"Array",property:G,path:$.path.of(G),value:Z})),!1)},this.enum=function(G,Z){var pe=$.obj[G];return typeof pe=="string"&&Z.includes(pe)?!0:($.catch(E({expected:Z,value:pe,path:$.path.of(G)})),!1)},this.empty=function(G){if(!$.array(G))return!1;var Z=$.obj[G];return Z.length===0?!0:($.catch(b({max:0,value:Z,path:$.path.of(G)})),!1)},this.minLength=function(G,Z){if(!$.array(G))return!1;var pe=$.obj[G];return pe.length>=Z?!0:($.catch(z({min:Z,value:pe,path:$.path.of(G)})),!1)},this.noAdditionalProperties=function(G){var Z=Object.keys($.obj).sort().filter(function(pe){return!G.includes(pe)});return Z.forEach(function(pe){return $.catch(x({property:pe,path:$.path.of(pe)}))}),Z.length===0},this.each=function(G,Z){if($.array(G)){var pe=$.obj[G],lt=!1;pe.forEach(function(ut,wi){if(!lt){var as=Z(ut,$.path.of(G).of(wi));as.length>0&&(lt=!0),$.catch.apply($,as)}})}}}return Object.defineProperty(L.prototype,"errors",{get:function(){var B=this,Q=function($){return JSON.stringify({details:$.details,path:$.path})};return this._errors.filter(function($,G){return B._errors.findIndex(function(Z){return Q($)===Q(Z)})===G})},enumerable:!1,configurable:!0}),L}(),k=[],R=function(){function L(B,Q){this.contentRule=B,this.validateData=Q}return L.prototype.assert=function(B,Q){var $,G,Z=new P(B,Q);if(!Z.object())return Z.errors;Z.noAdditionalProperties(["nodeType","data","content"]);var pe=Array.isArray(this.contentRule)?{nodeTypes:this.contentRule}:this.contentRule(B,Q),lt=pe.nodeTypes,ut=pe.min,wi=ut===void 0?0:ut;if(lt.length===0&&wi>0)throw new Error("Invalid content rule. Cannot have enforce a 'min' of ".concat(wi," with no nodeTypes"));if(Z.minLength("content",wi),lt.length===0?Z.empty("content"):Z.each("content",function(Pl,Co){var Ei=new P(Pl,Co);return Ei.object()&&Ei.enum("nodeType",lt),Ei.errors}),Z.object("data")){var as=(G=($=this.validateData)===null||$===void 0?void 0:$.call(this,B.data,Q.of("data")))!==null&&G!==void 0?G:[];Z.catch.apply(Z,as)}return Z.errors},L}(),xe=function(L){r(B,L);function B(Q,$){var G=L.call(this,$,function(Z,pe){return G.assertLink(Z,pe)})||this;return G.linkType=Q,G.assertLink=function(Z,pe){var lt=new P(Z,pe);if(lt.object("target")){var ut=new P(Z.target.sys,pe.of("target").of("sys"));ut.object()&&(ut.enum("type",[G.type]),ut.enum("linkType",[G.linkType]),G.type==="Link"?(ut.string("id"),ut.noAdditionalProperties(["type","linkType","id"])):G.type==="ResourceLink"&&(ut.string("urn"),ut.noAdditionalProperties(["type","linkType","urn"]))),lt.catch.apply(lt,ut.errors)}return lt.noAdditionalProperties(["target"]),lt.errors},G.type=G.linkType.startsWith("Contentful:")?"ResourceLink":"Link",G}return B}(R),Me=function(L){r(B,L);function B(){var Q=L.call(this,["text"],function($,G){return Q.assertLink($,G)})||this;return Q.assertLink=function($,G){var Z=new P($,G);return Z.string("uri"),Z.noAdditionalProperties(["uri"]),Z.errors},Q}return B}(R),J=function(L,B){return new R(L,B)},ee=function(L,B){return new xe(L,B)},H=function(){function L(B){B===void 0&&(B=[]);var Q=this;this.path=B,this.of=function($){return new L(i(i([],Q.path,!0),[$],!1))},this.isRoot=function(){return Q.path.length===0},this.last=function(){return Q.path[Q.path.length-1]},this.toArray=function(){return Q.path}}return L}();function ne(L,B){var Q=new P(L,B);return Q.object()&&(Q.noAdditionalProperties(["nodeType","data","value","marks"]),Q.object("data"),Q.each("marks",function($,G){var Z=new P($,G);return Z.object()&&Z.string("type"),Z.errors}),Q.string("value")),Q.errors}var q,de=J(i(i([],Object.values(t.INLINES),!0),["text"],!1).sort()),ue=J([t.BLOCKS.LIST_ITEM]),be=ee("Entry",k),Et=J(function(){return{nodeTypes:[t.BLOCKS.PARAGRAPH],min:1}},function(L,B){var Q=new P(L,B);return Q.noAdditionalProperties(["colspan","rowspan"]),Q.number("colspan",!0),Q.number("rowspan",!0),Q.errors}),Qt=(q={},q[t.BLOCKS.DOCUMENT]=J(o),q[t.BLOCKS.PARAGRAPH]=de,q[t.BLOCKS.HEADING_1]=de,q[t.BLOCKS.HEADING_2]=de,q[t.BLOCKS.HEADING_3]=de,q[t.BLOCKS.HEADING_4]=de,q[t.BLOCKS.HEADING_5]=de,q[t.BLOCKS.HEADING_6]=de,q[t.BLOCKS.QUOTE]=J(h[t.BLOCKS.QUOTE]),q[t.BLOCKS.EMBEDDED_ENTRY]=be,q[t.BLOCKS.EMBEDDED_ASSET]=ee("Asset",k),q[t.BLOCKS.EMBEDDED_RESOURCE]=ee("Contentful:Entry",k),q[t.BLOCKS.HR]=J(k),q[t.BLOCKS.OL_LIST]=ue,q[t.BLOCKS.UL_LIST]=ue,q[t.BLOCKS.LIST_ITEM]=J(i([],a,!0).sort()),q[t.BLOCKS.TABLE]=J(function(){return{nodeTypes:[t.BLOCKS.TABLE_ROW],min:1}}),q[t.BLOCKS.TABLE_ROW]=J(function(){return{nodeTypes:[t.BLOCKS.TABLE_CELL,t.BLOCKS.TABLE_HEADER_CELL],min:1}}),q[t.BLOCKS.TABLE_CELL]=Et,q[t.BLOCKS.TABLE_HEADER_CELL]=Et,q[t.INLINES.HYPERLINK]=new Me,q[t.INLINES.EMBEDDED_ENTRY]=be,q[t.INLINES.EMBEDDED_RESOURCE]=ee("Contentful:Entry",k),q[t.INLINES.ENTRY_HYPERLINK]=ee("Entry",["text"]),q[t.INLINES.ASSET_HYPERLINK]=ee("Asset",["text"]),q[t.INLINES.RESOURCE_HYPERLINK]=ee("Contentful:Entry",["text"]),q);function F(L,B){if(L.nodeType==="text")return ne(L,B);var Q=Qt[L.nodeType].assert(L,B);if(Q.length>0)return Q;var $=new P(L,B);return $.each("content",function(G,Z){return F(G,Z)}),$.errors}var Y=function(L){var B=new H,Q=new P(L,B);return Q.object()&&Q.enum("nodeType",[t.BLOCKS.DOCUMENT]),Q.errors.length>0?Q.errors:F(L,B)};t.CONTAINERS=h,t.EMPTY_DOCUMENT=v,t.HEADINGS=f,t.LIST_ITEM_BLOCKS=a,t.TABLE_BLOCKS=u,t.TEXT_CONTAINERS=g,t.TOP_LEVEL_BLOCKS=o,t.V1_MARKS=y,t.V1_NODE_TYPES=S,t.VOID_BLOCKS=c,t.helpers=N,t.validateRichTextDocument=Y})(Ds);var Ee=V,fe=Ds,js=function(){return js=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},js.apply(this,arguments)};function N$(t,e){return Ee.isValidElement(t)&&t.key===null?Ee.cloneElement(t,{key:e}):t}function O$(t,e){return t.map(function(n,r){return N$(Qb(n,e),r)})}function Qb(t,e){var n=e.renderNode,r=e.renderMark,i=e.renderText,s=e.preserveWhitespace;if(fe.helpers.isText(t)){var o=i?i(t.value):t.value;if(s&&!i){o=o.replace(/ {2,}/g,function(h){return"".repeat(h.length)});var a=o.split(`
`),u=[];a.forEach(function(h,f){u.push(h),f!==a.length-1&&u.push(Ee.createElement("br",null))}),o=u}return t.marks.reduce(function(h,f){return r[f.type]?r[f.type](h):h},o)}else{var c=O$(t.content,e);return!t.nodeType||!n[t.nodeType]?Ee.createElement(Ee.Fragment,null,c):n[t.nodeType](t,c)}}var Ce,Zn,L$=(Ce={},Ce[fe.BLOCKS.DOCUMENT]=function(t,e){return e},Ce[fe.BLOCKS.PARAGRAPH]=function(t,e){return Ee.createElement("p",null,e)},Ce[fe.BLOCKS.HEADING_1]=function(t,e){return Ee.createElement("h1",null,e)},Ce[fe.BLOCKS.HEADING_2]=function(t,e){return Ee.createElement("h2",null,e)},Ce[fe.BLOCKS.HEADING_3]=function(t,e){return Ee.createElement("h3",null,e)},Ce[fe.BLOCKS.HEADING_4]=function(t,e){return Ee.createElement("h4",null,e)},Ce[fe.BLOCKS.HEADING_5]=function(t,e){return Ee.createElement("h5",null,e)},Ce[fe.BLOCKS.HEADING_6]=function(t,e){return Ee.createElement("h6",null,e)},Ce[fe.BLOCKS.EMBEDDED_ENTRY]=function(t,e){return Ee.createElement("div",null,e)},Ce[fe.BLOCKS.EMBEDDED_RESOURCE]=function(t,e){return Ee.createElement("div",null,e)},Ce[fe.BLOCKS.UL_LIST]=function(t,e){return Ee.createElement("ul",null,e)},Ce[fe.BLOCKS.OL_LIST]=function(t,e){return Ee.createElement("ol",null,e)},Ce[fe.BLOCKS.LIST_ITEM]=function(t,e){return Ee.createElement("li",null,e)},Ce[fe.BLOCKS.QUOTE]=function(t,e){return Ee.createElement("blockquote",null,e)},Ce[fe.BLOCKS.HR]=function(){return Ee.createElement("hr",null)},Ce[fe.BLOCKS.TABLE]=function(t,e){return Ee.createElement("table",null,Ee.createElement("tbody",null,e))},Ce[fe.BLOCKS.TABLE_ROW]=function(t,e){return Ee.createElement("tr",null,e)},Ce[fe.BLOCKS.TABLE_HEADER_CELL]=function(t,e){return Ee.createElement("th",null,e)},Ce[fe.BLOCKS.TABLE_CELL]=function(t,e){return Ee.createElement("td",null,e)},Ce[fe.INLINES.ASSET_HYPERLINK]=function(t){return Cf(fe.INLINES.ASSET_HYPERLINK,t)},Ce[fe.INLINES.ENTRY_HYPERLINK]=function(t){return Cf(fe.INLINES.ENTRY_HYPERLINK,t)},Ce[fe.INLINES.RESOURCE_HYPERLINK]=function(t){return uE(fe.INLINES.RESOURCE_HYPERLINK,t)},Ce[fe.INLINES.EMBEDDED_ENTRY]=function(t){return Cf(fe.INLINES.EMBEDDED_ENTRY,t)},Ce[fe.INLINES.EMBEDDED_RESOURCE]=function(t,e){return uE(fe.INLINES.EMBEDDED_RESOURCE,t)},Ce[fe.INLINES.HYPERLINK]=function(t,e){return Ee.createElement("a",{href:t.data.uri},e)},Ce),D$=(Zn={},Zn[fe.MARKS.BOLD]=function(t){return Ee.createElement("b",null,t)},Zn[fe.MARKS.ITALIC]=function(t){return Ee.createElement("i",null,t)},Zn[fe.MARKS.UNDERLINE]=function(t){return Ee.createElement("u",null,t)},Zn[fe.MARKS.CODE]=function(t){return Ee.createElement("code",null,t)},Zn[fe.MARKS.SUPERSCRIPT]=function(t){return Ee.createElement("sup",null,t)},Zn[fe.MARKS.SUBSCRIPT]=function(t){return Ee.createElement("sub",null,t)},Zn[fe.MARKS.STRIKETHROUGH]=function(t){return Ee.createElement("s",null,t)},Zn);function Cf(t,e){return Ee.createElement("span",{key:e.data.target.sys.id},"type: ",e.nodeType," id: ",e.data.target.sys.id)}function uE(t,e){return Ee.createElement("span",{key:e.data.target.sys.urn},"type: ",e.nodeType," urn: ",e.data.target.sys.urn)}function j$(t,e){return e===void 0&&(e={}),t?Qb(t,{renderNode:js(js({},L$),e.renderNode),renderMark:js(js({},D$),e.renderMark),renderText:e.renderText,preserveWhitespace:e.preserveWhitespace}):null}var M$=j$;const V$=P$({space:"pyaejmbpwnt8",accessToken:"ymHPDZdnv7_Uh4lWvhojmA0hlvwHm_5uzNCfoA-ODG4"});function U$(){const[t,e]=V.useState([]),[n,r]=V.useState("General"),[i,s]=V.useState(null),[o,a]=V.useState(!0);V.useEffect(()=>{(async()=>{try{const A=(await V$.getEntries({content_type:"blogPost",select:["fields.title","fields.category","fields.excerpt","fields.content","fields.author","fields.date"]})).items.map(w=>({id:w.sys.id,title:w.fields.title,category:w.fields.category,excerpt:w.fields.excerpt,content:w.fields.content,author:w.fields.author,date:w.fields.date}));e(A)}catch(v){console.error("Error fetching articles:",v)}finally{a(!1)}})()},[]);const u=n==="General"?t:t.filter(y=>y.category===n),c=["General","Acheteur","Vendeur","Investisseur"],h=()=>p.jsx("div",{className:"flex flex-col space-y-2",children:c.map(y=>p.jsx("button",{className:`text-left py-2 px-4 rounded transition-colors ${n===y?"bg-primary text-white font-semibold":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>{r(y),s(null)},children:y.charAt(0).toUpperCase()+y.slice(1)},y))}),f=({article:y})=>p.jsxs("article",{className:"bg-white border border-primary rounded-lg p-6 transition-shadow duration-300 hover:shadow-md hover:sahdow-primary",children:[p.jsx("h2",{className:"text-2xl font-serif font-semibold mb-2",children:p.jsx("a",{href:"#",onClick:v=>{v.preventDefault(),s(y)},className:"text-gray-800 hover:text-primary transition-colors",children:y.title})}),p.jsx("p",{className:"text-gray-600 mb-4",children:y.excerpt}),p.jsxs("div",{className:"flex justify-between items-center text-sm",children:[p.jsxs("span",{className:"text-gray-500",children:["Par ",y.author," | ",y.date]}),p.jsx("button",{onClick:()=>s(y),className:"text-electrique hover:text-blue-800 transition-colors font-semibold",children:"Lire la suite "})]})]}),g=()=>p.jsx("div",{className:"space-y-6",children:u.map(y=>p.jsx(f,{article:y},y.id))}),S=({article:y})=>{const v={renderNode:{[Ds.BLOCKS.PARAGRAPH]:(A,w)=>p.jsx("p",{className:"text-gray-700 mb-4",children:w}),[Ds.BLOCKS.HEADING_1]:(A,w)=>p.jsx("h1",{className:"text-3xl font-bold mb-4",children:w}),[Ds.BLOCKS.HEADING_2]:(A,w)=>p.jsx("h2",{className:"text-2xl font-semibold mb-3",children:w})},renderMark:{[Ds.MARKS.BOLD]:A=>p.jsx("strong",{className:"font-bold",children:A})}};return p.jsxs("article",{className:"bg-white border border-gray-200 rounded-lg p-8",children:[p.jsx("h1",{className:"text-4xl font-serif font-bold mb-4 text-gray-800",children:y.title}),p.jsxs("div",{className:"text-sm text-gray-500 mb-6",children:[p.jsxs("span",{children:["Par ",y.author]}),p.jsx("span",{className:"mx-2",children:"|"}),p.jsx("span",{children:y.date})]}),p.jsx("p",{className:"text-xl text-gray-600 mb-8",children:y.excerpt}),p.jsx("div",{className:"prose max-w-none mb-8",children:M$(y.content,v)}),p.jsx("button",{onClick:()=>s(null),className:"inline-block bg-electrique text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:" Retour  tous les articles"})]})};return p.jsx("div",{className:"bg-white",children:p.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[p.jsx("h1",{className:"text-5xl font-serif font-bold mb-12 text-center text-gray-800",children:"Actualits"}),o?p.jsx("p",{className:"text-center text-gray-600",children:"Chargement des articles..."}):p.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[p.jsx("aside",{className:"lg:w-1/4",children:p.jsxs("div",{className:"sticky top-8",children:[p.jsx("h2",{className:"text-2xl font-serif font-semibold mb-4 text-gray-800",children:"Catgories"}),p.jsx(h,{})]})}),p.jsx("main",{className:"lg:w-3/4",children:i?p.jsx(S,{article:i}):p.jsx(g,{})})]})]})})}const F$=()=>{const[t,e]=V.useState({name:"",email:"",phone:"",message:""}),[n,r]=V.useState(!1),[i,s]=V.useState(""),[o,a]=V.useState(""),u=h=>{e({...t,[h.target.name]:h.target.value})},c=async h=>{h.preventDefault(),r(!0),s(""),a("");try{await Gc.send("service_ygysf6c","template_tvk3cpa",t,"3Q6blDIxCWaiJ9nvg"),s("Votre message a t envoy avec succs ! Merci de m'avoir contact.")}catch(f){console.error("EmailJS Error:",f),a("Une erreur s'est produite lors de l'envoi de votre message. Veuillez ressayer plus tard.")}finally{r(!1)}};return p.jsx("div",{className:"bg-white text-gray-800",children:p.jsxs("main",{className:"container mx-auto w-auto p-4",children:[p.jsxs("header",{className:"bg-gray-800 text-white text-center py-6 rounded shadow",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Elise BUIL"}),p.jsx("p",{className:"text-lg",children:"Vente / Location Immobilire"}),p.jsx("p",{className:"text-lg",children:"Accompagnement Commercial, Administratif et Juridique"})]}),p.jsxs("section",{className:"py-16 px-4 md:px-8 max-w-5xl mx-auto",children:[p.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:" propos de moi"}),p.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[p.jsx("img",{src:wA,alt:"Elise BUIL",className:"w-64 h-90 rounded-full object-cover"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-lg mb-4",children:"Bien plus qu'un mtier, une vritable passion!"}),p.jsx("p",{className:"text-lg mb-4",children:"Riche dune forte exprience dans le secteur de limmobilier, je mets mon expertise  votre service pour vous accompagner dans toutes vos dmarches lies  la vente de votre bien. Je mets un point dhonneur  dvelopper une vritable relation base sur lcoute et le respect de vos besoins."}),p.jsx("p",{className:"text-lg mb-4",children:"Issue d'une formation juridique en droit immobilier, je vous propose un accompagnement spcialis dans la concrtisation de vos projets immobiliers, notamment en proposant la rdaction du compromis de vente en collaboration avec votre notaire , vous faisant ainsi bnficier d'un temps prcieux."}),p.jsx("p",{className:"text-lg mb-4",children:"Mon service de vente immobilire se distingue par une approche unique alliant expertise juridique et authentique relation dchanges."}),p.jsxs("p",{className:"text-lg mb-4",children:["N'hsitez pas  prendre contact avec moi pour changer sur vos projets, je me ferai un plaisir de pouvoir rpondre  vos questions.",p.jsx("br",{})," Ensemble, construisons une relation solide et fiable pour mener  bien votre vente immobilire en toute scurit!              "]}),p.jsx("p",{className:"text-lg",children:"Au plaisir de vous rencontrer,"})]})]})]}),p.jsxs("section",{className:"mb-12 bg-white p-6 rounded-lg shadow-md shadow-primary",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Tmoignages Clients"}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("blockquote",{className:"italic text-gray-600 border-l-4 border-primary pl-4",children:[`" Nous sommes ravis de l'accompagnement et de la conscience professionnelle d'Elise pour la recherche et l'achat de notre maison. Nous la recommandons vivement."`,p.jsx("footer",{className:"text-gray-500 mt-2",children:"- Jennifer et Xavier ROLLAND"})]}),p.jsxs("blockquote",{className:"italic text-gray-600 border-l-4 border-primary pl-4",children:[`"Elise m'a permis de vendre mon appartement rapidement. Je la remercie pour sa disponibilit."`,p.jsx("footer",{className:"text-gray-500 mt-2",children:"- Guillaume RABILLER"})]})]})]}),p.jsxs("section",{id:"contact",className:"bg-white mt-6 p-6 rounded-lg shadow-md shadow-primary  ",children:[p.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Contactez-moi"}),i?p.jsxs("div",{className:"text-center",children:[p.jsx("p",{className:"text-green-500 text-xl font-semibold mb-4",children:i}),p.jsx("button",{onClick:()=>{s(""),e({name:"",email:"",phone:"",message:""})},className:"bg-black text-white font-medium py-2 px-4 rounded-md shadow hover:bg-gray-800 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50 transition duration-150",children:"Envoyer un autre message"})]}):p.jsxs("form",{className:"space-y-6",onSubmit:c,children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nom :"}),p.jsx("input",{type:"text",id:"name",name:"name",required:!0,placeholder:"Votre nom complet",value:t.name,onChange:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email :"}),p.jsx("input",{type:"email",id:"email",name:"email",required:!0,placeholder:"Votre adresse email",value:t.email,onChange:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Tlphone :"}),p.jsx("input",{type:"tel",id:"phone",name:"phone",required:!0,placeholder:"Votre numro de tlphone",value:t.phone,onChange:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message :"}),p.jsx("textarea",{id:"message",name:"message",rows:5,required:!0,placeholder:"Votre message",value:t.message,onChange:u,className:"mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-50 px-4 py-2"})]}),p.jsx("button",{type:"submit",disabled:n,className:"w-full bg-primary text-white font-medium py-3 rounded-md shadow hover:bg-gray-800 focus:outline-none focus:ring focus:ring-blue-300 focus:ring-opacity-50 transition duration-150",children:n?"Envoi en cours...":"Envoyer le Message"})]}),o&&p.jsx("p",{className:"text-red-500 mt-4",children:o})]})]})})},B$=[US,jS,VS,dk,pk];function $$(){const[t,e]=V.useState(1),[n,r]=V.useState({address:"",propertyType:"",livingArea:"",landArea:"",floors:"",rooms:"",bedrooms:"",constructionPeriod:"",condition:"",features:[],saleTimeline:"",contact:{gender:"",firstName:"",lastName:"",email:"",phone:""}}),[i,s]=V.useState(!1),[o,a]=V.useState(!1),u=(y,v)=>{r(A=>({...A,[y]:v}))},c=(y,v)=>{r(A=>({...A,contact:{...A.contact,[y]:v}}))},h=y=>{r(v=>({...v,features:v.features.includes(y)?v.features.filter(A=>A!==y):[...v.features,y]}))},f=()=>{o&&(e(y=>Math.min(y+1,5)),a(!1))},g=()=>{e(y=>Math.max(y-1,1)),a(!1)},S=async()=>{if(!o)return;const y={address:n.address,propertyType:n.propertyType,livingArea:n.livingArea,landArea:n.landArea,floors:n.floors,rooms:n.rooms,bedrooms:n.bedrooms,features:n.features.join(", "),contactGender:n.contact.gender,contactFirstName:n.contact.firstName,contactLastName:n.contact.lastName,contactEmail:n.contact.email,contactPhone:n.contact.phone},v="service_ygysf6c",A="template_m9ywkos",w="3Q6blDIxCWaiJ9nvg";try{Gc.init(w),await Gc.send(v,A,y),s(!0)}catch(T){console.error("Error sending email:",T)}};return V.useEffect(()=>{const y=document.querySelector(".progress-bar");switch(y&&(y.style.width=`${(t-1)*25}%`),t){case 1:a(n.address.length>0);break;case 2:a(n.propertyType!=="");break;case 3:a(n.livingArea!==""&&n.landArea!==""&&n.floors!==""&&n.rooms!==""&&n.bedrooms!=="");break;case 4:a(n.features.length>0);break;case 5:a(n.contact.gender!==""&&n.contact.firstName!==""&&n.contact.lastName!==""&&n.contact.email!==""&&n.contact.phone!=="");break;default:a(!1)}},[t,n]),p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-4 md:p-6",children:p.jsxs("div",{className:"mx-auto max-w-4xl",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("div",{className:"flex justify-between mb-2",children:B$.map((y,v)=>p.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full transition-all duration-300 ${v+1===t?"bg-primary text-white pulse":(v+1<t,"bg-gray-200 text-primary")}`,children:p.jsx(y,{className:"h-6 w-6"})},v))}),p.jsx("div",{className:"h-2 w-full bg-gray-200 rounded-full overflow-hidden",children:p.jsx("div",{className:"progress-bar h-full bg-primary transition-all duration-500 ease-out",style:{width:"0%"}})})]}),p.jsxs("div",{className:"overflow-hidden rounded-xl bg-white p-6 shadow-lg shadow-primary",children:[p.jsxs("div",{className:"slide-in",children:[t===1&&p.jsxs("div",{className:"space-y-6",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"O se situe votre bien ?"}),p.jsxs("div",{className:"space-y-4 fade-in",children:[p.jsx("label",{htmlFor:"address",className:"block text-lg font-medium text-gray-700",children:"Adresse du bien  estimer"}),p.jsxs("div",{className:"relative",children:[p.jsx(US,{className:"absolute left-3 top-3 h-6 w-6 text-gray-400"}),p.jsx("input",{id:"address",type:"text",value:n.address,onChange:y=>u("address",y.target.value),placeholder:"12 rue Saint Denis, 75011 Paris",className:"w-full rounded-lg border-2 border-gray-200 bg-gray-50 py-3 pl-12 pr-4 text-gray-800 placeholder-gray-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-blue-200 transition-all duration-300"})]})]})]}),t===2&&p.jsxs("div",{className:"space-y-6",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"Quel type de bien souhaitez-vous estimer ?"}),p.jsx("div",{className:"grid grid-cols-2 gap-4 fade-in",children:[{id:"appartement",label:"Un appartement",icon:jS},{id:"maison",label:"Une maison",icon:VS},{id:"terrain",label:"Un Terrain",icon:ok},{id:"local commercial",label:"Un local commercial",icon:fk}].map(y=>p.jsxs("button",{onClick:()=>u("propertyType",y.id),className:`flex flex-col items-center justify-center p-6 rounded-xl border-2 transition-all duration-300 ${n.propertyType===y.id?"border-primary bg-primary-50 text-primary":"border-gray-200 text-gray-600 hover:border-red-300 hover:bg-red-50"}`,children:[p.jsx(y.icon,{className:"mb-4 h-16 w-16"}),p.jsx("span",{className:"text-lg font-medium",children:y.label})]},y.id))})]}),t===3&&p.jsxs("div",{className:"space-y-6",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"Dtails de votre bien"}),p.jsx("div",{className:"grid grid-cols-2 gap-4 fade-in",children:[{id:"livingArea",label:"Surface habitable",unit:"m"},{id:"landArea",label:"Surface du terrain",unit:"m"},{id:"floors",label:"Nombre de niveaux"},{id:"rooms",label:"Nombre de pices"},{id:"bedrooms",label:"Nombre de chambres"}].map(y=>p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:y.id,className:"block text-sm font-medium text-gray-700",children:y.label}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("input",{id:y.id,type:"number",value:n[y.id],onChange:v=>u(y.id,v.target.value),className:"w-full rounded-lg border border-gray-200 bg-gray-50 px-4 py-2 text-gray-800 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-300"}),y.unit&&p.jsx("span",{className:"ml-2 text-sm text-gray-500",children:y.unit})]})]},y.id))})]}),t===4&&p.jsxs("div",{className:"space-y-6",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-800 fade-in",children:"Caractristiques spcifiques"}),p.jsx("div",{className:"grid grid-cols-2 gap-4 fade-in",children:["Terrasse","Parking","Garage","Piscine","Aucun"].map(y=>p.jsx("button",{onClick:()=>h(y),className:`py-4 rounded-lg border-2 transition-all duration-300 ${n.features.includes(y)?"border-primary bg-red-100 text-primary":"border-gray-200 text-gray-600 hover:border-primary hover:bg-red-50"}`,children:y},y))})]}),t===5&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"text-center fade-in",children:[p.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Votre estimation est prte !"}),p.jsx("p",{className:"mt-2 text-gray-600",children:"Renseignez ces informations pour recevoir votre estimation."})]}),p.jsxs("div",{className:"space-y-4 fade-in",children:[p.jsx("div",{className:"flex justify-center gap-4",children:["monsieur","madame"].map(y=>p.jsx("button",{onClick:()=>c("gender",y),className:`px-6 py-2 rounded-full text-lg transition-all duration-300 ${n.contact.gender===y?"bg-primary text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:y.charAt(0).toUpperCase()+y.slice(1)},y))}),[{id:"firstName",label:"Prnom",placeholder:"Caroline"},{id:"lastName",label:"Nom",placeholder:"Gomez"},{id:"email",label:"Adresse mail",placeholder:"carolinegomez@gmail.com",type:"email"},{id:"phone",label:"Tlphone",placeholder:"07 89 78 65 89",type:"tel"}].map(y=>p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:y.id,className:"block text-sm font-medium text-gray-700",children:y.label}),p.jsx("input",{id:y.id,type:y.type||"text",value:n.contact[y.id],onChange:v=>c(y.id,v.target.value),placeholder:y.placeholder,className:"w-full rounded-lg border border-gray-200 bg-gray-50 px-4 py-2 text-gray-800 placeholder-gray-400 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-300"})]},y.id))]})]})]},t),i&&p.jsxs("div",{className:"mt-8 p-6 bg-green-50 border-2 border-green-500 rounded-xl text-center fade-in",children:[p.jsx("h2",{className:"text-2xl font-bold text-green-700 mb-4",children:"Merci pour votre demande d'estimation !"}),p.jsx("p",{className:"text-green-600",children:"Nous avons bien reu vos informations. Notre expert immobilier va tudier votre dossier et vous contactera dans les 48 heures avec une estimation dtaille de votre bien."})]}),!i&&p.jsxs("div",{className:"mt-8 flex justify-between fade-in",children:[t>1&&p.jsxs("button",{onClick:g,className:"flex items-center px-6 py-2 rounded-lg bg-gray-100 text-gray-600 transition-all duration-300 hover:bg-gray-200",children:[p.jsx(ug,{className:"mr-2 h-5 w-5"}),"Retour"]}),p.jsxs("button",{onClick:t===5?S:f,disabled:!o,className:`ml-auto flex items-center px-6 py-2 rounded-lg transition-all duration-300 ${o?"bg-primary text-white hover:bg-black":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[t===5?"Recevoir mon estimation":"tape suivante",o?p.jsx(lg,{className:"ml-2 h-5 w-5"}):p.jsx(ik,{className:"ml-2 h-5 w-5"})]})]})]})]})})}const z$=()=>{const[t,e]=V.useState([]),[n,r]=V.useState(null),[i,s]=V.useState(!1),[o,a]=V.useState(""),[u,c]=V.useState(""),[h,f]=V.useState(null),[g,S]=V.useState(""),[y,v]=V.useState({id:"",title:"",price:"0",size:"0",types:[],rooms:"0",bedrooms:"0",bathrooms:"0",wc:"0",amenities:[],location:"",images:[],principalImage:"",description:"",condition:"disponible",consomation:"A"}),[A,w]=wE.useState("");V.useEffect(()=>{(async()=>{try{const ee=Fc(Di,"houses"),ne=(await Kg(ee)).docs.map(q=>({...q.data(),id:q.id}));e(ne)}catch(ee){console.error("Error fetching houses:",ee)}})()},[]),V.useEffect(()=>{w(n?n.amenities.join(", "):y.amenities.join(", "))},[n,y]);const T=async J=>{try{const ee=Fc(Di,"houses"),H=await rD(ee,J);e([...t,{...J,id:H.id}]),console.log("House added to Firestore with ID:",H.id)}catch(ee){console.error("Error adding house:",ee)}},I=async J=>{var ee;if((ee=J.target.files)!=null&&ee[0]){const H=Array.from(J.target.files),ne=_A();try{const q=await Promise.all(H.map(async ue=>{const be=RV(ne,`houses/${ue.name}-${Date.now()}`),Et=await bV(be,ue);return await xV(Et.ref)})),de=ue=>({...ue,images:[...ue.images,...q],principalImage:ue.principalImage||q[0]});n?r(ue=>ue?de(ue):null):v(de)}catch(q){console.error("Error uploading images:",q)}}},N=J=>{const{name:ee,value:H}=J.target;n?r({...n,[ee]:H}):v({...y,[ee]:H})},M=J=>{w(J.target.value)},z=()=>{const J=A.split(",").map(ee=>ee.trim()).filter(ee=>ee);n?r({...n,amenities:J}):v({...y,amenities:J})},b=async J=>{J.preventDefault();try{if(n?!n.images.length||!n.principalImage:!y.images.length||!y.principalImage){alert("Please upload at least one image and select a principal image.");return}if(n){const ee=Bc(Di,"houses",n.id);await tD(ee,{...n,images:n.images,principalImage:n.principalImage}),e(t.map(H=>H.id===n.id?n:H)),r(null)}else{const ee={...y,id:crypto.randomUUID(),images:y.images,principalImage:y.principalImage};await T(ee)}s(!1),v({id:"",title:"",price:"0",size:"0",types:[],rooms:"0",bedrooms:"0",bathrooms:"0",wc:"0",amenities:[],location:"",images:[],principalImage:"",description:"",condition:"disponible",consomation:"A"})}catch(ee){console.error("Error submitting house:",ee)}},E=J=>{r(J),s(!0)},x=async J=>{try{const ee=Bc(Di,"houses",J);await nD(ee),e(t.filter(H=>H.id!==J))}catch(ee){console.error("Error deleting house:",ee)}},C=()=>{r(null),v({id:"",title:"",price:"0",size:"0",types:[],rooms:"0",bedrooms:"0",bathrooms:"0",wc:"0",amenities:[],location:"",images:[],principalImage:"",description:"",condition:"disponible",consomation:"A"}),s(!1)},P=J=>{const ee=n?[...n.images]:[...y.images];ee.splice(J,1);const H=ne=>{const q=ne.principalImage===ne.images[J]?ee[0]||"":ne.principalImage;return{...ne,images:ee,principalImage:q}};n?r(ne=>ne?H(ne):null):v(H)},k=J=>{const ee=H=>({...H,principalImage:J});n?r(H=>H?ee(H):null):v(ee)},R=async J=>{J.preventDefault();try{await rj(Zd,o,u),alert("Bienvenue !")}catch{S("Problme d'email ou de mot de passe. Veuillez ressayer.")}},xe=async()=>{try{await aj(Zd),console.log("Dconnexion russie")}catch(J){console.error("Erreur lors de la dconnexion :",J.message)}};V.useEffect(()=>{const J=oj(Zd,ee=>{f(ee||null)});return()=>J()},[]);function Me({selectedTypes:J,onChange:ee}){const H=["appartement","maison","local commercial","terrain"],ne=q=>{const de=J.includes(q)?J.filter(ue=>ue!==q):[...J,q];ee(de)};return p.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(q=>p.jsx("button",{onClick:()=>ne(q),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors
              ${J.includes(q)?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,type:"button",children:q},q))})}return h?p.jsx("div",{className:"min-h-screen bg-gray-100 py-8 px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Interface d'administration - Management des biens"}),p.jsxs("button",{onClick:xe,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 flex items-center",children:[p.jsx(sk,{className:"w-5 h-5 mr-2"}),"Se dconnecter"]})]}),p.jsx("div",{className:"mb-6 flex justify-end",children:p.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center",children:[p.jsx(ck,{className:"w-5 h-5 mr-2"}),"Ajouter un nouveau bien"]})}),i&&p.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-8",children:[p.jsx("h2",{className:"text-2xl font-semibold mb-6",children:n?"Edit House":"Add New House"}),p.jsxs("form",{onSubmit:b,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre"}),p.jsx("input",{type:"text",id:"title",name:"title",value:n?n.title:y.title,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix"}),p.jsx("input",{type:"number",id:"price",name:"price",value:n?n.price:y.price,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"size",className:"block text-sm font-medium text-gray-700 mb-1",children:"Surface"}),p.jsx("input",{type:"number",id:"size",name:"size",value:n?n.size:y.size,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de Proprit"}),p.jsx(Me,{selectedTypes:n?n.types:y.types,onChange:J=>{n?r({...n,types:J}):v({...y,types:J})}})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"rooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Pices"}),p.jsx("input",{type:"number",id:"rooms",name:"rooms",value:n?n.rooms:y.rooms,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"bedrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Chambres"}),p.jsx("input",{type:"number",id:"bedrooms",name:"bedrooms",value:n?n.bedrooms:y.bedrooms,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"bathrooms",className:"block text-sm font-medium text-gray-700 mb-1",children:"Salle de bains"}),p.jsx("input",{type:"number",id:"bathrooms",name:"bathrooms",value:n?n.bathrooms:y.bathrooms,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"wc",className:"block text-sm font-medium text-gray-700 mb-1",children:"WC"}),p.jsx("input",{type:"number",id:"wc",name:"wc",value:n?n.wc:y.wc,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"consomation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Consommation nergtique"}),p.jsxs("select",{id:"consomation",name:"consomation",value:n?n.consomation:y.consomation,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[p.jsx("option",{value:"A",children:"A"}),p.jsx("option",{value:"B",children:"B"}),p.jsx("option",{value:"C",children:"C"}),p.jsx("option",{value:"D",children:"D"}),p.jsx("option",{value:"E",children:"E"}),p.jsx("option",{value:"F",children:"F"}),p.jsx("option",{value:"G",children:"G"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"amenities",className:"block text-sm font-medium text-gray-700 mb-1",children:"Annexes (spares par une virgule)"}),p.jsx("input",{type:"text",id:"amenities",name:"amenities",value:A,onChange:M,onBlur:z,placeholder:"exemple: piscine,parking,ascenseur",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Localisation"}),p.jsx("input",{type:"text",id:"location",name:"location",value:n?n.location:y.location,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Images (Premire image sera la principale par dfaut)"}),p.jsx("input",{type:"file",multiple:!0,onChange:I,accept:"image/*",className:"mb-4"}),p.jsx("div",{className:"grid grid-cols-3 gap-4",children:(n?n.images:y.images).map((J,ee)=>p.jsxs("div",{className:"relative group",children:[p.jsx("img",{src:J,alt:`House preview ${ee}`,className:"h-32 w-full object-cover rounded-md"}),p.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{type:"button",onClick:()=>P(ee),className:"text-white bg-red-500 p-1 rounded-full mr-2",children:p.jsx(F_,{className:"h-4 w-4"})}),p.jsxs("label",{className:"flex items-center text-white text-sm",children:[p.jsx("input",{type:"radio",name:"principalImage",checked:(n?n.principalImage:y.principalImage)===J,onChange:()=>k(J),className:"mr-1"}),"Principale"]})]})]},J))})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700 mb-1",children:"tat"}),p.jsxs("select",{id:"condition",name:"condition",value:n?n.condition:y.condition,onChange:N,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[p.jsx("option",{value:"",children:"Selectionnez une condition"}),p.jsx("option",{value:"vendu",children:"Vendu"}),p.jsx("option",{value:"disponible",children:"Disponible"}),p.jsx("option",{value:"sous compromis",children:"sous compromis"})]})]}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),p.jsx("textarea",{id:"description",name:"description",value:n?n.description:y.description,onChange:N,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),p.jsxs("div",{className:"md:col-span-2 flex justify-end space-x-4",children:[p.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),p.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:n?"Update House":"Add House"})]})]})]}),p.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Titre"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Localisation"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"tat"}),p.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(J=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:J.id}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:J.title}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(()=>{const ee=J.price.replace(/[^0-9.-]+/g,""),H=Number(ee);return isNaN(H)?"Invalid price":H.toLocaleString("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0})})()}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:J.location}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${J.condition==="vendu"?"bg-red-100 text-red-800":J.condition==="disponible"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:J.condition==="vendu"?"Vendu":J.condition==="disponible"?"Disponible":"Sous compromis"})}),p.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[p.jsxs("button",{onClick:()=>E(J),className:"text-blue-600 hover:text-blue-900 mr-3",children:[p.jsx(lk,{className:"h-5 w-5"}),p.jsx("span",{className:"sr-only",children:"Modifier"})]}),p.jsxs("button",{onClick:()=>x(J.id),className:"text-red-600 hover:text-red-900",children:[p.jsx(F_,{className:"h-5 w-5"}),p.jsx("span",{className:"sr-only",children:"Supprimer"})]})]})]},J.id))})]})})]})}):p.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"max-w-md w-full space-y-8",children:[p.jsx("div",{children:p.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Interface d'administration"})}),p.jsxs("form",{className:"mt-8 space-y-6",onSubmit:R,children:[p.jsx("input",{type:"hidden",name:"remember",value:"true"}),p.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[p.jsxs("div",{children:[p.jsx("label",{htmlFor:"username",className:"sr-only",children:"Identifiant"}),p.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Identifiant",value:o,onChange:J=>a(J.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),p.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Mot de passe",value:u,onChange:J=>c(J.target.value)})]})]}),p.jsx("div",{children:p.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Valider"})})]}),g&&p.jsx("p",{style:{color:"red"},children:g}),p.jsxs(Xt,{to:"/",className:"flex items-center justify-between p-6 bg-white shadow-md rounded-lg hover:shadow-lg transition-shadow",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"text-2xl mr-4",children:""}),p.jsx("span",{className:"text-lg font-medium",children:"Retour  l'accueil"})]}),p.jsx(lg,{className:"h-5 w-5 text-gray-400"})]})]})})},H$=()=>p.jsxs(p.Fragment,{children:[p.jsx(FV,{}),p.jsxs(zP,{children:[p.jsx(Nn,{path:"/",element:p.jsx(OV,{})}),p.jsx(Nn,{path:"/Vendre",element:p.jsx(UV,{})}),p.jsx(Nn,{path:"/Acheter",element:p.jsx(zV,{})}),p.jsx(Nn,{path:"/house/:id",element:p.jsx(BV,{})}),p.jsx(Nn,{path:"/EliseBUIL",element:p.jsx(F$,{})}),p.jsx(Nn,{path:"/Blog",element:p.jsx(U$,{})}),p.jsx(Nn,{path:"/Estimation",element:p.jsx($$,{})}),p.jsx(Nn,{path:"/Gestion",element:p.jsx(z$,{})}),p.jsx(Nn,{path:"*",element:p.jsx(LV,{})})]})]});function K$(){return p.jsx(JP,{basename:"/",children:p.jsx(H$,{})})}SS(document.getElementById("root")).render(p.jsx(V.StrictMode,{children:p.jsx(K$,{})}));
